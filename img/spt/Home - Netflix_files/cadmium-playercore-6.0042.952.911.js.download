f9YlG[636958]=(function(){var U49=2;for(;U49 !== 9;){switch(U49){case 2:U49=typeof globalThis === '\x6f\x62\u006a\x65\x63\u0074'?1:5;break;case 1:return globalThis;break;case 5:var q8g;try{var n3T=2;for(;n3T !== 6;){switch(n3T){case 9:delete q8g['\x7a\u0062\u0061\x77\x65'];var s9c=Object['\x70\x72\x6f\u0074\x6f\u0074\u0079\x70\x65'];delete s9c['\x6c\x65\x38\x6b\x67'];n3T=6;break;case 3:throw "";n3T=9;break;case 4:n3T=typeof zbawe === '\u0075\u006e\x64\u0065\x66\u0069\u006e\u0065\u0064'?3:9;break;case 2:Object['\x64\u0065\u0066\x69\u006e\u0065\u0050\x72\x6f\u0070\x65\u0072\u0074\x79'](Object['\u0070\u0072\u006f\x74\u006f\u0074\x79\u0070\x65'],'\x6c\u0065\u0038\x6b\x67',{'\x67\x65\x74':function(){var H53=2;for(;H53 !== 1;){switch(H53){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});q8g=le8kg;q8g['\x7a\x62\x61\x77\x65']=q8g;n3T=4;break;}}}catch(h4p){q8g=window;}return q8g;break;}}})();f9YlG[173232]="$yY";f9YlG[588961]=f9YlG[636958];function f9YlG(){}f9YlG[599940]=941;f9YlG[81077]=382;f9YlG.L4_=function(){return typeof f9YlG[1839].R_P5kdX === 'function'?f9YlG[1839].R_P5kdX.apply(f9YlG[1839],arguments):f9YlG[1839].R_P5kdX;};f9YlG[1839]=(function(T5y){return {t5x5tsz:function(){var O6s,v99=arguments;switch(T5y){case 11:O6s=(v99[0] - v99[1]) * v99[2];break;case 4:O6s=v99[0] / v99[1];break;case 20:O6s=(v99[2] / v99[1] | v99[0]) * v99[3];break;case 10:O6s=v99[0] !== v99[1];break;case 14:O6s=v99[1] * v99[0];break;case 17:O6s=v99[1] + v99[2] - v99[3] + v99[4] - v99[0];break;case 5:O6s=v99[0] * v99[1] / v99[2];break;case 2:O6s=v99[0] + v99[1];break;case 7:O6s=v99[0] * v99[3] + v99[2] - v99[1];break;case 19:O6s=v99[0] / v99[2] | v99[1];break;case 8:O6s=v99[2] - v99[3] + v99[0] - v99[1];break;case 1:O6s=v99[1] + v99[0] + v99[2];break;case 16:O6s=v99[2] - v99[0] - v99[4] + v99[3] + v99[1];break;case 9:O6s=v99[1] === v99[0];break;case 12:O6s=v99[1] - v99[4] + v99[3] - v99[2] + v99[0];break;case 0:O6s=v99[4] + v99[1] + v99[3] + v99[2] + v99[0];break;case 3:O6s=v99[0] - v99[1];break;case 15:O6s=v99[0] < v99[1];break;case 6:O6s=v99[0] + v99[2] - v99[1];break;case 13:O6s=v99[2] * v99[1] - v99[0];break;case 18:O6s=v99[2] + v99[0] / v99[3] * v99[1];break;case 21:O6s=-v99[0] + v99[1];break;case 22:O6s=(v99[4] * v99[2] + v99[0]) / v99[3] - v99[1];break;}return O6s;},R_P5kdX:function(N0W){T5y=N0W;}};})();f9YlG.T5R=function(){return typeof f9YlG[1839].t5x5tsz === 'function'?f9YlG[1839].t5x5tsz.apply(f9YlG[1839],arguments):f9YlG[1839].t5x5tsz;};f9YlG[452895]=false;f9YlG[636958].O544=f9YlG;f9YlG[66524]=false;f9YlG[573043]=f9YlG[636958];f9YlG.u_w=function(){return typeof f9YlG[1839].t5x5tsz === 'function'?f9YlG[1839].t5x5tsz.apply(f9YlG[1839],arguments):f9YlG[1839].t5x5tsz;};f9YlG[330496]=f9YlG[636958];f9YlG.G6s=function(){return typeof f9YlG[1839].R_P5kdX === 'function'?f9YlG[1839].R_P5kdX.apply(f9YlG[1839],arguments):f9YlG[1839].R_P5kdX;};(function(){(function(ob,Fb){var qc,Bc,Vb,kd,Kb,Mb,ac,ke,le,Tb,Rb,Kc,me,ld,ne,oe,Ed,Ga,Gb,Zc,pe,Fd,hb,zb,Hb,rc,jc,Yb,Bb,bc,Ub,ad,Ob,Cc,Qb,dc,md,sc,oc,pc,nd,Gd,qe,Dc,Ec,Mc,Hd,bd,tc,od,Jc,Id,re,Sc,Jd,Kd,Ld,Md,uc,Nd,Od,Pd,Uc,vc,wc,Vc,pd,qd,rd,lc,rf,Wb,Lc,se,sd,xc,te,sf,yc,ue,tf,td,ve,uf,Yc,we,qf,vf,Qd,ud,wf,xf,he,yf,ie,xe,kc,cd,ye,dd,ze,mc,Ae,Be,Ce,De,Af,je,Ee,Dd,Fe,zf,Ge,Rd,He,Ie,Je,Sd,Ic,Le,Ke,Bf,fd,Me,Ud,gd,Ne,Td,Oe,Pe,Vd,Re,Se,yd,Nc,Wc,Oc,Te,Ue,Ve,We,Xe,Ye,zd,Cf,Ze,$e,Xd,af,ic,ed,Tc,vd,Fc,zc,wd,Gc,$c,Qe,bf,hd,cf,Df,id,df,Ef,Ff,ef,Wd,xd,ff,Hf,Gf,Xc,jd,If,ge,Jf,Kf;function ec(jb,ib){if(!ib || "utf-8" === ib)return Ad(jb);throw Error("unsupported encoding");}function fc(jb,ib){if(!ib || "utf-8" === ib)return Bd(jb);throw Error("unsupported encoding");}function Ad(jb){for(var ib=0,gb,cb=jb.length,nb="";ib < cb;){gb=jb[ib++];if(gb & 128)if(192 === (gb & 224))gb=((gb & 31) << 6) + (jb[ib++] & 63);else if(224 === (gb & 240))gb=((gb & 15) << 12) + ((jb[ib++] & 63) << 6) + (jb[ib++] & 63);else throw Error("unsupported character");nb+=String.fromCharCode(gb);}return nb;}function Bd(jb){var ib,gb,cb,nb,xb;ib=jb.length;gb=0;nb=0;for(cb=ib;cb--;){xb=jb.charCodeAt(cb);128 > xb?gb++:gb=2048 > xb?gb + 2:gb + 3;}gb=new Uint8Array(gb);for(cb=0;cb < ib;cb++){xb=jb.charCodeAt(cb);128 > xb?gb[nb++]=xb:(2048 > xb?gb[nb++]=192 | xb >>> 6:(gb[nb++]=224 | xb >>> 12,gb[nb++]=128 | xb >>> 6 & 63),gb[nb++]=128 | xb & 63);}return gb;}function gc(jb,ib){if(jb === ib)return !0;if(!jb || !ib || jb.length != ib.length)return !1;for(var gb=0;gb < jb.length;++gb){if(jb[gb] != ib[gb])return !1;}return !0;}function hc(jb){var cb;if(!(jb && jb.constructor == Uint8Array || Array.isArray(jb)))throw new TypeError("Cannot compute the hash code of " + jb);for(var ib=1,gb=0;gb < jb.length;++gb){cb=jb[gb];if("number" !== typeof cb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + cb);ib=31 * ib + cb & 4294967295;}return ib;}function be(jb,ib){var lb;if(jb === ib)return !0;if(!jb || !ib)return !1;ib instanceof Array || (ib=[ib]);for(var gb=0;gb < ib.length;++gb){for(var cb=ib[gb],nb=!1,xb=0;xb < jb.length;++xb){lb=jb[xb];if(cb.equals && "function" === typeof cb.equals && cb.equals(lb) || cb == lb){nb=!0;break;}}if(!nb)return !1;}return !0;}function ce(jb,ib){return be(jb,ib) && (jb.length == ib.length || be(ib,jb));}function Na(jb,ib,gb){var cb,nb;gb && (cb=gb);if("object" !== typeof jb || "function" !== typeof jb.result || "function" !== typeof jb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{nb=ib.call(cb,jb);nb !== Fb && jb.result(nb);}catch(xb){try{jb.error(xb);}catch(lb){}}}function eb(jb,ib,gb){if("object" !== typeof jb || "function" !== typeof jb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(jb,ib,gb);}function S(jb,ib,gb){1E5 > jb && (jb=1E5 + jb);Object.defineProperties(this,{internalCode:{value:jb,writable:!1,configurable:!1},responseCode:{value:ib,writable:!1,configurable:!1},message:{value:gb,writable:!1,configurable:!1}});}function Cd(jb){switch(jb){case Wb.PSK:case Wb.MGK:return !0;default:return !1;}}function de(jb){switch(jb){case Wb.PSK:case Wb.MGK:case Wb.X509:case Wb.RSA:case Wb.NPTICKET:case Wb.ECC:return !0;default:return !1;}}function mf(jb){return jb.toJSON();}function ee(jb,ib){jd?ib.result(jd):Promise.resolve().then(function(){return Qb.getKeyByName(jb);}).catch(function(){return Qb.generateKey({name:jb},!1,["wrapKey","unwrapKey"]);}).then(function(gb){jd=gb;ib.result(jd);}).catch(function(gb){ib.error(new hb(S.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(jb,ib){var gb,cb;gb=ib.masterToken;cb=ib.userIdToken;ib=ib.serviceTokens;return {NccpMethod:jb.method,UserId:jb.userId,UT:cb && cb.serialNumber,MT:gb && gb.serialNumber + ":" + gb.sequenceNumber,STCount:ib && ib.length};}function nf(jb){return jb.uniqueKey();}function of(jb,ib,gb,cb,nb){var Pa;function xb(va,ma){va.errorCode === Ga.ENTITY_REAUTH || va.errorCode === Ga.ENTITYDATA_REAUTH?(cb.clearCryptoContexts(),Ka()):va.errorCode !== Ga.USER_REAUTH && va.errorCode !== Ga.USERDATA_REAUTH || lb(ma);}function lb(va){if(va=cb.getUserIdToken(va))(cb.removeUserIdToken(va),Ka());}function Ba(va,ma,ea){var X;X=[];(function V(){va.read(-1,ma,{result:function(ba){Na(ea,function(){var W,ha,wa,ta,ia;if(ba)(X.push(ba),V());else switch(X.length){case 0:return new Uint8Array(0);case 1:return X[0];default:(wa=X.length,ta=0);for(ha=W=0;ha < wa;ha++){W+=X[ha].length;}W=new Uint8Array(W);for(ha=0;ha < wa;ha++){ia=X[ha];W.set(ia,ta);ta+=ia.length;}return W;}});},timeout:function(){ea.timeout();},error:function(ba){ea.error(ba);}});})();}function Ka(){cb.getStoreState({result:function(va){for(var ma=Pa.slice(),ea=0;ea < ma.length;ea++){ma[ea]({storeState:va});}},timeout:function(){jb.error("Timeout getting store state","" + e);},error:function(va){jb.error("Error getting store state","" + va);}});}Pa=[];this.addEventHandler=function(va,ma){switch(va){case "shouldpersist":Pa.push(ma);}};this.send=function(va){return new Promise(function(ma,ea){var X,T,V;X=va.timeout;T=new ge(jb,gb,va,cb.getKeyRequestData());V=new he(va.url);jb.trace("Sending MSL request");ib.request(gb,T,V,X,{result:function(ba){var W;jb.trace("Received MSL response",{Method:va.method});if(ba){va.allowTokenRefresh && Ka();W=ba.getErrorHeader();W?(xb(W,va.profileGuid || va.userId),ea({success:!1,error:W})):Ba(ba,X,{result:function(ha){ma({success:!0,body:ec(ha)});},timeout:function(){ea({success:!1,subCode:nb.MSL_READ_TIMEOUT});},error:function(ha){ea({success:!1,error:ha});}});}else ea({success:!1,error:new hb(S.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ea({success:!1,subCode:nb.MSL_REQUEST_TIMEOUT});},error:function(ba){ea({success:!1,error:ba});}});});};this.hasUserIdToken=function(va){return !!cb.getUserIdToken(va);};this.getUserIdTokenKeys=function(){return cb.getUserIdTokenKeys();};this.removeUserIdToken=lb;this.clearUserIdTokens=function(){cb.clearUserIdTokens();Ka();};this.isErrorReauth=function(va){return va && va.errorCode == Ga.USERDATA_REAUTH;};this.isErrorHeader=function(va){return va instanceof Ic;};this.getErrorCode=function(va){return va && va.errorCode;};this.getStateForMdx=function(va){var ma,ea;ma=cb.getMasterToken();va=cb.getUserIdToken(va);ea=cb.getCryptoContext(ma);return {masterToken:ma,userIdToken:va,cryptoContext:ea};};this.buildPlayDataRequest=function(va,ma){var ea;ea=new ie();ib.request(gb,new ge(jb,gb,va),ea,va.timeout,{result:function(){ma.result(ea.getRequest());},error:function(){ma.result(ea.getRequest());},timeout:function(){ma.timeout();}});};this.rekeyUserIdToken=function(va,ma){cb.rekeyUserIdToken(va,ma);Ka();};this.getServiceTokens=function(va){var ma;ma=cb.getMasterToken();(va=cb.getUserIdToken(va)) && !va.isBoundTo(ma) && (va=Fb);return cb.getServiceTokens(ma,va);};this.removeServiceToken=function(va){var ma;ma=cb.getMasterToken();cb.getServiceTokens(ma).find(function(ea){return ea.name === va;}) && (cb.removeServiceTokens(va,ma),Ka());};}function pf(jb,ib,gb){var xb;function cb(){return Promise.resolve().then(function(){return Qb.generateKey(ib,!1,["wrapKey","unwrapKey"]);}).then(function(lb){return nb(lb.publicKey,lb.privateKey);});}function nb(lb,Ba){return Promise.all([new Promise(function(Ka,Pa){Jc(lb,{result:Ka,error:function(va){Pa(new hb(S.INTERNAL_EXCEPTION,"Unable to create keyx public key",va));}});}),new Promise(function(Ka,Pa){Sc(Ba,{result:Ka,error:function(va){Pa(new hb(S.INTERNAL_EXCEPTION,"Unable to create keyx private key",va));}});})]).then(function(Ka){Ka=new Dd("rsaKeypairId",gb,Ka[0],Ka[1]);xb && (Ka.storeData={keyxPublicKey:lb,keyxPrivateKey:Ba});return Ka;});}xb=!jb.systemKeyWrapFormat;return Promise.resolve().then(function(){var lb,Ba;lb=jb.storeState;Ba=lb && lb.keyxPublicKey;lb=lb && lb.keyxPrivateKey;return xb && Ba && lb?nb(Ba,lb):cb();}).then(function(lb){var Ba,Ka,Pa;Ba={};Ba[Wb.NONE]=new qf();Ka=new Yc(jb.esn);Pa=[new je()];return {entityAuthFactories:Ba,entityAuthData:Ka,keyExchangeFactories:Pa,keyRequestData:lb,createKeyRequestData:xb?cb:Fb};});}Bc=ob.nfCrypto || ob.msCrypto || ob.webkitCrypto || ob.crypto;Vb=Bc && (Bc.webkitSubtle || Bc.subtle);kd=ob.nfCryptokeys || ob.msCryptokeys || ob.webkitCryptokeys || ob.cryptokeys;(function(jb){var ib,gb;ib=(function(){function cb(nb,xb){nb instanceof ib?(this.abv=nb.abv,this.position=nb.position):(this.abv=nb,this.position=xb || 0);}cb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(nb){this.abv[this.position++]=nb;},peekByte:function(nb){return this.abv[nb];},copyBytes:function(nb,xb,lb){var Ba;Ba=new Uint8Array(this.abv.buffer,this.position,lb);nb=new Uint8Array(nb.buffer,xb,lb);Ba.set(nb);this.position+=lb;},seek:function(nb){this.position=nb;},skip:function(nb){this.position+=nb;},getPosition:function(){return this.position;},setPosition:function(nb){this.position=nb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return cb;})();gb={};(function(){var ba,W,ha,wa,ta,ia,qa,za,la;function cb(Z,ca){var fa;ca.writeByte(Z.tagClass << 6 | Z.constructed << 5 | Z.tag);fa=Z.payloadLen;if(128 > fa)ca.writeByte(fa);else {for(var xa=fa,Sa=0;xa;){++Sa;xa>>=8;}ca.writeByte(128 | Sa);for(xa=0;xa < Sa;++xa){ca.writeByte(fa >> 8 * (Sa - xa - 1) & 255);}}if(Z.child)for((Z.tag == ba.BIT_STRING && ca.writeByte(0),Z=Z._child);Z;){if(!cb(Z,ca))return !1;Z=Z.next;}else switch(Z.tag){case ba.INTEGER:Z.backingStore[Z.dataIdx] >> 7 && ca.writeByte(0);ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.BIT_STRING:ca.writeByte(0);ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.OCTET_STRING:ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.OBJECT_IDENTIFIER:ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);}return !0;}function nb(Z){var ca,fa;ca=Z.readByte();fa=ca & 127;if(fa == ca)return fa;if(3 < fa || 0 === fa)return -1;for(var xa=ca=0;xa < fa;++xa){ca=ca << 8 | Z.readByte();}return ca;}function xb(Z,ca,fa){var xa,Sa,Ma,Qa,Va,oa,ya;xa=Z.backingStore;Sa=new ib(xa,ca);ca+=fa;fa=Z;if(8 < ta++)return Fb;for(;Sa.getPosition() < ca;){Sa.getPosition();Qa=Sa.readByte();if(31 == (Qa & 31)){for(Ma=0;Qa & 128;){Ma<<=8;Ma|=Qa & 127;}Qa=Ma;}Va=Qa;Ma=Va & 31;if(0 > Ma || 30 < Ma)return Fb;Qa=nb(Sa);if(0 > Qa || Qa > Sa.getRemaining())return Fb;fa.constructed=Va & 32;fa.tagClass=(Va & 192) >> 6;fa.tag=Ma;fa.dataLen=Qa;fa.dataIdx=Sa.getPosition();Ma=Sa;oa=Va;Va=Qa;if(oa & 32)Ma=!0;else if(oa < ba.BIT_STRING || oa > ba.OCTET_STRING)Ma=!1;else {ya=new ib(Ma);oa == ba.BIT_STRING && ya.skip(1);ya.readByte() >> 6 & 1?Ma=!1:(oa=nb(ya),Ma=ya.getPosition() - Ma.getPosition() + oa == Va);}Ma && (Ma=Sa.getPosition(),Va=Qa,fa.tag == ba.BIT_STRING && (fa.dataIdx++,fa.dataLen--,Ma++,Va--),fa.child=new W(xa,fa),xb(fa.child,Ma,Va));fa.tag == ba.INTEGER && (Ma=Sa.getPosition(),0 == Sa.peekByte(Ma) && Sa.peekByte(Ma + 1) >> 7 && (fa.dataIdx++,fa.dataLen--));Sa.skip(Qa);Sa.getPosition() < ca && (fa.next=new W(xa,fa.parent),fa=fa.next);}ta--;return Z;}function lb(Z,ca,fa){if(9 != fa)return !1;for(fa=0;9 > fa;++fa){if(Z[ca++] != ia[fa])return !1;}return !0;}function Ba(Z){var ca;if(!(Z && Z.child && Z.child.next && Z.child.child && Z.child.next.child))return !1;ca=Z.child.child;return lb(ca.backingStore,ca.dataIdx,ca.dataLen) && 2 == Z.nChildren && 2 == Z.child.nChildren && 2 == Z.child.next.child.nChildren?!0:!1;}function Ka(Z){var ca;if(!(Z && Z.child && Z.child.next && Z.child.next.child && Z.child.next.next && Z.child.next.next.child))return !1;ca=Z.child.next.child;return lb(ca.backingStore,ca.dataIdx,ca.dataLen) && 3 == Z.nChildren && 2 == Z.child.next.nChildren && 9 == Z.child.next.next.child.nChildren?!0:!1;}function Pa(Z){var ca,fa;ca=ha.createSequenceNode();fa=new wa(ca);fa.addChild(ha.createSequenceNode());fa.addChild(ha.createOidNode(ia));fa.addSibling(ha.createNullNode());fa.addToParent(ca,ha.createBitStringNode(null));fa.addChild(ha.createSequenceNode());fa.addChild(ha.createIntegerNode(Z.n));fa.addSibling(ha.createIntegerNode(Z.e));return ca;}function va(Z){var ca;Z=Z.child.next.child.child;ca=Z.data;Z=Z.next;return new qa(ca,Z.data,null,null);}function ma(Z){var ca,fa;ca=ha.createSequenceNode();fa=new wa(ca);fa.addChild(ha.createIntegerNode(new Uint8Array([0])));fa.addSibling(ha.createSequenceNode());fa.addChild(ha.createOidNode(ia));fa.addSibling(ha.createNullNode());fa.addToParent(ca,ha.createOctetStringNode(null));fa.addChild(ha.createSequenceNode());fa.addChild(ha.createIntegerNode(new Uint8Array([0])));fa.addSibling(ha.createIntegerNode(Z.n));fa.addSibling(ha.createIntegerNode(Z.e));fa.addSibling(ha.createIntegerNode(Z.d));fa.addSibling(ha.createIntegerNode(Z.p));fa.addSibling(ha.createIntegerNode(Z.q));fa.addSibling(ha.createIntegerNode(Z.dp));fa.addSibling(ha.createIntegerNode(Z.dq));fa.addSibling(ha.createIntegerNode(Z.qi));return ca;}function ea(Z){var ca;ca=[];Z=Z.child.next.next.child.child.next;for(var fa=0;8 > fa;fa++){ca.push(Z.data);Z=Z.next;}return new za(ca[0],ca[1],ca[2],ca[3],ca[4],ca[5],ca[6],ca[7]);}function X(Z,ca,fa,xa){if(!(Z instanceof qa || Z instanceof za))return Fb;if(fa)for(var Sa=0;Sa < fa.length;++Sa){if(-1 == la.indexOf(fa[Sa]))return Fb;}ca={kty:"RSA",alg:ca,key_ops:fa || [],ext:xa == Fb?!1:xa,n:Kb(Z.n,!0),e:Kb(Z.e,!0)};Z instanceof za && (ca.d=Kb(Z.d,!0),ca.p=Kb(Z.p,!0),ca.q=Kb(Z.q,!0),ca.dp=Kb(Z.dp,!0),ca.dq=Kb(Z.dq,!0),ca.qi=Kb(Z.qi,!0));return ca;}function T(Z){var ca,fa,xa,Sa,Ma,Qa,Va,oa,ya,Ea;if(!Z.kty || "RSA" != Z.kty || !Z.n || !Z.e)return Fb;ca=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(Z.alg && -1 == ca.indexOf(Z.alg))return Fb;ca=[];Z.use?"enc" == Z.use?ca=["encrypt","decrypt","wrap","unwrap"]:"sig" == Z.use && (ca=["sign","verify"]):ca=Z.key_ops;fa=Z.ext;xa=Mb(Z.n,!0);Sa=Mb(Z.e,!0);if(Z.d){Ma=Mb(Z.d,!0);Qa=Mb(Z.p,!0);Va=Mb(Z.q,!0);oa=Mb(Z.dp,!0);ya=Mb(Z.dq,!0);Ea=Mb(Z.qi,!0);return new za(xa,Sa,Ma,Qa,Va,oa,ya,Ea,Z.alg,ca,fa);}return new qa(xa,Sa,fa,ca);}function V(Z,ca,fa,xa){this.der=Z;this.type=ca;this.keyOps=fa;this.extractable=xa;}ba={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};W=function(Z,ca,fa,xa,Sa,Ma){this._data=Z;this._parent=ca || Fb;this._constructed=fa || !1;this._tagClass=0;this._tag=xa || 0;this._dataIdx=Sa || 0;this._dataLen=Ma || 0;};W.prototype={_child:Fb,_next:Fb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(Z) {this._constructed=0 != Z?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(Z) {this._tagClass=Z;},get tag() {return this._tag;},set tag(Z) {this._tag=Z;},get dataIdx() {return this._dataIdx;},set dataIdx(Z) {this._dataIdx=Z;},get dataLen() {return this._dataLen;},set dataLen(Z) {this._dataLen=Z;},get child() {return this._child;},set child(Z) {this._child=Z;this._child.parent=this;},get next() {return this._next;},set next(Z) {this._next=Z;},get parent() {return this._parent;},set parent(Z) {this._parent=Z;},get payloadLen() {var Z;Z=0;if(this._child){for(var ca=this._child;ca;){Z+=ca.length;ca=ca.next;}this._tag == ba.BIT_STRING && Z++;}else switch(this._tag){case ba.INTEGER:Z=this._dataLen;this._data[this._dataIdx] >> 7 && Z++;break;case ba.BIT_STRING:Z=this._dataLen + 1;break;case ba.OCTET_STRING:Z=this._dataLen;break;case ba.NULL:Z=0;break;case ba.OBJECT_IDENTIFIER:lb(this._data,this._dataIdx,this._dataLen) && (Z=9);}return Z;},get length() {var Z,ca;Z=this.payloadLen;if(127 < Z)for(ca=Z;ca;){ca>>=8;++Z;}return Z + 2;},get der() {var Z,ca;Z=this.length;if(!Z)return Fb;Z=new Uint8Array(Z);ca=new ib(Z);return cb(this,ca)?Z:Fb;},get nChildren() {for(var Z=0,ca=this._child;ca;){Z++;ca=ca.next;}return Z;}};ha={createSequenceNode:function(){return new W(null,null,!0,ba.SEQUENCE,null,null);},createOidNode:function(Z){return new W(Z,null,!1,ba.OBJECT_IDENTIFIER,0,Z?Z.length:0);},createNullNode:function(){return new W(null,null,!1,ba.NULL,null,null);},createBitStringNode:function(Z){return new W(Z,null,!1,ba.BIT_STRING,0,Z?Z.length:0);},createIntegerNode:function(Z){return new W(Z,null,!1,ba.INTEGER,0,Z?Z.length:0);},createOctetStringNode:function(Z){return new W(Z,null,!1,ba.OCTET_STRING,0,Z?Z.length:0);}};wa=function(Z){this._currentNode=this._rootNode=Z;};wa.prototype={addChild:function(Z){this.addTo(this._currentNode,Z);},addSibling:function(Z){this.addTo(this._currentNode.parent,Z);},addTo:function(Z,ca){this._currentNode=ca;this._currentNode.parent=Z;if(Z.child){for(Z=Z.child;Z.next;){Z=Z.next;}Z.next=ca;}else Z.child=ca;},addToParent:function(Z,ca){this.findNode(Z) && this.addTo(Z,ca);},findNode:function(Z){for(var ca=this._currentNode;ca;){if(Z == ca)return !0;ca=ca.parent;}return !1;}};ta=0;ia=new Uint8Array([42,134,72,134,247,13,1,1,1]);qa=function(Z,ca,fa,xa){this.n=Z;this.e=ca;this.ext=fa;this.keyOps=xa;};za=function(Z,ca,fa,xa,Sa,Ma,Qa,Va,oa,ya,Ea){this.n=Z;this.e=ca;this.d=fa;this.p=xa;this.q=Sa;this.dp=Ma;this.dq=Qa;this.qi=Va;this.alg=oa;this.keyOps=ya;this.ext=Ea;};la=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");V.prototype.getDer=function(){return this.der;};V.prototype.getType=function(){return this.type;};V.prototype.getKeyOps=function(){return this.keyOps;};V.prototype.getExtractable=function(){return this.extractable;};gb.parse=function(Z){ta=0;return xb(new W(Z),0,Z.length);};gb.show=function(Z,ca){};gb.isRsaSpki=Ba;gb.isRsaPkcs8=Ka;gb.NodeFactory=ha;gb.Builder=wa;gb.tagVal=ba;gb.RsaPublicKey=qa;gb.RsaPrivateKey=za;gb.buildRsaSpki=Pa;gb.parseRsaSpki=function(Z){Z=gb.parse(Z);return Ba?va(Z):Fb;};gb.buildRsaPkcs8=ma;gb.parseRsaPkcs8=function(Z){Z=gb.parse(Z);return Ka(Z)?ea(Z):Fb;};gb.buildRsaJwk=X;gb.parseRsaJwk=T;gb.RsaDer=V;gb.rsaDerToJwk=function(Z,ca,fa,xa){Z=gb.parse(Z);if(!Z)return Fb;if(Ba(Z))Z=va(Z);else if(Ka(Z))Z=ea(Z);else return Fb;return X(Z,ca,fa,xa);};gb.jwkToRsaDer=function(Z){var ca,fa;Z=T(Z);if(!Z)return Fb;if(Z instanceof qa){ca="spki";fa=Pa(Z).der;}else if(Z instanceof za)(ca="pkcs8",fa=ma(Z).der);else return Fb;return new V(fa,ca,Z.keyOps,Z.ext);};gb.webCryptoAlgorithmToJwkAlg=function(Z){return "RSAES-PKCS1-v1_5" == Z.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == Z.name?"SHA-256" == Z.hash.name?"RS256":"SHA-384" == Z.hash.name?"RS384":"SHA-512" == Z.hash.name?"RS512":Fb:Fb;};gb.webCryptoUsageToJwkKeyOps=function(Z){return Z.map(function(ca){return "wrapKey" == ca?"wrap":"unwrapKey" == ca?"unwrap":ca;});};})();jb.ASN1=gb;})(ob);(function(){for(var jb={},ib={},gb={"=":0,".":0},cb={"=":0,".":0},nb=/\s+/g,xb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,lb=64;lb--;){jb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=262144 * lb;ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=4096 * lb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=64 * lb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=lb;}for(lb=64;lb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb];){jb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=262144 * lb;ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=4096 * lb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=64 * lb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=lb;}Kb=function(Ba,Ka){for(var Pa="",va=0,ma=Ba.length,ea=ma - 2,X=Ka?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=Ka?"":"=";va < ea;){Ka=65536 * Ba[va++] + 256 * Ba[va++] + Ba[va++];Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + X[Ka & 63];}va == ea?(Ka=65536 * Ba[va++] + 256 * Ba[va++],Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + T):va == ma - 1 && (Ka=65536 * Ba[va++],Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + T + T);return Pa;};Mb=function(Ba,Ka){Ba=Ba.replace(nb,"");if(Ka && (Ka=Ba.length % 4)){Ka=4 - Ka;for(var Pa=0;Pa < Ka;++Pa){Ba+="=";}}Ka=Ba.length;if(0 != Ka % 4 || !xb.test(Ba))throw Error("bad base64: " + Ba);for(var va=Ka / 4 * 3 - ("=" == Ba[Ka - 1]?1:0) - ("=" == Ba[Ka - 2]?1:0),ma=new Uint8Array(va),ea=0,X=0;ea < Ka;){Pa=jb[Ba[ea++]] + ib[Ba[ea++]] + gb[Ba[ea++]] + cb[Ba[ea++]];ma[X++]=Pa >>> 16;X < va && (ma[X++]=Pa >>> 8 & 255,X < va && (ma[X++]=Pa & 255));}return ma;};})();ac={};(function(){var xb,lb,Ba,Pa;function jb(va){if(!(this instanceof jb))return new jb(va);for(var ma=0,ea=lb.length;ma < ea;ma++){this[lb[ma]]="";}this.bufferCheckPosition=ac.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=va || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ba.BEGIN;this.stack=new xb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;ib(this,"onready");}function ib(va,ma,ea){if(va[ma])va[ma](ea);}function gb(va,ma){var ea,X;ea=va.opt;X=va.textNode;ea.trim && (X=X.trim());ea.normalize && (X=X.replace(/\s+/g," "));va.textNode=X;va.textNode && ib(va,ma?ma:"onvalue",va.textNode);va.textNode="";}function cb(va,ma){gb(va);ma+="\nLine: " + va.line + "\nColumn: " + va.column + "\nChar: " + va.c;ma=Error(ma);va.error=ma;ib(va,"onerror",ma);return va;}function nb(va){va.state !== Ba.VALUE && cb(va,"Unexpected end");gb(va);va.c="";va.closed=!0;ib(va,"onend");jb.call(va,va.opt);return va;}xb=Array;ac.parser=function(va){return new jb(va);};ac.CParser=jb;ac.MAX_BUFFER_LENGTH=65536;ac.DEBUG=!1;ac.INFO=!1;ac.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");lb=["textNode","numberNode"];ac.EVENTS.filter(function(va){return "error" !== va && "end" !== va;});Ba=0;ac.STATE={BEGIN:Ba++,VALUE:Ba++,OPEN_OBJECT:Ba++,CLOSE_OBJECT:Ba++,OPEN_ARRAY:Ba++,CLOSE_ARRAY:Ba++,TEXT_ESCAPE:Ba++,STRING:Ba++,BACKSLASH:Ba++,END:Ba++,OPEN_KEY:Ba++,CLOSE_KEY:Ba++,TRUE:Ba++,TRUE2:Ba++,TRUE3:Ba++,FALSE:Ba++,FALSE2:Ba++,FALSE3:Ba++,FALSE4:Ba++,NULL:Ba++,NULL2:Ba++,NULL3:Ba++,NUMBER_DECIMAL_POINT:Ba++,NUMBER_DIGIT:Ba++};for(var Ka in ac.STATE){ac.STATE[ac.STATE[Ka]]=Ka;}Ba=ac.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(va){return va.__proto__;});Pa=/[\\"\n]/g;jb.prototype={end:function(){nb(this);},write:function(va){var X,T,V;if(this.error)throw this.error;if(this.closed)return cb(this,"Cannot write after close. Assign an onready handler.");if(null === va)return nb(this);for(var ma=va[0],ea;ma;){ea=ma;this.c=ma=va.charAt(this.index++);ea !== ma?this.p=ea:ea=this.p;if(!ma)break;this.position++;"\n" === ma?(this.line++,this.column=0):this.column++;switch(this.state){case Ba.BEGIN:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"\r" !== ma && "\n" !== ma && " " !== ma && "\t" !== ma && cb(this,"Non-whitespace before {[.");continue;case Ba.OPEN_KEY:case Ba.OPEN_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_KEY)this.stack.push(Ba.CLOSE_KEY);else if("}" === ma){ib(this,"onopenobject");ib(this,"oncloseobject");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_OBJECT);'"' === ma?this.state=Ba.STRING:cb(this,'Malformed object key should start with "');continue;case Ba.CLOSE_KEY:case Ba.CLOSE_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;":" === ma?(this.state === Ba.CLOSE_OBJECT?(this.stack.push(Ba.CLOSE_OBJECT),gb(this,"onopenobject")):gb(this,"onkey"),this.state=Ba.VALUE):"}" === ma?(gb(this),ib(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ba.VALUE):"," === ma?(this.state === Ba.CLOSE_OBJECT && this.stack.push(Ba.CLOSE_OBJECT),gb(this),this.state=Ba.OPEN_KEY):cb(this,"Bad object");continue;case Ba.OPEN_ARRAY:case Ba.VALUE:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_ARRAY)if((ib(this,"onopenarray"),this.state=Ba.VALUE,"]" === ma)){ib(this,"onclosearray");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_ARRAY);'"' === ma?this.state=Ba.STRING:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"t" === ma?this.state=Ba.TRUE:"f" === ma?this.state=Ba.FALSE:"n" === ma?this.state=Ba.NULL:"-" === ma?this.numberNode+=ma:"0" === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ma)?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):cb(this,"Bad value");continue;case Ba.CLOSE_ARRAY:if("," === ma)(this.stack.push(Ba.CLOSE_ARRAY),gb(this,"onvalue"),this.state=Ba.VALUE);else if("]" === ma)(gb(this),ib(this,"onclosearray",void 0),this.state=this.stack.pop() || Ba.VALUE);else if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;else cb(this,"Bad array");continue;case Ba.STRING:ea=this.index - 1;(X=this.slashed,T=this.unicodeI);a:for(;;){if(ac.DEBUG)for(;0 < T;){if((this.unicodeS+=ma,ma=va.charAt(this.index++),4 === T?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),T=0,ea=this.index - 1):T++,!ma))break a;}if('"' === ma && !X){this.state=this.stack.pop() || Ba.VALUE;(this.textNode+=va.substring(ea,this.index - 1)) || ib(this,"onvalue","");break;}if("\\" === ma && !X && (X=!0,this.textNode+=va.substring(ea,this.index - 1),ma=va.charAt(this.index++),!ma))break;if(X)if((X=!1,"n" === ma?this.textNode+="\n":"r" === ma?this.textNode+="\r":"t" === ma?this.textNode+="\t":"f" === ma?this.textNode+="\f":"b" === ma?this.textNode+="\b":"u" === ma?(T=1,this.unicodeS=""):this.textNode+=ma,ma=va.charAt(this.index++),ea=this.index - 1,ma))continue;else break;Pa.lastIndex=this.index;V=Pa.exec(va);if(null === V){this.index=va.length + 1;this.textNode+=va.substring(ea,this.index - 1);break;}this.index=V.index + 1;ma=va.charAt(V.index);if(!ma){this.textNode+=va.substring(ea,this.index - 1);break;}}this.slashed=X;this.unicodeI=T;continue;case Ba.TRUE:if("" === ma)continue;"r" === ma?this.state=Ba.TRUE2:cb(this,"Invalid true started with t" + ma);continue;case Ba.TRUE2:if("" === ma)continue;"u" === ma?this.state=Ba.TRUE3:cb(this,"Invalid true started with tr" + ma);continue;case Ba.TRUE3:if("" === ma)continue;"e" === ma?(ib(this,"onvalue",!0),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid true started with tru" + ma);continue;case Ba.FALSE:if("" === ma)continue;"a" === ma?this.state=Ba.FALSE2:cb(this,"Invalid false started with f" + ma);continue;case Ba.FALSE2:if("" === ma)continue;"l" === ma?this.state=Ba.FALSE3:cb(this,"Invalid false started with fa" + ma);continue;case Ba.FALSE3:if("" === ma)continue;"s" === ma?this.state=Ba.FALSE4:cb(this,"Invalid false started with fal" + ma);continue;case Ba.FALSE4:if("" === ma)continue;"e" === ma?(ib(this,"onvalue",!1),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid false started with fals" + ma);continue;case Ba.NULL:if("" === ma)continue;"u" === ma?this.state=Ba.NULL2:cb(this,"Invalid null started with n" + ma);continue;case Ba.NULL2:if("" === ma)continue;"l" === ma?this.state=Ba.NULL3:cb(this,"Invalid null started with nu" + ma);continue;case Ba.NULL3:if("" === ma)continue;"l" === ma?(ib(this,"onvalue",null),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid null started with nul" + ma);continue;case Ba.NUMBER_DECIMAL_POINT:"." === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):cb(this,"Leading zero not followed by .");continue;case Ba.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ma)?this.numberNode+=ma:"." === ma?(-1 !== this.numberNode.indexOf(".") && cb(this,"Invalid number has two dots"),this.numberNode+=ma):"e" === ma || "E" === ma?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || cb(this,"Invalid number has two exponential"),this.numberNode+=ma):"+" === ma || "-" === ma?("e" !== ea && "E" !== ea && cb(this,"Invalid symbol in number"),this.numberNode+=ma):(this.numberNode && ib(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ba.VALUE);continue;default:cb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){va=Math.max(ac.MAX_BUFFER_LENGTH,10);ea=ma=0;for(X=lb.length;ea < X;ea++){T=this[lb[ea]].length;if(T > va)switch(lb[ea]){case "text":break;default:cb(this,"Max buffer length exceeded: " + lb[ea]);}ma=Math.max(ma,T);}this.bufferCheckPosition=ac.MAX_BUFFER_LENGTH - ma + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var cb,nb,xb;function jb(lb,Ba){Ba || (Ba=lb.length);return lb.reduce(function(Ka,Pa,va){return va < Ba?Ka + String.fromCharCode(Pa):Ka;},"");}for(var ib={},gb=0;256 > gb;++gb){cb=jb([gb]);ib[cb]=gb;}nb=Object.keys(ib).length;xb=[];for(gb=0;256 > gb;++gb){xb[gb]=[gb];}ke=function(lb,Ba){var W,ha;function Ka(wa,ta){var ia;for(;0 < ta;){if(T >= X.length)return !1;if(ta > V){ia=wa;ia>>>=ta - V;X[T]|=ia & 255;ta-=V;V=8;++T;}else ta <= V && (ia=wa,ia<<=V - ta,ia&=255,ia>>>=8 - V,X[T]|=ia & 255,V-=ta,ta=0,0 == V && (V=8,++T));}return !0;}for(var Pa in ib){Ba[Pa]=ib[Pa];}for(var va=nb,ma=[],ea=8,X=new Uint8Array(lb.length),T=0,V=8,ba=0;ba < lb.length;++ba){W=lb[ba];ma.push(W);Pa=jb(ma);ha=Ba[Pa];if(!ha){ma=jb(ma,ma.length - 1);if(!Ka(Ba[ma],ea))return null;0 != va >> ea && ++ea;Ba[Pa]=va++;ma=[W];}}return 0 < ma.length && (Pa=jb(ma),ha=Ba[Pa],!Ka(ha,ea))?null:X.subarray(0,8 > V?T + 1:T);};le=function(lb){var ba,W;for(var Ba=xb.slice(),Ka=0,Pa=0,va=8,ma=new Uint8Array(Math.ceil(1.5 * lb.length)),ea=0,X,T=[];Ka < lb.length && !(8 * (lb.length - Ka) - Pa < va);){for(var V=X=0;V < va;){ba=Math.min(va - V,8 - Pa);W=lb[Ka];W<<=Pa;W&=255;W>>>=8 - ba;V+=ba;Pa+=ba;8 == Pa && (Pa=0,++Ka);X|=(W & 255) << va - V;}V=Ba[X];0 == T.length?++va:(V?T.push(V[0]):T.push(T[0]),Ba[Ba.length]=T,T=[],Ba.length == 1 << va && ++va,V || (V=Ba[X]));X=ea + V.length;X >= ma.length && (ba=new Uint8Array(Math.ceil(1.5 * X)),ba.set(ma),ma=ba);ma.set(V,ea);ea=X;T=T.concat(V);}return ma.subarray(0,ea);};})();(function(){var jb,ib,gb;Tb="utf-8";Rb=9007199254740992;jb=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function(cb){for(var nb=[jb.GZIP,jb.LZW],xb=0;xb < nb.length && 0 < cb.length;++xb){for(var lb=nb[xb],Ba=0;Ba < cb.length;++Ba){if(cb[Ba] == lb)return lb;}}return null;};ib=ld={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ld);ne=function(cb){return ib.AES_CBC_PKCS5Padding == cb?ib.AES_CBC_PKCS5Padding:ib.RSA_ECB_PKCS1Padding == cb?ib.RSA_ECB_PKCS1Padding:ib[cb];};gb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Ed=function(cb){return gb[cb];};Ga={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ga);})();Gb={isObjectLiteral:function(jb){return null !== jb && "object" === typeof jb && jb.constructor === Object;},extendDeep:function(){var jb,ib,gb,cb,nb,xb,lb,Ba;jb=arguments[0];ib=1;gb=arguments.length;cb=!1;"boolean" === typeof jb && (cb=jb,jb=arguments[1],ib=2);for(;ib < gb;ib++){if(null != (nb=arguments[ib]))for(xb in nb){if(!(cb && (xb in jb))){lb=nb[xb];if(jb !== lb && lb !== Fb){Ba=jb[xb];jb[xb]=null !== Ba && null !== lb && "object" === typeof Ba && "object" === typeof lb?Gb.extendDeep(cb,{},Ba,lb):lb;}}}}return jb;}};(function(){var lb,Ba;function jb(Ka,Pa){return function(){var va,ma;va=Ka.base;Ka.base=Pa;ma=Ka.apply(this,arguments);Ka.base=va;return ma;};}function ib(Ka,Pa,va){var ma,ea,X,T;va=va || Ba;ea=!!va.extendAll;for(ma in Pa){X=Pa.__lookupGetter__(ma);T=Pa.__lookupSetter__(ma);X || T?(X && Ka.__defineGetter__(ma,X),T && Ka.__defineSetter__(ma,T)):(X=Pa[ma],T=Ka[ma],"function" === typeof X && "function" === typeof T && X !== T?(X.base !== Function.prototype.base && (X=jb(X,T)),X.base=T):(ea || va[ma]) && Gb.isObjectLiteral(X) && Gb.isObjectLiteral(T) && (X=Gb.extendDeep({},T,X)),Ka[ma]=X);}}function gb(){var Ka,Pa;Ka=Array.prototype.slice;Pa=Ka.call(arguments,1);return this.extend({init:function ma(){var ea;ea=Ka.call(arguments,0);ma.base.apply(this,Pa.concat(ea));}});}function cb(Ka,Pa){var va;va=new this(lb);ib(va,Ka,Pa);return xb(va);}function nb(Ka,Pa){ib(this.prototype,Ka,Pa);return this;}function xb(Ka){var Pa;Pa=function(){var va;va=this.init;va && arguments[0] !== lb && va.apply(this,arguments);};Ka && (Pa.prototype=Ka);Pa.prototype.constructor=Pa;Pa.extend=cb;Pa.bind=gb;Pa.mixin=nb;return Pa;}lb={};Ba={actions:!0};Function.prototype.base=function(){};Gb.Class={create:xb,mixin:ib,extend:function(Ka,Pa){var va;va=xb();va.prototype=new Ka();return va.extend(Pa);}};Gb.mixin=function(){Gb.log && Gb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");ib.apply(null,arguments);};})();(function(){var lb,Ba,Ka;function jb(Pa,va){return function(){var ma,ea;ma=Pa.base;Pa.base=va;ea=Pa.apply(this,arguments);Pa.base=ma;return ea;};}function ib(Pa,va,ma){var ea,X,T,V;ma=ma || Ba;X=!!ma.extendAll;for(ea in va){T=va.__lookupGetter__(ea);V=va.__lookupSetter__(ea);T || V?(T && Pa.__defineGetter__(ea,T),V && Pa.__defineSetter__(ea,V)):(T=va[ea],V=Pa[ea],"function" === typeof T && "function" === typeof V && T !== V?(T.base !== Ka && (T=jb(T,V)),T.base=V):(X || ma[ea]) && Gb.isObjectLiteral(T) && Gb.isObjectLiteral(V) && (T=Gb.extendDeep({},V,T)),Pa[ea]=T);}}function gb(){var Pa,va;Pa=Array.prototype.slice;va=Pa.call(arguments,1);return this.extend({init:function ea(){var X;X=Pa.call(arguments,0);ea.base.apply(this,va.concat(X));}});}function cb(Pa,va){var ma;ma=new this(lb);ib(ma,Pa,va);return xb(ma);}function nb(Pa,va){ib(this.prototype,Pa,va);return this;}function xb(Pa){var va;va=function(){var ma;ma=this.init;ma && arguments[0] !== lb && ma.apply(this,arguments);};Pa && (va.prototype=Pa);va.prototype.constructor=va;va.extend=cb;va.bind=gb;va.mixin=nb;return va;}lb={};Ba={actions:!0};Ka=function(){};Function.prototype.base=Ka;Gb.Class={create:xb,mixin:ib,extend:function(Pa,va){var ma;ma=xb();ma.prototype=new Pa();return ma.extend(va);}};Gb.mixin=function(){Gb.log && Gb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");ib.apply(null,arguments);};})();(function(){function jb(gb){return gb == Rb?1:gb + 1;}function ib(gb){if(0 === Object.keys(gb._waiters).length)return 0;for(var cb=jb(gb._nextWaiter);!gb._waiters[cb];){cb=jb(cb);}return cb;}Zc=Gb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(gb){var cb;if(this._waiters[gb]){cb=this._waiters[gb];delete this._waiters[gb];gb == this._nextWaiter && (this._nextWaiter=ib(this));cb.call(this,Fb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(gb,cb){var nb,xb;nb=this;xb=jb(this._lastWaiter);this._lastWaiter=xb;eb(cb,function(){var lb,Ba;if(0 < this._queue.length){lb=this._queue.shift();setTimeout(function(){cb.result(lb);},0);}else {-1 != gb && (Ba=setTimeout(function(){delete nb._waiters[xb];xb == nb._nextWaiter && (nb._nextWaiter=ib(nb));cb.timeout();},gb));this._waiters[xb]=function(Ka){clearTimeout(Ba);setTimeout(function(){cb.result(Ka);},0);};this._nextWaiter || (this._nextWaiter=xb);}},nb);return xb;},add:function(gb){var cb;if(this._nextWaiter){cb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=ib(this);cb.call(this,gb);}else this._queue.push(gb);}});})();(function(){var jb;jb=0 - Rb;pe=Gb.Class.create({nextBoolean:function(){var ib;ib=new Uint8Array(1);Bc.getRandomValues(ib);return ib[0] & 1?!0:!1;},nextInt:function(ib){var gb;if(null !== ib && ib !== Fb){if("number" !== typeof ib)throw new TypeError("n must be of type number");if(1 > ib)throw new RangeError("n must be greater than zero");--ib;gb=new Uint8Array(4);Bc.getRandomValues(gb);return Math.floor(((gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0]) / 2147483648 * (ib - 0 + 1));}ib=new Uint8Array(4);Bc.getRandomValues(ib);gb=(ib[3] & 127) << 24 | ib[2] << 16 | ib[1] << 8 | ib[0];return ib[3] & 128?-gb:gb;},nextLong:function(){var gb;for(var ib=jb;ib == jb;){ib=new Uint8Array(7);Bc.getRandomValues(ib);gb=16777216 * ((ib[6] & 31) << 24 | ib[5] << 16 | ib[4] << 8 | ib[3]) + (ib[2] << 16 | ib[1] << 8 | ib[0]);ib=ib[6] & 128?-gb - 1:gb;}return ib;},nextBytes:function(ib){Bc.getRandomValues(ib);}});})();(function(){function jb(cb){return cb == Rb?1:cb + 1;}function ib(cb){if(0 === Object.keys(cb._waitingReaders).length)return 0;for(var nb=jb(cb._nextReader);!cb._waitingReaders[nb];){nb=jb(nb);}return nb;}function gb(cb){if(0 === Object.keys(cb._waitingWriters).length)return 0;for(var nb=jb(cb._nextWriter);!cb._waitingWriters[nb];){nb=jb(nb);}return nb;}Fd=Gb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(cb){var nb;if(this._waitingReaders[cb]){nb=this._waitingReaders[cb];delete this._waitingReaders[cb];cb == this._nextReader && (this._nextReader=ib(this));nb.call(this,!0);}this._waitingWriters[cb] && (nb=this._waitingWriters[cb],delete this._waitingWriters[cb],cb == this._nextWriter && (this._nextWriter=gb(this)),nb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(cb,nb){var xb,lb;xb=this;lb=jb(this._lastNumber);this._lastNumber=lb;eb(nb,function(){var Ba;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[lb]=!0,lb);-1 != cb && (Ba=setTimeout(function(){delete xb._waitingReaders[lb];lb == xb._nextReader && (xb._nextReader=ib(xb));nb.timeout();},cb));this._waitingReaders[lb]=function(Ka){clearTimeout(Ba);Ka?setTimeout(function(){nb.result(Fb);},0):(xb._readers[lb]=!0,setTimeout(function(){nb.result(lb);},0));};this._nextReader || (this._nextReader=lb);},xb);return lb;},writeLock:function(cb,nb){var xb,lb;xb=this;lb=jb(this._lastNumber);this._lastNumber=lb;eb(nb,function(){var Ba;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=lb;-1 != cb && (Ba=setTimeout(function(){delete xb._waitingWriters[lb];lb == xb._nextWriter && (xb._nextWriter=gb(xb));nb.timeout();},cb));this._waitingWriters[lb]=function(Ka){clearTimeout(Ba);Ka?setTimeout(function(){nb.result(Fb);},0):(xb._writer=lb,setTimeout(function(){nb.result(lb);},0));};this._nextWriter || (this._nextWriter=lb);},xb);return lb;},unlock:function(cb){if(cb == this._writer)this._writer=null;else {if(!this._readers[cb])throw new Bb("There is no reader or writer with ticket number " + cb + ".");delete this._readers[cb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (cb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=gb(this),cb.call(this,!1));else {for(var nb=this._nextReader;0 < Object.keys(this._waitingReaders).length;nb=jb(nb)){this._waitingReaders[nb] && (cb=this._waitingReaders[nb],delete this._waitingReaders[nb],cb.call(this,!1));}this._nextReader=0;}}});})();Gb.Class.mixin(S,{JSON_PARSE_ERROR:new S(0,Ga.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new S(1,Ga.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new S(2,Ga.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new S(3,Ga.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new S(4,Ga.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new S(5,Ga.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new S(6,Ga.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new S(7,Ga.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new S(8,Ga.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new S(9,Ga.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new S(10,Ga.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new S(11,Ga.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new S(12,Ga.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new S(13,Ga.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new S(14,Ga.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new S(15,Ga.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new S(16,Ga.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new S(17,Ga.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new S(18,Ga.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new S(19,Ga.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new S(20,Ga.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new S(21,Ga.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new S(22,Ga.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new S(23,Ga.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new S(24,Ga.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new S(25,Ga.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new S(26,Ga.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new S(27,Ga.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new S(28,Ga.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new S(29,Ga.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new S(30,Ga.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new S(31,Ga.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new S(32,Ga.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new S(33,Ga.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new S(34,Ga.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new S(35,Ga.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new S(36,Ga.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new S(37,Ga.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new S(38,Ga.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new S(39,Ga.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new S(40,Ga.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new S(41,Ga.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new S(42,Ga.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new S(43,Ga.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new S(44,Ga.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new S(45,Ga.FAIL,"Error exporting key."),DIGEST_ERROR:new S(46,Ga.FAIL,"Error in digest."),UNSUPPORTED_KEY:new S(47,Ga.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new S(48,Ga.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new S(49,Ga.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new S(50,Ga.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new S(51,Ga.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new S(52,Ga.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new S(53,Ga.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new S(54,Ga.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new S(55,Ga.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new S(56,Ga.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new S(57,Ga.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new S(58,Ga.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new S(59,Ga.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new S(60,Ga.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new S(61,Ga.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new S(62,Ga.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new S(1E3,Ga.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new S(1001,Ga.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new S(1002,Ga.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new S(1003,Ga.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(1004,Ga.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(1005,Ga.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new S(1006,Ga.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new S(1007,Ga.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new S(1008,Ga.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new S(1009,Ga.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new S(1010,Ga.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new S(1011,Ga.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new S(1012,Ga.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new S(1013,Ga.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new S(1014,Ga.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new S(2E3,Ga.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new S(2001,Ga.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new S(2002,Ga.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new S(2003,Ga.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new S(2004,Ga.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new S(2005,Ga.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2006,Ga.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2007,Ga.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new S(2008,Ga.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new S(2009,Ga.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new S(2010,Ga.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new S(2011,Ga.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new S(2012,Ga.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new S(2013,Ga.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new S(2014,Ga.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new S(2015,Ga.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new S(2016,Ga.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new S(2017,Ga.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new S(2018,Ga.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new S(2019,Ga.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new S(2020,Ga.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new S(3E3,Ga.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new S(3001,Ga.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new S(3002,Ga.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new S(3003,Ga.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new S(3004,Ga.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3005,Ga.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3006,Ga.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new S(3007,Ga.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new S(3008,Ga.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new S(3009,Ga.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new S(4E3,Ga.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new S(4001,Ga.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new S(4002,Ga.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new S(4003,Ga.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new S(4004,Ga.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new S(4005,Ga.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new S(4006,Ga.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new S(4007,Ga.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new S(4008,Ga.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new S(4009,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new S(4010,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new S(4011,Ga.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new S(4012,Ga.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new S(4013,Ga.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new S(4014,Ga.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new S(4015,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new S(4016,Ga.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new S(4017,Ga.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new S(4018,Ga.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new S(4019,Ga.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new S(4020,Ga.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new S(4021,Ga.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new S(4022,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new S(4023,Ga.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new S(4024,Ga.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new S(4025,Ga.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new S(4026,Ga.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new S(5E3,Ga.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new S(5001,Ga.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new S(5002,Ga.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new S(5003,Ga.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new S(5004,Ga.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new S(5005,Ga.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new S(5006,Ga.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new S(5007,Ga.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new S(5008,Ga.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new S(5009,Ga.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new S(5010,Ga.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new S(5011,Ga.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new S(5012,Ga.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new S(5013,Ga.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new S(5014,Ga.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new S(5015,Ga.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new S(5016,Ga.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new S(5017,Ga.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new S(5018,Ga.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new S(5019,Ga.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new S(5020,Ga.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new S(5021,Ga.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new S(5022,Ga.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new S(5023,Ga.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new S(5024,Ga.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new S(5025,Ga.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new S(5026,Ga.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new S(5027,Ga.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new S(5028,Ga.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new S(5029,Ga.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new S(5030,Ga.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new S(5031,Ga.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new S(5032,Ga.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new S(5033,Ga.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new S(5034,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new S(5035,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new S(5036,Ga.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new S(5037,Ga.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new S(5038,Ga.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new S(5039,Ga.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new S(5040,Ga.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new S(6E3,Ga.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new S(6001,Ga.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new S(6002,Ga.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new S(6003,Ga.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new S(6004,Ga.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new S(6005,Ga.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new S(6006,Ga.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new S(6007,Ga.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new S(6008,Ga.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new S(6009,Ga.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new S(6010,Ga.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new S(6011,Ga.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new S(6012,Ga.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new S(6013,Ga.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new S(6014,Ga.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new S(6015,Ga.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new S(6016,Ga.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new S(6017,Ga.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new S(6018,Ga.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(6019,Ga.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new S(6020,Ga.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new S(6021,Ga.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new S(6022,Ga.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new S(6023,Ga.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new S(6024,Ga.FAIL,"Invalid header data."),PAYLOAD_INVALID:new S(6025,Ga.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new S(6026,Ga.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new S(6027,Ga.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new S(6028,Ga.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new S(6029,Ga.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new S(6030,Ga.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new S(6031,Ga.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new S(6032,Ga.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new S(6033,Ga.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new S(6034,Ga.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new S(6035,Ga.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new S(6036,Ga.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new S(6037,Ga.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new S(7E3,Ga.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new S(7001,Ga.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new S(7002,Ga.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new S(7003,Ga.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new S(7004,Ga.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new S(7005,Ga.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new S(7006,Ga.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new S(7007,Ga.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new S(7008,Ga.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new S(7009,Ga.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new S(7010,Ga.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new S(7011,Ga.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new S(7012,Ga.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new S(7013,Ga.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new S(7014,Ga.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new S(7015,Ga.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new S(7016,Ga.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new S(8E3,Ga.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new S(8001,Ga.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new S(8002,Ga.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new S(8003,Ga.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new S(8004,Ga.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new S(8005,Ga.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new S(8006,Ga.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new S(8007,Ga.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new S(8008,Ga.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new S(8009,Ga.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new S(8010,Ga.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new S(8011,Ga.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new S(8012,Ga.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new S(9E3,Ga.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new S(9001,Ga.FAIL,"Error communicating with MSL entity."),NONE:new S(9999,Ga.FAIL,"Special unit test error.")});Object.freeze(S);(function(){hb=Gb.Class.create(Error());hb.mixin({init:function(jb,ib,gb){var nb,xb,lb;function cb(){return xb?xb:this.cause && this.cause instanceof hb?this.cause.messageId:Fb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);nb=jb.message;ib && (nb+=" [" + ib + "]");lb=this.stack;Object.defineProperties(this,{message:{value:nb,writable:!1,configurable:!0},error:{value:jb,writable:!1,configurable:!0},cause:{value:gb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:cb,set:function(Ba){if(0 > Ba || Ba > Rb)throw new RangeError("Message ID " + Ba + " is outside the valid range.");cb() || (xb=Ba);},configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();lb && (Ba+="\n" + lb);gb && gb.stack && (Ba+="\nCaused by " + gb.stack);return Ba;},configurable:!0}});},setEntity:function(jb){!jb || this.masterToken || this.entityAuthenticationData || (jb instanceof ic?this.masterToken=jb:jb instanceof Lc && (this.entityAuthenticationData=jb));return this;},setUser:function(jb){!jb || this.userIdToken || this.userAuthenticationData || (jb instanceof Tc?this.userIdToken=jb:jb instanceof $c && (this.userAuthenticationData=jb));return this;},setMessageId:function(jb){this.messageId=jb;return this;},toString:function(){return this.name + ": " + this.message;}});})();zb=hb.extend({init:function nb(ib,gb,cb){nb.base.call(this,ib,gb,cb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Hb=hb.extend({init:function xb(gb,cb,nb){xb.base.call(this,gb,cb,nb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=hb.extend({init:function lb(cb,nb,xb){lb.base.call(this,cb,nb,xb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jc=Gb.Class.create(Error());jc.mixin({init:function(cb,nb,xb){var lb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},requestCause:{value:xb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();lb && (Ba+="\n" + lb);nb && nb.stack && (Ba+="\nCaused by " + nb.stack);return Ba;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Gb.Class.create(Error());Yb.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Bb=Gb.Class.create(Error());Bb.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){bc=Gb.Class.create(Error());bc.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ub=hb.extend({init:function Ba(nb,xb,lb){Ba.base.call(this,nb,xb,lb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});ad=hb.extend({init:function Ba(xb,lb){Ba.base.call(this,xb);Object.defineProperties(this,{masterToken:{value:lb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ob=hb.extend({init:function Pa(lb,Ba,Ka){Pa.base.call(this,lb,Ba,Ka);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=hb.extend({init:function va(Ba,Ka,Pa){va.base.call(this,Ba,Ka,Pa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ma;function Ba(ea){return "undefined" === typeof ea?!1:ea;}function Ka(ea){return ea && ea.length?(dc === ma.V2014_02 && (ea=ea.map(function(X){return "wrap" == X?"wrapKey":"unwrap" == X?"unwrapKey":X;})),ea):dc === ma.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Pa(ea,X,T,V,ba){return Promise.resolve().then(function(){return Vb.importKey(ea,X,T,V,ba);}).catch(function(W){var ha;if("spki" !== ea && "pkcs8" !== ea)throw W;W=ASN1.webCryptoAlgorithmToJwkAlg(T);ha=ASN1.webCryptoUsageToJwkKeyOps(ba);W=ASN1.rsaDerToJwk(X,W,ha,V);if(!W)throw Error("Could not make valid JWK from DER input");W=JSON.stringify(W);return Vb.importKey("jwk",Bd(W),T,V,ba);});}function va(ea,X){return Promise.resolve().then(function(){return Vb.exportKey(ea,X);}).catch(function(T){if("spki" !== ea && "pkcs8" !== ea)throw T;return Vb.exportKey("jwk",X).then(function(V){V=JSON.parse(Ad(new Uint8Array(V)));V=ASN1.jwkToRsaDer(V);if(!V)throw Error("Could not make valid DER from JWK input");return V.getDer().buffer;});});}ma=md={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(md);dc=ma.LATEST;Qb={encrypt:function(ea,X,T){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.encrypt(ea,X,T);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){ba(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.encrypt(ea,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ea,X,T){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.decrypt(ea,X,T);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){ba(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.decrypt(ea,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ea,X,T){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.sign(ea,X,T);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){ba(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.sign(ea,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ea,X,T,V){switch(dc){case ma.LEGACY:return new Promise(function(ba,W){var ha;ha=Vb.verify(ea,X,T,V);ha.oncomplete=function(wa){ba(wa.target.result);};ha.onerror=function(wa){W(wa);};});case ma.V2014_01:case ma.V2014_02:return Vb.verify(ea,X,T,V);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ea,X){switch(dc){case ma.LEGACY:return new Promise(function(T,V){var ba;ba=Vb.digest(ea,X);ba.oncomplete=function(W){T(W.target.result);};ba.onerror=function(W){V(W);};});case ma.V2014_01:case ma.V2014_02:return Vb.digest(ea,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ea,X,T){var V,ba;V=Ba(X);ba=Ka(T);switch(dc){case ma.LEGACY:return new Promise(function(W,ha){var wa;wa=Vb.generateKey(ea,V,ba);wa.oncomplete=function(ta){W(ta.target.result);};wa.onerror=function(ta){ha(ta);};});case ma.V2014_01:case ma.V2014_02:return Vb.generateKey(ea,V,ba);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ea,X,T,V,ba){var W,ha;W=Ba(V);ha=Ka(ba);switch(dc){case ma.LEGACY:return new Promise(function(wa,ta){var ia;ia=Vb.deriveKey(ea,X,T,W,ha);ia.oncomplete=function(qa){wa(qa.target.result);};ia.onerror=function(qa){ta(qa);};});case ma.V2014_01:case ma.V2014_02:return Vb.deriveKey(ea,X,T,W,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ea,X,T,V,ba){var W,ha;W=Ba(V);ha=Ka(ba);switch(dc){case ma.LEGACY:return new Promise(function(wa,ta){var ia;ia=Vb.importKey(ea,X,T,W,ha);ia.oncomplete=function(qa){wa(qa.target.result);};ia.onerror=function(qa){ta(qa);};});case ma.V2014_01:case ma.V2014_02:return Pa(ea,X,T,W,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ea,X){switch(dc){case ma.LEGACY:return new Promise(function(T,V){var ba;ba=Vb.exportKey(ea,X);ba.oncomplete=function(W){T(W.target.result);};ba.onerror=function(W){V(W);};});case ma.V2014_01:case ma.V2014_02:return va(ea,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ea,X,T,V){switch(dc){case ma.LEGACY:return new Promise(function(ba,W){var ha;ha=Vb.wrapKey(X,T,V);ha.oncomplete=function(wa){ba(wa.target.result);};ha.onerror=function(wa){W(wa);};});case ma.V2014_01:case ma.V2014_02:return Vb.wrapKey(ea,X,T,V).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ea,X,T,V,ba,W,ha){switch(dc){case ma.LEGACY:return new Promise(function(wa,ta){var ia;ia=Vb.unwrapKey(X,ba,T);ia.oncomplete=function(qa){wa(qa.target.result);};ia.onerror=function(qa){ta(qa);};});case ma.V2014_01:case ma.V2014_02:return Vb.unwrapKey(ea,X,T,V,ba,Ba(W),Ka(ha));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};kd && kd.getKeyByName && (Qb.getKeyByName=function(ea){switch(dc){case ma.LEGACY:return new Promise(function(X,T){var V;V=kd.getKeyByName(ea);V.oncomplete=function(ba){X(ba.target.result);};V.onerror=function(ba){T(ba);};});case ma.V2014_01:case ma.V2014_02:return kd.getKeyByName(ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});ob.netflix=ob.netflix || ({});ob.netflix.crypto=Qb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};nd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Gd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Hd=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function va(ea){Na(Ka,function(){var X;X=ea?Kb(ea):Fb;Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},keyData:{value:ea,writable:!1,configurable:!1},keyDataB64:{value:X,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba)throw new zb(S.INVALID_SYMMETRIC_KEY);!Pa && Ba.extractable?Qb.exportKey("raw",Ba).then(function(ea){va(new Uint8Array(ea));},function(ea){Ka.error(new zb(S.KEY_EXPORT_ERROR,"raw"));}):va(Pa);},ma);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});bd=function(Ba,Ka){new Hd(Ba,Ka);};tc=function(Ba,Ka,Pa,va){Na(va,function(){try{Ba="string" == typeof Ba?Mb(Ba):Ba;}catch(ma){throw new zb(S.INVALID_SYMMETRIC_KEY,"keydata " + Ba,ma);}Qb.importKey("raw",Ba,Ka,!0,Pa).then(function(ma){new Hd(ma,va,Ba);},function(ma){va.error(new zb(S.INVALID_SYMMETRIC_KEY));});});};})();(function(){od=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function va(ea){Na(Ka,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:ea,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba || "public" != Ba.type)throw new TypeError("Only original public crypto keys are supported.");!Pa && Ba.extractable?Qb.exportKey("spki",Ba).then(function(ea){va(new Uint8Array(ea));},function(ea){Ka.error(new zb(S.KEY_EXPORT_ERROR,"spki"));}):va(Pa);});},getEncoded:function(){return this.encoded;}});Jc=function(Ba,Ka){new od(Ba,Ka);};Id=function(Ba,Ka,Pa,va){Na(va,function(){try{Ba="string" == typeof Ba?Mb(Ba):Ba;}catch(ma){throw new zb(S.INVALID_PUBLIC_KEY,"spki " + Ba,ma);}Qb.importKey("spki",Ba,Ka,!0,Pa).then(function(ma){new od(ma,va,Ba);},function(ma){va.error(new zb(S.INVALID_PUBLIC_KEY));});});};})();(function(){re=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function va(ea){Na(Ka,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:ea,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba || "private" != Ba.type)throw new TypeError("Only original private crypto keys are supported.");!Pa && Ba.extractable?Qb.exportKey("pkcs8",Ba).then(function(ea){va(new Uint8Array(ea));},function(ea){Ka.error(new zb(S.KEY_EXPORT_ERROR,"pkcs8"));}):va(Pa);});},getEncoded:function(){return this.encoded;}});Sc=function(Ba,Ka){new re(Ba,Ka);};})();(function(){var Ba;Ba=Md={V1:1,V2:2};Jd=Gb.Class.create({init:function(Ka,Pa,va,ma){Na(ma,function(){var ea,X,T,V;ea=Ba.V1;X=Ka;T=null;for(V in ld){if(ld[V] == Ka){ea=Ba.V2;X=null;T=Ka;break;}}Object.defineProperties(this,{version:{value:ea,writable:!1,enumerable:!1,configurable:!1},keyId:{value:X,writable:!1,configurable:!1},cipherSpec:{value:T,writable:!1,configurable:!1},iv:{value:Pa,writable:!1,configurable:!1},ciphertext:{value:va,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ka;Ka={};switch(this.version){case Ba.V1:Ka.keyid=this.keyId;this.iv && (Ka.iv=Kb(this.iv));Ka.ciphertext=Kb(this.ciphertext);Ka.sha256="AA==";break;case Ba.V2:Ka.version=this.version;Ka.cipherspec=this.cipherSpec;this.iv && (Ka.iv=Kb(this.iv));Ka.ciphertext=Kb(this.ciphertext);break;default:throw new Bb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ka;}});Kd=function(Ka,Pa,va,ma){new Jd(Ka,Pa,va,ma);};Ld=function(Ka,Pa,va){Na(va,function(){var ma,ea,X,T,V,ba,W;ma=Ka.keyid;ea=Ka.cipherspec;X=Ka.iv;T=Ka.ciphertext;V=Ka.sha256;if(!Pa)if((Pa=Ka.version) && "number" === typeof Pa && Pa === Pa){ba=!1;for(W in Ba){if(Ba[W] == Pa){ba=!0;break;}}if(!ba)throw new zb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}else Pa=Ba.V1;switch(Pa){case Ba.V1:if("string" !== typeof ma || X && "string" !== typeof X || "string" !== typeof T || "string" !== typeof V)throw new Hb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));break;case Ba.V2:W=Ka.version;if(W != Ba.V2)throw new zb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));if("string" !== typeof ea || X && "string" !== typeof X || "string" !== typeof T)throw new Hb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));ea=ne(ea);if(!ea)throw new zb(S.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ka));ma=ea;break;default:throw new zb(S.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}try{X && (X=Mb(X));T=Mb(T);}catch(ha){throw new zb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ka),ha);}new Jd(ma,X,T,va);});};})();(function(){var Ba;Ba=Pd={V1:1,V2:2};uc=Gb.Class.create({init:function(Ka,Pa,va){var ma;switch(Ka){case Ba.V1:ma=va;break;case Ba.V2:ma={};ma.version=Ka;ma.algorithm=Pa;ma.signature=Kb(va);ma=fc(JSON.stringify(ma),Tb);break;default:throw new Bb("Signature envelope version " + Ka + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ka,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Pa,writable:!1,configurable:!1},signature:{value:va,writable:!1,configurable:!1},bytes:{value:ma,writable:!1,configurable:!1}});}});Nd=function(){var Ka,Pa,va,ma;if(2 == arguments.length){Ka=Ba.V1;Pa=arguments[0];va=null;ma=arguments[1];}else 3 == arguments.length && (Ka=Ba.V2,va=arguments[0],Pa=arguments[1],ma=arguments[2]);Na(ma,function(){return new uc(Ka,va,Pa);});};Od=function(Ka,Pa,va){Na(va,function(){var ma,ea,X,T,V,ba,W;if(Pa)switch(Pa){case Ba.V1:return new uc(Ba.V1,null,Ka);case Ba.V2:try{ma=ec(Ka,Tb);ea=JSON.parse(ma);X=parseInt(ea.version);T=ea.algorithm;V=ea.signature;if(!X || "number" !== typeof X || X != X || "string" !== typeof T || "string" !== typeof V)throw new Hb(S.JSON_PARSE_ERROR,"signature envelope " + Kb(Ka));if(Ba.V2 != X)throw new zb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(Ka));ba=Ed(T);if(!ba)throw new zb(S.UNIDENTIFIED_ALGORITHM,"signature envelope " + Kb(Ka));W=Mb(V);if(!W)throw new zb(S.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ka));return new uc(Ba.V2,ba,W);}catch(ha){if(ha instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"signature envelope " + Kb(Ka),ha);throw ha;}default:throw new zb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(Ka));}try{ma=ec(Ka,Tb);ea=JSON.parse(ma);}catch(ha){ea=null;}if(ea && ea.version){if((ma=ea.version,"number" !== typeof ma || ma !== ma))ma=Ba.V1;}else ma=Ba.V1;switch(ma){case Ba.V1:return new uc(ma,null,Ka);case Ba.V2:ba=ea.algorithm;V=ea.signature;if("string" !== typeof ba || "string" !== typeof V)return new uc(Ba.V1,null,Ka);ba=Ed(ba);if(!ba)return new uc(Ba.V1,null,Ka);try{W=Mb(V);}catch(ha){return new uc(Ba.V1,null,Ka);}return new uc(ma,ba,W);default:throw new zb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ka);}});};})();Uc=Gb.Class.create({encrypt:function(Ba,Ka){},decrypt:function(Ba,Ka){},wrap:function(Ba,Ka){},unwrap:function(Ba,Ka,Pa,va){},sign:function(Ba,Ka){},verify:function(Ba,Ka,Pa){}});(function(){var Ba;Ba=wc={RSA_OAEP:nd.name,A128KW:sc.name};qc="A128GCM";vc=Gb.Class.create({init:function(Ka,Pa,va,ma,ea){switch(Pa){case Ba.RSA_OAEP:ea=ea && (ea.rawKey || ea);ma=ma && (ma.rawKey || ma);break;case Ba.A128KW:ea=ma=ma && (ma.rawKey || ma);break;default:throw new Bb("Unsupported algorithm: " + Pa);}Object.defineProperties(this,{_ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:va,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ea,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Pa){Pa.error(new zb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ka,Pa){Pa.error(new zb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(Ka,Pa){Na(Pa,function(){Qb.wrapKey("jwe+jwk",Ka.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(va){Pa.result(va);},function(va){Pa.error(new zb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Pa,va,ma){function ea(X){Na(ma,function(){switch(X.type){case "secret":bd(X,ma);break;case "public":Jc(X,ma);break;case "private":Sc(X,ma);break;default:throw new zb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ma,function(){Qb.unwrapKey("jwe+jwk",Ka,this._unwrapKey,this._unwrapKey.algorithm,Pa,!1,va).then(function(X){ea(X);},function(){ma.error(new zb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Pa){Pa.error(new zb(S.SIGN_NOT_SUPPORTED));},verify:function(Ka,Pa,va){va.error(new zb(S.VERIFY_NOT_SUPPORTED));}});})();Vc=Uc.extend({encrypt:function(Ba,Ka){Ka.result(Ba);},decrypt:function(Ba,Ka){Ka.result(Ba);},wrap:function(Ba,Ka){Ka.result(Ba);},unwrap:function(Ba,Ka,Pa,va){va.result(Ba);},sign:function(Ba,Ka){Ka.result(new Uint8Array(0));},verify:function(Ba,Ka,Pa){Pa.result(!0);}});(function(){var Ba;Ba=qd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};pd=Uc.extend({init:function T(Pa,va,ma,ea,X){T.base.call(this);ma && (ma=ma.rawKey);ea && (ea=ea.rawKey);Object.defineProperties(this,{id:{value:va,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ea,writable:!1,enumerable:!1,configurable:!1},transform:{value:X == Ba.ENCRYPT_DECRYPT_PKCS1?Gd:X == Ba.ENCRYPT_DECRYPT_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:X == Ba.WRAP_UNWRAP_PKCS1?Gd:X == Ba.WRAP_UNWRAP_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:X == Ba.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Pa,va){var ma;ma=this;Na(va,function(){if("nullOp" == this.transform)return Pa;if(!this.publicKey)throw new zb(S.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Pa.length)return Pa;Qb.encrypt(ma.transform,ma.publicKey,Pa).then(function(ea){Kd(ma.id,null,ea,{result:function(X){var T;try{T=JSON.stringify(X);va.result(fc(T,Tb));}catch(V){va.error(new zb(S.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof hb || (X=new zb(S.ENCRYPT_ERROR,null,X));va.error(X);}});},function(ea){va.error(new zb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Pa,va){var ma;ma=this;Na(va,function(){var ea,X;if("nullOp" == this.transform)return Pa;if(!this.privateKey)throw new zb(S.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Pa.length)return Pa;try{ea=ec(Pa,Tb);X=JSON.parse(ea);}catch(T){if(T instanceof SyntaxError)throw new zb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,T);throw new zb(S.DECRYPT_ERROR,null,T);}Ld(X,Md.V1,{result:function(T){var V;try{if(T.keyId != ma.id)throw new zb(S.ENVELOPE_KEY_ID_MISMATCH);V=va.result;Qb.decrypt(ma.transform,ma.privateKey,T.ciphertext).then(V,function(ba){va.error(new zb(S.DECRYPT_ERROR));});}catch(ba){ba instanceof hb?va.error(ba):va.error(new zb(S.DECRYPT_ERROR,null,ba));}},error:function(T){T instanceof Hb && (T=new zb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,T));T instanceof hb || (T=new zb(S.DECRYPT_ERROR,null,T));va.error(T);}});},this);},wrap:function(Pa,va){Na(va,function(){var ma;if("nullOp" == this.wrapTransform || !this.publicKey)throw new zb(S.WRAP_NOT_SUPPORTED,"no public key");ma=va.result;Qb.wrapKey("jwk",Pa.rawKey,this.publicKey,this.wrapTransform).then(ma,function(ea){va.error(new zb(S.WRAP_ERROR));});},this);},unwrap:function(Pa,va,ma,ea){function X(T){Na(ea,function(){switch(T.type){case "secret":bd(T,ea);break;case "public":Jc(T,ea);break;case "private":Sc(T,ea);break;default:throw new zb(S.UNSUPPORTED_KEY,"type: " + T.type);}});}Na(ea,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new zb(S.UNWRAP_NOT_SUPPORTED,"no private key");Qb.unwrapKey("jwk",Pa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},va,!1,ma).then(X,function(T){ea.error(new zb(S.UNWRAP_ERROR));});},this);},sign:function(Pa,va){Na(va,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new zb(S.SIGN_NOT_SUPPORTED,"no private key");Qb.sign(this.algo,this.privateKey,Pa).then(function(ma){Nd(ma,{result:function(ea){va.result(ea.bytes);},error:va.error});},function(ma){va.error(new zb(S.SIGNATURE_ERROR));});},this);},verify:function(Pa,va,ma){var ea;ea=this;Na(ma,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new zb(S.VERIFY_NOT_SUPPORTED,"no public key");Od(va,Pd.V1,{result:function(X){Na(ma,function(){var T;T=ma.result;Qb.verify(this.algo,this.publicKey,X.signature,Pa).then(T,function(V){ma.error(new zb(S.SIGNATURE_ERROR));});},ea);},error:ma.error});},this);}});})();(function(){rd=Uc.extend({init:function X(Ka,Pa,va,ma,ea){X.base.call(this);va=va && va.rawKey;ma=ma && ma.rawKey;ea=ea && ea.rawKey;Object.defineProperties(this,{ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},id:{value:Pa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ea,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Pa){var va;va=this;Na(Pa,function(){var ma;if(!this.encryptionKey)throw new zb(S.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;ma=new Uint8Array(16);this.ctx.getRandom().nextBytes(ma);Qb.encrypt({name:oc.name,iv:ma},va.encryptionKey,Ka).then(function(ea){ea=new Uint8Array(ea);Kd(va.id,ma,ea,{result:function(X){var T;try{T=JSON.stringify(X);Pa.result(fc(T,Tb));}catch(V){Pa.error(new zb(S.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof hb || (X=new zb(S.ENCRYPT_ERROR,null,X));Pa.error(X);}});},function(ea){Pa.error(new zb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Ka,Pa){var va;va=this;Na(Pa,function(){var ma,ea;if(!this.encryptionKey)throw new zb(S.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;try{ma=ec(Ka,Tb);ea=JSON.parse(ma);}catch(X){if(X instanceof SyntaxError)throw new zb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,X);throw new zb(S.DECRYPT_ERROR,null,X);}Ld(ea,Md.V1,{result:function(X){try{if(X.keyId != va.id)throw new zb(S.ENVELOPE_KEY_ID_MISMATCH);Qb.decrypt({name:oc.name,iv:X.iv},va.encryptionKey,X.ciphertext).then(function(T){T=new Uint8Array(T);Pa.result(T);},function(){Pa.error(new zb(S.DECRYPT_ERROR));});}catch(T){T instanceof hb?Pa.error(T):Pa.error(new zb(S.DECRYPT_ERROR,null,T));}},error:function(X){X instanceof Hb && (X=new zb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,X));X instanceof hb || (X=new zb(S.DECRYPT_ERROR,null,X));Pa.error(X);}});},this);},wrap:function(Ka,Pa){Na(Pa,function(){if(!this.wrapKey)throw new zb(S.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Qb.wrapKey("raw",Ka.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(va){Pa.result(va);},function(va){Pa.error(new zb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Pa,va,ma){function ea(X){Na(ma,function(){switch(X.type){case "secret":bd(X,ma);break;case "public":Jc(X,ma);break;case "private":Sc(X,ma);break;default:throw new zb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ma,function(){if(!this.wrapKey)throw new zb(S.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Qb.unwrapKey("raw",Ka,this.wrapKey,this.wrapKey.algorithm,Pa,!1,va).then(function(X){ea(X);},function(X){ma.error(new zb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Pa){var va;va=this;Na(Pa,function(){if(!this.hmacKey)throw new zb(S.SIGN_NOT_SUPPORTED,"no HMAC key.");Qb.sign(pc,this.hmacKey,Ka).then(function(ma){Na(Pa,function(){var ea;ea=new Uint8Array(ma);Nd(ea,{result:function(X){Pa.result(X.bytes);},error:Pa.error});},va);},function(){Pa.error(new zb(S.HMAC_ERROR));});},this);},verify:function(Ka,Pa,va){var ma;ma=this;Na(va,function(){if(!this.hmacKey)throw new zb(S.VERIFY_NOT_SUPPORTED,"no HMAC key.");Od(Pa,Pd.V1,{result:function(ea){Na(va,function(){Qb.verify(pc,this.hmacKey,ea.signature,Ka).then(function(X){va.result(X);},function(X){va.error(new zb(S.HMAC_ERROR));});},ma);},error:va.error});},this);}});})();lc=rd.extend({init:function X(Ka,Pa,va,ma,ea){if(va || ma || ea)X.base.call(this,Ka,va + "_" + Pa.sequenceNumber,ma,ea,null);else {if(!Pa.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,Pa);X.base.call(this,Ka,Pa.identity + "_" + Pa.sequenceNumber,Pa.encryptionKey,Pa.hmacKey,null);}}});rf=Uc.extend({encrypt:function(Ka,Pa){Pa.result(Ka);},decrypt:function(Ka,Pa){Pa.result(Ka);},wrap:function(Ka,Pa){Pa.error(new Bb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ka,Pa,va,ma){ma.error(new Bb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ka,Pa){Pa.result(new Uint8Array(0));},verify:function(Ka,Pa,va){va.result(!1);}});Wb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Wb);(function(){Lc=Gb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ka){return this === Ka?!0:Ka instanceof Lc?this.scheme == Ka.scheme:!1;},toJSON:function(){var Ka;Ka={};Ka.scheme=this.scheme;Ka.authdata=this.getAuthData();return Ka;}});se=function(Ka,Pa){var va,ma;va=Pa.scheme;ma=Pa.authdata;if(!va || !ma)throw new Hb(S.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Pa));if(!Wb[va])throw new rc(S.UNIDENTIFIED_ENTITYAUTH_SCHEME,va);Pa=Ka.getEntityAuthenticationFactory(va);if(!Pa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,va);return Pa.createData(Ka,ma);};})();sd=Gb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},createData:function(Ka,Pa){},getCryptoContext:function(Ka,Pa){}});(function(){xc=Lc.extend({init:function va(Pa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{identity:{value:Pa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Pa;Pa={};Pa.identity=this.identity;return Pa;},equals:function ma(va){return this === va?!0:va instanceof xc?ma.base.call(this,this,va) && this.identity == va.identity:!1;}});te=function(va){var ma;ma=va.identity;if(!ma)throw new Hb(S.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(va));return new xc(ma);};})();sf=sd.extend({init:function va(Pa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{localIdentity:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Pa,va){return te(va);},getCryptoContext:function(Pa,va){if(!(va instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(va) + ".");if(va.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + va.identity).setEntity(va);return new Vc();}});(function(){yc=Lc.extend({init:function ma(va){ma.base.call(this,Wb.PSK);Object.defineProperties(this,{identity:{value:va,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var va;va={};va.identity=this.identity;return va;},equals:function ea(ma){return this === ma?!0:ma instanceof yc?ea.base.call(this,this,ma) && this.identity == ma.identity:!1;}});ue=function(ma){var ea;ea=ma.identity;if(!ea)throw new Hb(S.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ma));return new yc(ea);};})();tf=sd.extend({init:function ma(va){ma.base.call(this,Wb.PSK);Object.defineProperties(this,{localIdentity:{value:va,writable:!1,enumerable:!1,configurable:!1}});},createData:function(va,ma){return ue(ma);},getCryptoContext:function(va,ma){if(!(ma instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.getIdentity() != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ma.identity).setEntity(ma);return new Vc();}});(function(){td=Lc.extend({init:function X(ma,ea){X.base.call(this,Wb.RSA);Object.defineProperties(this,{identity:{value:ma,writable:!1,configurable:!1},publicKeyId:{value:ea,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ma;ma={};ma.identity=this.identity;ma.pubkeyid=this.publicKeyId;return ma;},equals:function X(ea){return this === ea?!0:ea instanceof td?X.base.call(this,this,ea) && this.identity == ea.identity && this.publicKeyId == ea.publicKeyId:!1;}});ve=function(ea){var X,T;X=ea.identity;T=ea.pubkeyid;if(!X || "string" !== typeof X || !T || "string" !== typeof T)throw new Hb(S.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ea));return new td(X,T);};})();uf=sd.extend({init:function ea(ma){ea.base.call(this,Wb.RSA);Object.defineProperties(this,{store:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ma,ea){return ve(ea);},getCryptoContext:function(ma,ea){var X,T,V;if(!(ea instanceof td))throw new Bb("Incorrect authentication data type " + ea + ".");X=ea.identity;T=ea.publicKeyId;V=this.store.getPublicKey(T);if(!V)throw new rc(S.RSA_PUBLICKEY_NOT_FOUND,T).setEntity(ea);return new pd(ma,X,null,V,qd.SIGN_VERIFY);}});(function(){Yc=Lc.extend({init:function X(ea){X.base.call(this,Wb.NONE);Object.defineProperties(this,{identity:{value:ea,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ea;ea={};ea.identity=this.identity;return ea;},equals:function T(X){return this === X?!0:X instanceof Yc?T.base.call(this,this,X) && this.identity == X.identity:!1;}});we=function(X){var T;T=X.identity;if(!T)throw new Hb(S.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(X));return new Yc(T);};})();qf=sd.extend({init:function ea(){ea.base.call(this,Wb.NONE);},createData:function(ea,X){return we(X);},getCryptoContext:function(ea,X){if(!(X instanceof Yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(X) + ".");return new Vc();}});vf=Gb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ea,X){if(!(X instanceof od))throw new Bb("Incorrect key data type " + X + ".");this.rsaKeys[ea]=X;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ea){delete this.rsaKeys[ea];},getPublicKey:function(ea){return this.rsaKeys[ea];}});Qd=Gb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ea,X,T){}});ud=Gb.Class.create({abort:function(){},close:function(ea,X){},write:function(ea,X,T,V,ba){},flush:function(ea,X){}});wf=Gb.Class.create({init:function(ea){Object.defineProperties(this,{_data:{value:ea,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Yb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ea,X,T){eb(T,function(){var V;if(this._closed)throw new Yb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ea && (ea=this._data.length - this._currentPosition);V=this._data.subarray(this._currentPosition,this._currentPosition + ea);this._currentPosition+=V.length;return V;},this);}});xf=Gb.Class.create({init:function(){var ea;ea={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ea);},abort:function(){},close:function(ea,X){this._closed=!0;X.result(!0);},write:function(ea,X,T,V,ba){eb(ba,function(){var W;if(this._closed)throw new Yb("Stream is already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > ea.length)throw new RangeError("Offset plus length cannot be greater than the array length.");W=ea.subarray(X,T);this._buffered.push(W);return W.length;},this);},flush:function(ea,X){var T;for(;0 < this._buffered.length;){if((ea=this._buffered.shift(),this._result)){T=new Uint8Array(this._result.length + ea.length);T.set(this._result);T.set(ea,this._result.length);this._result=T;}else this._result=new Uint8Array(ea);}X.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Gb.Class.create({getResponse:function(ea,X,T){}});(function(){var ea,X;ea=ud.extend({init:function(T,V){T={_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Zc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(T){this._timeout=T;},getResponse:function(T,V){var ba;ba=this;this._responseQueue.poll(T,{result:function(W){eb(V,function(){W && this._responseQueue.add(W);return W;},ba);},timeout:function(){eb(V,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();V.timeout();},ba);},error:function(W){eb(V,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw W;},ba);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(T,V){var ba;ba=this;eb(V,function(){var W;if(this._response)return !0;W=this._buffer.toByteArray();0 < W.length && (this._abortToken=this._httpLocation.getResponse({body:W},this._timeout,{result:function(ha){ba._response={response:ha};ba._responseQueue.add(ba._response);},timeout:function(){ba._response={isTimeout:!0};ba._responseQueue.add(ba._response);},error:function(ha){ba._response={isError:!0,error:ha};ba._responseQueue.add(ba._response);}}));return !0;},this);},write:function(T,V,ba,W,ha){eb(ha,function(){if(this._response)throw new Yb("HttpOutputStream already closed.");this._buffer.write(T,V,ba,W,ha);},this);},flush:function(T,V){eb(V,function(){if(this._response)return !0;this._buffer.flush(T,V);},this);}});X=Qd.extend({init:function(T){Object.defineProperties(this,{_out:{value:T,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(T,V,ba){var ha;function W(wa){eb(ba,function(){if(!wa)return new Uint8Array(0);this._out.getResponse(V,{result:function(ta){eb(ba,function(){var ia;if(ta.isTimeout)(this._timedout=!0,ba.timeout());else {if(ta.isError)throw (this._exception=ta.error || new Yb("Unknown HTTP exception."),this._exception);if(!ta.response)throw (this._exception=new Yb("Missing HTTP response."),this._exception);ta.response.json !== Fb && (this._json=ta.response.json,this.getJSON=function(){return ha._json;});ia=ta.response.content || Bd("string" === typeof ta.response.body?ta.response.body:JSON.stringify(this._json));this._buffer=new wf(ia);this._buffer.read(T,V,ba);}},ha);},timeout:function(){ba.timeout();},error:function(ta){ba.error(ta);}});},ha);}ha=this;eb(ba,function(){if(this._exception)throw this._exception;if(this._timedout)ba.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(T,V,ba):this._out.close(V,{result:function(wa){W(wa);},timeout:function(){ba.timeout();},error:function(wa){ba.error(wa);}});}},ha);}});he=Gb.Class.create({init:function(T,V){Object.defineProperties(this,{_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(T){this._timeout=T;},openConnection:function(){var T;T=new ea(this._httpLocation,this._timeout);return {input:new X(T),output:T};}});})();(function(){var ea,X;ea=ud.extend({init:function(){var T;T={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},getResponse:function(T,V){V.result({success:!1,content:null,errorHttpCode:Fb,errorSubCode:Fb});},abort:function(){},close:function(T,V){V.result(!0);},write:function(T,V,ba,W,ha){var wa,ta;try{if(0 > V)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(V + ba > T.length)throw new RangeError("Offset plus length cannot be greater than the array length.");wa=T.subarray(V,ba);ta=new Uint8Array(this._buffer.length + wa.length);ta.set(this._buffer);ta.set(wa,this._buffer.length);this._buffer=ta;ha.result(wa.length);}catch(ia){ha.error(ia);}},flush:function(T,V){V.result(!0);},request:function(){return this._buffer;}});X=Qd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(T,V,ba){ba.result(new Uint8Array(16));}});ie=Gb.Class.create({init:function(){var T;T={output:{value:new ea(),writable:!1,enumerable:!1,configurable:!1},input:{value:new X(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();xe=function(ea,X,T){(function(V,ba,W){V.read(-1,ba,{result:function(ha){ha && ha.length?W(null,ha):W(null,null);},timeout:function(){T.timeout();},error:function(ha){W(ha,null);}});})(ea,X,function(V,ba){var W,ha;if(V)T.error(V);else if(ba){if(ea.getJSON !== Fb && "function" === typeof ea.getJSON)T.result(ea.getJSON());else {V=T.result;ba=new zf(ec(ba,"utf-8"));W=[];for(ha=ba.nextValue();ha !== Fb;){W.push(ha);ha=ba.nextValue();}V.call(T,W);}}else T.result(null);});};kc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kc);(function(){cd=Gb.Class.create({init:function(ea){Object.defineProperties(this,{keyExchangeScheme:{value:ea,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ea;ea={};ea.scheme=this.keyExchangeScheme;ea.keydata=this.getKeydata();return ea;},equals:function(ea){return this === ea?!0:ea instanceof cd?this.keyExchangeScheme == ea.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(ea,X,T){Na(T,function(){var V,ba,W;V=X.scheme;ba=X.keydata;if(!V || !ba || "object" !== typeof ba)throw new Hb(S.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(X));if(!kc[V])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,V);W=ea.getKeyExchangeFactory(V);if(!W)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,V);W.createRequestData(ea,ba,T);});};})();(function(){dd=Gb.Class.create({init:function(ea,X){Object.defineProperties(this,{masterToken:{value:ea,writable:!1,configurable:!1},keyExchangeScheme:{value:X,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ea;ea={};ea.mastertoken=this.masterToken;ea.scheme=this.keyExchangeScheme;ea.keydata=this.getKeydata();return ea;},equals:function(ea){return this === ea?!0:ea instanceof dd?this.masterToken.equals(ea.masterToken) && this.keyExchangeScheme == ea.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(ea,X,T){Na(T,function(){var V,ba,W;V=X.mastertoken;ba=X.scheme;W=X.keydata;if(!ba || !V || "object" !== typeof V || !W || "object" !== typeof W)throw new Hb(S.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(X));if(!kc[ba])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,ba);ed(ea,V,{result:function(ha){Na(T,function(){var wa;wa=ea.getKeyExchangeFactory(ba);if(!wa)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ba);return wa.createResponseData(ea,ha,W);});},error:function(ha){T.error(ha);}});});};})();(function(){var ea;ea=Gb.Class.create({init:function(X,T){Object.defineProperties(this,{keyResponseData:{value:X,writable:!1,configurable:!1},cryptoContext:{value:T,writable:!1,configurable:!1}});}});mc=Gb.Class.create({init:function(X){Object.defineProperties(this,{scheme:{value:X,writable:!1,configurable:!1}});},createRequestData:function(X,T,V){},createResponseData:function(X,T,V){},generateResponse:function(X,T,V,ba){},getCryptoContext:function(X,T,V,ba,W){},generateSessionKeys:function(X,T){Na(T,function(){var V,ba;V=new Uint8Array(16);ba=new Uint8Array(32);X.getRandom().nextBytes(V);X.getRandom().nextBytes(ba);tc(V,oc,Dc,{result:function(W){tc(ba,pc,Mc,{result:function(ha){T.result({encryptionKey:W,hmacKey:ha});},error:function(ha){T.error(new zb(S.SESSION_KEY_CREATION_FAILURE,null,ha));}});},error:function(W){T.error(new zb(S.SESSION_KEY_CREATION_FAILURE,null,W));}});});},importSessionKeys:function(X,T,V){tc(X,oc,Dc,{result:function(ba){tc(T,pc,Mc,{result:function(W){V.result({encryptionKey:ba,hmacKey:W});},error:function(W){V.error(W);}});},error:function(ba){V.error(ba);}});}});mc.KeyExchangeData=ea;})();(function(){var X,T,V;function ea(ba,W,ha,wa,ta){Na(ta,function(){var ia,qa;switch(W){case X.PSK:(ia=new yc(wa),qa=ba.getEntityAuthenticationFactory(Wb.PSK));if(!qa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);ia=qa.getCryptoContext(ba,ia);return new vc(ba,wc.A128KW,qc,Fb);case X.MGK:ia=new xc(wa);qa=ba.getEntityAuthenticationFactory(Wb.MGK);if(!qa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);ia=qa.getCryptoContext(ba,ia);return new vc(ba,wc.A128KW,qc,Fb);case X.WRAP:ia=ba.getMslCryptoContext();ia.unwrap(ha,sc,Ec,{result:function(za){Na(ta,function(){return new vc(ba,wc.A128KW,qc,za);});},error:ta.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ae=cd.extend({init:function wa(W,ha){wa.base.call(this,kc.JWE_LADDER);switch(W){case X.WRAP:if(!ha)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ha=null;}Object.defineProperties(this,{mechanism:{value:W,writable:!1,configurable:!1},wrapdata:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){var W;W={};W.mechanism=this.mechanism;this.wrapdata && (W.wrapdata=Kb(this.wrapdata));return W;},equals:function wa(ha){return ha === this?!0:ha instanceof Ae?wa.base.call(this,ha) && this.mechanism == ha.mechanism && gc(this.wrapdata,ha.wrapdata):!1;},uniqueKey:function wa(){var ta;ta=wa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ta+=":" + hc(this.wrapdata));return ta;}});V=Be=dd.extend({init:function Z(ta,ia,qa,za,la){Z.base.call(this,ta,kc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ia,writable:!1,configurable:!1},wrapdata:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ta;ta={};ta.wrapkey=Kb(this.wrapKey);ta.wrapdata=Kb(this.wrapdata);ta.encryptionkey=Kb(this.encryptionKey);ta.hmackey=Kb(this.hmacKey);return ta;},equals:function qa(ia){return this === ia?!0:ia instanceof Be?qa.base.call(this,ia) && gc(this.wrapKey,ia.wrapKey) && gc(this.wrapdata,ia.wrapdata) && gc(this.encryptionKey,ia.encryptionKey) && gc(this.hmacKey,ia.hmacKey):!1;},uniqueKey:function qa(){return qa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});mc.extend({init:function la(za){la.base.call(this,kc.JWE_LADDER);Object.defineProperties(this,{repository:{value:za,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(za,la,Z){Na(Z,function(){var ca,fa,xa;ca=la.mechanism;fa=la.wrapdata;if(!ca || ca == X.WRAP && (!fa || "string" !== typeof fa))throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(la));if(!X[ca])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ca);switch(ca){case X.WRAP:try{xa=Mb(fa);}catch(Sa){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + la.toString());}if(null == xa || 0 == xa.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + la.toString());break;default:xa=null;}return new T(ca,xa);});},createResponseData:function(za,la,Z){var ca,fa,xa,Sa,Ma,Qa,Va;za=Z.wrapkey;ca=Z.wrapdata;fa=Z.encryptionkey;xa=Z.hmackey;if(!(za && "string" === typeof za && ca && "string" === typeof ca && fa && "string" === typeof fa && xa) || "string" !== typeof xa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));try{Sa=Mb(za);Ma=Mb(ca);}catch(oa){throw new zb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(Z),oa);}try{Qa=Mb(fa);}catch(oa){throw new zb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Z),oa);}try{Va=Mb(xa);}catch(oa){throw new zb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Z),oa);}return new V(la,Sa,Ma,Qa,Va);},generateResponse:function(za,la,Z,ca){var Qa,Va;function fa(oa,ya,Ea){Qa.generateSessionKeys(za,{result:function(Ja){Na(ca,function(){xa(oa,ya,Ea,Ja.encryptionKey,Ja.hmacKey);},Qa);},error:function(Ja){Na(ca,function(){Ja instanceof hb && Ja.setEntity(Va);throw Ja;});}});}function xa(oa,ya,Ea,Ja,Da){Na(ca,function(){ea(za,la.mechanism,la.wrapdata,oa,{result:function(Ta){Ta.wrap(ya,{result:function(Ia){Sa(ya,Ea,Ja,Da,Ia);},error:function(Ia){Na(ca,function(){Ia instanceof hb && Ia.setEntity(Va);throw Ia;});}});},error:function(Ta){Na(ca,function(){Ta instanceof hb && Ta.setEntity(Va);throw Ta;});}});},Qa);}function Sa(oa,ya,Ea,Ja,Da){Na(ca,function(){var Ta;Ta=new vc(za,wc.A128KW,qc,oa);Ta.wrap(Ea,{result:function(Ia){Ta.wrap(Ja,{result:function(Za){Ma(ya,Da,Ea,Ia,Ja,Za);},error:function(Za){Na(ca,function(){Za instanceof hb && Za.setEntity(Va);throw Za;});}});},error:function(Ia){Na(ca,function(){Ia instanceof hb && Ia.setEntity(Va);throw Ia;});}});},Qa);}function Ma(oa,ya,Ea,Ja,Da,Ta){Na(ca,function(){var Ia;Ia=za.getTokenFactory();Va?Ia.renewMasterToken(za,Va,Ea,Da,{result:function(Za){Na(ca,function(){var db,Ya;db=new lc(za,Za);Ya=new V(Za,ya,oa,Ja,Ta);return new mc.KeyExchangeData(Ya,db,ca);},Qa);},error:function(Za){Na(ca,function(){Za instanceof hb && Za.setEntity(Va);throw Za;});}}):Ia.createMasterToken(za,Z,Ea,Da,{result:function(Za){Na(ca,function(){var db,Ya;db=new lc(za,Za);Ya=new V(Za,ya,oa,Ja,Ta);return new mc.KeyExchangeData(Ya,db,ca);},Qa);},error:ca.error});},Qa);}Qa=this;Na(ca,function(){var oa,ya;if(!(la instanceof T))throw new Bb("Key request data " + JSON.stringify(la) + " was not created by this factory.");oa=Z;if(Z instanceof ic){if(!Z.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,Z);Va=Z;oa=Z.identity;}ya=new Uint8Array(16);za.getRandom().nextBytes(ya);tc(ya,sc,Ec,{result:function(Ea){Na(ca,function(){za.getMslCryptoContext().wrap(Ea,{result:function(Ja){fa(oa,Ea,Ja);},error:function(Ja){Na(ca,function(){Ja instanceof hb && Ja.setEntity(Va);throw Ja;},Qa);}});},Qa);},error:function(Ea){Na(ca,function(){throw new zb(S.WRAP_KEY_CREATION_FAILURE,null,Ea).setEntity(Va);},Qa);}});},Qa);},getCryptoContext:function(za,la,Z,ca,fa){var Sa;function xa(Ma,Qa,Va,oa,ya){Na(fa,function(){var Ea;Ea=new vc(za,wc.A128KW,qc,ya);Ea.unwrap(Qa.encryptionKey,oc,Dc,{result:function(Ja){Ea.unwrap(Qa.hmacKey,pc,Mc,{result:function(Da){Na(fa,function(){this.repository.addCryptoContext(Qa.wrapdata,Ea);this.repository.removeCryptoContext(Va);return new lc(za,Qa.masterToken,oa,Ja,Da);},Sa);},error:function(Da){Na(fa,function(){Da instanceof hb && Da.setEntity(Ma);throw Da;});}});},error:function(Ja){Na(fa,function(){Ja instanceof hb && Ja.setEntity(Ma);throw Ja;});}});},Sa);}Sa=this;Na(fa,function(){var Ma,Qa;if(!(la instanceof T))throw new Bb("Key request data " + JSON.stringify(la) + " was not created by this factory.");if(!(Z instanceof V))throw new Bb("Key response data " + JSON.stringify(Z) + " was not created by this factory.");Ma=la.mechanism;Qa=la.wrapdata;za.getEntityAuthenticationData(null,{result:function(Va){Na(fa,function(){var oa,ya,Ea;oa=Va.getIdentity();switch(Ma){case X.PSK:ya=new yc(oa);Ea=za.getEntityAuthenticationFactory(Wb.PSK);if(!Ea)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Va);ya=Ea.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,Fb);break;case X.MGK:ya=new xc(oa);Ea=za.getEntityAuthenticationFactory(Wb.MGK);if(!Ea)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Va);ya=Ea.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,ya.wrapKey);break;case X.WRAP:ya=this.repository.getCryptoContext(Qa);if(!ya)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Kb(Qa)).setEntity(Va);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Va);}ya.unwrap(Z.wrapKey,sc,Ec,{result:function(Ja){xa(Va,Z,Qa,oa,Ja);},error:function(Ja){Na(fa,function(){Ja instanceof hb && Ja.setEntity(Va);throw Ja;});}});},Sa);},error:fa.error});},Sa);}});})();(function(){var X,T,V,ba;function ea(W,ha,wa,ta,ia){Na(ia,function(){var qa,za;switch(ha){case X.PSK:(qa=new yc(ta),za=W.getEntityAuthenticationFactory(Wb.PSK));if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ha);qa=za.getCryptoContext(W,qa);return new ba(Fb);case X.MGK:qa=new xc(ta);za=W.getEntityAuthenticationFactory(Wb.MGK);if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ha);qa=za.getCryptoContext(W,qa);return new ba(Fb);case X.WRAP:qa=W.getMslCryptoContext();qa.unwrap(wa,sc,Ec,{result:function(la){Na(ia,function(){return new ba(la);});},error:ia.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ha);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ce=cd.extend({init:function ta(ha,wa){ta.base.call(this,kc.JWK_LADDER);switch(ha){case X.WRAP:if(!wa)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:wa=null;}Object.defineProperties(this,{mechanism:{value:ha,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1}});},getKeydata:function(){var ha;ha={};ha.mechanism=this.mechanism;this.wrapdata && (ha.wrapdata=Kb(this.wrapdata));return ha;},equals:function ta(wa){return wa === this?!0:wa instanceof Ce?ta.base.call(this,wa) && this.mechanism == wa.mechanism && gc(this.wrapdata,wa.wrapdata):!1;},uniqueKey:function ta(){var ia;ia=ta.base.call(this) + ":" + this.mechanism;this.wrapdata && (ia+=":" + hc(this.wrapdata));return ia;}});V=De=dd.extend({init:function ca(ia,qa,za,la,Z){ca.base.call(this,ia,kc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:qa,writable:!1,configurable:!1},wrapdata:{value:za,writable:!1,configurable:!1},encryptionKey:{value:la,writable:!1,configurable:!1},hmacKey:{value:Z,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.wrapkey=Kb(this.wrapKey);ia.wrapdata=Kb(this.wrapdata);ia.encryptionkey=Kb(this.encryptionKey);ia.hmackey=Kb(this.hmacKey);return ia;},equals:function za(qa){return this === qa?!0:qa instanceof De?za.base.call(this,qa) && gc(this.wrapKey,qa.wrapKey) && gc(this.wrapdata,qa.wrapdata) && gc(this.encryptionKey,qa.encryptionKey) && gc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});ba=Uc.extend({init:function(za){za && za.rawKey && (za=za.rawKey);Object.defineProperties(this,{_wrapKey:{value:za,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(za,la){la.error(new zb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(za,la){la.error(new zb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(za,la){Na(la,function(){Qb.wrapKey("jwk",za.rawKey,this._wrapKey,sc).then(function(Z){la.result(Z);},function(Z){la.error(new zb(S.WRAP_ERROR));});},this);},unwrap:function(za,la,Z,ca){function fa(xa){Na(ca,function(){switch(xa.type){case "secret":bd(xa,ca);break;case "public":Jc(xa,ca);break;case "private":Sc(xa,ca);break;default:throw new zb(S.UNSUPPORTED_KEY,"type: " + xa.type);}});}Na(ca,function(){Qb.unwrapKey("jwk",za,this._wrapKey,sc,la,!1,Z).then(function(xa){fa(xa);},function(xa){ca.error(new zb(S.UNWRAP_ERROR));});},this);},sign:function(za,la){la.error(new zb(S.SIGN_NOT_SUPPORTED));},verify:function(za,la,Z){Z.error(new zb(S.VERIFY_NOT_SUPPORTED));}});mc.extend({init:function Z(la){Z.base.call(this,kc.JWK_LADDER);Object.defineProperties(this,{repository:{value:la,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(la,Z,ca){Na(ca,function(){var fa,xa,Sa;fa=Z.mechanism;xa=Z.wrapdata;if(!fa || fa == X.WRAP && (!xa || "string" !== typeof xa))throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));if(!X[fa])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,fa);switch(fa){case X.WRAP:try{Sa=Mb(xa);}catch(Ma){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());}if(null == Sa || 0 == Sa.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());break;default:Sa=null;}return new T(fa,Sa);});},createResponseData:function(la,Z,ca){var fa,xa,Sa,Ma,Qa,Va,oa;la=ca.wrapkey;fa=ca.wrapdata;xa=ca.encryptionkey;Sa=ca.hmackey;if(!(la && "string" === typeof la && fa && "string" === typeof fa && xa && "string" === typeof xa && Sa) || "string" !== typeof Sa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ma=Mb(la);Qa=Mb(fa);}catch(ya){throw new zb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ca),ya);}try{Va=Mb(xa);}catch(ya){throw new zb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),ya);}try{oa=Mb(Sa);}catch(ya){throw new zb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),ya);}return new V(Z,Ma,Qa,Va,oa);},generateResponse:function(la,Z,ca,fa){var Va,oa;function xa(ya,Ea,Ja){Va.generateSessionKeys(la,{result:function(Da){Na(fa,function(){Sa(ya,Ea,Ja,Da.encryptionKey,Da.hmacKey);},Va);},error:function(Da){Na(fa,function(){Da instanceof hb && Da.setEntity(oa);throw Da;});}});}function Sa(ya,Ea,Ja,Da,Ta){Na(fa,function(){ea(la,Z.mechanism,Z.wrapdata,ya,{result:function(Ia){Ia.wrap(Ea,{result:function(Za){Ma(Ea,Ja,Da,Ta,Za);},error:function(Za){Na(fa,function(){Za instanceof hb && Za.setEntity(oa);throw Za;});}});},error:function(Ia){Na(fa,function(){Ia instanceof hb && Ia.setEntity(oa);throw Ia;});}});},Va);}function Ma(ya,Ea,Ja,Da,Ta){Na(fa,function(){var Ia;Ia=new ba(ya);Ia.wrap(Ja,{result:function(Za){Ia.wrap(Da,{result:function(db){Qa(Ea,Ta,Ja,Za,Da,db);},error:function(db){Na(fa,function(){db instanceof hb && db.setEntity(oa);throw db;});}});},error:function(Za){Na(fa,function(){Za instanceof hb && Za.setEntity(oa);throw Za;});}});},Va);}function Qa(ya,Ea,Ja,Da,Ta,Ia){Na(fa,function(){var Za;Za=la.getTokenFactory();oa?Za.renewMasterToken(la,oa,Ja,Ta,{result:function(db){Na(fa,function(){var Ya,mb;Ya=new lc(la,db);mb=new V(db,Ea,ya,Da,Ia);return new mc.KeyExchangeData(mb,Ya,fa);},Va);},error:function(db){Na(fa,function(){db instanceof hb && db.setEntity(oa);throw db;});}}):Za.createMasterToken(la,ca,Ja,Ta,{result:function(db){Na(fa,function(){var Ya,mb;Ya=new lc(la,db);mb=new V(db,Ea,ya,Da,Ia);return new mc.KeyExchangeData(mb,Ya,fa);},Va);},error:fa.error});},Va);}Va=this;Na(fa,function(){var ya,Ea;if(!(Z instanceof T))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");ya=ca;if(ca instanceof ic){if(!ca.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,ca);oa=ca;ya=ca.identity;}Ea=new Uint8Array(16);la.getRandom().nextBytes(Ea);tc(Ea,sc,Ec,{result:function(Ja){Na(fa,function(){la.getMslCryptoContext().wrap(Ja,{result:function(Da){xa(ya,Ja,Da);},error:function(Da){Na(fa,function(){Da instanceof hb && Da.setEntity(oa);throw Da;},Va);}});},Va);},error:function(Ja){Na(fa,function(){throw new zb(S.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(oa);},Va);}});},Va);},getCryptoContext:function(la,Z,ca,fa,xa){var Ma;function Sa(Qa,Va,oa,ya,Ea){Na(xa,function(){var Ja;Ja=new ba(Ea);Ja.unwrap(Va.encryptionKey,oc,Dc,{result:function(Da){Ja.unwrap(Va.hmacKey,pc,Mc,{result:function(Ta){Na(xa,function(){this.repository.addCryptoContext(Va.wrapdata,Ja);this.repository.removeCryptoContext(oa);return new lc(la,Va.masterToken,ya,Da,Ta);},Ma);},error:function(Ta){Na(xa,function(){Ta instanceof hb && Ta.setEntity(Qa);throw Ta;});}});},error:function(Da){Na(xa,function(){Da instanceof hb && Da.setEntity(Qa);throw Da;});}});},Ma);}Ma=this;Na(xa,function(){var Qa,Va;if(!(Z instanceof T))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(ca instanceof V))throw new Bb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Qa=Z.mechanism;Va=Z.wrapdata;la.getEntityAuthenticationData(null,{result:function(oa){Na(xa,function(){var ya,Ea,Ja;ya=oa.getIdentity();switch(Qa){case X.PSK:Ea=new yc(ya);Ja=la.getEntityAuthenticationFactory(Wb.PSK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(oa);Ea=Ja.getCryptoContext(la,Ea);Ea=new ba(Ea.wrapKey);break;case X.MGK:Ea=new xc(ya);Ja=la.getEntityAuthenticationFactory(Wb.MGK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(oa);Ea=Ja.getCryptoContext(la,Ea);Ea=new ba(Ea.wrapKey);break;case X.WRAP:Ea=this.repository.getCryptoContext(Va);if(!Ea)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Kb(Va)).setEntity(oa);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(oa);}Ea.unwrap(ca.wrapKey,sc,Ec,{result:function(Da){Sa(oa,ca,Va,ya,Da);},error:function(Da){Na(xa,function(){Da instanceof hb && Da.setEntity(oa);throw Da;});}});},Ma);},error:xa.error});},Ma);}});})();Af=Gb.Class.create({addCryptoContext:function(ea,X){},getCryptoContext:function(ea){},removeCryptoContext:function(ea){}});(function(){var X,T,V,ba;function ea(W,ha,wa,ta,ia){switch(wa){case X.JWE_RSA:case X.JWEJS_RSA:return new vc(W,wc.RSA_OAEP,qc,ta,ia);case X.JWK_RSA:return new pd(W,ha,ta,ia,qd.WRAP_UNWRAP_OAEP);case X.JWK_RSAES:return new pd(W,ha,ta,ia,qd.WRAP_UNWRAP_PKCS1);default:throw new zb(S.UNSUPPORTED_KEYX_MECHANISM,wa);}}X=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};T=Dd=cd.extend({init:function qa(ha,wa,ta,ia){qa.base.call(this,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ha,writable:!1,configurable:!1},mechanism:{value:wa,writable:!1,configurable:!1},publicKey:{value:ta,writable:!1,configurable:!1},privateKey:{value:ia,writable:!1,configurable:!1}});},getKeydata:function(){var ha;ha={};ha.keypairid=this.keyPairId;ha.mechanism=this.mechanism;ha.publickey=Kb(this.publicKey.getEncoded());return ha;},equals:function ta(wa){var ia;if(wa === this)return !0;if(!(wa instanceof Dd))return !1;ia=this.privateKey === wa.privateKey || this.privateKey && wa.privateKey && gc(this.privateKey.getEncoded(),wa.privateKey.getEncoded());return ta.base.call(this,wa) && this.keyPairId == wa.keyPairId && this.mechanism == wa.mechanism && gc(this.publicKey.getEncoded(),wa.publicKey.getEncoded()) && ia;},uniqueKey:function ta(){var ia,qa;ia=this.publicKey.getEncoded();qa=this.privateKey && this.privateKey.getEncoded();ia=ta.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(ia);qa && (ia+=":" + hc(qa));return ia;}});V=function(ta,ia){Na(ia,function(){var qa,za,la,Z;qa=ta.keypairid;za=ta.mechanism;la=ta.publickey;if(!qa || "string" !== typeof qa || !za || !la || "string" !== typeof la)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ta));if(!X[za])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,za);try{Z=Mb(la);switch(za){case X.JWE_RSA:case X.JWEJS_RSA:case X.JWK_RSA:Id(Z,nd,Ec,{result:function(ca){ia.result(new T(qa,za,ca,null));},error:function(ca){ia.error(ca);}});break;case X.JWK_RSAES:Id(Z,Gd,Ec,{result:function(ca){ia.result(new T(qa,za,ca,null));},error:function(ca){ia.error(ca);}});break;default:throw new zb(S.UNSUPPORTED_KEYX_MECHANISM,za);}}catch(ca){if(!(ca instanceof hb))throw new zb(S.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ta),ca);throw ca;}});};ba=Fe=dd.extend({init:function Z(ia,qa,za,la){Z.base.call(this,ia,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.keypairid=this.keyPairId;ia.encryptionkey=Kb(this.encryptionKey);ia.hmackey=Kb(this.hmacKey);return ia;},equals:function za(qa){return this === qa?!0:qa instanceof Fe?za.base.call(this,qa) && this.keyPairId == qa.keyPairId && gc(this.encryptionKey,qa.encryptionKey) && gc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=mc.extend({init:function la(){la.base.call(this,kc.ASYMMETRIC_WRAPPED);},createRequestData:function(la,Z,ca){V(Z,ca);},createResponseData:function(la,Z,ca){var fa,xa,Sa,Ma;la=ca.keypairid;fa=ca.encryptionkey;xa=ca.hmackey;if(!la || "string" !== typeof la || !fa || "string" !== typeof fa || !xa || "string" !== typeof xa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Sa=Mb(fa);}catch(Qa){throw new zb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),Qa);}try{Ma=Mb(xa);}catch(Qa){throw new zb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),Qa);}return new ba(Z,la,Sa,Ma);},generateResponse:function(la,Z,ca,fa){var Ma;function xa(Qa,Va){Na(fa,function(){var oa;oa=ea(la,Z.keyPairId,Z.mechanism,null,Z.publicKey);oa.wrap(Qa,{result:function(ya){Na(fa,function(){oa.wrap(Va,{result:function(Ea){Sa(Qa,ya,Va,Ea);},error:function(Ea){Na(fa,function(){Ea instanceof hb && ca instanceof ic && Ea.setEntity(ca);throw Ea;},Ma);}});},Ma);},error:function(ya){Na(fa,function(){ya instanceof hb && ca instanceof ic && ya.setEntity(ca);throw ya;},Ma);}});},Ma);}function Sa(Qa,Va,oa,ya){Na(fa,function(){var Ea;Ea=la.getTokenFactory();ca instanceof ic?Ea.renewMasterToken(la,ca,Qa,oa,{result:function(Ja){Na(fa,function(){var Da,Ta;Da=new lc(la,Ja);Ta=new ba(Ja,Z.keyPairId,Va,ya);return new mc.KeyExchangeData(Ta,Da,fa);},Ma);},error:function(Ja){Na(fa,function(){Ja instanceof hb && Ja.setEntity(ca);throw Ja;},Ma);}}):Ea.createMasterToken(la,ca,Qa,oa,{result:function(Ja){Na(fa,function(){var Da,Ta;Da=new lc(la,Ja);Ta=new ba(Ja,Z.keyPairId,Va,ya);return new mc.KeyExchangeData(Ta,Da,fa);},Ma);},error:fa.error});},Ma);}Ma=this;Na(fa,function(){if(!(Z instanceof T))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");this.generateSessionKeys(la,{result:function(Qa){xa(Qa.encryptionKey,Qa.hmacKey);},error:function(Qa){Na(fa,function(){Qa instanceof hb && ca instanceof ic && Qa.setEntity(ca);throw Qa;},Ma);}});},Ma);},getCryptoContext:function(la,Z,ca,fa,xa){var Sa;Sa=this;Na(xa,function(){var Ma,Qa,Va;if(!(Z instanceof T))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(ca instanceof ba))throw new Bb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Ma=Z.keyPairId;Qa=ca.keyPairId;if(Ma != Qa)throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Qa).setEntity(fa);Qa=Z.privateKey;if(!Qa)throw new Ub(S.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(fa);Va=ea(la,Ma,Z.mechanism,Qa,null);Va.unwrap(ca.encryptionKey,oc,Dc,{result:function(oa){Va.unwrap(ca.hmacKey,pc,Mc,{result:function(ya){la.getEntityAuthenticationData(null,{result:function(Ea){Na(xa,function(){var Ja;Ja=Ea.getIdentity();return new lc(la,ca.masterToken,Ja,oa,ya);},Sa);},error:function(Ea){Na(xa,function(){Ea instanceof hb && Ea.setEntity(fa);throw Ea;},Sa);}});},error:function(ya){Na(xa,function(){ya instanceof hb && ya.setEntity(fa);throw ya;},Sa);}});},error:function(oa){Na(xa,function(){oa instanceof hb && oa.setEntity(fa);throw oa;},Sa);}});},Sa);}});})();zf=Gb.Class.create({init:function(ea){var X,T,V,ba,W,ha,wa,ta;X=ac.parser();T=[];V=[];wa=0;ta=!1;X.onerror=function(ia){ta || (ta=!0,X.end());};X.onopenobject=function(ia){var qa;if(ba)(ba[ha]={},V.push(ba),ba=ba[ha]);else if(W){qa={};V.push(W);W.push(qa);ba=qa;W=Fb;}else ba={};ha=ia;};X.oncloseobject=function(){var ia;ia=V.pop();ia?"object" === typeof ia?ba=ia:(ba=Fb,W=ia):(T.push(ba),wa=X.index,ba=Fb);};X.onopenarray=function(){var ia;if(ba)(ba[ha]=[],V.push(ba),W=ba[ha],ba=Fb);else if(W){ia=[];V.push(W);W.push(ia);W=ia;}else W=[];};X.onclosearray=function(){var ia;ia=V.pop();ia?"object" === typeof ia?(ba=ia,W=Fb):W=ia:(T.push(W),wa=X.index,W=Fb);};X.onkey=function(ia){ha=ia;};X.onvalue=function(ia){ba?ba[ha]=ia:W?W.push(ia):(T.push(ia),wa=X.index);};X.write(ea).close();Object.defineProperties(this,{_values:{value:T,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:wa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Fb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ea,X,T,V,ba;ea=Rd="entityauthdata";X=He="mastertoken";T=Ie="headerdata";V=Je="errordata";ba=Sd="signature";Ge=function(W,ha,wa,ta){Na(ta,function(){var ia,qa,za,la,Z,ca;ia=ha[ea];qa=ha[X];za=ha[ba];if(ia && "object" !== typeof ia || qa && "object" !== typeof qa || "string" !== typeof za)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));try{la=Mb(za);}catch(fa){throw new Ob(S.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ha),fa);}Z=null;ia && (Z=se(W,ia));ca=ha[T];if(ca != Fb && null != ca){if("string" !== typeof ca)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));qa?ed(W,qa,{result:function(fa){Td(W,ca,Z,fa,la,wa,ta);},error:function(fa){ta.error(fa);}}):Td(W,ca,Z,null,la,wa,ta);}else if((ia=ha[V],ia != Fb && null != ia)){if("string" !== typeof ia)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));Ke(W,ia,Z,la,ta);}else throw new Hb(S.JSON_PARSE_ERROR,JSON.stringify(ha));});};})();(function(){function ea(X,T){this.errordata=X;this.signature=T;}Ic=Gb.Class.create({init:function(X,T,V,ba,W,ha,wa,ta,ia,qa){var za;za=this;Na(qa,function(){var la,Z;0 > ha && (ha=-1);if(0 > ba || ba > Rb)throw new Bb("Message ID " + ba + " is out of range.");if(!T)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);if(ia)return (Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:ha,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ta,writable:!1,configurable:!1},errordata:{value:ia.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia.signature,writable:!1,enumerable:!1,configurable:!1}}),this);la={};V && (la.recipient=V);la.messageid=ba;la.errorcode=W;0 < ha && (la.internalcode=ha);wa && (la.errormsg=wa);ta && (la.usermsg=ta);try{Z=X.getEntityAuthenticationFactory(T.scheme).getCryptoContext(X,T);}catch(ca){throw (ca instanceof hb && (ca.setEntity(T),ca.setMessageId(ba)),ca);}la=fc(JSON.stringify(la),Tb);Z.encrypt(la,{result:function(ca){Na(qa,function(){Z.sign(ca,{result:function(fa){Na(qa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:ha,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ta,writable:!1,configurable:!1},errordata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:fa,writable:!1,enumerable:!1,configurable:!1}});return this;},za);},error:function(fa){Na(qa,function(){fa instanceof hb && (fa.setEntity(T),fa.setMessageId(ba));throw fa;},za);}});},za);},error:function(ca){Na(qa,function(){ca instanceof hb && (ca.setEntity(T),ca.setMessageId(ba));throw ca;},za);}});},za);},toJSON:function(){var X;X={};X[Rd]=this.entityAuthenticationData;X[Je]=Kb(this.errordata);X[Sd]=Kb(this.signature);return X;}});Le=function(X,T,V,ba,W,ha,wa,ta,ia){new Ic(X,T,V,ba,W,ha,wa,ta,null,ia);};Ke=function(X,T,V,ba,W){Na(W,function(){var ha,wa,ta;if(!V)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);try{ha=V.scheme;wa=X.getEntityAuthenticationFactory(ha);if(!wa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ha);ta=wa.getCryptoContext(X,V);}catch(ia){throw (ia instanceof hb && ia.setEntity(V),ia);}try{T=Mb(T);}catch(ia){throw new Ob(S.HEADER_DATA_INVALID,T,ia).setEntity(V);}if(!T || 0 == T.length)throw new Ob(S.HEADER_DATA_MISSING,T).setEntity(V);ta.verify(T,ba,{result:function(ia){Na(W,function(){if(!ia)throw new zb(S.MESSAGE_VERIFICATION_FAILED).setEntity(V);ta.decrypt(T,{result:function(qa){Na(W,function(){var za,la,Z,ca,fa,xa,Sa,Ma;za=ec(qa,Tb);try{la=JSON.parse(za);}catch(Va){if(Va instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"errordata " + za,Va).setEntity(V);throw Va;}Z=la.recipient !== Fb?la.recipient:null;ca=parseInt(la.messageid);fa=parseInt(la.errorcode);xa=parseInt(la.internalcode);Sa=la.errormsg;Ma=la.usermsg;if(Z && "string" !== typeof Z || !ca || ca != ca || !fa || fa != fa || la.internalcode && xa != xa || Sa && "string" !== typeof Sa || Ma && "string" !== typeof Ma)throw new Hb(S.JSON_PARSE_ERROR,"errordata " + za).setEntity(V);if(0 > ca || ca > Rb)throw new Ob(S.MESSAGE_ID_OUT_OF_RANGE,"errordata " + za).setEntity(V);la=!1;for(var Qa in Ga){if(Ga[Qa] == fa){la=!0;break;}}la || (fa=Ga.FAIL);if(xa){if(0 > xa)throw new Ob(S.INTERNAL_CODE_NEGATIVE,"errordata " + za).setEntity(V).setMessageId(ca);}else xa=-1;za=new ea(T,ba);new Ic(X,V,Z,ca,fa,xa,Sa,Ma,za,W);});},error:function(qa){Na(W,function(){qa instanceof hb && qa.setEntity(V);throw qa;});}});});},error:function(ia){Na(W,function(){ia instanceof hb && ia.setEntity(V);throw ia;});}});});};})();Bf=Gb.Class.create({getUserMessage:function(ea,X){}});(function(){Ud=function(ea,X){var T;if(!ea || !X)return null;T=ea.compressionAlgorithms.filter(function(V){for(var ba=0;ba < X.compressionAlgorithms.length;++ba){if(V == X.compressionAlgorithms[ba])return !0;}return !1;});ea=ea.languages.filter(function(V){for(var ba=0;ba < X.languages.length;++ba){if(V == X.languages[ba])return !0;}return !1;});return new fd(T,ea);};fd=Gb.Class.create({init:function(ea,X){ea || (ea=[]);X || (X=[]);ea.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ea,writable:!1,enumerable:!0,configurable:!1},languages:{value:X,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ea;ea={};ea.compressionalgos=this.compressionAlgorithms;ea.languages=this.languages;return ea;},equals:function(ea){return this === ea?!0:ea instanceof fd?ce(this.compressionAlgorithms,ea.compressionAlgorithms) && ce(this.languages,ea.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(ea){var X,T,ba;X=ea.compressionalgos;T=ea.languages;if(X && !(X instanceof Array) || T && !(T instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ea));ea=[];for(var V=0;X && V < X.length;++V){ba=X[V];Kc[ba] && ea.push(ba);}return new fd(ea,T);};})();(function(){var qa,za;function ea(la,Z,ca,fa,xa){this.customer=la;this.sender=Z;this.messageCryptoContext=ca;this.headerdata=fa;this.signature=xa;}function X(la,Z,ca,fa,xa,Sa,Ma,Qa,Va,oa,ya,Ea,Ja,Da,Ta,Ia,Za,db,Ya,mb){return {cryptoContext:{value:Z,writable:!1,configurable:!1},customer:{value:ca,writable:!1,configurable:!1},entityAuthenticationData:{value:fa,writable:!1,configurable:!1},masterToken:{value:xa,writable:!1,configurable:!1},sender:{value:Sa,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ia,writable:!1,configurable:!1},keyRequestData:{value:Qa,writable:!1,configurable:!1},keyResponseData:{value:Va,writable:!1,configurable:!1},userAuthenticationData:{value:oa,writable:!1,configurable:!1},userIdToken:{value:ya,writable:!1,configurable:!1},serviceTokens:{value:Ea,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Da,writable:!1,configurable:!1},peerServiceTokens:{value:Ta,writable:!1,configurable:!1},messageCapabilities:{value:db,writable:!1,configurable:!1},renewable:{value:Za,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ya,writable:!1,enumerable:!1,configurable:!1},signature:{value:mb,writable:!1,enumerable:!1,configurable:!1}};}function T(la,Z,ca){var fa;if(ca){if(Z=la.getMslStore().getCryptoContext(ca))return Z;if(!ca.isVerified() || !ca.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,ca);return new lc(la,ca);}ca=Z.scheme;fa=la.getEntityAuthenticationFactory(ca);if(!fa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ca);return fa.getCryptoContext(la,Z);}function V(la,Z,ca,fa,xa){Na(xa,function(){Z.verify(ca,fa,{result:function(Sa){Na(xa,function(){if(!Sa)throw new zb(S.MESSAGE_VERIFICATION_FAILED);Z.decrypt(ca,{result:function(Ma){Na(xa,function(){return ec(Ma,Tb);});},error:function(Ma){xa.error(Ma);}});});},error:function(Sa){xa.error(Sa);}});});}function ba(la,Z,ca){Na(ca,function(){if(Z)ze(la,Z,ca);else return null;});}function W(la,Z,ca,fa){Na(fa,function(){if(Z)vd(la,Z,ca,fa);else return null;});}function ha(la,Z,ca,fa){Na(fa,function(){if(ca)Qe(la,Z,ca,fa);else return null;});}function wa(la,Z,ca,fa,xa,Sa,Ma){var Va;function Qa(oa,ya,Ea){var Ja,Da;if(ya >= oa.length){Ja=[];for(Da in Va){Ja.push(Va[Da]);}Ea.result(Ja);}else {Ja=oa[ya];if("object" !== typeof Ja)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + Sa);wd(la,Ja,ca,fa,xa,{result:function(Ta){Na(Ea,function(){Va[Ta.uniqueKey()]=Ta;Qa(oa,ya + 1,Ea);});},error:function(Ta){Ea.error(Ta);}});}}Va={};Na(Ma,function(){if(Z){if(!(Z instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + Sa);Qa(Z,0,Ma);}else return [];});}function ta(la,Z,ca,fa,xa,Sa){function Ma(Va,oa,ya){Na(ya,function(){var Ea;Ea=oa.peermastertoken;if(Ea && "object" !== typeof Ea)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ea)return null;ed(Va,Ea,ya);});}function Qa(Va,oa,ya,Ea){Na(Ea,function(){var Ja;Ja=oa.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ja)return null;vd(Va,Ja,ya,Ea);});}Na(Sa,function(){if(!la.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(la,Z,{result:function(Va){Na(Sa,function(){var oa;oa=ca?ca.masterToken:Va;Qa(la,Z,oa,{result:function(ya){Na(Sa,function(){wa(la,Z.peerservicetokens,oa,ya,fa,xa,{result:function(Ea){Na(Sa,function(){return {peerMasterToken:Va,peerUserIdToken:ya,peerServiceTokens:Ea};});},error:function(Ea){Na(Sa,function(){Ea instanceof hb && (Ea.setEntity(oa),Ea.setUser(ya));throw Ea;});}});});},error:function(ya){Na(Sa,function(){ya instanceof hb && ya.setEntity(oa);throw ya;});}});});},error:Sa.error});});}function ia(la,Z,ca,fa){var Sa;function xa(Ma,Qa){Na(fa,function(){if(Qa >= Ma.length)return Sa;ye(la,Ma[Qa],{result:function(Va){Na(fa,function(){Sa.push(Va);xa(Ma,Qa + 1);});},error:function(Va){fa.error(Va);}});});}Sa=[];Na(fa,function(){var Ma;Ma=Z.keyrequestdata;if(!Ma)return Sa;if(!(Ma instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + ca);xa(Ma,0);});}qa=Oe=Gb.Class.create({init:function(la,Z,ca,fa,xa,Sa,Ma,Qa,Va){Object.defineProperties(this,{messageId:{value:la,writable:!1,configurable:!1},nonReplayableId:{value:Z,writable:!1,configurable:!1},renewable:{value:ca,writable:!1,configurable:!1},capabilities:{value:fa,writable:!1,configurable:!1},keyRequestData:{value:xa,writable:!1,configurable:!1},keyResponseData:{value:Sa,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Qa,writable:!1,configurable:!1},serviceTokens:{value:Va,writable:!1,configurable:!1}});}});za=Pe=Gb.Class.create({init:function(la,Z,ca){Object.defineProperties(this,{peerMasterToken:{value:la,writable:!1,configurable:!1},peerUserIdToken:{value:Z,writable:!1,configurable:!1},peerServiceTokens:{value:ca,writable:!1,configurable:!1}});}});gd=Gb.Class.create({init:function(la,Z,ca,fa,xa,Sa,Ma){var Va;function Qa(oa){Na(Ma,function(){var ya,Ea,Ja,Da,Ta,Ia,Za,db,Ya,mb,pb,tb,ub,vb,Eb,Db,pa;Z=ca?null:Z;ya=fa.nonReplayableId;Ea=fa.renewable;Ja=fa.capabilities;Da=fa.messageId;Ta=fa.keyRequestData?fa.keyRequestData:[];Ia=fa.keyResponseData;Za=fa.userAuthData;db=fa.userIdToken;Ya=fa.serviceTokens?fa.serviceTokens:[];if(la.isPeerToPeer()){mb=xa.peerMasterToken;pb=xa.peerUserIdToken;tb=xa.peerServiceTokens?xa.peerServiceTokens:[];}else (pb=mb=null,tb=[]);if(0 > Da || Da > Rb)throw new Bb("Message ID " + Da + " is out of range.");if(!Z && !ca)throw new Bb("Message entity authentication data or master token must be provided.");if(Ia){if(la.isPeerToPeer()){ub=ca;vb=Ia.masterToken;}else (ub=Ia.masterToken,vb=mb);}else (ub=ca,vb=mb);if(db && (!ub || !db.isBoundTo(ub)))throw new Bb("User ID token must be bound to a master token.");if(pb && (!vb || !pb.isBoundTo(vb)))throw new Bb("Peer user ID token must be bound to a peer master token.");Ya.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!ub || !Fa.isBoundTo(ub)))throw new Bb("Master token bound service tokens must be bound to the provided master token.");if(Fa.isUserIdTokenBound() && (!db || !Fa.isBoundTo(db)))throw new Bb("User ID token bound service tokens must be bound to the provided user ID token.");},this);tb.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!vb || !Fa.isBoundTo(vb)))throw new Bb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Fa.isUserIdTokenBound() && (!pb || !Fa.isBoundTo(pb)))throw new Bb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Sa){pa=Sa.customer;Eb=Sa.messageCryptoContext;Db=X(la,Eb,pa,Z,ca,oa,Da,Ta,Ia,Za,db,Ya,mb,pb,tb,ya,Ea,Ja,Sa.headerdata,Sa.signature);Object.defineProperties(this,Db);return this;}pa=db?db.customer:null;Db={};oa && (Db.sender=oa);Db.messageid=Da;"number" === typeof ya && (Db.nonreplayableid=ya);Db.renewable=Ea;Ja && (Db.capabilities=Ja);0 < Ta.length && (Db.keyrequestdata=Ta);Ia && (Db.keyresponsedata=Ia);Za && (Db.userauthdata=Za);db && (Db.useridtoken=db);0 < Ya.length && (Db.servicetokens=Ya);mb && (Db.peermastertoken=mb);pb && (Db.peeruseridtoken=pb);0 < tb.length && (Db.peerservicetokens=tb);try{Eb=T(la,Z,ca);}catch(Fa){throw (Fa instanceof hb && (Fa.setEntity(ca),Fa.setEntity(Z),Fa.setUser(db),Fa.setUser(Za),Fa.setMessageId(Da)),Fa);}Db=fc(JSON.stringify(Db),Tb);Eb.encrypt(Db,{result:function(Fa){Na(Ma,function(){Eb.sign(Fa,{result:function(Oa){Na(Ma,function(){var r;r=X(la,Eb,pa,Z,ca,oa,Da,Ta,Ia,Za,db,Ya,mb,pb,tb,ya,Ea,Ja,Fa,Oa);Object.defineProperties(this,r);return this;},Va);},error:function(Oa){Na(Ma,function(){Oa instanceof hb && (Oa.setEntity(ca),Oa.setEntity(Z),Oa.setUser(db),Oa.setUser(Za),Oa.setMessageId(Da));throw Oa;},Va);}});},Va);},error:function(Fa){Na(Ma,function(){Fa instanceof hb && (Fa.setEntity(ca),Fa.setEntity(Z),Fa.setUser(db),Fa.setUser(Za),Fa.setMessageId(Da));throw Fa;},Va);}});},Va);}Va=this;Na(Ma,function(){Sa?Qa(Sa.sender):ca?la.getEntityAuthenticationData(null,{result:function(oa){oa=oa.getIdentity();Qa(oa);},error:Ma.error}):Qa(null);},Va);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var la;la={};this.masterToken?la[He]=this.masterToken:la[Rd]=this.entityAuthenticationData;la[Ie]=Kb(this.headerdata);la[Sd]=Kb(this.signature);return la;}});Ne=function(la,Z,ca,fa,xa,Sa){new gd(la,Z,ca,fa,xa,null,Sa);};Td=function(la,Z,ca,fa,xa,Sa,Ma){Na(Ma,function(){var Qa,Va;ca=fa?null:ca;if(!ca && !fa)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);Qa=Z;try{Z=Mb(Qa);}catch(oa){throw new Ob(S.HEADER_DATA_INVALID,Qa,oa);}if(!Z || 0 == Z.length)throw new Ob(S.HEADER_DATA_MISSING,Qa);try{Va=T(la,ca,fa);}catch(oa){throw (oa instanceof hb && (oa.setEntity(fa),oa.setEntity(ca)),oa);}V(la,Va,Z,xa,{result:function(oa){Na(Ma,function(){var ya,Ea,Ja,Da,Ta;try{ya=JSON.parse(oa);}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + oa,Ia).setEntity(fa).setEntity(ca);throw Ia;}Ea=parseInt(ya.messageid);if(!Ea || Ea != Ea)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(fa).setEntity(ca);if(0 > Ea || Ea > Rb)throw new Ob(S.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + oa).setEntity(fa).setEntity(ca);Ja=fa?ya.sender:null;if(fa && (!Ja || "string" !== typeof Ja))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(fa).setEntity(ca).setMessageId(Ea);Da=ya.keyresponsedata;if(Da && "object" !== typeof Da)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(fa).setEntity(ca).setMessageId(Ea);Ta=Ma;Ma={result:function(Ia){Ta.result(Ia);},error:function(Ia){Ia instanceof hb && (Ia.setEntity(fa),Ia.setEntity(ca),Ia.setMessageId(Ea));Ta.error(Ia);}};ba(la,Da,{result:function(Ia){Na(Ma,function(){var Za,db;Za=!la.isPeerToPeer() && Ia?Ia.masterToken:fa;db=ya.useridtoken;if(db && "object" !== typeof db)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + oa);W(la,db,Za,{result:function(Ya){Na(Ma,function(){var mb;mb=ya.userauthdata;if(mb && "object" !== typeof mb)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + oa);ha(la,Za,mb,{result:function(pb){Na(Ma,function(){var tb,ub,vb;if(pb){tb=pb.scheme;ub=la.getUserAuthenticationFactory(tb);if(!ub)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,tb).setUser(Ya).setUser(pb);tb=fa?fa.identity:ca.getIdentity();vb=ub.authenticate(la,tb,pb,Ya);}else vb=Ya?Ya.customer:null;wa(la,ya.servicetokens,Za,Ya,Sa,oa,{result:function(Eb){Na(Ma,function(){var Db,pa,Fa,Oa;Db=ya.nonreplayableid !== Fb?parseInt(ya.nonreplayableid):null;pa=ya.renewable;if(Db != Db || "boolean" !== typeof pa)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + oa);if(0 > Db || Db > Rb)throw new Ob(S.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + oa);Fa=null;Oa=ya.capabilities;if(Oa){if("object" !== typeof Oa)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + oa);Fa=Me(Oa);}ia(la,ya,oa,{result:function(r){ta(la,ya,Ia,Sa,oa,{result:function(b){Na(Ma,function(){var a,c,l,f;a=b.peerMasterToken;c=b.peerUserIdToken;l=b.peerServiceTokens;f=new qa(Ea,Db,pa,Fa,r,Ia,pb,Ya,Eb);a=new za(a,c,l);c=new ea(vb,Ja,Va,Z,xa);new gd(la,ca,fa,f,a,c,Ma);});},error:Ma.error});},error:function(r){Na(Ma,function(){r instanceof hb && (r.setUser(Ya),r.setUser(pb));throw r;});}});});},error:function(Eb){Na(Ma,function(){Eb instanceof hb && (Eb.setEntity(Za),Eb.setUser(Ya),Eb.setUser(pb));throw Eb;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function ea(X,T){this.payload=X;this.signature=T;}Vd=Gb.Class.create({init:function(X,T,V,ba,W,ha,wa,ta){var ia;ia=this;Na(ta,function(){var qa,za;if(0 > X || X > Rb)throw new Bb("Sequence number " + X + " is outside the valid range.");if(0 > T || T > Rb)throw new Bb("Message ID " + T + " is outside the valid range.");if(wa)return (Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:wa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ba){qa=Wd(ba,W);qa || (ba=null,qa=W);}else (ba=null,qa=W);za={};za.sequencenumber=X;za.messageid=T;V && (za.endofmsg=V);ba && (za.compressionalgo=ba);za.data=Kb(qa);qa=fc(JSON.stringify(za),Tb);ha.encrypt(qa,{result:function(la){Na(ta,function(){ha.sign(la,{result:function(Z){Na(ta,function(){Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:la,writable:!1,enumerable:!1,configurable:!1},signature:{value:Z,writable:!1,enumerable:!1,configurable:!1}});return this;},ia);},error:function(Z){ta.error(Z);}});},ia);},error:function(la){ta.error(la);}});},ia);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var X;X={};X.payload=Kb(this.payload);X.signature=Kb(this.signature);return X;}});Re=function(X,T,V,ba,W,ha,wa){new Vd(X,T,V,ba,W,ha,null,wa);};Se=function(X,T,V){Na(V,function(){var ba,W,ha,wa;ba=X.payload;W=X.signature;if(!ba || "string" !== typeof ba || "string" !== typeof W)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(X));try{ha=Mb(ba);}catch(ta){throw new Ob(S.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(X),ta);}try{wa=Mb(W);}catch(ta){throw new Ob(S.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(X),ta);}T.verify(ha,wa,{result:function(ta){Na(V,function(){if(!ta)throw new zb(S.PAYLOAD_VERIFICATION_FAILED);T.decrypt(ha,{result:function(ia){Na(V,function(){var qa,za,la,Z,ca,fa,xa;qa=ec(ia,Tb);try{za=JSON.parse(qa);}catch(Sa){if(Sa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk payload " + qa,Sa);throw Sa;}la=parseInt(za.sequencenumber);Z=parseInt(za.messageid);ca=za.endofmsg;fa=za.compressionalgo;za=za.data;if(!la || la != la || !Z || Z != Z || ca && "boolean" !== typeof ca || fa && "string" !== typeof fa || "string" !== typeof za)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk payload " + qa);if(0 > la || la > Rb)throw new hb(S.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + qa);if(0 > Z || Z > Rb)throw new hb(S.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + qa);ca || (ca=!1);if(fa && !Kc[fa])throw new Ob(S.UNIDENTIFIED_COMPRESSION,fa);try{xa=Mb(za);}catch(Sa){throw new Ob(S.PAYLOAD_DATA_CORRUPT,za,Sa);}if(xa && 0 != xa.length)qa=fa?xd(fa,xa):xa;else {if(0 < za.length)throw new Ob(S.PAYLOAD_DATA_CORRUPT,za);if(ca)qa=new Uint8Array(0);else throw new Ob(S.PAYLOAD_DATA_MISSING,za);}xa=new ea(ha,wa);new Vd(la,Z,ca,fa,qa,T,xa,V);});},error:function(ia){V.error(ia);}});});},error:function(ta){V.error(ta);}});});};})();(function(){var V,ba;function ea(W,ha,wa,ta,ia){var za,la,Z,ca,fa;function qa(){Na(ia,function(){var xa,Sa;la >= ha.length && (la=0,++za);if(za >= Z.length){if(ca)throw ca;throw new Ub(S.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ha));}xa=Z[za];Sa=ha[la];xa.scheme != Sa.keyExchangeScheme?(++la,qa()):xa.generateResponse(W,Sa,fa,{result:function(Ma){ia.result(Ma);},error:function(Ma){Na(ia,function(){if(!(Ma instanceof hb))throw Ma;ca=Ma;++la;qa();});}});});}za=0;la=0;Z=W.getKeyExchangeFactories();fa=wa?wa:ta;qa();}function X(W,ha,wa,ta,ia){Na(ia,function(){var qa;qa=ha.keyRequestData;if(ha.isRenewable() && 0 < qa.length)ta?ta.isRenewable() || ta.isExpired()?ea(W,qa,ta,null,ia):W.getTokenFactory().isNewestMasterToken(W,ta,{result:function(za){Na(ia,function(){if(za)return null;ea(W,qa,ta,null,ia);});},error:ia.error}):ea(W,qa,null,wa.getIdentity(),ia);else return null;});}function T(W,ha,wa,ta){Na(ta,function(){var ia,qa,za,la;ia=ha.userIdToken;qa=ha.userAuthenticationData;za=ha.messageId;if(ia && ia.isVerified()){if(ia.isRenewable() && ha.isRenewable() || ia.isExpired() || !ia.isBoundTo(wa)){qa=W.getTokenFactory();qa.renewUserIdToken(W,ia,wa,ta);return;}}else if(ha.isRenewable() && wa && qa){ia=ha.customer;if(!ia){ia=qa.scheme;la=W.getUserAuthenticationFactory(ia);if(!la)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ia).setEntity(wa).setUser(qa).setMessageId(za);ia=la.authenticate(W,wa.identity,qa,null);}qa=W.getTokenFactory();qa.createUserIdToken(W,ia,wa,ta);return;}return ia;});}V=new Uint8Array(0);ba=Nc=function(W){if(0 > W || W > Rb)throw new Bb("Message ID " + W + " is outside the valid range.");return W == Rb?0:W + 1;};Wc=function(W){if(0 > W || W > Rb)throw new Bb("Message ID " + W + " is outside the valid range.");return 0 == W?Rb:W - 1;};Oc=function(W,ha,wa,ta,ia){Na(ia,function(){var qa;if(ta == Fb || null == ta){qa=W.getRandom();do {ta=qa.nextLong();}while(0 > ta || ta > Rb);}else if(0 > ta || ta > Rb)throw new Bb("Message ID " + ta + " is outside the valid range.");W.getEntityAuthenticationData(null,{result:function(za){Na(ia,function(){var la;la=W.getMessageCapabilities();return new yd(W,ta,la,za,ha,wa,null,null,null,null,null);});},error:function(za){ia.error(za);}});});};Te=function(W,ha,wa){Na(wa,function(){var ia,qa,za,la,Z,ca;function ta(fa){Na(wa,function(){fa instanceof hb && (fa.setEntity(ia),fa.setEntity(qa),fa.setUser(za),fa.setUser(la),fa.setMessageId(Z));throw fa;});}ia=ha.masterToken;qa=ha.entityAuthenticationData;za=ha.userIdToken;la=ha.userAuthenticationData;Z=ha.messageId;ca=ba(Z);X(W,ha,qa,ia,{result:function(fa){Na(wa,function(){var xa;xa=fa?fa.keyResponseData.masterToken:xa=ia;W.getEntityAuthenticationData(null,{result:function(Sa){Na(wa,function(){T(W,ha,xa,{result:function(Ma){Na(wa,function(){var Qa,Va,oa;za=Ma;Qa=Ud(ha.messageCapabilities,W.getMessageCapabilities());Va=ha.keyResponseData;oa=ha.serviceTokens;return W.isPeerToPeer()?new yd(W,ca,Qa,Sa,Va?Va.masterToken:ha.peerMasterToken,ha.peerUserIdToken,ha.peerServiceTokens,ia,za,oa,fa):new yd(W,ca,Qa,Sa,Va?Va.masterToken:ia,za,oa,null,null,null,fa);});},error:ta});});},error:ta});});},error:ta});});};Ue=function(W,ha,wa,ta,ia){Na(ia,function(){W.getEntityAuthenticationData(null,{result:function(qa){Na(ia,function(){var za,la;if(ha != Fb && null != ha)za=ba(ha);else {la=W.getRandom();do {za=la.nextInt();}while(0 > za || za > Rb);}Le(W,qa,za,wa.responseCode,wa.internalCode,wa.message,ta,ia);});},error:function(qa){ia.error(qa);}});});};yd=Gb.Class.create({init:function(W,ha,wa,ta,ia,qa,za,la,Z,ca,fa){var xa,Sa,Ma,Qa,Va;if(!W.isPeerToPeer() && (la || Z))throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");xa=fa && !W.isPeerToPeer()?fa.keyResponseData.masterToken:ia;Sa=[];xa=W.getMslStore().getServiceTokens(xa,qa);Sa.push.apply(Sa,xa);za && za.forEach(function(oa){Sa.push(oa);},this);Ma=[];if(W.isPeerToPeer()){Qa=la;Va=Z;za=fa?fa.keyResponseData.masterToken:la;Z=W.getMslStore().getServiceTokens(za,Z);Ma.push.apply(Ma,Z);ca && ca.forEach(function(oa){Ma.push(oa);},this);}Object.defineProperties(this,{_ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ta,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ia,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ha,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:wa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:fa,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:qa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Qa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Va,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(W){Na(W,function(){var ha,wa,ta;ha=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;wa=[];for(ta in this._keyRequestData){wa.push(this._keyRequestData[ta]);}if(this._nonReplayable){if(!this._masterToken)throw new Ob(S.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ta=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ta=null;ha=new Oe(this._messageId,ta,this._renewable,this._capabilities,wa,ha,this._userAuthData,this._userIdToken,this._serviceTokens);wa=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,ha,wa,W);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(W){this._nonReplayable=W;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(W){this._renewable=W;return this;},setAuthTokens:function(W,ha){var wa,ia;if(ha && !ha.isBoundTo(W))throw new Bb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new Bb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{wa=this._ctx.getMslStore().getServiceTokens(W,ha);}catch(qa){if(qa instanceof hb)throw new Bb("Invalid master token and user ID token combination despite checking above.",qa);throw qa;}for(var ta=this._serviceTokens.length - 1;0 <= ta;--ta){ia=this._serviceTokens[ta];(ia.isUserIdTokenBound() && !ia.isBoundTo(ha) || ia.isMasterTokenBound() && !ia.isBoundTo(W)) && this._serviceTokens.splice(ta,1);}wa.forEach(function(qa){this.excludeServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._serviceTokens.push(qa);},this);this._masterToken=W;this._userIdToken=ha;},setUserAuthenticationData:function(W){this._userAuthData=W;return this;},setCustomer:function(W,ha){var wa;wa=this;Na(ha,function(){var ta;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new Bb("User ID token or peer user ID token already exists for the remote user.");ta=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ta)throw new Bb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,W,ta,{result:function(ia){Na(ha,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ia:(this._userIdToken=ia,this._userAuthData=null);return !0;},wa);},error:function(ia){ha.error(ia);}});},wa);},addKeyRequestData:function(W){this._keyRequestData[W.uniqueKey()]=W;return this;},removeKeyRequestData:function(W){delete this._keyRequestData[W.uniqueKey()];return this;},addServiceToken:function(W){var ha;ha=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(W.isMasterTokenBound() && !W.isBoundTo(ha))throw new Ob(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(ha)).setEntity(ha);if(W.isUserIdTokenBound() && !W.isBoundTo(this._userIdToken))throw new Ob(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ha).setUser(this._userIdToken);this.excludeServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._serviceTokens.push(W);return this;},addServiceTokenIfAbsent:function(W){var wa;for(var ha=this._serviceTokens.length - 1;0 <= ha;--ha){wa=this._serviceTokens[ha];if(wa.name == W.name && wa.isMasterTokenBound() == W.isMasterTokenBound() && wa.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addServiceToken(W);return this;},excludeServiceToken:function(){var W,ha,wa,ia;if(1 == arguments.length){W=arguments[0];ha=W.name;wa=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],wa=arguments[1],W=arguments[2]);for(var ta=this._serviceTokens.length - 1;0 <= ta;--ta){ia=this._serviceTokens[ta];ia.name == ha && ia.isMasterTokenBound() == wa && ia.isUserIdTokenBound() == W && this._serviceTokens.splice(ta,1);}return this;},deleteServiceToken:function(){var W,ha,wa,ta;if(2 == arguments.length){W=arguments[0];ha=W.name;W.isMasterTokenBound();W.isUserIdTokenBound();wa=arguments[1];}else (arguments.length=4,ha=arguments[0],wa=arguments[3]);ta=this;Na(wa,function(){var ia,qa;ia=originalToken.isMasterTokenBound()?this._masterToken:null;qa=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,ha,V,ia,qa,!1,null,new Vc(),{result:function(za){Na(wa,function(){return this.addServiceToken(za);},ta);},error:function(za){za instanceof hb && (za=new Bb("Failed to create and add empty service token to message.",za));wa.error(za);}});},ta);},getServiceTokens:function(){var W;W=[];W.push.apply(W,this._serviceTokens);return W;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(W,ha){var wa,ia;if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ha && !W)throw new Bb("Peer master token cannot be null when setting peer user ID token.");if(ha && !ha.isBoundTo(W))throw new Ob(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ha + "; mt " + W).setEntity(W).setUser(ha);try{wa=this._ctx.getMslStore().getServiceTokens(W,ha);}catch(qa){if(qa instanceof hb)throw new Bb("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}for(var ta=this._peerServiceTokens.length - 1;0 <= ta;--ta){ia=this._peerServiceTokens[ta];(ia.isUserIdTokenBound() && !ia.isBoundTo(ha) || ia.isMasterTokenBound() && !ia.isBoundTo(W)) && this._peerServiceTokens.slice(ta,1);}wa.forEach(function(qa){this.excludePeerServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._peerServiceTokens.push(qa);},this);this._peerUserIdToken=ha;this._peerMasterToken=W;return this;},addPeerServiceToken:function(W){if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer service tokens when not in peer-to-peer mode.");if(W.isMasterTokenBound() && !W.isBoundTo(this._peerMasterToken))throw new Ob(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(W.isUserIdTokenBound() && !W.isBoundTo(this._peerUserIdToken))throw new Ob(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._peerServiceTokens.push(W);return this;},addPeerServiceTokenIfAbsent:function(W){var wa;for(var ha=this._peerServiceTokens.length - 1;0 <= ha;--ha){wa=this._peerServiceTokens[ha];if(wa.name == W.name && wa.isMasterTokenBound() == W.isMasterTokenBound() && wa.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addPeerServiceToken(W);return this;},excludePeerServiceToken:function(){var W,ha,wa,ia;if(1 == arguments.length){W=arguments[0];ha=W.name;wa=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],wa=arguments[1],W=arguments[2]);for(var ta=this._peerServiceTokens.length - 1;0 <= ta;--ta){ia=this._peerServiceTokens[ta];ia.name == ha && ia.isMasterTokenBound() == wa && ia.isUserIdTokenBound() == W && this._peerServiceTokens.splice(ta,1);}return this;},deletePeerServiceToken:function(){var W,ha,wa,ta,ia,qa;if(2 == arguments.length){W=arguments[0];ha=W.name;wa=W.isMasterTokenBound();ta=W.isUserIdTokenBound();ia=arguments[1];}else (arguments.length=4,ha=arguments[0],wa=arguments[1],ta=arguments[2],ia=arguments[3]);qa=this;Na(ia,function(){zc(this._ctx,ha,V,wa?this._peerMasterToken:null,ta?this._peerUserIdToken:null,!1,null,new Vc(),{result:function(za){Na(ia,function(){return this.addPeerServiceToken(za);},qa);},error:function(za){za instanceof hb && (za=new Bb("Failed to create and add empty peer service token to message.",za));ia.error(za);}});},qa);},getPeerServiceTokens:function(){var W;W=[];W.push.apply(W,this._peerServiceTokens);return W;}});})();(function(){function ea(T,V){return V[T]?V[T]:V[""];}function X(T){var V;V=T.builder.getKeyExchangeData();return V && !T.ctx.isPeerToPeer()?V.keyResponseData.masterToken:T.builder.getMasterToken();}Ve=Gb.Class.create({init:function(T,V,ba){T={ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:V.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ba,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},isPrimaryMasterTokenAvailable:function(){return X(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(T){try{return (this.builder.addServiceToken(T),!0);}catch(V){if(V instanceof Ob)return !1;throw V;}},addPeerServiceToken:function(T){try{return (this.builder.addPeerServiceToken(T),!0);}catch(V){if(V instanceof Ob)return !1;throw V;}},addUnboundPrimaryServiceToken:function(T,V,ba,W,ha){var wa;wa=this;Na(ha,function(){var ta;ta=ea(T,this.cryptoContexts);if(!ta)return !1;zc(this.ctx,T,V,null,null,ba,W,ta,{result:function(ia){Na(ha,function(){try{this.builder.addServiceToken(ia);}catch(qa){if(qa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},wa);},error:function(ia){ha.error(ia);}});},wa);},addUnboundPeerServiceToken:function(T,V,ba,W,ha){var wa;wa=this;Na(ha,function(){var ta;ta=ea(T,this.cryptoContexts);if(!ta)return !1;zc(this.ctx,T,V,null,null,ba,W,ta,{result:function(ia){Na(ha,function(){try{this.builder.addPeerServiceToken(ia);}catch(qa){if(qa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},wa);},error:function(ia){ha.error(ia);}});},wa);},addMasterBoundPrimaryServiceToken:function(T,V,ba,W,ha){var wa;wa=this;Na(ha,function(){var ta,ia;ta=X(this);if(!ta)return !1;ia=ea(T,this.cryptoContexts);if(!ia)return !1;zc(this.ctx,T,V,ta,null,ba,W,ia,{result:function(qa){Na(ha,function(){try{this.builder.addServiceToken(qa);}catch(za){if(za instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},wa);},error:function(qa){ha.error(qa);}});},wa);},addMasterBoundPeerServiceToken:function(T,V,ba,W,ha){var wa;wa=this;Na(ha,function(){var ta,ia;ta=this.builder.getPeerMasterToken();if(!ta)return !1;ia=ea(T,this.cryptoContexts);if(!ia)return !1;zc(this.ctx,T,V,ta,null,ba,W,ia,{result:function(qa){Na(ha,function(){try{this.builder.addPeerServiceToken(qa);}catch(za){if(za instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},wa);},error:function(qa){ha.error(qa);}});},wa);},addUserBoundPrimaryServiceToken:function(T,V,ba,W,ha){var wa;wa=this;Na(ha,function(){var ta,ia,qa;ta=X(this);if(!ta)return !1;ia=this.builder.getUserIdToken();if(!ia)return !1;qa=ea(T,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,T,V,ta,ia,ba,W,qa,{result:function(za){Na(ha,function(){try{this.builder.addServiceToken(za);}catch(la){if(la instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return !0;},wa);},error:function(za){ha.error(za);}});},wa);},addUserBoundPeerServiceToken:function(T,V,ba,W,ha){var wa;wa=this;Na(ha,function(){var ta,ia,qa;ta=this.builder.getPeerMasterToken();if(!ta)return !1;ia=this.builder.getPeerUserIdToken();if(!ia)return !1;qa=ea(T,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,T,V,ta,ia,ba,W,qa,{result:function(za){Na(ha,function(){try{this.builder.addPeerServiceToken(za);}catch(la){if(la instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return !0;},wa);},error:function(za){ha.error(za);}});},wa);},excludePrimaryServiceToken:function(){var T,V,ba,W;if(1 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],ba=arguments[1],W=arguments[2]);for(var ha=this.builder.getServiceTokens(),wa=0;wa < ha.length;++wa){if((T=ha[wa],T.name == V && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == W))return (this.builder.excludeServiceToken(V,ba,W),!0);}return !1;},excludePeerServiceToken:function(){var T,V,ba,W;if(1 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],ba=arguments[1],W=arguments[2]);for(var ha=this.builder.getPeerServiceTokens(),wa=0;wa < ha.length;++wa){if((T=ha[wa],T.name == V && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == W))return (this.builder.excludePeerServiceToken(V,ba,W),!0);}return !1;},deletePrimaryServiceToken:function(){var T,V,ba,W,ha;if(2 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();ha=arguments[1];}else 4 == arguments.length && (V=arguments[0],ba=arguments[1],W=arguments[2],ha=arguments[3]);Na(ha,function(){var ia;for(var wa=this.builder.getServiceTokens(),ta=0;ta < wa.length;++ta){ia=wa[ta];if(ia.name == V && ia.isMasterTokenBound() == ba && ia.isUserIdTokenBound() == W){this.builder.deleteServiceToken(V,ba,W,{result:function(){ha.result(!0);},error:function(qa){ha.error(qa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var T,V,ba,W,ha;if(2 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();ha=arguments[1];}else 4 == arguments.length && (V=arguments[0],ba=arguments[1],W=arguments[2],ha=arguments[3]);Na(ha,function(){var ia;for(var wa=this.builder.getPeerServiceTokens(),ta=0;ta < wa.length;++ta){ia=wa[ta];if(ia.name == V && ia.isMasterTokenBound() == ba && ia.isUserIdTokenBound() == W){this.builder.deletePeerServiceToken(V,ba,W,{result:function(){ha.result(!0);},error:function(qa){ha.error(qa);}});return;}}return !1;},this);}});})();(function(){function ea(X,T,V,ba){Na(ba,function(){var ha,wa,ta,ia,qa,za;function W(){Na(ba,function(){var la;if(za >= V.length){if(qa)throw qa;throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(V));}la=V[za];ta != la.keyExchangeScheme?(++za,W()):ia.getCryptoContext(X,la,wa,ha,{result:ba.result,error:function(Z){Na(ba,function(){if(!(Z instanceof hb))throw Z;qa=Z;++za;W();});}});});}ha=T.masterToken;wa=T.keyResponseData;if(!wa)return null;ta=wa.keyExchangeScheme;ia=X.getKeyExchangeFactory(ta);if(!ia)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ta);za=0;W();});}We=Qd.extend({init:function(X,T,V,ba,W,ha,wa){var ta;ta=this;eb(wa,function(){var ca;function ia(){ta._ready=!0;ta._readyQueue.add(!0);}function qa(fa,xa){var Sa;try{Sa=xa.masterToken;fa.getTokenFactory().isMasterTokenRevoked(fa,Sa,{result:function(Ma){Ma?(ta._errored=new ad(Ma,Sa).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):za(fa,xa);},error:function(Ma){Ma instanceof hb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ta._errored=Ma;ia();}});}catch(Ma){Ma instanceof hb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ta._errored=Ma;ia();}}function za(fa,xa){var Sa,Ma;try{Sa=xa.masterToken;Ma=xa.userIdToken;Ma?fa.getTokenFactory().isUserIdTokenRevoked(fa,Sa,Ma,{result:function(Qa){Qa?(ta._errored=new MslUserIdTokenException(Qa,Ma).setEntity(Sa).setUser(Ma).setMessageId(xa.messageId),ia()):la(fa,xa);},error:function(Qa){Qa instanceof hb && (Qa.setEntity(xa.masterToken),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ta._errored=Qa;ia();}}):la(fa,xa);}catch(Qa){Qa instanceof hb && (Qa.setEntity(xa.masterToken),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ta._errored=Qa;ia();}}function la(fa,xa){var Sa;try{Sa=xa.masterToken;Sa.isExpired()?xa.isRenewable() && 0 != xa.keyRequestData.length?fa.getTokenFactory().isMasterTokenRenewable(fa,Sa,{result:function(Ma){Ma?(ta._errored=new Ob(Ma,"Master token is expired and not renewable.").setEntity(Sa).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):Z(fa,xa);},error:function(Ma){Ma instanceof hb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ta._errored=Ma;ia();}}):(ta._errored=new Ob(S.MESSAGE_EXPIRED,JSON.stringify(xa)).setEntity(Sa).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):Z(fa,xa);}catch(Ma){Ma instanceof hb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ta._errored=Ma;ia();}}function Z(fa,xa){var Sa,Ma;try{Sa=xa.masterToken;Ma=xa.nonReplayableId;"number" === typeof Ma?Sa?fa.getTokenFactory().acceptNonReplayableId(fa,Sa,Ma,{result:function(Qa){Qa || (ta._errored=new Ob(S.MESSAGE_REPLAYED,JSON.stringify(xa)).setEntity(Sa).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId));ia();},error:function(Qa){Qa instanceof hb && (Qa.setEntity(Sa),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ta._errored=Qa;ia();}}):(ta._errored=new Ob(S.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(xa)).setEntity(xa.entityAuthenticationData).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):ia();}catch(Qa){Qa instanceof hb && (Qa.setEntity(xa.masterToken),Qa.setEntity(xa.entityAuthenticationData),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ta._errored=Qa;ia();}}ca={_source:{value:T,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:V,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!1,enumerable:!1,configurable:!1},_header:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);xe(ta._source,ha,{result:function(fa){ta._json=fa;ta._jsonIndex=0;null === ta._json?(ta._errored=new Hb(S.MESSAGE_DATA_MISSING),ia()):Ge(X,ta._json[ta._jsonIndex++],W,{result:function(xa){var Sa;ta._header=xa;if(ta._header instanceof Ic)(ta._keyxCryptoContext=null,ta._cryptoContext=null,ia());else {Sa=ta._header;ea(X,Sa,ba,{result:function(Ma){var Qa;try{ta._keyxCryptoContext=Ma;X.isPeerToPeer() || !ta._keyxCryptoContext?ta._cryptoContext=Sa.cryptoContext:ta._cryptoContext=ta._keyxCryptoContext;try{Qa=Sa.masterToken;Qa && (X.isPeerToPeer() || Qa.isVerified())?qa(X,Sa):Z(X,Sa);}catch(Va){Va instanceof hb && (Va.setEntity(Sa.masterToken),Va.setUser(Sa.userIdToken),Va.setUser(Sa.userAuthenticationData),Va.setMessageId(Sa.messageId));ta._errored=Va;ia();}}catch(Va){Va instanceof hb && (Va.setEntity(Sa.masterToken),Va.setEntity(Sa.entityAuthenticationData),Va.setUser(Sa.userIdToken),Va.setUser(Sa.userAuthenticationData),Va.setMessageId(Sa.messageId));ta._errored=Va;ia();}},error:function(Ma){Ma instanceof hb && (Ma.setEntity(Sa.masterToken),Ma.setEntity(Sa.entityAuthenticationData),Ma.setUser(Sa.userIdToken),Ma.setUser(Sa.userAuthenticationData),Ma.setMessageId(Sa.messageId));ta._errored=Ma;ia();}});}},error:function(xa){ta._errored=xa;ia();}});},timeout:function(){ta._timedout=!0;ia();},error:function(fa){ta._errored=fa;ia();}});return this;},ta);},nextData:function(X,T){var V;V=this;eb(T,function(){var W;function ba(ha){eb(ha,function(){var wa;if(this._jsonIndex < this._json.length)return wa=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(ta){ta && ta.length && 0 < ta.length?(ta.forEach(function(ia){this._json.push(ia);}),ba(ha)):(this._eom=!0,ha.result(null));},timeout:function(){ha.timeout();},error:function(ta){ha.error(ta);}});},V);}W=this.getMessageHeader();if(!W)throw new Bb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ba({result:function(ha){eb(T,function(){if(!ha)return null;if("object" !== typeof ha)throw new Hb(S.MESSAGE_FORMAT_ERROR);Se(ha,this._cryptoContext,{result:function(wa){eb(T,function(){var ta,ia,qa,za;ta=W.masterToken;ia=W.entityAuthenticationData;qa=W.userIdToken;za=W.getUserAuthenticationData;if(wa.messageId != W.messageId)throw new Ob(S.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + wa.messageId + " header mid " + W.messageId).setEntity(ta).setEntity(ia).setUser(qa).setUser(za);if(wa.sequenceNumber != this._payloadSequenceNumber)throw new Ob(S.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + wa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ta).setEntity(ia).setUser(qa).setUser(za);++this._payloadSequenceNumber;wa.isEndOfMessage() && (this._eom=!0);ta=wa.data;this._payloads.push(ta);this._payloadIndex=-1;return ta;},V);},error:function(wa){wa instanceof SyntaxError && (wa=new Hb(S.JSON_PARSE_ERROR,"payloadchunk",wa));T.error(wa);}});},V);},timeout:function(){T.timeout();},error:function(ha){T.error(ha);}});},V);},isReady:function(X,T){var ba;function V(){eb(T,function(){if(this._aborted)return !1;if(this._timedout)T.timeout();else {if(this._errored)throw this._errored;return !0;}},ba);}ba=this;eb(T,function(){this._ready?V():this._readyQueue.poll(X,{result:function(W){eb(T,function(){if(W === Fb)return !1;V();},ba);},timeout:function(){T.timeout();},error:function(W){T.error(W);}});},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var X,T;X=this.getMessageHeader();if(X){T=X.masterToken;return T?T.identity:X.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var X;X=this.getMessageHeader();return X?X.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(X){this._closeSource=X;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(X,T,V){var W;function ba(){eb(V,function(){var wa,ta,ia,qa;function ha(za){eb(za,function(){var la,Z,ca;if(ta && qa >= ta.length)return ta.subarray(0,qa);la=-1;if(this._currentPayload){Z=this._currentPayload.length - this._payloadOffset;if(!ta){ca=Z;if(-1 != this._payloadIndex)for(var fa=this._payloadIndex;fa < this._payloads.length;++fa){ca+=this._payloads[fa].length;}0 < ca && (ta=new Uint8Array(ca));}Z=Math.min(Z,ta?ta.length - qa:0);0 < Z && (la=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + Z),ta.set(la,ia),la=Z,ia+=Z,this._payloadOffset+=Z);}-1 != la?(qa+=la,ha(za)):this.nextData(T,{result:function(xa){eb(za,function(){if(this._aborted)return ta?ta.subarray(0,qa):new Uint8Array(0);this._currentPayload=xa;this._payloadOffset=0;if(this._currentPayload)ha(za);else return 0 == qa && 0 != X?null:ta?ta.subarray(0,qa):new Uint8Array(0);},W);},timeout:function(){za.timeout(ta?ta.subarray(0,qa):new Uint8Array(0));},error:function(xa){eb(za,function(){xa instanceof hb && (xa=new Yb("Error reading the payload chunk.",xa));if(0 < qa)return (W._readException=xa,ta.subarray(0,qa));throw xa;},W);}});},W);}if(this._aborted)return new Uint8Array(0);if(this._timedout)V.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){wa=this._readException;this._readException=null;throw wa;}ta=-1 != X?new Uint8Array(X):Fb;ia=0;qa=0;ha(V);}},W);}W=this;eb(V,function(){if(-1 > X)throw new RangeError("read requested with illegal length " + X);this._ready?ba():this._readyQueue.poll(T,{result:function(ha){ha === Fb?V.result(!1):ba();},timeout:function(){V.timeout(new Uint8Array(0));},error:function(ha){V.error(ha);}});},W);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(X,T,V,ba,W,ha,wa){new We(X,T,V,ba,W,ha,wa);};})();(function(){Ye=ud.extend({init:function(ea,X,T,V,ba,W,ha){var wa;wa=this;eb(ha,function(){var ia,qa,za;function ta(){wa._ready=!0;wa._readyQueue.add(!0);}ia=Ud(ea.getMessageCapabilities(),V.messageCapabilities);qa=null;ia && (qa=me(ia.compressionAlgorithms));ia={_destination:{value:X,writable:!1,enumerable:!1,configurable:!1},_charset:{value:T,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ia,writable:!1,enumerable:!1,configurable:!1},_header:{value:V,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:qa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ba,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);za=fc(JSON.stringify(V),T);X.write(za,0,za.length,W,{result:function(la){try{wa._aborted?ta():la < za.length?(wa._timedout=!0,ta()):X.flush(W,{result:function(Z){wa._aborted || (wa._timedout=!Z);ta();},timeout:function(){wa._timedout=!0;ta();},error:function(Z){wa._errored=Z;ta();}});}catch(Z){wa._errored=Z;ta();}},timeout:function(){wa._timedout=!0;ta();},error:function(la){wa._errored=la;ta();}});return this;},wa);},setCompressionAlgorithm:function(ea,X,T){var ba;function V(){ba.flush(X,{result:function(W){eb(T,function(){if(!W)throw new Yb("flush() aborted");this._compressionAlgo=ea;return !0;},ba);},timeout:function(){T.timeout();},error:function(W){T.error(W);}});}ba=this;eb(T,function(){if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");if(this._compressionAlgo == ea)return !0;if(ea){if(!this._capabilities)return !1;for(var W=this._capabilities.compressionAlgorithms,ha=0;ha < W.length;++ha){if(W[ha] == ea){V();return;}}return !1;}V();},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ea,X){var T;T=this;eb(X,function(){if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ea,{result:function(V){eb(X,function(){V && (this._currentPayload=null);return V;},T);},timeout:function(){X.timeout();},error:function(V){X.error(V);}});}},T);},flush:function(ea,X){var V;function T(){eb(X,function(){var ba,W,ia;if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ba=this.getMessageHeader();if(!ba)return !0;W=0;this._currentPayload && this._currentPayload.forEach(function(qa){W+=qa.length;});for(var ha=new Uint8Array(W),wa=0,ta=0;this._currentPayload && ta < this._currentPayload.length;++ta){ia=this._currentPayload[ta];ha.set(ia,wa);wa+=ia.length;}Re(this._payloadSequenceNumber,ba.messageId,this._closed,this._compressionAlgo,ha,this._cryptoContext,{result:function(qa){eb(X,function(){var za;this._payloads.push(qa);za=fc(JSON.stringify(qa),this._charset);this._destination.write(za,0,za.length,ea,{result:function(la){eb(X,function(){if(this._aborted)return !1;la < qa.length?X.timeout():this._destination.flush(ea,{result:function(Z){eb(X,function(){if(this._aborted)return !1;if(Z)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);X.timeout();},V);},timeout:function(){X.timeout();},error:function(Z){Z instanceof hb && (Z=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",Z));X.error(Z);}});},V);},timeout:function(la){X.timeout();},error:function(la){la instanceof hb && (la=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",la));X.error(la);}});},V);},error:function(qa){qa instanceof hb && (qa=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",qa));X.error(qa);}});}},V);}V=this;eb(X,function(){this._ready?T():this._readyQueue.poll(ea,{result:function(ba){ba === Fb?X.result(!1):T();},timeout:function(){X.timeout();},error:function(ba){X.error(ba);}});},V);},write:function(ea,X,T,V,ba){eb(ba,function(){var W;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Yb("Message output stream already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > ea.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");W=ea.subarray(X,X + T);this._currentPayload.push(W);return W.length;}},this);}});zd=function(ea,X,T,V,ba,W,ha){new Ye(ea,X,T,V,ba,W,ha);};})();Cf=Gb.Class.create({sentHeader:function(ea){},receivedHeader:function(ea){}});Object.freeze({USERDATA_REAUTH:Ga.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ga.SSOTOKEN_REJECTED});Ze=Gb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ea,X,T,V){},getCustomer:function(){},getKeyRequestData:function(ea){},updateServiceTokens:function(ea,X,T){},write:function(ea,X,T){},getDebugContext:function(){}});Gb.Class.create({getInputStream:function(ea){},getOutputStream:function(ea){}});(function(){var wa,ta,ia,qa,za,la,Z,ca,fa,xa,Sa,Ma;function ea(Qa){return function(){Qa.abort();};}function X(Qa,Va){Object.defineProperties(this,{masterToken:{value:Qa,writable:!1,configurable:!1},ticket:{value:Va,writable:!1,configurable:!1}});}function T(Qa,Va){Object.defineProperties(this,{builder:{value:Qa,writable:!1,configurable:!1},msgCtx:{value:Va,writable:!1,configurable:!1}});}function V(Qa,Va,oa){Object.defineProperties(this,{requestHeader:{value:Qa,writable:!1,configurable:!1},payloads:{value:Va,writable:!1,configurable:!1},handshake:{value:oa,writable:!1,configurable:!1}});}function ba(Qa,Va){Object.defineProperties(this,{requestHeader:{value:Va.requestHeader,writable:!1,configurable:!1},payloads:{value:Va.payloads,writable:!1,configurable:!1},handshake:{value:Va.handshake,writable:!1,configurable:!1},response:{value:Qa,writable:!1,configurable:!1}});}function W(Qa){for(;Qa;){if(Qa instanceof bc)return !0;Qa=Qa instanceof hb?Qa.cause:Fb;}return !1;}function ha(Qa,Va,oa,ya,Ea,Ja,Da,Ta,Ia){Ue(Va,ya,Ea,Ja,{result:function(Za){oa && oa.sentHeader(Za);zd(Va,Da,Tb,Za,null,null,Ta,{result:function(db){Qa.setAbort(function(){db.abort();});db.close(Ta,{result:function(Ya){eb(Ia,function(){if(!Ya)throw new bc("sendError aborted.");return Ya;});},timeout:function(){Ia.timeout();},error:function(Ya){Ia.error(Ya);}});},timeout:function(){},error:function(db){Ia.error(db);}});},error:function(Za){Ia.error(Za);}});}wa=ud.extend({close:function(Qa,Va){Va.result(!0);},write:function(Qa,Va,oa,ya,Ea){Na(Ea,function(){return Math.min(Qa.length - Va,oa);});},flush:function(Qa,Va){Va.result(!0);}});ta=Bf.extend({getUserMessage:function(Qa,Va){return null;}});ia=Ze.extend({init:function(Qa){Object.defineProperties(this,{_appCtx:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Qa,Va,oa,ya){this._appCtx.getUserAuthData(Qa,Va,oa,ya);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Qa){this._appCtx.getKeyRequestData(Qa);},updateServiceTokens:function(Qa,Va,oa){this._appCtx.updateServiceTokens(Qa,Va,oa);},write:function(Qa,Va,oa){this._appCtx.write(Qa,Va,oa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});qa=ia.extend({init:function ya(Va,oa){ya.base.call(this,oa);Object.defineProperties(this,{_payloads:{value:Va,writable:!1,enumerable:!1,configurable:!1}});},write:function(Va,oa,ya){var Ja;function Ea(Da,Ta){var Ia;if(Da == Ja._payloads.length)ya.result(!0);else {Ia=Ja._payloads[Da];Va.setCompressionAlgorithm(Ia.compressionAlgo,oa,{result:function(Za){Va.write(Ia.data,0,Ia.data.length,oa,{result:function(db){eb(ya,function(){Ia.isEndOfMessage()?Ea(Da + 1,Ta):Va.flush(oa,{result:function(Ya){ya.result(Ya);},timeout:function(){ya.timeout();},error:function(Ya){ya.error(Ya);}});},Ja);},timeout:function(db){ya.timeout(db);},error:function(db){ya.error(db);}});},timeout:function(){},error:function(Za){ya.error(Za);}});}}Ja=this;Ea(0);}});za=ia.extend({init:function ya(oa){ya.base.call(this,oa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(oa,ya,Ea){Ea.result(!0);}});la={};Z=Gb.Class.create({init:function(oa){oa || (oa=new ta());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(oa){this._filterFactory=oa;},getNewestMasterToken:function(oa,ya,Ea,Ja){var Da;Da=this;eb(Ja,function(){var Ta,Ia,Za,db,Ya;Ta=ya.getMslStore();Ia=Ta.getMasterToken();if(!Ia)return null;Za=Ia.uniqueKey();db=this._masterTokenLocks[Za];db || (db=new Fd(),this._masterTokenLocks[Za]=db);Ya=db.readLock(Ea,{result:function(mb){eb(Ja,function(){var pb;if(mb === Fb)throw new bc("getNewestMasterToken aborted.");pb=Ta.getMasterToken();if(Ia.equals(pb))return new X(Ia,mb);db.unlock(mb);db.writeLock(Ea,{result:function(tb){eb(Ja,function(){if(tb === Fb)throw new bc("getNewestMasterToken aborted.");delete this._masterTokenLocks[Za];db.unlock(tb);return this.getNewestMasterToken(oa,ya,Ea,Ja);},Da);},timeout:function(){Ja.timeout();},error:function(tb){Ja.error(tb);}});},Da);},timeout:function(){Ja.timeout();},error:function(mb){Ja.error(mb);}});oa.setAbort(function(){Ya && (db.cancel(Ya),Ya=Fb);});},Da);},deleteMasterToken:function(oa,ya){var Ea;if(ya){Ea=this;setTimeout(function(){var Ja,Da;Ja=ya.uniqueKey();Da=Ea._masterTokenLocks[Ja];Da || (Da=new Fd(),Ea._masterTokenLocks[Ja]=Da);Da.writeLock(-1,{result:function(Ta){oa.getMslStore().removeCryptoContext(ya);delete Ea._masterTokenLocks[Ja];Da.unlock(Ta);},timeout:function(){throw new Bb("Unexpected timeout received.");},error:function(Ta){throw Ta;}});},0);}},releaseMasterToken:function(oa){var ya;if(oa && oa.masterToken){ya=oa.masterToken.uniqueKey();ya=this._masterTokenLocks[ya];if(!ya)throw new Bb("Master token read/write lock does not exist when it should.");ya.unlock(oa.ticket);}},updateOutgoingCryptoContexts:function(oa,ya,Ea){var Ja;Ja=oa.getMslStore();!oa.isPeerToPeer() && Ea && (Ja.setCryptoContext(Ea.keyResponseData.masterToken,Ea.cryptoContext),this.deleteMasterToken(oa,ya.masterToken));},updateIncomingCryptoContexts:function(oa,ya,Ea){var Ja,Da;Ja=Ea.getMessageHeader();if(Ja){Da=oa.getMslStore();if(Ja=Ja.keyResponseData)(Da.setCryptoContext(Ja.masterToken,Ea.getKeyExchangeCryptoContext()),this.deleteMasterToken(oa,ya.masterToken));}},storeServiceTokens:function(oa,ya,Ea,Ja){var Ia,Za;oa=oa.getMslStore();for(var Da=[],Ta=0;Ta < Ja.length;++Ta){Ia=Ja[Ta];if(!Ia.isBoundTo(ya) || !ya.isVerified()){Za=Ia.data;Za && 0 == Za.length?oa.removeServiceTokens(Ia.name,Ia.isMasterTokenBound()?ya:null,Ia.isUserIdTokenBound()?Ea:null):Da.push(Ia);}}0 < Da.length && oa.addServiceTokens(Da);},buildRequest:function(oa,ya,Ea,Ja,Da){var Ta;Ta=this;this.getNewestMasterToken(oa,ya,Ja,{result:function(Ia){Na(Da,function(){var Za,db,Ya;Za=Ia && Ia.masterToken;if(Za){db=Ea.getUserId();Ya=ya.getMslStore();db=(db=db?Ya.getUserIdToken(db):null) && db.isBoundTo(Za)?db:null;}else db=null;Oc(ya,Za,db,null,{result:function(mb){Na(Da,function(){mb.setNonReplayable(Ea.isNonReplayable());return {builder:mb,tokenTicket:Ia};});},error:function(mb){Na(Da,function(){this.releaseMasterToken(Ia);mb instanceof hb && (mb=new Bb("User ID token not bound to master token despite internal check.",mb));throw mb;},Ta);}});},Ta);},timeout:function(){Da.timeout();},error:function(Ia){Da.error(Ia);}});},buildResponse:function(oa,ya,Ea,Ja,Da,Ta){var Ia;Ia=this;Te(ya,Ja,{result:function(Za){eb(Ta,function(){Za.setNonReplayable(Ea.isNonReplayable());if(!ya.isPeerToPeer() && !Ja.keyResponseData)return {builder:Za,tokenTicket:null};this.getNewestMasterToken(oa,ya,Da,{result:function(db){eb(Ta,function(){var Ya,mb,pb;Ya=db && db.masterToken;if(Ya){mb=Ea.getUserId();pb=ya.getMslStore();mb=(mb=mb?pb.getUserIdToken(mb):null) && mb.isBoundTo(Ya)?mb:null;}else mb=null;Za.setAuthTokens(Ya,mb);return {builder:Za,tokenTicket:db};},Ia);},timeout:function(){Ta.timeout();},error:function(db){Ta.error(db);}});},Ia);},error:function(Za){Ta.error(Za);}});},buildErrorResponse:function(oa,ya,Ea,Ja,Da,Ta,Ia){var Ya;function Za(mb,pb){eb(Ia,function(){var tb,ub;tb=Nc(Da.messageId);ub=new qa(pb,Ea);Oc(ya,null,null,tb,{result:function(vb){eb(Ia,function(){ya.isPeerToPeer() && vb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);vb.setNonReplayable(ub.isNonReplayable());return {errorResult:new T(vb,ub),tokenTicket:null};},Ya);},error:function(vb){Ia.error(vb);}});},Ya);}function db(mb,pb){Ya.getNewestMasterToken(oa,ya,Ta,{result:function(tb){eb(Ia,function(){var ub,vb,Eb;ub=tb && tb.masterToken;vb=Nc(Da.messageId);Eb=new qa(pb,Ea);Oc(ya,ub,null,vb,{result:function(Db){eb(Ia,function(){ya.isPeerToPeer() && Db.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);Db.setNonReplayable(Eb.isNonReplayable());return {errorResult:new T(Db,Eb),tokenTicket:tb};},Ya);},error:function(Db){Ia.error(Db);}});},Ya);},timeout:function(){Ia.timeout();},error:function(tb){Ia.error(tb);}});}Ya=this;eb(Ia,function(){var mb,pb,tb,ub;mb=Ja.requestHeader;pb=Ja.payloads;tb=Da.errorCode;switch(tb){case Ga.ENTITYDATA_REAUTH:case Ga.ENTITY_REAUTH:ya.getEntityAuthenticationData(tb,{result:function(vb){eb(Ia,function(){if(!vb)return null;Za(mb,pb);},Ya);},error:function(vb){Ia.error(vb);}});break;case Ga.USERDATA_REAUTH:case Ga.SSOTOKEN_REJECTED:Ea.getUserAuthData(tb,!1,!0,{result:function(vb){eb(Ia,function(){if(!vb)return null;db(mb,pb);},Ya);},error:function(vb){Ia.error(vb);}});break;case Ga.USER_REAUTH:db(mb,pb);break;case Ga.KEYX_REQUIRED:tb=Nc(Da.messageId);ub=new qa(pb,Ea);Oc(ya,null,null,tb,{result:function(vb){eb(Ia,function(){ya.isPeerToPeer() && vb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);vb.setRenewable(!0);vb.setNonReplayable(ub.isNonReplayable());return {errorResult:new T(vb,ub),tokenTicket:null};},Ya);},error:function(vb){Ia.error(vb);}});break;case Ga.EXPIRED:this.getNewestMasterToken(oa,ya,Ta,{result:function(vb){eb(Ia,function(){var Eb,Db,pa,Fa;Eb=vb && vb.masterToken;Db=mb.userIdToken;pa=Nc(Da.messageId);Fa=new qa(pb,Ea);Oc(ya,Eb,Db,pa,{result:function(Oa){eb(Ia,function(){ya.isPeerToPeer() && Oa.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);mb.masterToken.equals(Eb) && Oa.setRenewable(!0);Oa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new T(Oa,Fa),tokenTicket:vb};},Ya);},error:function(Oa){Ia.error(Oa);}},Ya);},Ya);},timeout:function(){Ia.timeout();},error:function(vb){Ia.error(vb);}});break;case Ga.REPLAYED:this.getNewestMasterToken(oa,ya,Ta,{result:function(vb){eb(Ia,function(){var Eb,Db,pa,Fa;Eb=vb && vb.masterToken;Db=mb.userIdToken;pa=Nc(Da.messageId);Fa=new qa(pb,Ea);Oc(ya,Eb,Db,pa,{result:function(Oa){eb(Ia,function(){ya.isPeerToPeer() && Oa.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);mb.masterToken.equals(Eb)?(Oa.setRenewable(!0),Oa.setNonReplayable(!1)):Oa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new T(Oa,Fa),tokenTicket:vb};},Ya);},error:function(Oa){Ia.error(Oa);}});},Ya);},timeout:function(){Ia.timeout();},error:function(vb){Ia.error(vb);}});break;default:return null;}},Ya);},cleanupContext:function(oa,ya,Ea){switch(Ea.errorCode){case Ga.ENTITY_REAUTH:this.deleteMasterToken(oa,ya.masterToken);break;case Ga.USER_REAUTH:(Ea=ya.userIdToken,ya.masterToken && Ea && oa.getMslStore().removeUserIdToken(Ea));}},send:function(oa,ya,Ea,Ja,Da,Ta,Ia){var tb;function Za(ub,vb,Eb){eb(Ia,function(){var Db;Db=Da.getPeerUserIdToken();!ya.isPeerToPeer() && !vb || ya.isPeerToPeer() && !Db?(Db=Ea.getCustomer())?Da.setCustomer(Db,{result:function(pa){eb(Ia,function(){vb=Da.getUserIdToken();db(ub,vb,Eb);},tb);},error:function(pa){Ia.error(pa);}}):db(ub,vb,Eb):db(ub,vb,Eb);},tb);}function db(ub,vb,Eb){eb(Ia,function(){var Db,pa;Db=!Eb && (!Ea.isEncrypted() || Da.willEncryptPayloads()) && (!Ea.isIntegrityProtected() || Da.willIntegrityProtectPayloads()) && (!Ea.isNonReplayable() || Da.isNonReplayable() && ub);Db || Da.setNonReplayable(!1);pa=[];Da.isRenewable() && (!ub || ub.isRenewable() || Ea.isNonReplayable())?Ea.getKeyRequestData({result:function(Fa){eb(Ia,function(){var r;for(var Oa=0;Oa < Fa.length;++Oa){r=Fa[Oa];pa.push(r);Da.addKeyRequestData(r);}Ya(ub,vb,Db,pa);},tb);},error:function(Fa){Ia.error(Fa);}}):Ya(ub,vb,Db,pa);},tb);}function Ya(ub,vb,Eb,Db){eb(Ia,function(){var pa;pa=new Ve(ya,Ea,Da);Ea.updateServiceTokens(pa,!Eb,{result:function(Fa){Da.getHeader({result:function(Oa){eb(Ia,function(){var r,b;r=Ea.getDebugContext();r && r.sentHeader(Oa);r=Da.getKeyExchangeData();this.updateOutgoingCryptoContexts(ya,Oa,r);this.storeServiceTokens(ya,ub,vb,Oa.serviceTokens);r=!ya.isPeerToPeer() && r?r.cryptoContext:Oa.cryptoContext;if(oa.isAborted())throw new bc("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;zd(ya,b,Tb,Oa,r,Ta,{result:function(a){oa.setAbort(function(){a.abort();});mb(a,Oa,Eb);},timeout:function(){Ia.timeout();},error:function(a){Ia.error(a);}});},tb);},timeout:function(){Ia.timeout();},error:function(Oa){Ia.error(Oa);}});},error:function(Fa){Ia.error(Fa);}});},tb);}function mb(ub,vb,Eb){var Db,pa;if(Eb)Ea.write(ub,Ta,{result:function(Fa){eb(Ia,function(){if(oa.isAborted())throw new bc("MessageOutputStream write aborted.");pb(ub,vb,Eb);},tb);},timeout:function(){Ia.timeout();},error:function(Fa){Ia.error(Fa);}});else {Db=new wa();pa=new Vc();zd(ya,Db,Tb,vb,pa,Ta,{result:function(Fa){Ea.write(Fa,Ta,{result:function(Oa){eb(Ia,function(){if(oa.isAborted())throw new bc("MessageOutputStream proxy write aborted.");Fa.close(Ta,{result:function(r){eb(Ia,function(){var b;if(!r)throw new bc("MessageOutputStream proxy close aborted.");b=Fa.getPayloads();pb(ub,vb,Eb,b);},tb);},timeout:function(){Ia.timeout();},error:function(r){Ia.error(r);}});},tb);},timeout:function(){Ia.timeout();},error:function(Oa){Ia.error(Oa);}});},timeout:function(){Ia.timeout();},error:function(Fa){Ia.error(Fa);}});}}function pb(ub,vb,Eb,Db){ub.close(Ta,{result:function(pa){eb(Ia,function(){if(!pa)throw new bc("MessageOutputStream close aborted.");Db || (Db=ub.getPayloads());return new V(vb,Db,!Eb);},tb);},timeout:function(){Ia.timeout();},error:function(pa){Ia.error(pa);}});}tb=this;eb(Ia,function(){var ub,vb,Eb,Db;ub=Da.getMasterToken();vb=Da.getUserIdToken();Eb=!1;if(Ea.getUserId()){Db=!vb;Ea.getUserAuthData(null,Da.isRenewable(),Db,{result:function(pa){eb(Ia,function(){pa && (Da.willEncryptHeader() && Da.willIntegrityProtectHeader()?Da.setUserAuthenticationData(pa):Eb=!0);Za(ub,vb,Eb);},tb);},error:function(pa){Ia.error(pa);}});}else Za(ub,vb,Eb);},tb);},receive:function(oa,ya,Ea,Ja,Da,Ta,Ia){var Za;Za=this;eb(Ia,function(){var db,Ya,mb;if(oa.isAborted())throw new bc("receive aborted.");db=[];Da && (db=Da.keyRequestData.filter(function(){return !0;}));Ya=Ea.getCryptoContexts();mb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;Xe(ya,mb,Tb,db,Ya,Ta,{result:function(pb){oa.setAbort(function(){pb.abort();});pb.isReady(Ta,{result:function(tb){eb(Ia,function(){var ub,vb,Eb,Db;if(!tb)throw new bc("MessageInputStream aborted.");ub=pb.getMessageHeader();vb=pb.getErrorHeader();Eb=Ea.getDebugContext();Eb && Eb.receivedHeader(ub?ub:vb);if(Da && (Eb=vb?vb.errorCode:null,ub || Eb != Ga.FAIL && Eb != Ga.TRANSIENT_FAILURE && Eb != Ga.ENTITY_REAUTH && Eb != Ga.ENTITYDATA_REAUTH)){Eb=ub?ub.messageId:vb.messageId;Db=Nc(Da.messageId);if(Eb != Db)throw new Ob(S.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Db + "; received " + Eb);}ya.getEntityAuthenticationData(null,{result:function(pa){eb(Ia,function(){var Fa,Oa,r,b;Fa=pa.getIdentity();if(ub){Oa=ub.entityAuthenticationData;r=ub.masterToken;Oa=r?ub.sender:Oa.getIdentity();if(r && r.isDecrypted() && r.identity != Oa || Fa == Oa)throw new Ob(S.UNEXPECTED_MESSAGE_SENDER,Oa);Da && this.updateIncomingCryptoContexts(ya,Da,pb);Fa=ub.keyResponseData;ya.isPeerToPeer()?(Fa=Fa?Fa.masterToken:ub.peerMasterToken,r=ub.peerUserIdToken,Oa=ub.peerServiceTokens):(Fa=Fa?Fa.masterToken:ub.masterToken,r=ub.userIdToken,Oa=ub.serviceTokens);b=Ea.getUserId();b && r && !r.isVerified() && ya.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(ya,Fa,r,Oa);}else if((Oa=vb.entityAuthenticationData.getIdentity(),Fa == Oa))throw new Ob(S.UNEXPECTED_MESSAGE_SENDER,Oa);return pb;},Za);},error:Ia.error});},Za);},timeout:function(){Ia.timeout();},error:function(tb){Ia.error(tb);}});},timeout:function(){Ia.timeout();},error:function(pb){Ia.error(pb);}});},Za);},sendReceive:function(oa,ya,Ea,Ja,Da,Ta,Ia,Za,db){var mb;function Ya(pb,tb){eb(db,function(){Ta.setRenewable(tb);this.send(oa,ya,Ea,Da,Ta,Ia,{result:function(ub){eb(db,function(){var vb;vb=ub.requestHeader.keyRequestData;Za || ub.handshake || !vb.isEmpty()?this.receive(oa,ya,Ea,Ja,ub.requestHeader,Ia,{result:function(Eb){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,Eb);return new ba(Eb,ub);},mb);},timeout:function(){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);db.timeout();},mb);},error:function(Eb){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);throw Eb;},mb);}}):eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);return new ba(null,ub);},mb);},mb);},timeout:function(){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);db.timeout();},mb);},error:function(ub){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);throw ub;},mb);}});},mb);}mb=this;eb(db,function(){var pb;pb=new Zc();this.acquireRenewalLock(oa,ya,Ea,pb,Ta,Ia,{result:function(tb){Ya(pb,tb);},timeout:function(){db.timeout();},error:function(tb){tb instanceof bc?db.result(null):db.error(tb);}});},mb);},acquireRenewalLock:function(oa,ya,Ea,Ja,Da,Ta,Ia){var Ya;function Za(mb,pb,tb){eb(Ia,function(){var Eb,Db;if(oa.isAborted())throw new bc("acquireRenewalLock aborted.");for(var ub=null,vb=0;vb < this._renewingContexts.length;++vb){Eb=this._renewingContexts[vb];if(Eb.ctx === ya){ub=Eb.queue;break;}}if(!ub)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);Db=ub.poll(Ta,{result:function(pa){eb(Ia,function(){var Fa;if(pa === Fb)throw new bc("acquireRenewalLock aborted.");ub.add(pa);if(pa === la || pa.isExpired())Za(pa,pb,tb);else {if(tb && !pb || pb && !pb.isBoundTo(pa)){Fa=ya.getMslStore().getUserIdToken(tb);pb=Fa && Fa.isBoundTo(pa)?Fa:null;}Da.setAuthTokens(pa,pb);Da.isRenewable() && pa.equals(mb)?Za(pa,pb,tb):Ea.isRequestingTokens() && !pb?Za(pa,pb,tb):db(pa,pb);}},Ya);},timeout:function(){},error:function(pa){}});oa.setAbort(function(){Db && (ub.cancel(Db),Db=Fb);});},Ya);}function db(mb,pb){eb(Ia,function(){var vb;if(oa.isAborted())throw new bc("acquireRenewalLock aborted.");if(!mb || mb.isRenewable() || !pb && Ea.getUserId() || pb && pb.isRenewable()){for(var tb=null,ub=0;ub < this._renewingContexts.length;++ub){vb=this._renewingContexts[ub];if(vb.ctx === ya){tb=vb.queue;break;}}if(!tb)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);}return !1;},Ya);}Ya=this;eb(Ia,function(){var mb,pb,tb;mb=Da.getMasterToken();pb=Da.getUserIdToken();tb=Ea.getUserId();Ea.isEncrypted() && !Da.willEncryptPayloads() || Ea.isIntegrityProtected() && !Da.willIntegrityProtectPayloads() || Da.isRenewable() || !mb && Ea.isNonReplayable() || mb && mb.isExpired() || !(pb || !tb || Da.willEncryptHeader() && Da.willIntegrityProtectHeader()) || Ea.isRequestingTokens() && (!mb || tb && !pb)?Za(mb,pb,tb):db(mb,pb);},Ya);},releaseRenewalLock:function(oa,ya,Ea){var Ia;for(var Ja,Da,Ta=0;Ta < this._renewingContexts.length;++Ta){Ia=this._renewingContexts[Ta];if(Ia.ctx === oa){Ja=Ta;Da=Ia.queue;break;}}if(Da !== ya)throw new Bb("Attempt to release renewal lock that is not owned by this queue.");Ea?(Ea=Ea.messageHeader)?(Da=Ea.keyResponseData)?ya.add(Da.masterToken):(oa=oa.isPeerToPeer()?Ea.peerMasterToken:Ea.masterToken)?ya.add(oa):ya.add(la):ya.add(la):ya.add(la);this._renewingContexts.splice(Ja,1);}});$e=Gb.Class.create({init:function(){var oa;oa={_impl:{value:new Z(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,oa);},setFilterFactory:function(oa){this._impl.setFilterFactory(oa);},shutdown:function(){this._shutdown=!0;},receive:function(oa,ya,Ea,Ja,Da,Ta){var Ia;if(this._shutdown)throw new hb("MslControl is shutdown.");Ia=new ca(this._impl,oa,ya,Ea,Ja,Da);setTimeout(function(){Ia.call(Ta);},0);return ea(Ia);},respond:function(oa,ya,Ea,Ja,Da,Ta,Ia){var Za;if(this._shutdown)throw new hb("MslControl is shutdown.");Za=new fa(this._impl,oa,ya,Ea,Ja,Da,Ta);setTimeout(function(){Za.call(Ia);},0);return ea(Za);},error:function Ea(oa,ya,Ea,Ja,Da,Ta,Ia){var Za;if(this._shutdown)throw new hb("MslControl is shutdown.");Za=new xa(this._impl,oa,ya,Ea,Ja,Da,Ta);setTimeout(function(){Za.call(Ia);},0);return ea(Za);},request:function(oa,ya){var Ea,Ja,Da,Ta,Ia,Za;if(this._shutdown)throw new hb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Da=Ea=null;Ta=arguments[3];Ia=arguments[4];if(oa.isPeerToPeer()){Ia.error(new Bb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Ea=arguments[2],Da=arguments[3],Ta=arguments[4],Ia=arguments[5],!oa.isPeerToPeer())){Ia.error(new Bb("This method cannot be used in trusted network mode."));return;}Za=new Ma(this._impl,oa,ya,Ja,Ea,Da,null,0,Ta);setTimeout(function(){Za.call(Ia);},0);return ea(Za);}});ca=Gb.Class.create({init:function(oa,ya,Ea,Ja,Da,Ta){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var Da;function ya(Ta){eb(oa,function(){var Ia;Ia=Ta.messageHeader;if(!Ia)return Ta;this.setAbort(function(){Ta.abort();});Ta.mark(Number.MAX_VALUE);Ta.read(1,Da._timeout,{result:function(Za){eb(oa,function(){if(Za && 0 == Za.length)return null;if(Za)return (Ta.reset(),Ta);Ea(Ta);},Da);},timeout:function(){oa.timeout();},error:function(Za){eb(oa,function(){var db,Ya,mb;if(W(Za))return null;db=Ia?Ia.messageId:null;if(Za instanceof Yb){Ya=S.MSL_COMMS_FAILURE;mb=Za;}else (Ya=S.INTERNAL_EXCEPTION,mb=new Bb("Error peeking into the message payloads."));ha(this,this._ctx,this._msgCtx.getDebugContext(),db,Ya,null,this._output,this._timeout,{result:function(pb){oa.error(mb);},timeout:function(){oa.timeout();},error:function(pb){eb(oa,function(){if(W(pb))return null;throw new jc("Error peeking into the message payloads.",pb,Za);},Da);}});},Da);}});},Da);}function Ea(Ta){eb(oa,function(){Ta.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ta.messageHeader,this._timeout,{result:function(Ia){eb(oa,function(){var Za,db,Ya,mb,pb;Za=Ia.builder;db=Ia.tokenTicket;Ya=Ta.messageHeader;mb=new za(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData)Ja(Ya,Za,mb,db);else {pb=new Ma(this._ctrl,this._ctx,mb,null,this._input,this._output,Ia,1,this._timeout);this.setAbort(function(){pb.abort();});pb.call(oa);}},Da);},timeout:function(){oa.timeout();},error:function(Ia){eb(oa,function(){var Za,db,Ya,mb;if(W(Ia))return null;if(Ia instanceof hb){Za=Ia.messageId;db=Ia.error;Ya=Ta.messageHeader.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(db,Ya?Ya.languages:null);mb=Ia;}else (Za=requestHeader?requestHeader.messageId:null,db=S.INTERNAL_EXCEPTION,Ya=null,mb=new Bb("Error creating an automatic handshake response.",Ia));ha(this,this._ctx,this._msgCtx.getDebugContext(),Za,db,Ya,this._output,this._timeout,{result:function(pb){oa.error(mb);},timeout:function(){oa.timeout();},error:function(pb){eb(oa,function(){if(W(pb))return null;throw new jc("Error creating an automatic handshake response.",pb,Ia);},Da);}});},Da);}});},Da);}function Ja(Ta,Ia,Za,db){eb(oa,function(){Ia.setRenewable(!1);this._ctrl.send(this._ctx,Za,this._output,Ia,this._timeout,{result:function(Ya){eb(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);return null;},Da);},timeout:function(){eb(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);oa.timeout();},Da);},error:function(Ya){eb(oa,function(){var mb,pb,tb,ub;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);if(W(Ya))return null;if(Ya instanceof hb){mb=Ya.messageId;pb=Ya.error;tb=Ta?Ta.messageCapabilities:null;tb=this._ctrl.messageRegistry.getUserMessage(pb,tb?tb.languages:null);ub=Ya;}else Ya instanceof Yb?(mb=Ta?Ta.messageId:null,pb=S.MSL_COMMS_FAILURE,tb=null,ub=Ya):(mb=Ta?Ta.messageId:null,pb=S.INTERNAL_EXCEPTION,tb=null,ub=new Bb("Error sending an automatic handshake response.",Ya));ha(this,this._ctx,this._msgCtx.getDebugContext(),mb,pb,tb,this._output,this._timeout,{result:function(vb){oa.error(ub);},timeout:function(){oa.timeout();},error:function(vb){eb(oa,function(){if(W(vb))return null;throw new jc("Error sending an automatic handshake response.",vb,Ya);},Da);}});},Da);}});},Da);}Da=this;eb(oa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ta){ya(Ta);},timeout:function(){oa.timeout();},error:function(Ta){eb(oa,function(){var Ia,Za,db,Ya;if(W(Ta))return null;if(Ta instanceof hb){Ia=Ta.messageId;Za=Ta.error;db=this._ctrl.messageRegistry.getUserMessage(Za,null);Ya=Ta;}else (Ia=null,Za=S.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error receiving the message header.",Ta));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,db,this._output,this._timeout,{result:function(mb){oa.error(Ya);},timeout:function(){oa.timeout();},error:function(mb){eb(oa,function(){if(W(mb))return null;throw new jc("Error receiving the message header.",mb,Ta);},Da);}});},Da);}});},Da);}});fa=Gb.Class.create({init:function(oa,ya,Ea,Ja,Da,Ta,Ia){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},trustedNetworkExecute:function(oa,ya,Ea){var Ja;Ja=this;eb(Ea,function(){var Da,Ta;if(12 < ya + 1)return !1;if(Da=this._msgCtx.isIntegrityProtected() && !oa.willIntegrityProtectHeader()?S.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !oa.willEncryptPayloads()?S.RESPONSE_REQUIRES_ENCRYPTION:null){Ta=Wc(oa.getMessageId());ha(this,this._ctx,this._msgCtx.getDebugContext(),Ta,Da,null,this._output,this._timeout,{result:function(Ia){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ia){eb(Ea,function(){if(W(Ia))return !1;throw new jc("Response requires encryption or integrity protection but cannot be protected: " + Da,Ia,null);},Ja);}});}else !this._msgCtx.getCustomer() || oa.getMasterToken() || oa.getKeyExchangeData()?(oa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,oa,this._timeout,{result:function(Ia){Ea.result(!0);},timeout:function(){Ea.timeout();},error:function(Ia){Ea.error(Ia);}})):(Ta=Wc(oa.getMessageId()),ha(this,this._ctx,this._msgCtx.getDebugContext(),Ta,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ia){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ia){eb(Ea,function(){if(W(Ia))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ia,null);},Ja);}}));},Ja);},peerToPeerExecute:function(oa,ya,Ea,Ja){var Ta;function Da(Ia){eb(Ja,function(){var Za;Za=Ia.response;Za.close();Za=Za.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ia.requestHeader,Za);this._ctrl.buildErrorResponse(this,this._ctx,oa,Ia,Za,{result:function(db){eb(Ja,function(){var Ya,mb;if(!db)return !1;Ya=db.errorResult;mb=db.tokenTicket;this.peerToPeerExecute(Ya.msgCtx,Ya.builder,Ea,{result:function(pb){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);return pb;},Ta);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);Ja.timeout();},Ta);},error:function(pb){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);throw pb;},Ta);}});},Ta);}});},Ta);}Ta=this;eb(Ja,function(){var Ia;if(12 < Ea + 2)return !1;if(null != oa.getCustomer() && null == ya.getPeerMasterToken() && null == ya.getKeyExchangeData()){Ia=Wc(ya.getMessageId());ha(this,this._ctx,oa.getDebugContext(),Ia,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Za){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(Za){eb(Ja,function(){if(W(Za))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Za,null);},Ta);}});}else this._ctrl.sendReceive(this._ctx,oa,this._input,this._output,ya,this._timeout,!1,{result:function(Za){eb(Ja,function(){var mb,pb,tb;function db(){mb.read(32768,Ta._timeout,{result:function(ub){eb(Ja,function(){ub?db():Ya();},Ta);},timeout:function(){Ja.timeout();},error:function(ub){Ja.error(ub);}});}function Ya(){eb(Ja,function(){var ub;ub=new qa(Za.payloads,oa);this._ctrl.buildResponse(this,this._ctx,ub,pb,this._timeout,{result:function(vb){eb(Ja,function(){var Eb;Eb=vb.tokenTicket;this.peerToPeerExecute(ub,vb.builder,Ea,{result:function(Db){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);return Db;},Ta);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);Ja.timeout();},Ta);},error:function(Db){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);throw Db;},Ta);}});},Ta);},timeout:function(){Ja.timeout();},error:function(vb){Ja.error(vb);}});},Ta);}mb=Za.response;Ea+=2;if(!mb)return !0;pb=mb.getMessageHeader();if(pb){tb=Za.payloads;tb=0 < tb.length && 0 < tb[0].data.length;if(Za.handshake && tb)db();else return !0;}else Da(Za);},Ta);},timeout:function(){Ja.timeout();},error:function(Za){Ja.error(Za);}});},Ta);},call:function(oa){var ya;ya=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ea){eb(oa,function(){var Ja,Da;Ja=Ea.builder;Da=Ea.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Ta){eb(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Ta;},ya);},timeout:function(){eb(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);oa.timeout();},ya);},error:function(Ta){eb(oa,function(){var Ia,Za,db,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(W(Ta))return !1;Ia=Wc(Ja.getMessageId());if(Ta instanceof hb){Za=Ta.error;db=this._request.messageCapabilities;db=this._ctrl.messageRegistry.getUserMessage(Za,db?db.languages:null);Ya=Ta;}else Ta instanceof Yb?(Za=S.MSL_COMMS_FAILURE,db=null,Ya=Ta):(Za=S.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error sending the response.",Ta));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,db,this._output,this._timeout,{result:function(mb){oa.error(Ya);},timeout:function(){oa.timeout();},error:function(mb){eb(oa,function(){if(W(mb))return !1;throw new jc("Error sending the response.",mb,null);},ya);}});},ya);}}):this.trustedNetworkExecute(Ja,3,{result:function(Ta){eb(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Ta;},ya);},timeout:function(){eb(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);oa.timeout();},ya);},error:function(Ta){eb(oa,function(){var Ia,Za,db,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(W(Ta))return !1;Ia=Wc(Ja.getMessageId());if(Ta instanceof hb){Za=Ta.error;db=this._request.messageCapabilities;db=this._ctrl.messageRegistry.getUserMessage(Za,db?db.languages:null);Ya=Ta;}else Ta instanceof Yb?(Za=S.MSL_COMMS_FAILURE,db=null,Ya=Ta):(Za=S.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error sending the response.",Ta));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,db,this._output,this._timeout,{result:function(mb){oa.error(Ya);},timeout:function(){oa.timeout();},error:function(mb){eb(oa,function(){if(W(mb))return !1;throw new jc("Error sending the response.",mb,null);},ya);}});},ya);}});},ya);},timeout:function(){oa.timeout();},error:function(Ea){eb(oa,function(){var Ja,Da,Ta,Ia;if(W(Ea))return !1;if(Ea instanceof hb){Ja=Ea.messageId;Da=Ea.error;Ta=this._request.messageCapabilities;Ta=this._ctrl.messageRegistry.getUserMessage(Da,Ta?Ta.languages:null);Ia=Ea;}else (Ja=null,Da=S.INTERNAL_EXCEPTION,Ta=null,Ia=new Bb("Error building the response.",Ea));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Da,Ta,this._output,this._timeout,{result:function(Za){oa.error(Ia);},timeout:function(){oa.timeout();},error:function(Za){eb(oa,function(){if(W(Za))return null;throw new jc("Error building the response.",Za,Ea);},ya);}});},ya);}});}});xa=Gb.Class.create({init:function(oa,ya,Ea,Ja,Da,Ta,Ia){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var ya;ya=this;eb(oa,function(){var Ea,Ja;if(this._appError == ENTITY_REJECTED)Ea=this._request.masterToken?S.MASTERTOKEN_REJECTED_BY_APP:S.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ea=this._request.userIdToken?S.USERIDTOKEN_REJECTED_BY_APP:S.USER_REJECTED_BY_APP;else throw new Bb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Ea,Ja?Ja.languages:null);ha(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ea,Ja,this._output,this._timeout,{result:function(Da){oa.result(Da);},timeout:oa.timeout,error:function(Da){eb(oa,function(){if(W(Da))return !1;if(Da instanceof hb)throw Da;throw new Bb("Error building the error response.",Da);},ya);}});},ya);}});Sa={result:function(){},timeout:function(){},error:function(){}};Ma=Gb.Class.create({init:function(oa,ya,Ea,Ja,Da,Ta,Ia,Za,db){var Ya;if(Ia){Ya=Ia.builder;Ia=Ia.tokenTicket;}else Ia=Ya=null;Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Da,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ya,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ia,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:db,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Za,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},execute:function(oa,ya,Ea,Ja,Da){var Za;function Ta(db){function Ya(mb){eb(Da,function(){var pb;pb=db.response;return mb?mb:pb;},Za);}eb(Da,function(){var mb,pb;mb=db.response;mb.close();pb=mb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,db.requestHeader,pb);this._ctrl.buildErrorResponse(this,this._ctx,oa,db,pb,Ea,{result:function(tb){eb(Da,function(){var ub,vb,Eb,Db;if(!tb)return mb;ub=tb.errorResult;vb=tb.tokenTicket;Eb=ub.builder;ub=ub.msgCtx;if(this._ctx.isPeerToPeer())this.execute(ub,Eb,this._timeout,Ja,{result:function(pa){eb(Da,function(){this._ctrl.releaseMasterToken(vb);Ya(pa);},Za);},timeout:function(){eb(Da,function(){this._ctrl.releaseMasterToken(vb);Da.timeout();},Za);},error:function(pa){eb(Da,function(){this._ctrl.releaseMasterToken(vb);Da.error(pa);},Za);}});else {this._openedStreams && (this._input.close(),this._output.close(Ea,Sa));Db=new Ma(this._ctrl,this._ctx,ub,this._remoteEntity,null,null,{builder:Eb,tokenTicket:vb},Ja,this._timeout);this.setAbort(function(){Db.abort();});Db.call({result:function(pa){Ya(pa);},timeout:function(){Da.timeout();},error:function(pa){Da.error(pa);}});}},Za);},timeout:function(){Da.timeout();},error:function(tb){Da.error(tb);}});},Za);}function Ia(db){eb(Da,function(){var pb,tb,ub,vb,Eb;function Ya(){pb.read(32768,Za._timeout,{result:function(Db){Db?Ya():mb();},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}function mb(){eb(Da,function(){var Db;Db=new qa(db.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,tb,Ea,{result:function(pa){eb(Da,function(){var Fa;Fa=pa.tokenTicket;this.execute(Db,pa.builder,this._timeout,Ja,{result:function(Oa){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);return Oa;},Za);},timeout:function(){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(Oa){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw Oa;},Za);}});},Za);},timeout:function(){Da.timeout();},error:function(pa){Da.error(pa);}});},Za);}pb=db.response;tb=pb.getMessageHeader();ub=db.payloads;ub=0 < ub.length && 0 < ub[0].data.length;if(!this._ctx.isPeerToPeer()){if(!db.handshake || !ub)return pb;this._openedStreams && (this._input.close(),this._output.close(Ea,Sa));vb=new qa(db.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,tb,Ea,{result:function(Db){eb(Da,function(){var pa;pa=new Ma(this._ctrl,this._ctx,vb,this._remoteEntity,null,null,Db,Ja,this._timeout);this.setAbort(function(){pa.abort();});pa.call(Da);},Za);},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}else if(db.handshake && ub)Ya();else if(0 < tb.keyRequestData.length){Eb=new za(oa);this._ctrl.buildResponse(this,this._ctx,Eb,tb,Ea,{result:function(Db){eb(Da,function(){var pa,Fa;pa=Db.builder;Fa=Db.tokenTicket;pb.mark();pb.read(1,this._timeout,{result:function(Oa){eb(Da,function(){function r(){pb.read(32768,Za._timeout,{result:function(a){a?r():b();},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});}function b(){Za.execute(Eb,pa,Za._timeout,Ja,{result:function(a){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);return a;},Za);},timeout:function(){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(a){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw a;},Za);}});}if(Oa){if((pb.reset(),12 >= Ja + 1))(pa.setRenewable(!1),this._ctrl.send(this,this._ctx,Eb,this._output,pa,this._timeout,{result:function(a){eb(Da,function(){this.releaseMasterToken(Fa);return pb;},Za);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}}));else return (this.releaseMasterToken(Fa),pb);}else r();},Za);},timeout:function(){eb(Da,function(){this.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(Oa){eb(Da,function(){this.releaseMasterToken(Fa);throw Oa;},Za);}});},Za);},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}},Za);}Za=this;eb(Da,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,oa,this._input,this._output,ya,Ea,!0,{result:function(db){eb(Da,function(){var Ya;if(!db)return null;Ya=db.response;Ja+=2;Ya.getMessageHeader()?Ia(db):Ta(db);},Za);},timeout:function(){Da.timeout();},error:function(db){Da.error(db);}});},Za);},call:function(oa){var Ea;function ya(Ja,Da,Ta){eb(oa,function(){this.execute(this._msgCtx,Ja,Ta,this._msgCount,{result:function(Ia){eb(oa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && this._output.close(Ta,Sa);Ia && Ia.closeSource(this._openedStreams);return Ia;},Ea);},timeout:function(){eb(oa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Ta,Sa),this._input.close());oa.timeout();},Ea);},error:function(Ia){eb(oa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Ta,Sa),this._input.close());if(W(Ia))return null;throw Ia;},Ea);}});},Ea);}Ea=this;eb(oa,function(){var Ja,Da,Ta;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Da=Date.now();Ta=this._remoteEntity.openConnection();this._output=Ta.output;this._input=Ta.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Da));this._openedStreams=!0;}catch(Ia){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Sa);this._input && this._input.close();if(W(Ia))return null;throw Ia;}this._builder?ya(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ia){eb(oa,function(){ya(Ia.builder,Ia.tokenTicket,Ja);},Ea);},timeout:function(){eb(oa,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());oa.timeout();},Ea);},error:function(Ia){eb(oa,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());if(W(Ia))return null;throw Ia;},Ea);}});},Ea);}});})();(function(){Xd=Gb.Class.create({init:function(ea){Object.defineProperties(this,{id:{value:ea,writable:!1,configurable:!1}});},toJSON:function(){var ea;ea={};ea.id=this.id;return ea;},equals:function(ea){return this === ea?!0:ea instanceof Xd?this.id == ea.id:!1;},uniqueKey:function(){return this.id;}});af=function(ea){var X;X=ea.id;if(!X)throw new Hb(S.JSON_PARSE_ERROR,JSON.stringify(ea));return new Xd(X);};})();Gb.Class.create({isNewestMasterToken:function(ea,X,T){},isMasterTokenRevoked:function(ea,X){},acceptNonReplayableId:function(ea,X,T,V){},createMasterToken:function(ea,X,T,V,ba){},isMasterTokenRenewable:function(ea,X,T){},renewMasterToken:function(ea,X,T,V,ba){},isUserIdTokenRevoked:function(ea,X,T,V){},createUserIdToken:function(ea,X,T,V){},renewUserIdToken:function(ea,X,T,V){}});(function(){function ea(X,T,V,ba){this.sessiondata=X;this.tokendata=T;this.signature=V;this.verified=ba;}ic=Gb.Class.create({init:function(X,T,V,ba,W,ha,wa,ta,ia,qa,za){var la;la=this;Na(za,function(){var Z,ca,fa,xa,Sa;if(V.getTime() < T.getTime())throw new Bb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ba || ba > Rb)throw new Bb("Sequence number " + ba + " is outside the valid range.");if(0 > W || W > Rb)throw new Bb("Serial number " + W + " is outside the valid range.");Z=Math.floor(T.getTime() / 1E3);ca=Math.floor(V.getTime() / 1E3);if(qa)fa=qa.sessiondata;else {xa={};ha && (xa.issuerdata=ha);xa.identity=wa;xa.encryptionkey=Kb(ta.toByteArray());xa.hmackey=Kb(ia.toByteArray());fa=fc(JSON.stringify(xa),Tb);}if(qa)return (Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:ia,writable:!1,configurable:!1},sessiondata:{value:fa,writable:!1,enumerable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:qa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Sa=X.getMslCryptoContext();Sa.encrypt(fa,{result:function(Ma){Na(za,function(){var Qa,Va;Qa={};Qa.renewalwindow=Z;Qa.expiration=ca;Qa.sequencenumber=ba;Qa.serialnumber=W;Qa.sessiondata=Kb(Ma);Va=fc(JSON.stringify(Qa),Tb);Sa.sign(Va,{result:function(oa){Na(za,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:W,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:ia,writable:!1,configurable:!1},sessiondata:{value:fa,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(oa){za.error(oa);}});},la);},error:function(Ma){za.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(X){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(X){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(X){var T;if(this.sequenceNumber == X.sequenceNumber)return this.expiration > X.expiration;if(this.sequenceNumber > X.sequenceNumber){T=this.sequenceNumber - Rb + 127;return X.sequenceNumber >= T;}T=X.sequenceNumber - Rb + 127;return this.sequenceNumber < T;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof ic?this.serialNumber == X.serialNumber && this.sequenceNumber == X.sequenceNumber && this.expiration.getTime() == X.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});ed=function(X,T,V){Na(V,function(){var ba,W,ha,wa,ta;ba=X.getMslCryptoContext();W=T.tokendata;ha=T.signature;if("string" !== typeof W || "string" !== typeof ha)throw new Hb(S.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(T));try{wa=Mb(W);}catch(ia){throw new hb(S.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(T),ia);}if(!wa || 0 == wa.length)throw new Hb(S.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(T));try{ta=Mb(ha);}catch(ia){throw new hb(S.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(T),ia);}ba.verify(wa,ta,{result:function(ia){Na(V,function(){var qa,za,la,Z,ca,fa,xa,Sa,Ma,Qa;qa=ec(wa,Tb);try{za=JSON.parse(qa);la=parseInt(za.renewalwindow);Z=parseInt(za.expiration);ca=parseInt(za.sequencenumber);fa=parseInt(za.serialnumber);xa=za.sessiondata;}catch(Va){if(Va instanceof SyntaxError)throw new Hb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa,Va);throw Va;}if(!la || la != la || !Z || Z != Z || "number" !== typeof ca || ca != ca || "number" !== typeof fa || fa != fa || "string" !== typeof xa)throw new Hb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa);if(Z < la)throw new hb(S.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + qa);if(0 > ca || ca > Rb)throw new hb(S.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);if(0 > fa || fa > Rb)throw new hb(S.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);Sa=new Date(1E3 * la);Ma=new Date(1E3 * Z);try{Qa=Mb(xa);}catch(Va){throw new hb(S.MASTERTOKEN_SESSIONDATA_INVALID,xa,Va);}if(!Qa || 0 == Qa.length)throw new hb(S.MASTERTOKEN_SESSIONDATA_MISSING,xa);ia?ba.decrypt(Qa,{result:function(Va){Na(V,function(){var oa,ya,Ea,Ja,Da,Ta;oa=ec(Va,Tb);try{ya=JSON.parse(oa);Ea=ya.issuerdata;Ja=ya.identity;Da=ya.encryptionkey;Ta=ya.hmackey;}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa,Ia);throw Ia;}if(Ea && "object" !== typeof Ea || !Ja || "string" !== typeof Da || "string" !== typeof Ta)throw new Hb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa);tc(Da,oc,Dc,{result:function(Ia){tc(Ta,pc,Mc,{result:function(Za){Na(V,function(){var db;db=new ea(Va,wa,ta,ia);new ic(X,Sa,Ma,ca,fa,Ea,Ja,Ia,Za,db,V);});},error:function(Za){V.error(new zb(S.MASTERTOKEN_KEY_CREATION_ERROR,Za));}});},error:function(Ia){V.error(new zb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ia));}});});},error:function(Va){V.error(Va);}}):(la=new ea(null,wa,ta,ia),new ic(X,Sa,Ma,ca,fa,null,null,null,null,la,V));});},error:function(ia){V.error(ia);}});});};})();(function(){function ea(X,T,V){this.tokendata=X;this.signature=T;this.verified=V;}Tc=Gb.Class.create({init:function(X,T,V,ba,W,ha,wa,ta,ia){var qa;qa=this;Na(ia,function(){var za,la,Z,ca,fa,xa,Sa;if(V.getTime() < T.getTime())throw new Bb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ba)throw new Bb("Cannot construct a user ID token without a master token.");if(0 > W || W > Rb)throw new Bb("Serial number " + W + " is outside the valid range.");za=Math.floor(T.getTime() / 1E3);la=Math.floor(V.getTime() / 1E3);Z=ba.serialNumber;if(ta){ca=ta.tokendata;fa=ta.signature;xa=ta.verified;Z=ba.serialNumber;Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:la,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:xa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:fa,writable:!1,enumerable:!1,configurable:!1}});return this;}ca={};ha && (ca.issuerdata=ha);ca.identity=wa;ca=fc(JSON.stringify(ca),Tb);Sa=X.getMslCryptoContext();Sa.encrypt(ca,{result:function(Ma){Na(ia,function(){var Qa,Va;Qa={};Qa.renewalwindow=za;Qa.expiration=la;Qa.mtserialnumber=Z;Qa.serialnumber=W;Qa.userdata=Kb(Ma);Va=fc(JSON.stringify(Qa),Tb);Sa.sign(Va,{result:function(oa){Na(ia,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:la,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ba.serialNumber,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(oa){Na(ia,function(){oa instanceof hb && oa.setEntity(ba);throw oa;},qa);}});},qa);},error:function(Ma){Na(ia,function(){Ma instanceof hb && Ma.setEntity(ba);throw Ma;},qa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(X){return X && X.serialNumber == this.mtSerialNumber;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof Tc?this.serialNumber == X.serialNumber && this.mtSerialNumber == X.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});vd=function(X,T,V,ba){Na(ba,function(){var W,ha,wa,ta,ia;W=X.getMslCryptoContext();ha=T.tokendata;wa=T.signature;if("string" !== typeof ha || "string" !== typeof wa)throw new Hb(S.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(T)).setEntity(V);try{ta=Mb(ha);}catch(qa){throw new hb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),qa).setEntity(V);}if(!ta || 0 == ta.length)throw new Hb(S.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(T)).setEntity(V);try{ia=Mb(wa);}catch(qa){throw new hb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),qa).setEntity(V);}W.verify(ta,ia,{result:function(qa){Na(ba,function(){var za,la,Z,ca,fa,xa,Sa,Ma,Qa,Va;za=ec(ta,Tb);try{la=JSON.parse(za);Z=parseInt(la.renewalwindow);ca=parseInt(la.expiration);fa=parseInt(la.mtserialnumber);xa=parseInt(la.serialnumber);Sa=la.userdata;}catch(oa){if(oa instanceof SyntaxError)throw new Hb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za,oa).setEntity(V);throw oa;}if(!Z || Z != Z || !ca || ca != ca || "number" !== typeof fa || fa != fa || "number" !== typeof xa || xa != xa || "string" !== typeof Sa)throw new Hb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za).setEntity(V);if(ca < Z)throw new hb(S.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + za).setEntity(V);if(0 > fa || fa > Rb)throw new hb(S.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(V);if(0 > xa || xa > Rb)throw new hb(S.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(V);Ma=new Date(1E3 * Z);Qa=new Date(1E3 * ca);if(!V || fa != V.serialNumber)throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + fa + "; mt " + JSON.stringify(V)).setEntity(V);try{Va=Mb(Sa);}catch(oa){throw new hb(S.USERIDTOKEN_USERDATA_INVALID,Sa,oa).setEntity(V);}if(!Va || 0 == Va.length)throw new hb(S.USERIDTOKEN_USERDATA_MISSING,Sa).setEntity(V);qa?W.decrypt(Va,{result:function(oa){Na(ba,function(){var ya,Ea,Ja,Da,Ta;ya=ec(oa,Tb);try{Ea=JSON.parse(ya);Ja=Ea.issuerdata;Da=Ea.identity;}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);throw Ia;}if(Ja && "object" !== typeof Ja || "object" !== typeof Da)throw new Hb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);try{Ta=af(Da);}catch(Ia){throw new hb(S.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ya,Ia).setEntity(V);}Da=new ea(ta,ia,qa);new Tc(X,Ma,Qa,V,xa,Ja,Ta,Da,ba);});},error:function(oa){Na(ba,function(){oa instanceof hb && oa.setEntity(V);throw oa;});}}):(Z=new ea(ta,ia,qa),new Tc(X,Ma,Qa,V,xa,null,null,Z,ba));});},error:function(qa){Na(ba,function(){qa instanceof hb && qa.setEntity(V);throw qa;});}});});};})();(function(){function ea(T,V){var ba,W,ha;ba=T.tokendata;if("string" !== typeof ba)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));try{W=Mb(ba);}catch(wa){throw new hb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(T),wa);}if(!W || 0 == W.length)throw new Hb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(T));try{ha=JSON.parse(ec(W,Tb)).name;}catch(wa){if(wa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T),wa);throw wa;}if(!ha)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));return V[ha]?V[ha]:V[""];}function X(T,V,ba){this.tokendata=T;this.signature=V;this.verified=ba;}Fc=Gb.Class.create({init:function(T,V,ba,W,ha,wa,ta,ia,qa,za){var la;la=this;Na(za,function(){var Z,ca,fa,xa,Sa;if(W && ha && !ha.isBoundTo(W))throw new Bb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");Z=W?W.serialNumber:-1;ca=ha?ha.serialNumber:-1;if(qa)return (Sa=qa.tokendata,Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ta){fa=Wd(ta,ba);fa.length < ba.length || (ta=null,fa=ba);}else (ta=null,fa=ba);xa={};xa.name=V;-1 != Z && (xa.mtserialnumber=Z);-1 != ca && (xa.uitserialnumber=ca);xa.encrypted=wa;ta && (xa.compressionalgo=ta);if(wa && 0 < fa.length)ia.encrypt(fa,{result:function(Ma){Na(za,function(){var Qa;xa.servicedata=Kb(Ma);Qa=fc(JSON.stringify(xa),Tb);ia.sign(Qa,{result:function(Va){Na(za,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Va,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Va){Na(za,function(){Va instanceof hb && (Va.setEntity(W),Va.setUser(ha));throw Va;});}});},la);},error:function(Ma){Na(za,function(){Ma instanceof hb && (Ma.setEntity(W),Ma.setUser(ha));throw Ma;});}});else {xa.servicedata=Kb(fa);Sa=fc(JSON.stringify(xa),Tb);ia.sign(Sa,{result:function(Ma){Na(za,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Ma){Na(za,function(){Ma instanceof hb && (Ma.setEntity(W),Ma.setUser(ha));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(T){return T?T instanceof ic?T.serialNumber == this.mtSerialNumber:T instanceof Tc?T.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var T;T={};T.tokendata=Kb(this.tokendata);T.signature=Kb(this.signature);return T;},equals:function(T){return this === T?!0:T instanceof Fc?this.name == T.name && this.mtSerialNumber == T.mtSerialNumber && this.uitSerialNumber == T.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(T,V,ba,W,ha,wa,ta,ia,qa){new Fc(T,V,ba,W,ha,wa,ta,ia,null,qa);};wd=function(T,V,ba,W,ha,wa){Na(wa,function(){var ta,ia,qa,za,la,Z,ca,fa,xa,Sa,Ma,Qa,Va;!ha || ha instanceof Uc || (ha=ea(V,ha));ta=V.tokendata;ia=V.signature;if("string" !== typeof ta || "string" !== typeof ia)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(V)).setEntity(ba).setEntity(W);try{qa=Mb(ta);}catch(oa){throw new hb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(V),oa).setEntity(ba).setEntity(W);}if(!qa || 0 == qa.length)throw new Hb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(V)).setEntity(ba).setEntity(W);try{za=Mb(ia);}catch(oa){throw new hb(S.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(V),oa).setEntity(ba).setEntity(W);}la=ec(qa,Tb);try{Z=JSON.parse(la);ca=Z.name;fa=Z.mtserialnumber?parseInt(Z.mtserialnumber):-1;xa=Z.uitserialnumber?parseInt(Z.uitserialnumber):-1;Sa=Z.encrypted;Ma=Z.compressionalgo;Qa=Z.servicedata;}catch(oa){if(oa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"servicetokendata " + la,oa).setEntity(ba).setEntity(W);throw oa;}if(!ca || "number" !== typeof fa || fa != fa || "number" !== typeof xa || xa != xa || "boolean" !== typeof Sa || Ma && "string" !== typeof Ma || "string" !== typeof Qa)throw new Hb(S.JSON_PARSE_ERROR,"servicetokendata " + la).setEntity(ba).setEntity(W);if(Z.mtserialnumber && 0 > fa || fa > Rb)throw new hb(S.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + la).setEntity(ba).setEntity(W);if(Z.uitserialnumber && 0 > xa || xa > Rb)throw new hb(S.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + la).setEntity(ba).setEntity(W);if(-1 != fa && (!ba || fa != ba.serialNumber))throw new hb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + fa + "; mt " + ba).setEntity(ba).setEntity(W);if(-1 != xa && (!W || xa != W.serialNumber))throw new hb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + xa + "; uit " + W).setEntity(ba).setEntity(W);Sa=!0 === Sa;if(Ma){if(!Kc[Ma])throw new hb(S.UNIDENTIFIED_COMPRESSION,Ma);Va=Ma;}else Va=null;ha?ha.verify(qa,za,{result:function(oa){Na(wa,function(){var ya,Ea;if(oa){try{ya=Mb(Qa);}catch(Ja){throw new hb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + la,Ja).setEntity(ba).setEntity(W);}if(!ya || 0 != Qa.length && 0 == ya.length)throw new hb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + la).setEntity(ba).setEntity(W);if(Sa && 0 < ya.length)ha.decrypt(ya,{result:function(Ja){Na(wa,function(){var Da,Ta;Da=Va?xd(Va,Ja):Ja;Ta=new X(qa,za,oa);new Fc(T,ca,Da,-1 != fa?ba:null,-1 != xa?W:null,Sa,Va,ha,Ta,wa);});},error:function(Ja){Na(wa,function(){Ja instanceof hb && (Ja.setEntity(ba),Ja.setUser(W));throw Ja;});}});else {ya=Va?xd(Va,ya):ya;Ea=new X(qa,za,oa);new Fc(T,ca,ya,-1 != fa?ba:null,-1 != xa?W:null,Sa,Va,ha,Ea,wa);}}else (ya="" == Qa?new Uint8Array(0):null,Ea=new X(qa,za,oa),new Fc(T,ca,ya,-1 != fa?ba:null,-1 != xa?W:null,Sa,Va,ha,Ea,wa));});},error:function(oa){Na(wa,function(){oa instanceof hb && (oa.setEntity(ba),oa.setUser(W));throw oa;});}}):(ta="" == Qa?new Uint8Array(0):null,ia=new X(qa,za,!1),new Fc(T,ca,ta,-1 != fa?ba:null,-1 != xa?W:null,Sa,Va,ha,ia,wa));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){$c=Gb.Class.create({init:function(ea){Object.defineProperties(this,{scheme:{value:ea,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ea){return this === ea?!0:ea instanceof $c?this.scheme == ea.scheme:!1;},toJSON:function(){var ea;ea={};ea.scheme=this.scheme;ea.authdata=this.getAuthData();return ea;}});Qe=function(ea,X,T,V){Na(V,function(){var ba,W,ha;ba=T.scheme;W=T.authdata;if(!ba || !W)throw new Hb(S.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(T));if(!Gc[ba])throw new Cc(S.UNIDENTIFIED_USERAUTH_SCHEME,ba);ha=ea.getUserAuthenticationFactory(ba);if(!ha)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ba);ha.createData(ea,X,W,V);});};})();bf=Gb.Class.create({init:function(ea){Object.defineProperties(this,{scheme:{value:ea,writable:!1,configurable:!1}});},createData:function(ea,X,T,V){},authenticate:function(ea,X,T,V){}});(function(){hd=$c.extend({init:function V(X,T){V.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:T,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.netflixid=this.netflixId;this.secureNetflixId && (X.securenetflixid=this.secureNetflixId);return X;},equals:function V(T){return this === T?!0:T instanceof hd?V.base.call(this,T) && this.netflixId == T.netflixId && this.secureNetflixId == T.secureNetflixId:!1;}});cf=function(T){var V,ba;V=T.netflixid;ba=T.securenetflixid;if(!V)throw new Hb(S.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(T));return new hd(V,ba);};})();Df=bf.extend({init:function X(){X.base.call(this,Gc.NETFLIXID);},createData:function(X,T,V,ba){Na(ba,function(){return cf(V);});},authenticate:function(X,T,V,ba){if(!(V instanceof hd))throw new Bb("Incorrect authentication data type " + V + ".");X=V.secureNetflixId;if(!V.netflixId || !X)throw new Cc(S.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){id=$c.extend({init:function ba(T,V){ba.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:T,writable:!1,configurable:!1},password:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var T;T={};T.email=this.email;T.password=this.password;return T;},equals:function ba(V){return this === V?!0:V instanceof id?ba.base.call(this,this,V) && this.email == V.email && this.password == V.password:!1;}});df=function(V){var ba,W;ba=V.email;W=V.password;if(!ba || !W)throw new Hb(S.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(V));return new id(ba,W);};})();Ef=bf.extend({init:function T(){T.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(T,V,ba,W){Na(W,function(){return df(ba);});},authenticate:function(T,V,ba,W){if(!(ba instanceof id))throw new Bb("Incorrect authentication data type " + ba + ".");T=ba.password;if(!ba.email || !T)throw new Cc(S.EMAILPASSWORD_BLANK).setUser(ba);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ba);}});Object.freeze({ENTITY_REAUTH:Ga.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ga.ENTITYDATA_REAUTH});Ff=Gb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(T,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(T){},getUserAuthenticationFactory:function(T){},getTokenFactory:function(){},getKeyExchangeFactory:function(T){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Gb.Class.create({setCryptoContext:function(T,V){},getMasterToken:function(){},getNonReplayableId:function(T){},getCryptoContext:function(T){},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,V){},getUserIdToken:function(T){},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,V){},removeServiceTokens:function(T,V,ba){},clearServiceTokens:function(){}});(function(){var T;T=Kc;Wd=function(V,ba){var W;W={};switch(V){case T.LZW:return ke(ba,W);case T.GZIP:return gzip$compress(ba);default:throw new hb(S.UNSUPPORTED_COMPRESSION,V);}};xd=function(V,ba,W){switch(V){case T.LZW:return le(ba);case T.GZIP:return gzip$uncompress(ba);default:throw new hb(S.UNSUPPORTED_COMPRESSION,V.name());}};})();ef.extend({setCryptoContext:function(T,V){},getMasterToken:function(){return null;},getNonReplayableId:function(T){return 1;},getCryptoContext:function(T){return null;},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,V){},getUserIdToken:function(T){return null;},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,V){if(V){if(!T)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(T))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + T.serialNumber);}return [];},removeServiceTokens:function(T,V,ba){if(ba && V && !ba.isBoundTo(V))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,ba){var W;if(ba){W=V.uniqueKey();this.masterTokens[W]=V;this.cryptoContexts[W]=ba;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,ba,W;V=null;for(ba in this.masterTokens){W=this.masterTokens[ba];if(!V || W.isNewerThan(V))V=W;}return V;},getNonReplayableId:function(V){var ba;V=V.serialNumber;ba=this.nonReplayableIds[V] !== Fb?this.nonReplayableIds[V]:0;if(0 > ba || ba > Rb)throw new Bb("Non-replayable ID " + ba + " is outside the valid range.");ba=ba == Rb?0:ba + 1;return this.nonReplayableIds[V]=ba;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var ba,W,ha,wa;ba=V.uniqueKey();if(this.masterTokens[ba]){W=V.serialNumber;for(ha in this.masterTokens){wa=this.masterTokens[ha];if(!wa.equals(V) && wa.serialNumber == W){delete this.masterTokens[ba];delete this.cryptoContexts[ba];return;}}Object.keys(this.userIdTokens).forEach(function(ta){ta=this.userIdTokens[ta];ta.isBoundTo(V) && this.removeUserIdToken(ta);},this);try{this.removeServiceTokens(null,V,null);}catch(ta){if(ta instanceof hb)throw new Bb("Unexpected exception while removing master token bound service tokens.",ta);throw ta;}delete this.nonReplayableIds[W];delete this.masterTokens[ba];delete this.cryptoContexts[ba];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var ba in V){delete V[ba];}},this);},addUserIdToken:function(V,ba){var W,ha;W=!1;for(ha in this.masterTokens){if(ba.isBoundTo(this.masterTokens[ha])){W=!0;break;}}if(!W)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ba.mtSerialNumber);this.userIdTokens[V]=ba;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var ba,W,ha;ba=null;for(W in this.masterTokens){ha=this.masterTokens[W];if(V.isBoundTo(ha)){ba=ha;break;}}Object.keys(this.userIdTokens).forEach(function(wa){if(this.userIdTokens[wa].equals(V)){try{this.removeServiceTokens(null,ba,V);}catch(ta){if(ta instanceof hb)throw new Bb("Unexpected exception while removing user ID token bound service tokens.",ta);throw ta;}delete this.userIdTokens[wa];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(ba){var W,ha;if(ba.isMasterTokenBound()){W=!1;for(ha in this.masterTokens){if(ba.isBoundTo(this.masterTokens[ha])){W=!0;break;}}if(!W)throw new hb(S.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ba.mtSerialNumber);}if(ba.isUserIdTokenBound()){W=!1;for(var wa in this.userIdTokens){if(ba.isBoundTo(this.userIdTokens[wa])){W=!0;break;}}if(!W)throw new hb(S.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ba.uitSerialNumber);}},this);V.forEach(function(ba){var W;if(ba.isUnbound())this.unboundServiceTokens[ba.uniqueKey()]=ba;else {if(ba.isMasterTokenBound()){W=this.mtServiceTokens[ba.mtSerialNumber];W || (W={});W[ba.uniqueKey()]=ba;this.mtServiceTokens[ba.mtSerialNumber]=W;}ba.isUserIdTokenBound() && ((W=this.uitServiceTokens[ba.uitSerialNumber]) || (W={}),W[ba.uniqueKey()]=ba,this.uitServiceTokens[ba.uitSerialNumber]=W);}},this);},getServiceTokens:function(V,ba){var W,ha,wa;if(ba){if(!V)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!ba.isBoundTo(V))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + V.serialNumber);}W={};for(ha in this.unboundServiceTokens){wa=this.unboundServiceTokens[ha];W[wa.uniqueKey()]=wa;}if(V && (ha=this.mtServiceTokens[V.serialNumber]))for(var ta in ha){wa=ha[ta];wa.isUserIdTokenBound() || (W[ta]=wa);}if(ba && (ba=this.uitServiceTokens[ba.serialNumber]))for(var ia in ba){ta=ba[ia];ta.isBoundTo(V) && (W[ia]=ta);}V=[];for(var qa in W){V.push(W[qa]);}return V;},removeServiceTokens:function(V,ba,W){var ha,wa,ta;if(W && ba && !W.isBoundTo(ba))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + W.mtSerialNumber + "; mt " + ba.serialNumber);!V || ba || W || Object.keys(this.unboundServiceTokens).forEach(function(ia){this.unboundServiceTokens[ia].name == V && delete this.unboundServiceTokens[ia];},this);if(ba && !W && (ha=this.mtServiceTokens[ba.serialNumber])){ta=Object.keys(ha);ta.forEach(function(ia){var qa;qa=ha[ia];V && qa.name != V || delete ha[ia];},this);this.mtServiceTokens[ba.serialNumber]=ha;}W && (wa=this.uitServiceTokens[W.serialNumber]) && (ba=Object.keys(wa),ba.forEach(function(ia){var qa;qa=wa[ia];V && qa.name != V || delete wa[ia];},this),this.uitServiceTokens[W.serialNumber]=wa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var ba in V){delete V[ba];}},this);}});})();Af.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,ba){ba && V && V.length && (V=Kb(V),this._contextMap[V]=ba);},getCryptoContext:function(V){return V && V.length?(V=Kb(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Kb(V),delete this._contextMap[V]);}});sf.extend({init:function ta(ba,W,ha,wa){ta.base.call(this,ba);Object.defineProperties(this,{_kde:{value:W,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ha,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,W){if(!(W instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(W) + ".");if(W.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + W.identity);return new rd(ba,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function ia(W,ha,wa,ta){ia.base.call(this,W);Object.defineProperties(this,{_kpe:{value:ha,writable:!1,enumerable:!1,configurable:!1},_kph:{value:wa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(W,ha){if(!(ha instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ha) + ".");if(ha.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ha.identity);return new rd(W,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function la(ha,wa,ta,ia,qa,za){la.base.call(this);this._log=ha;this._esn=wa;this._keyRequestData=ta;this._createKeyRequestData=ia;this._systemKeyName=qa;this._systemKeyWrapFormat=za;},setCryptoContext:function qa(wa,ta,ia){var za;za=this;za._log.trace("Adding MasterToken",{SequenceNumber:wa.sequenceNumber,SerialNumber:wa.serialNumber,Expiration:wa.expiration.getTime()});qa.base.call(this,wa,ta);!ia && (wa=za._createKeyRequestData) && (za._log.trace("Generating new keyx request data"),wa().then(function(la){za._keyRequestData=la;},function(la){za._log.error("Unable to generate new keyx request data","" + la);}));},addUserIdToken:function qa(ta,ia){this._log.trace("Adding UserIdToken",{UserId:ta,SerialNumber:ia.serialNumber,MTSerialNumber:ia.mtSerialNumber,Expiration:ia.expiration.getTime()});qa.base.call(this,ta,ia);},addServiceTokens:function qa(ia){qa.base.call(this,ia.filter(function(za){return !Gf[za.name];}));},getUserIdTokenKeys:function(){var ia,qa;ia=[];for(qa in this.userIdTokens){ia.push(qa);}return ia;},rekeyUserIdToken:function(ia,qa){this.userIdTokens[ia] && (this.userIdTokens[qa]=this.userIdTokens[ia],delete this.userIdTokens[ia]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ia){var qa;qa=this;Na(ia,function(){var za;za=qa.getMasterToken();za?qa.getKeysForStore(za,{result:function(la){Na(ia,function(){var Z,ca,fa;Z=qa.userIdTokens;ca=Object.keys(Z).map(function(xa){var Sa;Sa=Z[xa];return {userId:xa,userIdTokenJSON:Z[xa].toJSON(),serviceTokenJSONList:qa.getServiceTokens(za,Sa).map(mf)};});la.esn=qa._esn;la.masterTokenJSON=za.toJSON();la.userList=ca;fa=qa._keyRequestData.storeData;fa && Object.keys(fa).forEach(function(xa){la[xa]=fa[xa];});return la;});},timeout:ia.timeout,error:ia.error}):ia.result(null);});},getKeysForStore:function(ia,qa){var za;za=this;Na(qa,function(){var la;la=za.getCryptoContext(ia);la={encryptionKey:la.encryptionKey,hmacKey:la.hmacKey};if(la.encryptionKey && la.hmacKey){if(za._systemKeyWrapFormat)za.wrapKeysWithSystemKey(la,qa);else return la;}else throw new hb(S.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ia,qa){var za;za=this;ee(this._systemKeyName,{result:function(la){Na(qa,function(){var Z,ca,fa,xa;Z=ia.encryptionKey;ca=ia.hmacKey;fa=Z[Xc];xa=ca[Xc];if(fa && xa)return {wrappedEncryptionKey:fa,wrappedHmacKey:xa};Promise.resolve().then(function(){return Promise.all([Qb.wrapKey(za._systemKeyWrapFormat,Z,la,la.algorithm),Qb.wrapKey(za._systemKeyWrapFormat,ca,la,la.algorithm)]);}).then(function(Sa){fa=Kb(Sa[0]);Z[Xc]=fa;xa=Kb(Sa[1]);ca[Xc]=xa;qa.result({wrappedEncryptionKey:fa,wrappedHmacKey:xa});}).catch(function(Sa){qa.error(new hb(S.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Sa));});});},timeout:qa.timeout,error:qa.error});},unwrapKeysWithSystemKey:function(ia,qa){var za;za=this;ee(this._systemKeyName,{result:function(la){Na(qa,function(){var Z,ca;Z=Mb(ia.wrappedEncryptionKey);ca=Mb(ia.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Qb.unwrapKey(za._systemKeyWrapFormat,Z,la,la.algorithm,oc,!1,Dc),Qb.unwrapKey(za._systemKeyWrapFormat,ca,la,la.algorithm,pc,!1,Mc)]);}).then(function(fa){var xa;xa=fa[0];fa=fa[1];xa[Xc]=ia.wrappedEncryptionKey;fa[Xc]=ia.wrappedHmacKey;qa.result({encryptionKey:xa,hmacKey:fa});}).catch(function(fa){qa.error(new hb(S.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",fa));});});},timeout:qa.timeout,error:qa.error});},loadStoreState:function(ia,qa,za,la){var fa,xa;function Z(Sa,Ma){var Qa;try{Qa=za.userList.slice();}catch(Va){}Qa?(function oa(){var ya;ya=Qa.shift();ya?vd(qa,ya.userIdTokenJSON,Sa,{result:function(Ea){try{fa.addUserIdToken(ya.userId,Ea);ca(Sa,Ea,ya.serviceTokenJSONList,{result:oa,timeout:oa,error:oa});}catch(Ja){oa();}},timeout:oa,error:oa}):Ma.result();})():Ma.result();}function ca(Sa,Ma,Qa,Va){var oa,ya;try{oa=Qa.slice();}catch(Ea){}if(oa){ya=fa.getCryptoContext(Sa);(function Ja(){var Da;Da=oa.shift();Da?wd(qa,Da,Sa,Ma,ya,{result:function(Ta){fa.addServiceTokens([Ta]);Ja();},timeout:function(){Ja();},error:function(){Ja();}}):Va.result();})();}else Va.result();}fa=this;xa=fa._log;za.esn != fa._esn?(xa.error("Esn mismatch, starting fresh"),la.error()):(function(Sa){var Va,oa,ya,Ea;function Ma(){var Ja;if(!Va && oa && ya && Ea){Va=!0;Ja=new lc(qa,oa,ia.esn,{rawKey:ya},{rawKey:Ea});fa.setCryptoContext(oa,Ja,!0);Sa.result(oa);}}function Qa(Ja,Da){xa.error(Ja,Da && "" + Da);Va || (Va=!0,Sa.error());}za.masterTokenJSON?(ed(qa,za.masterTokenJSON,{result:function(Ja){oa=Ja;Ma();},timeout:function(){Qa("Timeout parsing MasterToken");},error:function(Ja){Qa("Error parsing MasterToken",Ja);}}),fa._systemKeyWrapFormat?fa.unwrapKeysWithSystemKey(za,{result:function(Ja){ya=Ja.encryptionKey;Ea=Ja.hmacKey;Ma();},timeout:function(){Qa("Timeout unwrapping keys");},error:function(Ja){Qa("Error unwrapping keys",Ja);}}):Promise.resolve().then(function(){return Qb.encrypt({name:oc.name,iv:new Uint8Array(16)},za.encryptionKey,new Uint8Array(1));}).then(function(Ja){ya=za.encryptionKey;}).catch(function(Ja){Qa("Error loading encryptionKey");}).then(function(){return Qb.sign(pc,za.hmacKey,new Uint8Array(1));}).then(function(Ja){Ea=za.hmacKey;Ma();}).catch(function(Ja){Qa("Error loading hmacKey");})):Qa("Persisted store is corrupt");})({result:function(Sa){Z(Sa,la);},timeout:la.timeout,error:la.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Xc="$netflix$msl$wrapsys";If=Ff.extend({init:function(ia,qa,za,la,Z,ca){var fa,xa;fa=new fd([Kc.LZW]);xa=new vf();xa.addPublicKey(qa,za);la[Wb.RSA]=new uf(xa);qa={};qa[Gc.EMAIL_PASSWORD]=new Ef();qa[Gc.NETFLIXID]=new Df();ia={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:fa,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:Z,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:la,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:qa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ca,writable:!1,enumerable:!1,configurable:!1},_store:{value:ia,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ia,qa){qa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ia){return this._entityAuthFactories[ia];},getUserAuthenticationFactory:function(ia){return this._userAuthFactories[ia];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ia){return this._keyExchangeFactories.filter(function(qa){return qa.scheme == ia;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(ia,qa,za,la){this._log=ia;this._mslContext=qa;this._mslRequest=za;this._keyRequestData=la;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ia,qa,za,la){var Z;Z=this._mslRequest;Na(la,function(){return ia || !Z.shouldSendUserAuthData?null:Z.email?new id(Z.email,Z.password):Z.useNetflixUserAuthData || za && Z.sendUserAuthIfRequired?new hd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ia){ia.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ia,qa,za){var la,Z,ca,fa,xa,Sa;la=this._log;Z=(this._mslRequest.serviceTokens || []).slice();ca=this._mslContext;qa=ca.getMslStore();fa=ia.builder.getMasterToken();xa=this.getUserId();Sa=qa.getUserIdToken(xa);(function Qa(){var Va;Va=Z.shift();if(Va)try{Va instanceof Fc?(ia.addPrimaryServiceToken(Va),Qa()):wd(ca,Va,fa,Sa,null,{result:function(oa){try{ia.addPrimaryServiceToken(oa);}catch(ya){la.warn("Exception adding service token","" + ya);}Qa();},timeout:function(){la.warn("Timeout parsing service token");Qa();},error:function(oa){la.warn("Error parsing service token","" + oa);Qa();}});}catch(oa){la.warn("Exception processing service token","" + oa);Qa();}else za.result(!0);})();},write:function(ia,qa,za){var la;la=fc(this._mslRequest.body);ia.write(la,0,la.length,qa,{result:function(Z){Z != la.length?za.error(new Yb("Not all data was written to output.")):ia.flush(qa,{result:function(){za.result(!0);},timeout:function(){za.timeout();},error:function(ca){za.error(ca);}});},timeout:function(){za.timeout();},error:function(Z){za.error(Z);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(ia,qa){this._log=ia;this._mslRequest=qa;},sentHeader:function(ia){this._log.trace("Sent MSL header",fe(this._mslRequest,ia),ia.serviceTokens && ia.serviceTokens.map(nf).join("\n"));},receivedHeader:function(ia){var qa,za;qa=fe(this._mslRequest,ia);za=ia.errorCode;za?this._log.warn("Received MSL error header",qa,{errorCode:za,errorMessage:ia.errorMessage,internalCode:ia.internalCode}):this._log.trace("Received MSL header",qa);}});Kf={JWK_RSA:function(ia){return pf(ia,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};ob.netflix=ob.netflix || ({});ob.netflix.msl={createMslClient:function(ia,qa){var za,la,Z,ca,fa;za=ia.log;fa=ia.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Vb && Vb.generateKey && Vb.importKey && Vb.unwrapKey))throw new hb(S.INTERNAL_EXCEPTION,"No WebCrypto");dc=Vb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?md.V2014_02:md.LEGACY;fa("mslisik");return Qb.importKey("spki",ia.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(xa){return new Promise(function(Sa,Ma){Jc(xa,{result:Sa,error:function(){Ma(new hb(S.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(xa){la=xa;if(xa=Kf.JWK_RSA)return (fa("mslcc"),xa(ia));throw new hb(S.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(xa){var Sa;Z=new Hf(za,ia.esn,xa.keyRequestData,xa.createKeyRequestData,ia.authenticationKeyNames.s,ia.systemKeyWrapFormat);ca=new If(Z,ia.serverIdentityId,la,xa.entityAuthFactories,xa.entityAuthData,xa.keyExchangeFactories);Sa=ia.storeState;if(Sa)return (fa("mslss"),za.info("Loading store state"),new Promise(function(Ma,Qa){Z.loadStoreState(ia,ca,Sa,{result:Ma,timeout:Ma,error:Ma});}));za.info("No store state, starting fresh");}).then(function(){var xa;xa=new $e();fa("msldone");qa.result(new of(za,xa,ca,Z,ia.ErrorSubCodes));}).catch(function(xa){qa.error(xa);});},IHttpLocation:yf,MslIoException:Yb};(function(){var db,Ya,mb,pb,tb,ub,vb,Eb,Db;function ia(pa){var Fa;Fa=0;return function(){return Fa < pa.length?{done:!1,value:pa[Fa++]}:{done:!0};};}function qa(pa,Fa){var Oa,b;if(Fa)a:{Oa=Ya;pa=pa.split(".");for(var r=0;r < pa.length - 1;r++){b=pa[r];if(!((b in Oa)))break a;Oa=Oa[b];}pa=pa[pa.length - 1];r=Oa[pa];Fa=Fa(r);Fa != r && null != Fa && db(Oa,pa,{configurable:!0,writable:!0,value:Fa});}}function za(pa){pa={next:pa};pa[Symbol.iterator]=function(){return this;};return pa;}function la(pa){var Fa;Fa="undefined" != typeof Symbol && Symbol.iterator && pa[Symbol.iterator];return Fa?Fa.call(pa):{next:ia(pa)};}function Z(pa){for(var Fa,Oa=[];!(Fa=pa.next()).done;){Oa.push(Fa.value);}return Oa;}function ca(pa){return pa instanceof Array?pa:Z(la(pa));}function fa(pa,Fa){var r;pa.prototype=mb(Fa.prototype);pa.prototype.constructor=pa;if(Eb)Eb(pa,Fa);else for(var Oa in Fa){if("prototype" != Oa)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Fa,Oa);r && Object.defineProperty(pa,Oa,r);}else pa[Oa]=Fa[Oa];}pa.Sic=Fa.prototype;}function xa(){this.LU=!1;this.ZC=null;this.SY=void 0;this.Lv=1;this.VYa=this.sja=0;this.AE=null;}function Sa(pa){if(pa.LU)throw new TypeError("Generator is already running");pa.LU=!0;}function Ma(pa,Fa,Oa){pa.Lv=Oa;return {value:Fa};}function Qa(pa){this.uf=new xa();this.NYb=pa;}function Va(pa,Fa){var Oa;Sa(pa.uf);Oa=pa.uf.ZC;if(Oa)return oa(pa,("return" in Oa)?Oa["return"]:function(r){return {value:r,done:!0};},Fa,pa.uf.return);pa.uf.return(Fa);return ya(pa);}function oa(pa,Fa,Oa,r){var b,a;try{b=Fa.call(pa.uf.ZC,Oa);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (pa.uf.LU=!1,b);a=b.value;}catch(c){return (pa.uf.ZC=null,pa.uf.bY(c),ya(pa));}pa.uf.ZC=null;r.call(pa.uf,a);return ya(pa);}function ya(pa){var Fa;for(;pa.uf.Lv;){try{Fa=pa.NYb(pa.uf);if(Fa)return (pa.uf.LU=!1,{value:Fa.value,done:!1});}catch(Oa){pa.uf.SY=void 0;pa.uf.bY(Oa);}}pa.uf.LU=!1;if(pa.uf.AE){Fa=pa.uf.AE;pa.uf.AE=null;if(Fa.HOb)throw Fa.wYa;return {value:Fa.return,done:!0};}return {value:void 0,done:!0};}function Ea(pa){this.next=function(Fa){return pa.MV(Fa);};this.throw=function(Fa){return pa.bY(Fa);};this.return=function(Fa){return Va(pa,Fa);};this[Symbol.iterator]=function(){return this;};}function Ja(pa,Fa){Fa=new Ea(new Qa(Fa));Eb && pa.prototype && Eb(Fa,pa.prototype);return Fa;}function Da(pa,Fa){var Oa,r,b;pa instanceof String && (pa+="");Oa=0;r=!1;b={next:function(){var a;if(!r && Oa < pa.length){a=Oa++;return {value:Fa(a,pa[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}function Ta(pa,Fa){return Object.prototype.hasOwnProperty.call(pa,Fa);}function Ia(pa,Fa,Oa){var a;pa instanceof String && (pa=String(pa));for(var r=pa.length,b=0;b < r;b++){a=pa[b];if(Fa.call(Oa,a,b,pa))return {d2a:b,Qaa:a};}return {d2a:-1,Qaa:void 0};}function Za(pa,Fa,Oa){if(null == pa)throw new TypeError("The 'this' value for String.prototype." + Oa + " must not be null or undefined");if(Fa instanceof RegExp)throw new TypeError("First argument to String.prototype." + Oa + " must not be a regular expression");return pa + "";}db="function" == typeof Object.defineProperties?Object.defineProperty:function(pa,Fa,Oa){if(pa == Array.prototype || pa == Object.prototype)return pa;pa[Fa]=Oa.value;return pa;};Ya=(function(pa){var Oa;pa=["object" == typeof globalThis && globalThis,pa,"object" == typeof ob && ob,"object" == typeof self && self,"object" == typeof global && global];for(var Fa=0;Fa < pa.length;++Fa){Oa=pa[Fa];if(Oa && Oa.Math == Math)return Oa;}throw Error("Cannot find global object");})(this);qa("Symbol",function(pa){var r;function Fa(b){if(this instanceof Fa)throw new TypeError("Symbol is not a constructor");return new Oa("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Oa(b,a){this.Jgb=b;db(this,"description",{configurable:!0,writable:!0,value:a});}if(pa)return pa;Oa.prototype.toString=function(){return this.Jgb;};r=0;return Fa;});qa("Symbol.iterator",function(pa){var r;if(pa)return pa;pa=Symbol("Symbol.iterator");for(var Fa=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Oa=0;Oa < Fa.length;Oa++){r=Ya[Fa[Oa]];"function" === typeof r && "function" != typeof r.prototype[pa] && db(r.prototype,pa,{configurable:!0,writable:!0,value:function(){return za(ia(this));}});}return pa;});mb="function" == typeof Object.create?Object.create:function(pa){function Fa(){}Fa.prototype=pa;return new Fa();};pb=(function(){var Fa;function pa(){function Oa(){}new Oa();Reflect.construct(Oa,[],function(){});return new Oa() instanceof Oa;}if("undefined" != typeof Reflect && Reflect.construct){if(pa())return Reflect.construct;Fa=Reflect.construct;return function(Oa,r,b){Oa=Fa(Oa,r);b && Reflect.setPrototypeOf(Oa,b.prototype);return Oa;};}return function(Oa,r,b){void 0 === b && (b=Oa);b=mb(b.prototype || Object.prototype);return Function.prototype.apply.call(Oa,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)tb=Object.setPrototypeOf;else {a:{ub={a:!0};vb={};try{vb.__proto__=ub;tb=vb.a;break a;}catch(pa){}tb=!1;}tb=tb?function(pa,Fa){pa.__proto__=Fa;if(pa.__proto__ !== Fa)throw new TypeError(pa + " is not extensible");return pa;}:null;}Eb=tb;xa.prototype.MV=function(pa){this.SY=pa;};xa.prototype.bY=function(pa){this.AE={wYa:pa,HOb:!0};this.Lv=this.sja || this.VYa;};xa.prototype.return=function(pa){this.AE={return:pa};this.Lv=this.VYa;};Qa.prototype.MV=function(pa){Sa(this.uf);if(this.uf.ZC)return oa(this,this.uf.ZC.next,pa,this.uf.MV);this.uf.MV(pa);return ya(this);};Qa.prototype.bY=function(pa){Sa(this.uf);if(this.uf.ZC)return oa(this,this.uf.ZC["throw"],pa,this.uf.MV);this.uf.bY(pa);return ya(this);};qa("Reflect",function(pa){return pa?pa:{};});qa("Reflect.construct",function(){return pb;});qa("Reflect.setPrototypeOf",function(pa){return pa?pa:Eb?function(Fa,Oa){try{return (Eb(Fa,Oa),!0);}catch(r){return !1;}}:null;});qa("Array.from",function(pa){return pa?pa:function(Fa,Oa,r){var b,a;Oa=null != Oa?Oa:function(l){return l;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Fa[Symbol.iterator];if("function" == typeof a){Fa=a.call(Fa);for(var c=0;!(a=Fa.next()).done;){b.push(Oa.call(r,a.value,c++));}}else for((a=Fa.length,c=0);c < a;c++){b.push(Oa.call(r,Fa[c],c));}return b;};});qa("Promise",function(pa){var b,a;function Fa(c){var l;this.dO=0;this.eX=void 0;this.PM=[];this.B3a=!1;l=this.zka();try{c(l.resolve,l.reject);}catch(f){l.reject(f);}}function Oa(){this.IA=null;}function r(c){return c instanceof Fa?c:new Fa(function(l){l(c);});}if(pa)return pa;Oa.prototype.WSa=function(c){var l;if(null == this.IA){this.IA=[];l=this;this.XSa(function(){l.BFb();});}this.IA.push(c);};b=Ya.setTimeout;Oa.prototype.XSa=function(c){b(c,0);};Oa.prototype.BFb=function(){var c,f;for(;this.IA && this.IA.length;){c=this.IA;this.IA=[];for(var l=0;l < c.length;++l){f=c[l];c[l]=null;try{f();}catch(k){this.nub(k);}}}this.IA=null;};Oa.prototype.nub=function(c){this.XSa(function(){throw c;});};Fa.prototype.zka=function(){var l,f;function c(k){return function(d){f || (f=!0,k.call(l,d));};}l=this;f=!1;return {resolve:c(this.m0b),reject:c(this.iva)};};Fa.prototype.m0b=function(c){var l;if(c === this)this.iva(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Fa)this.E2b(c);else {a:switch(typeof c){case "object":l=null != c;break a;case "function":l=!0;break a;default:l=!1;}l?this.l0b(c):this.HZa(c);}};Fa.prototype.l0b=function(c){var l;l=void 0;try{l=c.then;}catch(f){this.iva(f);return;}"function" == typeof l?this.F2b(l,c):this.HZa(c);};Fa.prototype.iva=function(c){this.$bb(2,c);};Fa.prototype.HZa=function(c){this.$bb(1,c);};Fa.prototype.$bb=function(c,l){if(0 != this.dO)throw Error("Cannot settle(" + c + ", " + l + "): Promise already settled in state" + this.dO);this.dO=c;this.eX=l;2 === this.dO && this.Z0b();this.CFb();};Fa.prototype.Z0b=function(){var c;c=this;b(function(){var l;if(c.jUb()){l=Ya.console;"undefined" !== typeof l && l.error(c.eX);}},1);};Fa.prototype.jUb=function(){var c,l,f;if(this.B3a)return !1;c=Ya.CustomEvent;l=Ya.Event;f=Ya.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof l?c=new l("unhandledrejection",{cancelable:!0}):(c=Ya.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.eX;return f(c);};Fa.prototype.CFb=function(){if(null != this.PM){for(var c=0;c < this.PM.length;++c){a.WSa(this.PM[c]);}this.PM=null;}};a=new Oa();Fa.prototype.E2b=function(c){var l;l=this.zka();c.o3(l.resolve,l.reject);};Fa.prototype.F2b=function(c,l){var f;f=this.zka();try{c.call(l,f.resolve,f.reject);}catch(k){f.reject(k);}};Fa.prototype.then=function(c,l){var k,d,g;function f(m,h){return "function" == typeof m?function(n){try{k(m(n));}catch(p){d(p);}}:h;}g=new Fa(function(m,h){k=m;d=h;});this.o3(f(c,k),f(l,d));return g;};Fa.prototype.catch=function(c){return this.then(void 0,c);};Fa.prototype.o3=function(c,l){var k;function f(){switch(k.dO){case 1:c(k.eX);break;case 2:l(k.eX);break;default:throw Error("Unexpected state: " + k.dO);}}k=this;null == this.PM?a.WSa(f):this.PM.push(f);this.B3a=!0;};Fa.resolve=r;Fa.reject=function(c){return new Fa(function(l,f){f(c);});};Fa.race=function(c){return new Fa(function(l,f){for(var k=la(c),d=k.next();!d.done;d=k.next()){r(d.value).o3(l,f);}});};Fa.all=function(c){var l,f;l=la(c);f=l.next();return f.done?r([]):new Fa(function(k,d){var m,h;function g(n){return function(p){m[n]=p;h--;0 == h && k(m);};}m=[];h=0;do {m.push(void 0);h++;r(f.value).o3(g(m.length - 1),d);f=l.next();}while(!f.done);});};return Fa;});qa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});qa("Array.prototype.keys",function(pa){return pa?pa:function(){return Da(this,function(Fa){return Fa;});};});qa("WeakMap",function(pa){var c,l;function Fa(f){this.pU=(l+=Math.random() + 1).toString();if(f){f=la(f);for(var k;!(k=f.next()).done;){k=k.value;this.set(k[0],k[1]);}}}function Oa(){}function r(f){var k;k=typeof f;return "object" === k && null !== f || "function" === k;}function b(f){var k;if(!Ta(f,c)){k=new Oa();db(f,c,{value:k});}}function a(f){var k;k=Object[f];k && (Object[f]=function(d){if(d instanceof Oa)return d;Object.isExtensible(d) && b(d);return k(d);});}if((function(){var f,k,d;if(!pa || !Object.seal)return !1;try{f=Object.seal({});k=Object.seal({});d=new pa([[f,2],[k,3]]);if(2 != d.get(f) || 3 != d.get(k))return !1;d.delete(f);d.set(k,4);return !d.has(f) && 4 == d.get(k);}catch(g){return !1;}})())return pa;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");l=0;Fa.prototype.set=function(f,k){if(!r(f))throw Error("Invalid WeakMap key");b(f);if(!Ta(f,c))throw Error("WeakMap key fail: " + f);f[c][this.pU]=k;return this;};Fa.prototype.get=function(f){return r(f) && Ta(f,c)?f[c][this.pU]:void 0;};Fa.prototype.has=function(f){return r(f) && Ta(f,c) && Ta(f[c],this.pU);};Fa.prototype.delete=function(f){return r(f) && Ta(f,c) && Ta(f[c],this.pU)?delete f[c][this.pU]:!1;};return Fa;});qa("Map",function(pa){var a,c;function Fa(){var l;l={};return l.$l=l.next=l.head=l;}function Oa(l,f){var k;k=l.iy;return za(function(){if(k){for(;k.head != l.iy;){k=k.$l;}for(;k.next != k.head;){return (k=k.next,{done:!1,value:f(k)});}k=null;}return {done:!0,value:void 0};});}function r(l,f){var k,d,g;k=f && typeof f;"object" == k || "function" == k?a.has(f)?k=a.get(f):(k="" + ++c,a.set(f,k)):k="p_" + f;d=l.Tx[k];if(d && Ta(l.Tx,k))for(l=0;l < d.length;l++){g=d[l];if(f !== f && g.key !== g.key || f === g.key)return {id:k,list:d,index:l,entry:g};}return {id:k,list:d,index:-1,entry:void 0};}function b(l){this.Tx={};this.iy=Fa();this.size=0;if(l){l=la(l);for(var f;!(f=l.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var l,f,k,d;if(!pa || "function" != typeof pa || !pa.prototype.entries || "function" != typeof Object.seal)return !1;try{l=Object.seal({x:4});f=new pa(la([[l,"s"]]));if("s" != f.get(l) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;k=f.entries();d=k.next();if(d.done || d.value[0] != l || "s" != d.value[1])return !1;d=k.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !k.next().done?!1:!0;}catch(g){return !1;}})())return pa;a=new WeakMap();b.prototype.set=function(l,f){var k;l=0 === l?0:l;k=r(this,l);k.list || (k.list=this.Tx[k.id]=[]);k.entry?k.entry.value=f:(k.entry={next:this.iy,$l:this.iy.$l,head:this.iy,key:l,value:f},k.list.push(k.entry),this.iy.$l.next=k.entry,this.iy.$l=k.entry,this.size++);return this;};b.prototype.delete=function(l){l=r(this,l);return l.entry && l.list?(l.list.splice(l.index,1),l.list.length || delete this.Tx[l.id],l.entry.$l.next=l.entry.next,l.entry.next.$l=l.entry.$l,l.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.Tx={};this.iy=this.iy.$l=Fa();this.size=0;};b.prototype.has=function(l){return !!r(this,l).entry;};b.prototype.get=function(l){return (l=r(this,l).entry) && l.value;};b.prototype.entries=function(){return Oa(this,function(l){return [l.key,l.value];});};b.prototype.keys=function(){return Oa(this,function(l){return l.key;});};b.prototype.values=function(){return Oa(this,function(l){return l.value;});};b.prototype.forEach=function(l,f){for(var k=this.entries(),d;!(d=k.next()).done;){d=d.value;l.call(f,d[1],d[0],this);}};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});qa("Set",function(pa){function Fa(Oa){this.Hv=new Map();if(Oa){Oa=la(Oa);for(var r;!(r=Oa.next()).done;){this.add(r.value);}}this.size=this.Hv.size;}if((function(){var Oa,r,b,a;if(!pa || "function" != typeof pa || !pa.prototype.entries || "function" != typeof Object.seal)return !1;try{Oa=Object.seal({x:4});r=new pa(la([Oa]));if(!r.has(Oa) || 1 != r.size || r.add(Oa) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Oa || a.value[1] != Oa)return !1;a=b.next();return a.done || a.value[0] == Oa || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return pa;Fa.prototype.add=function(Oa){Oa=0 === Oa?0:Oa;this.Hv.set(Oa,Oa);this.size=this.Hv.size;return this;};Fa.prototype.delete=function(Oa){Oa=this.Hv.delete(Oa);this.size=this.Hv.size;return Oa;};Fa.prototype.clear=function(){this.Hv.clear();this.size=0;};Fa.prototype.has=function(Oa){return this.Hv.has(Oa);};Fa.prototype.entries=function(){return this.Hv.entries();};Fa.prototype.values=function(){return this.Hv.values();};Fa.prototype.keys=Fa.prototype.values;Fa.prototype[Symbol.iterator]=Fa.prototype.values;Fa.prototype.forEach=function(Oa,r){var b;b=this;this.Hv.forEach(function(a){return Oa.call(r,a,a,b);});};return Fa;});qa("Array.prototype.find",function(pa){return pa?pa:function(Fa,Oa){return Ia(this,Fa,Oa).Qaa;};});qa("Number.isFinite",function(pa){return pa?pa:function(Fa){return "number" !== typeof Fa?!1:!isNaN(Fa) && Infinity !== Fa && -Infinity !== Fa;};});Db="function" == typeof Object.assign?Object.assign:function(pa,Fa){var r;for(var Oa=1;Oa < arguments.length;Oa++){r=arguments[Oa];if(r)for(var b in r){Ta(r,b) && (pa[b]=r[b]);}}return pa;};qa("Object.assign",function(pa){return pa || Db;});qa("Object.is",function(pa){return pa?pa:function(Fa,Oa){return Fa === Oa?0 !== Fa || 1 / Fa === 1 / Oa:Fa !== Fa && Oa !== Oa;};});qa("Array.prototype.includes",function(pa){return pa?pa:function(Fa,Oa){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Oa=Oa || 0;for(0 > Oa && (Oa=Math.max(Oa + b,0));Oa < b;Oa++){a=r[Oa];if(a === Fa || Object.is(a,Fa))return !0;}return !1;};});qa("String.prototype.includes",function(pa){return pa?pa:function(Fa,Oa){return -1 !== Za(this,Fa,"includes").indexOf(Fa,Oa || 0);};});qa("Object.entries",function(pa){return pa?pa:function(Fa){var Oa,r;Oa=[];for(r in Fa){Ta(Fa,r) && Oa.push([r,Fa[r]]);}return Oa;};});qa("Object.values",function(pa){return pa?pa:function(Fa){var Oa,r;Oa=[];for(r in Fa){Ta(Fa,r) && Oa.push(Fa[r]);}return Oa;};});qa("Array.prototype.entries",function(pa){return pa?pa:function(){return Da(this,function(Fa,Oa){return [Fa,Oa];});};});qa("Array.prototype.findIndex",function(pa){return pa?pa:function(Fa,Oa){return Ia(this,Fa,Oa).d2a;};});qa("Promise.prototype.finally",function(pa){return pa?pa:function(Fa){return this.then(function(Oa){return Promise.resolve(Fa()).then(function(){return Oa;});},function(Oa){return Promise.resolve(Fa()).then(function(){throw Oa;});});};});qa("Number.parseInt",function(pa){return pa || parseInt;});qa("Array.prototype.values",function(pa){return pa?pa:function(){return Da(this,function(Fa,Oa){return Oa;});};});qa("String.prototype.endsWith",function(pa){return pa?pa:function(Fa,Oa){var r;r=Za(this,Fa,"endsWith");Fa+="";void 0 === Oa && (Oa=r.length);Oa=Math.max(0,Math.min(Oa | 0,r.length));for(var b=Fa.length;0 < b && 0 < Oa;){if(r[--Oa] != Fa[--b])return !1;}return 0 >= b;};});qa("String.prototype.startsWith",function(pa){return pa?pa:function(Fa,Oa){var r,b,a;r=Za(this,Fa,"startsWith");Fa+="";b=r.length;a=Fa.length;Oa=Math.max(0,Math.min(Oa | 0,r.length));for(var c=0;c < a && Oa < b;){if(r[Oa++] != Fa[c++])return !1;}return c >= a;};});qa("Number.isNaN",function(pa){return pa?pa:function(Fa){return "number" === typeof Fa && isNaN(Fa);};});qa("Object.getOwnPropertySymbols",function(pa){return pa?pa:function(){return [];};});qa("Reflect.apply",function(pa){var Fa;if(pa)return pa;Fa=Function.prototype.apply;return function(Oa,r,b){return Fa.call(Oa,r,b);};});qa("Math.tanh",function(pa){return pa?pa:function(Fa){var Oa;Fa=Number(Fa);if(0 === Fa)return Fa;Oa=Math.exp(-2 * Math.abs(Fa));Oa=(1 - Oa) / (1 + Oa);return 0 > Fa?-Oa:Oa;};});qa("String.fromCodePoint",function(pa){return pa?pa:function(Fa){var b;for(var Oa="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Oa+=String.fromCharCode(b):(b-=65536,Oa+=String.fromCharCode(b >>> 10 & 1023 | 55296),Oa+=String.fromCharCode(b & 1023 | 56320));}return Oa;};});qa("Object.setPrototypeOf",function(pa){return pa || Eb;});(function(){var Fa,Oa;function pa(r){var b;b=Oa[r];if(void 0 !== b)return b.exports;b=Oa[r]={exports:{}};Fa[r].call(b.exports,b,b.exports,pa);return b.exports;}Fa={60328:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u=void 0;b.u={fa:0,X:1,Ha:2};},45929:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},5102:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BZa=b.DY=b.AZa=void 0;b.AZa={23976:{ja:24E3,N:1001},24:{ja:24E3,N:1E3},25:{ja:25E3,N:1E3},2997:{ja:3E4,N:1001},30:{ja:3E4,N:1E3},50:{ja:5E4,N:1E3},5994:{ja:6E4,N:1001},60:{ja:6E4,N:1E3}};b.DY={h264:["23976","24","25","2997","30"],h264hpl:["23976","24","25","2997","30"],"hevc-main10":("23976 24 25 2997 30 50 5994 60").split(" ")};b.BZa=function(a,c){return a.ja / a.N === c.ja / c.N;};},40138:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.da=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",Ra:!0,Sa:[176,590],size:610},{data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",Ra:!0,Sa:[44],size:6252},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1-dash",192,"5.1"];},10697:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(40138);b.da=[{data:"hMPLAIhMIMAEhMgBDogGYGhMJ3",Ra:!0,Sa:[176,590],size:610,Za:r.da[0]},{data:"sNY4AEsNYpAgsNYGD/htYKcD+B9lhtQChtIBhs4ChswFB9hpgJgAwThsIJgAwThuwJgAwTh3AJgAwTh5oKgQAVh2QCB3DNg0oAgCAAhEYCgAQIhEIBBAgDIdBfA+gDAMhlQEAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LhU4EgDIcgXIxgDIVB2gAYBAAAdDzhWIAgmgAgDgKgAQAiN4EgDIbgXIygDIVCyhPQCDvCagjQADzDmgNgMhpYBh3oBgDIbgXIxgDIWCQiBoCB8gNYAhUQAh6QCgAQIiUwEgDIcgXIxgDIVDsiV4CA7DmgjQAhWQAg2ILDbjNwEgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",Ra:!0,Sa:[44],size:8300,Za:r.da[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",256,"5.1"];},28922:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(40138).da[0];a=a(10697);b.da=[{data:"hMPLAMhMIMg8oBAFDcgGYCgEQChMJ3",Ra:!0,Sa:[176,590],size:610,Za:r},{data:"wNY4gAYAwNYoAwwNYFACiNYLcEEB+6iNYxiHgviRwwicAwiWIwgYwSgnwCA2gGwCg14BdvHjx4DxDjDHCPgAwDgB4AgCYAhBoBhaABiM4EAABvgGYBg6oCgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBhy4CgIwIgAwAcbbbfPhUQBgEYEiFQCADBrgP4BhFICgEgbgSQBhagCDegSQJB2gB4AgCYAgEYGhs4CAADZgXwCgJ4SAegB4AgV4AA1gFQGhhgCAGgd4BDNhSwBC8gJ4IDGgJ4PgZwAhiADC3gcQIgAwAgB4AgCYAgJAHhZ4BglwTgEgPA3gsQBhgoCgSQJA3glwQiE4Cgv3/gvz8gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",Ra:!0,Sa:[44],size:12396,Za:a.da[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",384,"5.1"];},16658:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(40138).da[0];a=a(28922);b.da=[{data:"hMPLAOhMIMAHgEgBDWgGYChMJ7",Ra:!0,Sa:[176,590],size:610,Za:r},{data:"4NY4AH4NYpA44NYFADB/jNYLAoAfDMjNQAjNIAjM4AjMwFiuICDfjAwvjNozjBozjOgzjbY0jPYIAbhcwChOYEZ3gAAAhiYRhKwEgFgIA7a7C7haADCNgCgAhboAhLYIgAgAhxgDgFQCh2ADgFgqAdbdDdhvQDhkYMhWwEhpQAgFQDhbYCgFgMh0AMgFgFDwgcgCgRZwgFgcCObuDuDvidgQiF4EiQAAgFQDiKgCgFgMC7gFgSB4gcgCgRZwgFgdhJ4HiUYQisoEABC+gtIEgxICgFgLDdgFgSC8itoDgRZvgFgdhJwGC7itIDgCgAh+YAgQYJC1Cgi6oCjDgCi/IEgFgLBugFgSDeijwDgRZvgFgdhJwGDdju4RjXQEBvju4Cjl4EgFgLjOoNgFgFi5ADgRZvgFgdhJwGDuj4IRkQYEA3j4ICjvIEgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",Ra:!0,Sa:[44],size:14444,Za:a.da[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",448,"5.1"];},47708:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(28922).da[0];a=a(16658);b.da=[{data:"hMPLAUhMIMAKgAQAAJgYQCAChMJ7",Ra:!0,Sa:[176,590],size:610,Za:r},{data:"8NY4AK8NYpBQ8NYFAED/jtYCgAAChQYBcAjgYYBhCGjQwzjfY+juA+j8o9jwo+gfwLhdACABhWwGgrgEgAAQADhkwBhWQChkYFgIYMgEACA7jcoFC4hFQWiJgBj4oDj7wEBfgQ4LhWgCAHiO4GgIAWAOhewADthhICiuAFgZYLjt4DiyIChjgCDggIAVABgb4BgIAChxwFghAMgEACAdjYgFDcgQQWgcABhxYDj3oEhG4MgnICADjFoEiLgGhxYWAHgcgAkGoBiqoHgpYLD4glYDki4FBwgRAWgcoBiCYDh/4EhQAMglYDjVIGgIAWgcwBibQDj0QEDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/k/xsgABrAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",Ra:!0,Sa:[44],size:20588,Za:a.da[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",640,"5.1"];},94340:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(42608);b.da=[{data:"hZniCAhZjm",Ra:!0,Sa:[176,599],size:717,Za:r.da[0]},{data:"gXy9",Ra:!0,Sa:[44],size:191,Za:r.da[1]},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2hq-dash",128,"2.0"];},42608:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.da=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw",Ra:!0,Sa:[176,599],size:717},{data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc",Ra:!0,Sa:[44],size:191},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2-dash",64,"2.0"];},14613:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(42608);b.da=[{data:"hZniBghZjm",Ra:!0,Sa:[176,599],size:717,Za:r.da[0]},{data:"gXy9",Ra:!0,Sa:[44],size:191,Za:r.da[1]},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2-dash",96,"2.0"];},52426:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Qeb=b.Reb=b.aTa=b.Vfb=void 0;b.Vfb={padding:{"16:9":{h264:{23976:function(){return a(77496);},24:function(){return a(49242);},25:function(){return a(2267);},2997:function(){return a(89792);},30:function(){return a(50519);}},h264hpl:{23976:function(){return a(36260);},24:function(){return a(60398);},25:function(){return a(99234);},2997:function(){return a(63029);},30:function(){return a(99477);}},"hevc-main10":{23976:function(){return a(83331);},24:function(){return a(58028);},25:function(){return a(42500);},2997:function(){return a(51930);},30:function(){return a(33298);},50:function(){return a(7166);},5994:function(){return a(5762);},60:function(){return a(50285);}}},"4:3":{h264:{23976:function(){return a(21902);},24:function(){return a(11024);},25:function(){return a(43698);},2997:function(){return a(1370);},30:function(){return a(87767);}},h264hpl:{23976:function(){return a(66101);},24:function(){return a(67200);},25:function(){return a(92443);},2997:function(){return a(53040);},30:function(){return a(28437);}},"hevc-main10":{23976:function(){return a(34896);},24:function(){return a(99109);},25:function(){return a(61988);},2997:function(){return a(1136);},30:function(){return a(62373);},50:function(){return a(30156);},5994:function(){return a(24341);},60:function(){return a(40677);}}}}};b.aTa={silence:{heaac:{64:function(){return a(42608);},96:function(){return a(14613);},128:function(){return a(94340);}},ddp:{192:function(){return a(40138);},256:function(){return a(10697);},384:function(){return a(28922);},448:function(){return a(16658);},640:function(){return a(47708);}}}};b.Reb=function(c){return {Bb:c[0],Na:c[1],za:c[2],duration:c[3],profile:c[4],bitrate:c[5],width:c[6],height:c[7],zta:c[8],Ata:c[9]};};b.Qeb=function(c){return {Bb:c[0],Na:c[1],za:c[2],duration:c[3],profile:c[4],bitrate:c[5],channels:c[6]};};},21902:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(77496);b.da=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ra:!0,Sa:[176,729],size:749,Za:r.da[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},11024:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(49242);b.da=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.da[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},43698:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(2267);b.da=[{data:"hdzvgAgChd1ACAhLABhdwdhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.da[0]},{data:"h7X/h7XY",Ra:!0,Sa:[44],size:987,Za:r.da[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264mpl30-dash",64,320,240,1,1];},1370:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(89792);b.da=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ra:!0,Sa:[176,729],size:749,Za:r.da[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},87767:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(50519);b.da=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.da[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},66101:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(36260);b.da=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.da[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},67200:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(60398);b.da=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},92443:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(99234);b.da=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"h7X/h7XY",Ra:!0,Sa:[44],size:987,Za:r.da[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264hpl30-dash",64,320,240,1,1];},53040:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(63029);b.da=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.da[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},28437:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(99477);b.da=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},34896:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(83331);b.da=[{data:"heH/heDu",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hNUtDABahNU4",Ra:!0,Sa:[44],size:619,Za:r.da[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},99109:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(58028);b.da=[{data:"heH/heDu",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hNktDABahNk6",Ra:!0,Sa:[44],size:621,Za:r.da[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},61988:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(42500);b.da=[{data:"heH/heBtDggAYEheB4",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hHR1AjhHQyCUhHRzDABahHTDgEQChHQBgEQKhHg/",Ra:!0,Sa:[44],size:573,Za:r.da[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},1136:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(51930);b.da=[{data:"heH/heDu",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hNMtDABahNM3",Ra:!0,Sa:[44],size:618,Za:r.da[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},62373:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(33298);b.da=[{data:"heH/heBtgmgBgAYCheB4",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hNh1AihNg/gWoAhNhyDABahNjDhAgChNgBhJARhNZa",Ra:!0,Sa:[44],size:620,Za:r.da[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},30156:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(7166);b.da=[{data:"heH/heDu",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hk9hDABahk/B",Ra:!0,Sa:[44],size:808,Za:r.da[1]},{ja:1E3,N:5E4},{ja:1E4,N:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},24341:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(5762);b.da=[{data:"heH/heDu",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"iCWiDABaiCX/iCRq",Ra:!0,Sa:[44],size:1043,Za:r.da[1]},{ja:1001,N:6E4},{ja:15015,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},40677:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(50285);b.da=[{data:"heH/heDu",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"iCmiDABaiCn/iChs",Ra:!0,Sa:[44],size:1045,Za:r.da[1]},{ja:1E3,N:6E4},{ja:15E3,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},77496:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.da=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",Ra:!0,Sa:[176,729],size:749},{data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=",Ra:!1,Sa:[44],size:1022},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},49242:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(77496);b.da=[{data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",Ra:!0,Sa:[176,731],size:751,Za:r.da[0]},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",Ra:!0,Sa:[44],size:1022,Za:r.da[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},2267:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(49242);b.da=[{data:"hdw8BhCohdz4gfYEhd0ACQhdwoB+CQgAYEhdxWATCIhdwe",Ra:!0,Sa:[176,731],size:751,Za:r.da[0]},{data:"gCoBCph/oVCRh/otBQh/oJAFgAYBCxh/o9ARh+ILgCgBAyh+H/h+Aug/4Ah+CJAzh+ABDsC+h+AAAUDIh+ABcsxdpKBwA+AqCkGAB3A0DAhg4AcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxh+AHC/h2ADBIh+Ao",Ra:!0,Sa:[44],size:987,Za:r.da[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264mpl30-dash",64,320,240,4,3];},89792:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(77496).da[0];a=a(2267);b.da=[{data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpCBDYgAYEhdh4",Ra:!0,Sa:[176,729],size:749,Za:r},{data:"gBoBC2h7QVCeh7QZDph7QRBch7QJAGgAYBC+h7QJDSh7QJCNh7QJgC4Ch7QSgL4CAWgEYJASh8wLAWgEIBBIh8//h88KB/h5YFh84EgBoBDph84IgBoCgDYCASgHIAdlSahBBoCZBMAIBPD/D9DxgCAAAfDh",Ra:!0,Sa:[44],size:1022,Za:a.da[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},50519:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(49242).da[0];a=a(89792);b.da=[{data:"hdw8B1Awhdz4gfYEhd0ADghdwoCCgBwBgAYChdx4",Ra:!0,Sa:[176,731],size:751,Za:r},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/tU",Ra:!0,Sa:[44],size:1022,Za:a.da[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},36260:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(49242).da[0];a=a(77496);b.da=[{data:"hd0VDShd0OgM4AhdwCAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAAGhdoCAigiQChdwZBnDggAYEhdxXhUwChdwSDpgBoG",Ra:!0,Sa:[176,731],size:751,Za:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Sa:[44],size:1022,Za:a.da[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},60398:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(36260).da[0];a=a(49242);b.da=[{data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Sa:[44],size:1022,Za:a.da[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},99234:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(60398).da[0];a=a(2267);b.da=[{data:"heA8BhCoheD4gfYEheEBAgheApB+CQgAYEheBWATCIheAe",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"h7VpAzh7QDgD4Ah7RZhRwBh7X/h7QH",Ra:!0,Sa:[44],size:987,Za:a.da[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264hpl30-dash",64,320,240,4,3];},63029:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(36260).da[0];a=a(89792);b.da=[{data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqCBDYgAYEhdx4",Ra:!0,Sa:[176,731],size:751,Za:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Sa:[44],size:1022,Za:a.da[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},99477:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(60398).da[0];a=a(50519);b.da=[{data:"heA8B1AwheD4gfYEheEBDAheApCCgBwBgAYCheB4",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Sa:[44],size:1022,Za:a.da[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},83331:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(60398).da[0];a=a(77496);b.da=[{data:"heDvgAgCheAgDSheCzBoBlB2heBQAfBoheACACgPgCCQgfAEgI4AH9H6gBAAAPhQoDhboFhLIFAAAThSYAghIABuBjBshOIAgBoAgAICheAIAAgJoBA1gIQBgAYCheBXhVACheASDpgBoG",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"h/pcAAD/h/oJAkh/oJAhh7IJgC4Ah/oIAjh/oJAih/oaABC1h/oEgToAdAAQwBh/4AACAggGoBAACQgAgCgAQBddmLAkgDYBBtBCEBgDANegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCgSgEe7gfRVDvB+AACXBAASDwABAuCAAlDhgVYCdEAcFyD2A8gNoBggIAdOAYEBADgwYCAWgBIAglYACggPoCcg9YAKD8CAgAoDCQgDICANgDIAABglIBgTIDAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgxQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFgzABgMoDANgEQBcWKMI2DwgZgAgJYAgZgBgIgHg8YAgAYBgIgDgr4ADgAOA4gIgLgEYGgNICgawDAOgEYBceSMIRC8CVgBoBBTgSoAgAAAALgEQEAEgMwFgRICcovGEfB4gIgF",Ra:!0,Sa:[44],size:619,Za:a.da[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},58028:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(83331);b.da=[{data:"heEVDQheFREBhdgBDggAYEheBXgRQCheASDogBoG",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hNQ1DohNQkg9IBhNQEDQhNQJCIhNQJgC4EhNQQgL4ChNQGgEYChNQQC3hNQhBvhNRXgJIAgywCAAAxhNks",Ra:!0,Sa:[44],size:621,Za:r.da[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},42500:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(58028);b.da=[{data:"heA8BhCoheD4gfYEheEtA9gIQBgAYCheBWATCIheAe",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"gCQBCphNgVCRhNgtBQhNgJAFgAYBCxhNglhKgAhNgIgBYFgL4DARhMALgJgBCShL6CAzhL7XANhL4EAuDwCcgBoAAGDUhLoSgEIChLoBgEIF",Ra:!0,Sa:[44],size:571,Za:r.da[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},51930:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(83331);b.da=[{data:"heA8B1AwheD4gfYEheEtBCDIgAYEheB4",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hNR1hIwKhLwFhNQPhRwKhNQQC0hNR/DqBhhNS1AOhNQEhEgJhNYPhI4ChNYBgEQRhNQogMwChNQBAIDegEAE",Ra:!0,Sa:[44],size:618,Za:r.da[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},33298:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(58028);b.da=[{data:"heA8B1AwheD4gfYEheEtBDBYgAYEheB4",Ra:!0,Sa:[176,733],size:753,Za:r.da[0]},{data:"hNh1hKgAhJAIhMAFhNgPhSAKhNiVA9hNi1gEQChNgBhJQShNwHhJQChNwBhJQJhNowAOhNoEAIDegEAE",Ra:!0,Sa:[44],size:621,Za:r.da[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},7166:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(58028).da[0];a=a(33298);b.da=[{data:"heA8DDBQheD4gfYEheEtBYgFQBgAYCheBWAnAQheAe",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"gCIBDqhNgVDShNgtCMhNgJgFYCDyhNgNhMAFhNgnAigF4JgBYFgF4DgBYAgF4IgBYFhTgPAWhTgMhUAEACA+hUCCBlhUCShCoChUABhGwJhT4VATC8CTgGgCAigTIBhT5PhlQHdGGMIZC8CMgmIDhIgBgEIGAFgRIJA2gRIMgVgFgRgDgMoGAugRALgEIFAHgQ4KA+gQ4SAIhk4JBIhk4I",Ra:!0,Sa:[44],size:808,Za:a.da[1]},{ja:1E3,N:5E4},{ja:1E4,N:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},5762:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(83331).da[0];a=a(7166);b.da=[{data:"heA8DqBgheD4gfYEheEtBbDogAYEheBWA6CnheAe",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"hZYBArhk4UABAThk4ZDphk4RDIhk4JAPgEwBAzgA4BhRYAhk4EDShk4JCNhe4JgC4Ehk4QgL4Chk4GgF4Ohk4SgF4ygR4FALC7gO4NAbhsYQgAYCAahtABDohtAhBthtBXgZoBABDUDBhsy0gEIChswBhoQRhsrOgQ4HBmgQ4TAJgQ4JBWgQ4Ths4BgQ4IBOgQ4SALgQ4KBegQ4SAMgeABgEACAQgMoBdw6rGEAnB4gMwPANgIgGh1YAgEYAdol8YQCNDggIoE",Ra:!0,Sa:[44],size:1043,Za:a.da[1]},{ja:1001,N:6E4},{ja:15015,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},50285:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.da=void 0;r=a(58028).da[0];a=a(5762);b.da=[{data:"heA8DqBgheD4gfYEheEtBcgvwBgAYCheBWA6CYheAe",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"iCQ1DoiCQkhjgBiCQEDQiCQJCIh2QJgC4EiCQQgL4Ch8QGgF4Oh8QSgF4yiCQGC4gO4NiCQZDqiCQhBviCRXhLYBgAgCB5iCn/iChe",Ra:!0,Sa:[44],size:1045,Za:a.da[1]},{ja:1E3,N:6E4},{ja:15E3,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},8604:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Q2=b.xz=void 0;r=a(5163);r.__exportStar(a(56163),b);r.__exportStar(a(5102),b);c=a(88458);Object.defineProperties(b,{xz:{enumerable:!0,get:function(){return c.xz;}}});Object.defineProperties(b,{Q2:{enumerable:!0,get:function(){return c.Q2;}}});},38315:function(r,b,a){var d;function c(g){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g & 63];}function l(g,m){(0,d.assert)(0 < m && 8 > m);return c((m - 1 << 8) + g);}function f(g){return c(1792 + g[0]) + c((g[1] << 4) + (g[2] >>> 4)) + c((g[2] << 8 & 3840) + g[3]);}function k(g){return 43 === g?62:47 === g?63:58 > g?g - 48 + 52:91 > g?g - 65:g - 71;}Object.defineProperties(b,{__esModule:{value:!0}});b.kra=b.mRb=void 0;d=a(45929);b.mRb=function(g,m){var p,q,u,t,v,w;function h(y,x){var z;z=p;y=q - x - y;(0,d.assert)(1 <= y);(0,d.assert)(16384 > y - 1);(0,d.assert)(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;u=q;t=0;}function n(y,x,z){return g.subarray(y,y + z).every(function(A,B){return A === g[x + B];});}p="";q=m || 0;u=q;t=0;for(m=0;q < g.byteLength;){v=u;w=t;if(0 !== t && 513 > t && g[q] === g[u + t])(++t,++q);else if(513 === t)(h(v,w),m=0);else {for(--u;0 <= u && u >= q - t - 16384 && (g[v] !== g[u] || 0 < t && !n(q - t,u,t + 1));){--u;}if(0 <= u && u >= q - t - 16384)(++t,++q);else if(v === q || 1 === w){q-=w;for(v=1;7 > v && g[q + v] === g[q];){++v;}p+=l(g[q],v);q+=v;m=1 < v?0:m + 1;4 === m && (p=p.slice(0,p.length - 8),p+=f(g.subarray(q - 4,q)));u=q;t=0;}else (h(v,w),m=0);}}1 === t?p+=l(g[u],1):1 < t && h(u,t);return p;};b.kra=function(g,m){var v,w;function h(x,z){p(z);if(x + z <= t)q.set(q.subarray(x,x + z),t);else for(var A=0;A < z;++A){q[t + A]=q[x + A];}t+=z;}function n(){var x;x=g.slice(u,u+=2);return (k(x.charCodeAt(0)) << 6) + k(x.charCodeAt(1));}function p(x){t + x > q.byteLength && (x=new Uint8Array(2 * q.byteLength),x.set(q,0),q=x);}for(var q=m || new Uint8Array(4096),u=0,t=m?m.byteLength:0;u < g.length;){v=n();if(v & 2048){w=n();h(t - (((v & 2047) << 3) + (w >>> 9) + 1),(w & 511) + 2);}else if(1792 === (v & 3840))(p(4),q[t++]=v & 255,w=n(),v=n(),q[t++]=w >>> 4,q[t++]=(w << 4 & 240) + (v >>> 8),q[t++]=v & 255);else {w=v & 255;v=(v >>> 8) + 1;p(v);for(var y=0;y < v;++y){q[t++]=w;}}}return q.subarray(m?m.byteLength:0,t);};},88458:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Cub=b.Bub=b.Dub=b.Aub=b.Q2=b.Eub=b.v8b=b.p8b=b.xz=b.x8b=b.DY=void 0;c=a(5102);Object.defineProperties(b,{DY:{enumerable:!0,get:function(){return c.DY;}}});b.x8b=["padding"];b.xz=["h264","h264hpl","hevc-main10"];b.p8b=["16:9","4:3"];b.v8b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do"};b.Eub=["silence"];b.Q2=["heaac","ddp"];b.Aub={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.Dub={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.Bub={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.Cub={heaac:{ja:1024,N:24E3},ddp:{ja:1536,N:48E3}};},56163:function(r,b,a){var l,f,k,d,g,m,h;function c(n){if(-1 !== d.xz.indexOf(n))return n;for(var p,q=0;q < d.xz.length;++q){if(-1 !== n.indexOf(d.xz[q])){p=d.xz[q];break;}}(0,m.assert)(p);return p;}Object.defineProperties(b,{__esModule:{value:!0}});b.qNa=void 0;l=a(5163);f=a(42866);k=a(52426);d=a(88458);g=a(5102);m=a(45929);h=a(38315);r=(function(){function n(p,q){this.atob=p;this.console=q;this.nK=1;this.CY=[];this.$R=[];}n.prototype.qLb=function(p,q,u,t,v){var w,z;void 0 === t && (t={w:16,$q:9});void 0 === v && (v=1);q=c(q);w=(0,f.wc)(g.DY[q],function(A){return (0,g.BZa)(u,g.AZa[A]);});(0,m.assert)(w);(0,m.assert)(16 === t.w && 9 === t.$q || 4 === t.w && 3 === t.$q);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.CY;y < x.length;y++){z=x[y];if(z.type === p && z.bv === t && z.wd === q && z.frameRate === w && z.trackId === v)return z;}p=this.hCb(p,t,q,w,v);this.CY.unshift(p);this.CY.length > this.nK && this.CY.splice(this.nK,this.CY.length - this.nK);return p;};n.prototype.oLb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,v=0,w=this.$R;v < w.length;v++){y=w[v];"silence" === y.type && y.wd === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.YBb(p,q,u),this.$R.unshift(t),this.$R.length > this.nK && this.$R.splice(this.nK,this.$R.length - this.nK));return t;};n.prototype.pLb=function(){void 0 === n.QXa && (n.QXa=new Uint8Array(Array.from({length:40},function(p,q){return ('<tt xmlns="http://www.w3.org/ns/ttml" />').charCodeAt(q);})).buffer);return n.QXa;};n.prototype.hCb=function(p,q,u,t,v){var w;w=k.Vfb[p][q][u][t];(0,m.assert)(w);w=(0,k.Reb)(w().da);return l.__assign(l.__assign({},this.decode(w,v)),{type:p,bv:q,wd:u,frameRate:t,width:w.width,height:w.height,zta:w.zta,Ata:w.Ata});};n.prototype.YBb=function(p,q,u){var t;t=k.aTa.silence[p][q];(0,m.assert)(t);t=(0,k.Qeb)(t().da);return l.__assign(l.__assign({},this.decode(t,u)),{type:"silence",wd:p,bitrate:q,channels:t.channels});};n.prototype.decode=function(p,q){var u,t,v,w;u=p.Bb.Ra?this.Wka(p.Bb):this.atob(p.Bb.data);t=p.Na.Ra?this.Wka(p.Na):this.atob(p.Na.data);if(1 !== q){v=new DataView(u);w=new DataView(t);p.Bb.Sa.forEach(function(y){return v.setUint32(y,q);});p.Na.Sa.forEach(function(y){return w.setUint32(y,q);});}return l.__assign(l.__assign({},p),{Bb:u,Na:t,trackId:q});};n.prototype.Wka=function(p){var q;if(p.Ra){if(void 0 === p.Za)p=(0,h.kra)(p.data);else {q=this.Wka(p.Za);p=(0,h.kra)(p.data,new Uint8Array(q));}}else p=new Uint8Array(this.atob(p.data));return p.buffer.slice(p.byteOffset,p.byteOffset + p.byteLength);};return n;})();b.qNa=r;},831:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qia=b.ehb=b.AbortController=void 0;c=a(5163);r=(function(f){function k(){var d;d=null !== f && f.apply(this,arguments) || this;d.aPa=!1;return d;}c.__extends(k,f);Object.defineProperties(k.prototype,{aborted:{get:function(){return this.aPa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{reason:{get:function(){return this.brb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});k.prototype.abort=function(d){this.brb=new l(d);this.aPa=!0;this.emit("abort",{type:"abort"});};return k;})(a(57055).EventEmitter);b.AbortController=r;l=(function(f){function k(d){d=f.call(this,d) || this;d.name="AbortError";return d;}c.__extends(k,f);return k;})(Error);b.ehb=l;b.qia=function(f){return new Promise(function(k){f.aborted && k();f.addListener("abort",function(){return k();});});};},1386:function(r,b,a){var f;function c(k){return k.filter(function(d,g){return k.indexOf(d) === g;});}function l(k,d,g){return g?k.filter(function(m){return !d.some(function(h){return g(m,h);});}):k.filter(function(m){return -1 === d.indexOf(m);});}Object.defineProperties(b,{__esModule:{value:!0}});b.ZUa=b.OSa=b.D8=b.$Lb=b.Oyb=b.flatten=b.p6a=b.fyb=b.dK=b.Fq=b.F2=b.PSa=b.nia=b.oia=b.av=b.pia=b.wc=void 0;f=a(5163);b.wc=function(k,d){for(var g=0;g < k.length;g++){if(d(k[g],g,k))return k[g];}};b.pia=function(k,d){for(var g=k.length - 1;0 <= g;--g){if(d(k[g],g,k))return k[g];}};b.av=function(k,d){var g;g=-1;return k.some(function(m,h,n){g=h;return d(m,h,n);})?g:-1;};b.oia=function(k,d){for(var g=k.length - 1;0 <= g;g--){if(d(k[g],g,k))return g;}return -1;};b.nia=c;b.PSa=function(k,d){return k.filter(function(g,m){return k.indexOf(g) === m && -1 !== d.indexOf(g);});};b.F2=function(k,d){d=k.indexOf(d);if(-1 === d)return !1;k.splice(d,1);return !0;};b.Fq=l;b.dK=function(k,d){return c(k.concat(d));};b.fyb=function(k){return function(d,g){return k(d) - k(g);};};b.p6a=function(k){return function(d,g){return k(d) < k(g)?d:g;};};b.flatten=function(k){var d;return (d=[]).concat.apply(d,f.__spreadArray([],f.__read(k),!1));};b.Oyb=function(k,d){void 0 === d && (d=function(g){return g;});return k.reduce(function(g,m){m=d(m);return (void 0 === g[m]?g[m]=1:++g[m],g);},{});};b.$Lb=function(k,d){return k.reduce(function(g,m){var h;h=d(m);return (void 0 === g[h]?g[h]=[m]:g[h].push(m),g);},{});};b.D8=function(k){return null !== k && void 0 !== k;};b.OSa=function(k){var d,m;d=[];if(Array.isArray(k))for(var g=0;g < k.length;g++){m=k[g];Array.isArray(m)?d=d.concat(m.filter(function(h){return void 0 !== h;})):void 0 !== m && d.push(m);}return d;};b.ZUa=function(k,d,g){var m;m=l(k,d,g);d=l(d,k,g);k=l(k,m);return {kva:m,etb:d,w9a:k,result:k.concat(d)};};},20837:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=b.AssertionError=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.AssertionError=l;b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},92709:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.eDa=void 0;c=a(20837);l=a(81786);f=a(7666);r=(function(){function k(d){this.TDb=d;this.fza=!1;this.bba=new f.$La();}k.prototype.E8b=function(d,g){var h,n;function m(){var u,t,v,w,y,x;u=p.pop();t=u.node;v=u.A2;u=v.FXb;w=v.mF;v=v.state;if(!q.bba.has(t)){u=g(t,w,u,v);y=u.aba;x=u.state;u.x2 || q.bba.add(t);n(t).forEach(function(z){var A;A=z.m8b;h.bba.has(A) || (z=w + z.weight,y && p.push({node:A,A2:{mF:z,FXb:t,state:x}}));});}}h=this;n=this.TDb;(0,c.assert)(!this.fza);this.fza=!0;this.bba.clear();for(var p=new l.b0([{node:d,A2:{mF:0,state:{root:!1,complete:!0,jab:0,Or:0}}}],function(u,t){return u.A2.mF - t.A2.mF;}),q=this;!p.empty;){m();}this.fza=!1;};return k;})();b.eDa=r;},88047:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oB=void 0;b.oB=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},42866:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(831),b);r.__exportStar(a(20837),b);r.__exportStar(a(92709),b);r.__exportStar(a(88047),b);r.__exportStar(a(81786),b);r.__exportStar(a(70885),b);r.__exportStar(a(76556),b);r.__exportStar(a(41969),b);r.__exportStar(a(7666),b);r.__exportStar(a(48803),b);r.__exportStar(a(1386),b);},81786:function(r,b,a){var l;function c(f,k){return f < k?-1:f > k?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.b0=void 0;l=a(5163);r=(function(){function f(k,d){this.data=null !== k && void 0 !== k?k:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(k=(this.length >> 1) - 1;0 <= k;k--){this.aga(k);}}Object.defineProperties(f.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});f.prototype.push=function(k){this.data.push(k);this.tRa(this.length - 1);};f.prototype.pop=function(){var k,d;if(!this.empty){k=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.aga(0));return k;}};f.prototype.Gt=function(){return this.data[0];};f.prototype.map=function(k){return this.data.map(k);};f.prototype.find=function(k){return l.__read(this.data.filter(k),1)[0];};f.prototype.clear=function(){this.data=[];};f.prototype.remove=function(k){var d,g,m;d=this.data;k=d.indexOf(k);if(-1 !== k){g=d.pop();if(k < d.length){d[k]=g;m=k - 1 >> 1;d=d[m];0 <= m && 0 > this.compare(g,d)?this.tRa(k):this.aga(k);}}};f.prototype.Oub=function(){for(var k=this.data,d=1;d < k.length;d++){if(0 > this.compare(k[d],k[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(k));}};f.prototype.contains=function(k){return 0 <= this.data.indexOf(k);};f.prototype.wk=function(){return this.data.concat([]);};f.prototype.tRa=function(k){for(var d=this.data,g=this.compare,m=d[k],h,n;0 < k;){h=k - 1 >> 1;n=d[h];if(0 <= g(m,n))break;d[k]=n;k=h;}d[k]=m;};f.prototype.aga=function(k){for(var d=this.data,g=this.compare,m=this.length >> 1,h=d[k],n,p,q;k < m;){n=(k << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > g(d[p],q) && (n=p,q=d[p]);if(0 <= g(q,h))break;d[k]=q;k=n;}d[k]=h;};return f;})();b.b0=r;},76556:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uda=void 0;r=(function(){function a(c,l,f,k){var d;d=this;this.properties=c;this.transform=l;this.Ns=f;this.state=k;this.Bb();c.forEach(function(g){return g.addListener(d.$sa);});this.$sa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.$sa);});};a.prototype.i3a=function(c){return void 0 !== c.equal;};a.prototype.Bb=function(){var c;c=this;this.$sa=function(){var l,f;l=c.state;f=c.properties.map(function(k){return k.value;});c.state=c.transform(f);(c.i3a(c.state) && c.i3a(l)?c.state.equal(l):l === c.state) || c.Ns(c.state);};};return a;})();b.Uda=r;},70885:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qq=b.onb=void 0;c=a(5163);l=a(76556);f=a(41969);r=(function(){function k(d,g){this.Qa=d;this.hy=g?[g]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(d){-1 === this.hy.indexOf(d) && (this.hy=this.hy.slice(),this.hy.push(d));};k.prototype.removeListener=function(d){d=this.hy.indexOf(d);-1 !== d && (this.hy=this.hy.slice(),this.hy.splice(d,1));};return k;})();b.onb=r;r=(function(k){function d(g,m){return k.call(this,g,m) || this;}c.__extends(d,k);d.ngb=function(g,m,h){return new l.Uda(g,m,h,!1);};d.P8b=function(g,m,h){return c.__awaiter(this,void 0,void 0,function(){var n,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(n=void 0,p=new Promise(function(t){n=q.ngb(g,m,t);}),u.label=1);case 1:return (u.Qj.push([1,,6,7]),h?[4,(0,f.Z9a)(h,p)]:[3,3]);case 2:return [2,u.Ta()];case 3:return [4,p];case 4:return [2,u.Ta()];case 5:return [3,7];case 6:return (n.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Qa;},set:function(g){this.set(g);},enumerable:!1,configurable:!0}});d.prototype.set=function(g){var m;m=this.Qa;m !== g && (this.Qa=g,this.hy.forEach(function(h){return h({oldValue:m,newValue:g});}));};return d;})(r);b.qq=r;},41969:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Z9a=b.Kz=b.cqa=void 0;c=a(5163);l=a(831);b.cqa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};r=(function(){function f(){var k;k=this;this.ZQa=!1;this.promise=new Promise(function(d){k.XQa=d;});}Object.defineProperties(f.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Lva:{get:function(){return this.ZQa;},enumerable:!1,configurable:!0}});f.prototype.resolve=function(k){var d;this.ZQa=!0;null === (d=this.XQa) || void 0 === d?void 0:d.call(this,k);this.XQa=void 0;};return f;})();b.Kz=r;b.Z9a=function(f,k){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(g){switch(g.label){case 0:return (d=(0,l.qia)(f),[4,Promise.race([d,k])]);case 1:return [2,g.Ta()];}});});};},7666:function(r,b){var l,f,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.$Oa);}function c(d){return (a(d)?d:Object.defineProperties(d,{$Oa:{value:{},configurable:!1,enumerable:!1}})).$Oa;}Object.defineProperties(b,{__esModule:{value:!0}});b.$La=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % f;r=(function(){function d(){this.G$=0;this.id=k=(k + 1) % f;}d.prototype.add=function(g){c(g)[this.id]=this.G$;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.G$;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.G$=(this.G$ + 1) % f;return this;};return d;})();b.$La=r;},48803:function(r,b,a){var l;function c(f,k){return f && k?Math.abs(f * k / (0,l.oB)(f,k)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.L=void 0;l=a(88047);r=(function(){function f(k,d){"object" === typeof k?(this.oc=k.ja,this.jb=k.N):(this.oc=k,this.jb=d);isFinite(this.oc) || (this.jb=1);}f.compare=function(k,d){return k.Lk(d);};f.abs=function(k){return new f(Math.abs(k.oc),k.jb);};f.Ma=function(k){return 0 === k?f.Ga:new f(k,1E3);};f.gya=function(k,d){return Math.floor(1E3 * k / d);};f.J6a=function(k,d){return Math.floor(k * d / 1E3);};f.max=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(g,m){return g.greaterThan(m)?g:m;});};f.min=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(g,m){return g.lessThan(m)?g:m;});};f.oB=function(k,d){var g;if(k.jb === d.jb)return new f((0,l.oB)(k.oc,d.oc),k.jb);g=c(k.jb,d.jb);return new f((0,l.oB)(k.oc * g / k.jb,d.oc * g / d.jb),g);};Object.defineProperties(f.prototype,{ja:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{N:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G:{get:function(){return f.gya(this.oc,this.jb);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vv:{get:function(){return 1E3 * this.oc / this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{uH:{get:function(){var k;k=this.Vv;return 0 > k?Math.ceil(k):Math.floor(k);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{uh:{get:function(){return this.oc / this.jb;},enumerable:!1,configurable:!0}});f.prototype.$c=function(k){k/=this.jb;return new f(Math.floor(this.oc * k),Math.floor(this.jb * k));};f.prototype.add=function(k){var d;if(this.jb === k.jb)return new f(this.oc + k.oc,this.jb);d=c(this.jb,k.jb);return new f(this.oc * d / this.jb + k.oc * d / k.jb,d);};f.prototype.qa=function(k){var d;if(this.jb === k.jb)return new f(this.oc - k.oc,this.jb);d=c(this.jb,k.jb);return new f(this.oc * d / this.jb - k.oc * d / k.jb,d);};f.prototype.oo=function(k){return new f(this.oc * k,this.jb);};f.prototype.ih=function(k){var d;if("number" === typeof k){if(Math.floor(k) === k){d=c(this.oc,k);if(d !== this.oc)return this.$c(d / this.oc * this.jb).ih(k);}return new f(Math.floor(this.oc / k),this.jb);}if(this.jb === k.jb)return this.oc / k.oc;d=c(this.jb,k.jb);return this.oc * d / this.jb / (k.oc * d / k.jb);};f.prototype.LK=function(k){var d;if(this.jb === k.jb)return new f(Math.abs(this.oc - k.oc),this.jb);d=c(this.jb,k.jb);return new f(Math.abs(this.oc * d / this.jb - k.oc * d / k.jb),d);};f.prototype.ava=function(){return new f(this.jb,this.oc);};f.prototype.compare=function(k,d){var g;if(this.jb === d.jb)return k(this.oc,d.oc);g=c(this.jb,d.jb);return k(this.oc * g / this.jb,d.oc * g / d.jb);};f.prototype.Lk=function(k){var d;if(this.jb === k.jb)return this.ja === k.oc?0:this.oc - k.oc;d=c(this.jb,k.jb);return this.oc * d / this.jb - k.oc * d / k.jb;};f.prototype.equal=function(k){return this.compare(function(d,g){return d === g;},k);};f.prototype.wsa=function(k){return this.compare(function(d,g){return d !== g;},k);};f.prototype.lessThan=function(k){return this.compare(function(d,g){return d < g;},k);};f.prototype.greaterThan=function(k){return this.compare(function(d,g){return d > g;},k);};f.prototype.yy=function(k){return this.compare(function(d,g){return d <= g;},k);};f.prototype.hi=function(k){return this.compare(function(d,g){return d >= g;},k);};f.prototype.isFinite=function(){return !!this.jb && isFinite(this.oc);};f.prototype.e1a=function(k){return c(this.N,k);};f.prototype.toJSON=function(){return {ticks:this.oc,timescale:this.jb};};f.prototype.toString=function(){return ("").concat(this.oc,"/").concat(this.jb);};f.prototype.lb=function(){return ("").concat(this.oc,"/").concat(this.jb," (").concat(this.Vv,"ms)");};f.Ga=new f(0,1E3);f.My=new f(1,1E3);f.Jp=new f(Infinity,1);f.hTb=new f(-Infinity,1);return f;})();b.L=r;},27411:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.n8a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.n8a=function(c){var l,f,k,d;l=c.read(5);f=c.read(4);if(15 === f){k=c.read(24);f=a.indexOf(k);}else k=a[f];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {np:l,sampleRate:k,r$:f,qec:d,uHb:1024};};},28798:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.C9a=void 0;c=a(76338);b.C9a=function(l,f,k){var d,g;d=l.read(1);if(d){g=new c.bGa(l,d,f);1 === l.read(2) && l.advance(g.LM * g.uV);}(0,c.zua)(l,f,g,k);(0,c.zua)(l,f,g,k);};},13865:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(17793);b.w=function(f,k,d,g){var m;m=new c.gZ(f);g=g && g.r$;k=(0,l.F9a)(m,{zx:k,tH:d},g);m=m.offset;return {frame:f.subarray(0,m),rta:m,vjc:k};};},53710:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.E9a=void 0;b.E9a=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.zx && !l.tH?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},17793:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.F9a=void 0;c=a(15427);l=a(52148);b.F9a=function(f,k,d){var g,m,h;if(4095 === f.read(12)){f.advance(3);g=!!f.read(1);m=f.read(2) + 1;d=f.read(4);f.advance(8);h=f.read(13);f.advance(13 + (g?0:16));g={np:m,r$:d,uHb:h};}else f.reverse(12);(0,c.assert)(void 0 !== d);(0,l.K9a)(f,d,k);return g;};},2E3:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TEa=b.KEa=b.JEa=b.SEa=b.REa=b.QEa=b.PEa=b.OEa=b.NEa=b.MEa=b.LEa=b.IEa=void 0;b.IEa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.LEa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.MEa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.NEa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.OEa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.PEa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.QEa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.REa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.SEa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.JEa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.KEa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.TEa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},34581:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.R_=void 0;c=a(2E3);l=[c.IEa,c.LEa,c.MEa,c.NEa,c.OEa,c.PEa,c.QEa,c.REa,c.SEa,c.JEa,c.KEa];f=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.R_=(function(){function k(){}k.aZa=function(d,g){var m,q,u;m=g.table;g=g.width;for(var h=0,n=m[0],p=d.read(n);p !== m[h + 1];){h+=g;q=m[h];u=q - n;n=q;p<<=u;p|=d.read(u);}return h;};k.scb=function(d){for(var g=4;d.read(1);){++g;}d.advance(g);};k.tcb=function(d,g){for(;g--;){k.aZa(d,c.TEa);}};k.u3b=function(d,g){var m,h;m=l[g - 1];h=m.table;m=this.aZa(d,m);if(11 > g)f[g - 1] && (g=h[m + 2]) && d.advance(g);else if(11 === g || 15 < g)(m+=2,(g=h[m]) && d.advance(g),(h=h[m + 1]) && this.scb(d),1 < h && this.scb(d));else throw Error("Huffman: unknown spectral codebook: " + g);};return k;})();},76338:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.bGa=b.zua=void 0;c=a(15427);l=a(34581);f=a(86707);b.zua=function(m,h,n,p){var q,u,t;q=m.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.zx / 20)) / Math.log(2)));m.reverse(8);m.write(8,p);n || (n=new g(m,0,h));q=n;u=2 === q.mza?3:5;t=(1 << u) - 1;h=[];p=[];for(var v=[],w=0;w < q.LM;++w){for(var y=0,x=0;y < q.uV;){for(var z=m.read(4),A=0,B;(B=m.read(u)) === t;){A+=B;}A+=B;y+=A;h.push(z);p.push(A);++x;}v.push(x);}q=!0;for(u=0;u < h.length;++u){0 !== h[u] && (13 === h[u] && q?(m.advance(9),q=!1,l.R_.tcb(m,p[u] - 1)):l.R_.tcb(m,p[u]));}m.read(1) && m.advance(6 + 9 * (m.read(2) + 1));if(m.read(1))for((q=n,u=2 === q.mza?k:d,t=0);t < q.v7a;++t){if(v=m.read(u[0]))for((w=m.read(1),y=0);y < v;++y){if((m.advance(u[1]),x=m.read(u[2])))(m.advance(1),z=m.read(1),m.advance(x * (w + 3 - z)));}}(0,c.assert)(!m.read(1));q=n.LM;u=n.uV;t=n.ydb;n=n.eba;for(w=v=0;w < q;++w){for((y=n[w],x=0);x < u;++v){if((z=h[v],A=p[v],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var C=0;C < A;(++C,++x)){for(var D=y * (t[x + 1] - t[x]) / B,F=0;F < D;++F){l.R_.u3b(m,z);}}}}}};k=[1,4,3];d=[2,6,5];g=(function(){return function(m,h,n){var p;this.eba=[];this.LM=1;this.eba[0]=1;m.advance(1);this.mza=m.read(2);m.read(1);if(2 === this.mza){this.v7a=8;this.uV=m.read(4);for(h=0;7 > h;++h){m.read(1)?this.eba[this.LM - 1]++:(this.LM++,this.eba[this.LM - 1]=1);}this.ydb=f.HMa[n];}else {this.v7a=1;this.uV=m.read(6);if(m.read(1)){p=14 + Math.min(this.uV,40);m.read(1) && m.advance(p);h && m.read(1) && m.advance(p);}this.ydb=f.GMa[n];}};})();b.bGa=g;},52148:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.K9a=void 0;c=a(28798);l=a(53710);b.K9a=function(f,k,d){var m;for(var g;7 !== (g=f.read(3));){m=f.read(4);switch(g){case 1:(0,c.C9a)(f,k,d);break;case 6:(0,l.E9a)(f,m,d);break;default:throw Error(("Unsupported AAC element ").concat(g));}}f.Uvb();};},86707:function(r,b){var a,c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.snb=b.Skb=b.tnb=b.Onb=b.Pnb=b.HMa=b.GMa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);k=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);h=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.GMa=[r,r,c,f,f,d,g,g,h,h,h,p];b.HMa=[a,a,l,k,k,k,m,m,n,n,n,q];b.Pnb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Onb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.tnb=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++){u[t]=Math.pow(2,(t - 200) / 4);}return u;})();b.Skb=(function(){for(var u=new Float32Array(8191),t=4 / 3,v=0;8191 > v;v++){u[v]=Math.pow(v,t);}return u;})();b.snb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},15427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},11909:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gZ=void 0;r=(function(){function a(c){this.data=c;this.Jq=this.Yb=this.qd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Yb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.qd){if(8 === c)return this.data[this.Yb++];if(16 === c)return (c=this.view.getUint16(this.Yb),this.Yb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Yb),this.Yb+=4,c);}for(;this.qd < c;){this.Jq=(this.Jq << 8) + this.data[this.Yb++];this.qd+=8;}this.qd-=c;return this.Jq >>> this.qd & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.qd)this.qd-=c;else {c-=this.qd;l=Math.floor(c / 8);this.Yb+=l;this.Jq=this.data[this.Yb++];this.qd=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var f,k;l&=(1 << c) - 1;if(0 === this.qd){if(8 === c){this.data[this.Yb++]=l;return;}if(16 === c){this.view.setUint16(this.Yb,l);this.Yb+=2;return;}if(32 === c){this.view.setUint32(this.Yb,l);this.Yb+=4;return;}}if(0 < this.qd){f=Math.min(c,this.qd);k=this.data[this.Yb - 1] & (~((1 << this.qd) - 1) ^ (1 << this.qd - f) - 1);this.data[this.Yb - 1]=k ^ (c >= f?l >>> c - f:l << this.qd - f);this.qd-=f;c-=f;}for(;8 <= c;){c-=8;this.data[this.Yb++]=l >>> c & 255;}0 < c && (this.qd=8 - c,k=this.data[this.Yb] & (1 << this.qd) - 1,this.Jq=this.data[this.Yb++]=k ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.qd && c <= 8 - this.qd?this.qd+=c:(0 !== this.qd && (c-=8 - this.qd,--this.Yb),this.Yb-=Math.floor(c / 8),this.Jq=this.data[this.Yb - 1],this.qd=c % 8);};a.prototype.Uvb=function(){0 !== this.qd && (this.qd=0);};return a;})();b.gZ=r;},77151:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.HVa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.HVa=function(c,l){void 0 === l && (l=0);l=~~l;for(var f=0;f < c.length;f++){l=(a[(l >> 8 ^ c[f]) & 255] ^ l << 8) & 65535;}return l;};},91459:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(29652);b.w=function(f,k,d){var g;g=new c.gZ(f);k=(0,l.JSa)(g,k,null === d || void 0 === d?void 0:d.AG).wHb;f=f.subarray(0,k);(0,l.Sbb)(f);return {frame:f,rta:k};};},29652:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Sbb=b.JSa=void 0;c=a(15427);l=a(77151);b.JSa=function(f,k,d){var g,m;g=f.read(16);(0,c.assert)(2935 === g);g=2 * ((f.read(16) & 2047) + 1);f.advance(13);m=f.read(5);f.reverse(5);d && (k*=-m / d);f.write(5,Math.min(31,Math.max(1,Math.floor(m + k))));return {wHb:g};};b.Sbb=function(f){var k;k=(0,l.HVa)(f.subarray(2,f.length - 2));f[f.length - 2]=k >> 8;f[f.length - 1]=k & 255;};},73644:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.HYa=void 0;c=a(11909);l=a(27411);b.HYa=function(){var m,h,n,p;for(var d=[],g=0;g < arguments.length;g++){d[g]=arguments[g];}m="string" === typeof d[0]?{wd:d[0],frame:d[1],zx:d[2],Xxb:d[3],AG:d[4]}:d[0];h=m.wd;d=m.frame;g=m.zx;n=m.Xxb;p=m.AG;m=m.tH;m=void 0 === m?!1:m;switch(h){case "aac":void 0 === f && (f=a(13865).w);h=6;n && (n=new c.gZ(n),h=(0,l.n8a)(n).r$);d=f(d,g,m,{r$:h}).rta;break;case "ddp":void 0 === k && (k=a(91459).w);d=k(d,g,{AG:p}).rta;break;default:throw Error("Unrecognized codec in fadeFrame: " + h);}return {vHb:d};};},61901:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(5163).__exportStar(a(73644),b);},16936:function(r,b){var a,c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.KE=void 0;r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,U$:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,U$:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,U$:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,U$:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.KE={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},82818:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yDa=b.sza=void 0;c=a(5163);r=(function(l){function f(){var k;k=null !== l && l.apply(this,arguments) || this;k.CF=1536;return k;}c.__extends(f,l);f.Oc=!0;return f;})(a(61671).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="ac-3";return f;})(r);b.sza=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="ec-3";return f;})(r);b.yDa=r;},24475:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.JHb=this.M.Pc(2);this.xvb=this.M.Pc(5);this.yvb=this.M.Pc(3);this.bsb=this.M.Pc(3);this.M.Pc(1);this.M.Pc(5);this.M.Pc(5);return !0;};f.se="dac3";return f;})(a(85571).Ze);b["default"]=r;},27235:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.M.Pc(1);this.M.Pc(7);this.jbb=this.M.Pc(3);this.ibb=this.M.Pc(5);this.kbb=this.M.Pc(1);this.Q1a=this.M.Pc(1);this.Geb=this.M.Pc(1);this.G6a=this.M.Pc(1);this.AUa=this.M.Pc(1);this.BUa=this.M.Pc(1);this.zUa=this.M.Pc(2);this.M.Pc(3);(this.Dpa=this.M.Pc(1))?this.E2a=this.M.Pc(4):this.M.Pc(4);k && (k.Wdc={jbb:this.jbb,ibb:this.ibb,kbb:this.kbb,Q1a:this.Q1a,Geb:this.Geb,G6a:this.G6a,AUa:this.AUa,BUa:this.BUa,zUa:this.zUa,Dpa:this.Dpa,E2a:this.E2a});return !0;};f.se="av1C";return f;})(a(85571).Ze);b["default"]=r;},24895:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d;this.M.kd();this.dhb=this.M.kd();this.M.kd();this.M.kd();this.M.kd();this.Z$=this.Zga(this.M.kd() & 31);this.j9a=this.Zga(this.M.kd());this.nN=this.Z$.length?this.Z$[0][1]:this.dhb;this.JQa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.nN || 110 === this.nN || 122 === this.nN || 144 === this.nN) && (this.M.kd(),this.M.kd(),this.Zga(this.M.kd()));d=this.startOffset + this.length - this.JQa;0 < d && this.am(d,this.JQa);k && k.Iia && (k.Iia.Z$=this.Z$,k.Iia.j9a=this.j9a,k.Iia.nN=this.nN);return !0;};f.prototype.Zga=function(k){var m;for(var d=[],g=0;g < k;++g){m=this.M.If();d.push(this.M.O9(m));}return d;};f.se="avcC";f.Oc=!1;return f;})(a(85571).Ze);b["default"]=r;},61671:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;g=f.prototype.parse.call(this,d);this.M.offset+=8;this.zja=this.M.If();this.awa=this.M.If();this.M.offset+=4;this.samplerate=this.M.If();this.M.offset+=2;l.K && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.zja + ", samplesize: " + this.awa + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Ge)(d.Ge.zja=this.zja,d.Ge.awa=this.awa,d.Ge.samplerate=this.samplerate);return g;};k.Oc=!1;return k;})(a(44126).default);b["default"]=r;},22770:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Fc=this.cw([{fec:"int32"},{maxBitrate:"int32"},{Z2:"int32"}]);return !0;};f.se="btrt";f.Oc=!1;return f;})(a(85571).Ze);b["default"]=r;},85571:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ze=b.K=void 0;c=a(27172);b.K=!1;r=(function(){function l(f,k,d,g,m){this.Rb=f;this.type=k;this.byteOffset=d;this.byteLength=g;this.parent=m;this.Gd={};this.QG=g;}l.by=function(f,k){var g,h;function d(n){n && n.by && (n=n.by(k),n.length && (g=g.concat(n)));}g=[];f.type === k && g.push(f);if(f.Gd)for(var m in f.Gd){h=f.Gd[m];Array.isArray(h) && h.forEach(d);}return g;};l.NR=function(f,k){void 0 === f.Gd[k.type] && (f.Gd[k.type]=[]);f.Gd[k.type].push(k);};l.Sm=function(f,k){return l.by(f,k)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{M:{get:function(){return this.Rb;},enumerable:!1,configurable:!0}});l.prototype.wg=function(){var f;f=this.Rb.Sb();this.version=f >> 24;this.flags=f & 16777215;};l.prototype.NR=function(f){l.NR(this,f);};l.prototype.by=function(f){return l.by(this,f);};l.prototype.Sm=function(f){return l.Sm(this,f);};l.prototype.parse=function(){return !0;};l.prototype.mT=function(){return !0;};l.prototype.Go=function(f){if((f=this.Gd[f]) && Array.isArray(f) && 1 === f.length)return f[0];};l.prototype.am=function(f,k){k=void 0 === k?this.Rb.offset:k;(0,c.assert)(k >= this.startOffset + 8 && k + f <= this.startOffset + this.QG,"Removal range [0x" + k.toString(16) + "-0x" + (k + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.QG).toString(16) + ")");this.Rb.am(f,k,this);};l.prototype.Z9=function(f,k,d){d=void 0 === d?this.Rb.offset:d;(0,c.assert)(d >= this.startOffset + 8 && d + f <= this.startOffset + this.QG,"Removal range [0x" + d.toString(16) + "-0x" + (d + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.QG).toString(16) + ")");this.Rb.Z9(f,k,d,this);};l.prototype.m$a=function(f,k,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.PQa(f,k));}return g;}return this.PQa(f,k);};l.prototype.cw=function(f){var k,d;d=this;void 0 === k && (k={});f.forEach(function(g){var m,h;if("offset" === g.type){m=g.offset;if(0 < m % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.Rb.offset+=m / 8;}else for(m in g){h=g[m];k[m]="string" === typeof h?d.m$a(h):d.m$a(h.type,h.length,h.Stb);}});return k;};l.prototype.PQa=function(f,k){var d;d=this.byteLength - this.Rb.offset + this.startOffset;"undefined" === typeof k && (k=d);switch(f){case "int8":f=this.Rb.kd();break;case "int64":f=this.Rb.Vi();break;case "int32":f=this.Rb.Sb();break;case "int16":f=this.Rb.If();break;case "string":f=this.Rb.nZb(Math.min(k,d));break;default:throw Error("Invalid type: " + f);}return f;};l.Oc=!1;return l;})();b.Ze=r;},89525:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d,g,m;d=this.M.offset;g=this.M.If();this.BWa=g >> 3;this.rUb=g & 7;this.F4b=[];for(g=0;g <= this.rUb;g++){m={JHb:this.M.Pc(2),xvb:this.M.Pc(5),yvb:this.M.Pc(5),bsb:this.M.Pc(3),Egc:this.M.Pc(1),mab:this.M.Pc(3),qUb:this.M.Pc(4)};0 < m.qUb?m.pec=this.M.Pc(9):this.M.Pc(1);this.F4b.push(m);}k && k.GXa && (k.GXa.BWa=this.BWa,2 <= this.byteLength - (this.M.offset - d) && (this.M.Pc(7),d=this.M.Pc(1),k.GXa.Pdc=1 === d));return !0;};f.se="dec3";return f;})(a(85571).Ze);b["default"]=r;},46079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26678);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.wg();this.Kjb=l.Aca.f$a(this.M,d);return !0;};k.se="esds";k.Oc=!1;return k;})(a(85571).Ze);b["default"]=r;},57199:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g,m,h,n,p,q,u;if(null === d || void 0 === d || !d.Eg)return !0;p=null === (n=null === (h=null === (m=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === m?void 0:m.Sm("tkhd")) || void 0 === h?void 0:h.Fc) || void 0 === n?void 0:n.trackId;if("undefined" === typeof p)return !0;(0,l.assert)(d.Eg[p]);if(!d.Eg[p])return !0;this.wg();g=this.M.Sb();for(m=0;m < g;m++){h=1 === this.version?this.M.Vi():this.M.Sb();n=1 === this.version?this.M.Vi():this.M.Sb();q=this.M.If();u=this.M.If();h={uic:h,bhc:n,ahc:q,$gc:u};d.Eg[p].JXa || (d.Eg[p].JXa=[]);d.Eg[p].JXa.push(h);}return !0;};k.se="elst";k.Oc=!1;return k;})(a(85571).Ze);b["default"]=r;},89849:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.M.Vy();this.M.Vy();for(this.Zja=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.Zja.push(this.M.Vy());}return !0;};f.se="ftyp";f.Oc=!1;return f;})(a(85571).Ze);b["default"]=r;},21501:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.LBb=this.M.Vy();k && k.Ge && (k.Ge.J0b=this.LBb);return !0;};f.se="frma";return f;})(a(85571).Ze);b["default"]=r;},36464:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(97001);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g,m,h,n,p;this.wg();this.Fc=this.cw([{Qhc:"int32"},{Koa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Fc.Koa=(0,l.hx)(this.Fc.Koa);if(d && d.Eg){p=null === (n=null === (h=null === (m=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === m?void 0:m.Sm("tkhd")) || void 0 === h?void 0:h.Fc) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.Eg[p] && (d.Eg[p].xv=this.Fc.Koa);}return !0;};k.se="hdlr";k.Oc=!1;return k;})(a(85571).Ze);b["default"]=r;},12228:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.mT=function(){var d;d=this.Sm("esds");if(d=d && d.Kjb.Sm(5))((0,l.assert)(this.samplerate),this.CF=d.CF * this.samplerate / d.q$);return !0;};k.se="mp4a";k.Oc=!0;return k;})(a(61671).default);b["default"]=r;},17904:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},97291:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.wg();this.Fc=1 === this.version?this.cw([{creationTime:"int64"},{modificationTime:"int64"},{N:"int32"},{duration:"int64"}]):this.cw([{creationTime:"int32"},{modificationTime:"int32"},{N:"int32"},{duration:"int32"}]);return !0;};f.se="mvhd";f.Oc=!1;return f;})(a(85571).Ze);b["default"]=r;},60841:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.wg();this.Fc=this.cw(1 === this.version?[{qHb:"int64"}]:[{qHb:"int32"}]);return !0;};f.se="mehd";f.Oc=!1;return f;})(a(85571).Ze);b["default"]=r;},75706:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.Nda;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.wg();this.Fc=this.cw([{Et:"int32"},{Us:"int16"}]);return !0;};k.se=l;k.Oc=!1;return k;})(a.Ze);b["default"]=a;},79798:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);r=a(85571);f=l.Oda;r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.parse=function(){this.wg();this.fileSize=this.M.Vi();this.N=this.M.Vi();this.duration=this.M.Vi(!1,!0);this.EUb=this.M.Vi();this.M.Vi();this.IUb=this.M.Vi();this.QTb=this.M.Sb();this.FUb=this.M.Vi();this.YGb=this.M.Sb();this.M.R9();this.cl={moof:{offset:this.EUb},sidx:{offset:this.FUb,size:this.YGb}};this.cl[l.EIa]={offset:this.IUb,size:this.QTb};this.M.offset - this.startOffset <= this.length - 24 && (this.HUb=this.M.Vi(),this.DTb=this.M.Sb(),this.GUb=this.M.Vi(),this.CTb=this.M.Sb(),this.cl[l.f0]={offset:this.HUb,size:this.DTb},this.cl[l.e0]={offset:this.GUb,size:this.CTb});return !0;};d.se=f;d.Oc=!1;return d;})(r.Ze);b["default"]=r;},30855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.Pda;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d,h,n;this.wg();1 <= this.version && this.M.R9();d=this.M.Sb();this.cl={};for(var g=this.startOffset + this.length,m=0;m < d;++m){h=this.M.Vy();"uuid" === h && (h=this.M.R9());n=this.M.Vi();this.cl[h]={offset:g,size:n};g+=n;}return !0;};k.se=l;k.Oc=!1;return k;})(a.Ze);b["default"]=a;},60440:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.Fc=this.cw([{VMb:"int32"},{n8b:"int32"}]);if(null === k || void 0 === k?0:k.Ge)(k.Ge.Sfc=this.Fc.VMb,k.Ge.xjc=this.Fc.n8b);return !0;};f.se="pasp";f.Oc=!1;return f;})(a(85571).Ze);b["default"]=r;},44210:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);f=a(255);k=a(61671);r=a(85571);d=a(6483);a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(){this.wg();this.cL=this.M.Sb();return !0;};m.prototype.mT=function(h){var n;n=Object.keys(this.Gd);n.length && (n=n[0],this.Gd[n].length && (n=this.Gd[n][0],n instanceof k.default?this.za=new f.L(n.CF,n.samplerate):n instanceof d.default && (n=n.Gd[l.Nda]) && n.length && (n=n[0].Fc,1E3 !== n.Us && 1001 !== n.Us || 0 !== n.Et % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.Et + "/" + n.Us):this.za=new f.L(n.Us,n.Et)),h && this.za && (h.za=this.za)));return !0;};m.prototype.Q$a=function(h){void 0 !== this.Gd[h] && 0 !== this.Gd[h].length && (this.Rb.ju(this.cL - 1,this.byteOffset + 12),h=this.Gd[h][0],this.am(h.byteLength,h.byteOffset));};m.se="stsd";m.Oc=!0;return m;})(r.Ze);b["default"]=a;},44126:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(85571);l=a(85571);a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.M.offset+=6;this.M.If();l.K && this.M.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Ge)d.Ge.J0b=this.type;return !0;};return k;})(r.Ze);b["default"]=a;},80586:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.wg();this.lwa=this.M.Vy();l.K && this.M.console.trace("SchemeTypeBoxTranslator: " + this.lwa);if("cenc" === this.lwa){if((this.M.offset-=4,l.K && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.Rb.vgb("piff"),null === d || void 0 === d?0:d.Ge))d.Ge.bFb="piff";}else if(null === d || void 0 === d?0:d.Ge)d.Ge.bFb=this.lwa;this.M.Sb();return !0;};k.se="schm";k.Oc=!1;return k;})(l.Ze);b["default"]=r;},85978:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(255);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.mT=function(d){var g;if(d && d.za && !d.KVb){g=this.Go("mdia");g && (g=g.Go("mdhd")) && g.N !== d.za.N && (d.za=new l.L(d.za).$c(g.N));}return !0;};k.se="trak";k.Oc=!0;return k;})(a(85571).Ze);b["default"]=r;},85830:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d,g,m,h,n;this.wg();d=this.cw([{yO:"int32"},{cla:"int32"},{nv:"int32"},{Vx:"int32"},{Ux:"int32"}]);g=d.yO;m=d.cla;h=d.nv;n=d.Ux;d=d.Vx;this.Fc={trackId:g,Lec:m,c4:h,Mec:n,Nec:d};(null === k || void 0 === k?0:k.Eg) && k.Eg[g] && (k.Eg[g].cla=m,k.Eg[g].nv=h,k.Eg[g].Ux=n,k.Eg[g].Vx=d);this.yO=g;this.cla=m;this.nv=h;this.Vx=d;this.Ux=n;return !0;};f.se="trex";f.Oc=!1;return f;})(a(85571).Ze);b["default"]=r;},20968:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d;this.wg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{Cgc:"int16"},{Mdc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Fc=this.cw(d);this.Fc.hjc=!!(this.flags & 1);this.Fc.ijc=!!(this.flags & 2);this.Fc.jjc=!!(this.flags & 4);this.Fc.kjc=!!(this.flags & 8);if(null === k || void 0 === k?0:k.Ge)(k.Ge.width=this.Fc.width,k.Ge.height=this.Fc.height);k && k.Eg && (k.Eg[this.Fc.trackId]={});return !0;};f.se="tkhd";f.Oc=!1;return f;})(a(85571).Ze);b["default"]=r;},58853:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aOa=void 0;c=a(5163);l=a(61901);f=a(27172);k=a(16936);r=(function(d){function g(m,h,n,p,q){m=d.call(this,m,h,n,p,q) || this;m.XS=!1;return m;}c.__extends(g,d);Object.defineProperties(g.prototype,{AWa:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{d5:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{n$:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{p$:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$va:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zva:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});g.prototype.parse=function(m){var h,n,p;this.wg();this.Ria=this.M.offset;this.sd=this.M.Sb();this.Km=this.AWa?this.M.Q9():0;this.$Gb=this.d5?this.M.Sb():void 0;this.Yva=(this.n$?4:0) + (this.p$?4:0) + (this.$va?4:0) + (this.Zva?4:0);this.mL=this.M.offset;(0,f.assert)(this.AWa,"Expected data offset to be present in Track Run");(0,f.assert)(this.length - (this.M.offset - this.startOffset) === this.sd * this.Yva,"Expected remaining data in box to be sample information");if(m && m.Na){m.Na.Km=this.Km;m.Na.sd=this.sd;this.Kj=[];p=null === (n=null === (h=this.parent) || void 0 === h?void 0:h.Sm("tfhd")) || void 0 === n?void 0:n.yO;for(h=0;h < this.sd;h++){n={};this.n$?n.m$=this.M.Sb():m.Na.nv?n.m$=m.Na.nv:p && m.Eg && m.Eg[p] && (n.m$=m.Eg[p].nv);this.p$?n.wH=this.M.Sb():m.Na?n.wH=m.Na.Vx:p && m.Eg && m.Eg[p] && (n.wH=m.Eg[p].Vx);this.$va?n.o$=this.M.Sb():m.Na?n.o$=m.Na.Ux:p && m.Eg && m.Eg[p] && (n.o$=m.Eg[p].Ux);this.Zva && (n.jic=0 === this.version?this.M.Sb():this.M.Q9());0 === h && this.d5 && (n.o$=this.$Gb);this.Kj.push(n);}m.Na.Kj=this.Kj;if(m.Na.vH)for(((0,f.assert)(m.Na.vH.length === m.Na.Kj.length,("num fragment samples: ").concat(m.Na.Kj.length,", ") + ("num samples in auxiliary info: ").concat(m.Na.vH.length)),p=0);p < m.Na.Kj.length;p++){m.Na.Kj[p].Zca=m.Na.vH[p].Zca;m.Na.Kj[p].Gxa=m.Na.vH[p].Gxa;}}return !0;};g.prototype.P1=function(m,h,n){var p,q,u;p=this.n$?this.M.Sb():m.nv;q=this.p$?this.M.Sb():m.Vx;m=this.$va?this.M.Sb():m.Ux;u=this.Zva?0 === this.version?this.M.Sb():this.M.Q9():0;return {L0b:u,o$:m,wH:q,m$:p,Shc:(n || 0) + u - (void 0 !== h?h:u)};};g.prototype.Ia=function(m,h,n,p,q,u,t){var v,w,y,x;(0,f.assert)(void 0 !== this.Km);(0,f.assert)(void 0 !== this.mL);(0,f.assert)(void 0 !== this.Ria);(0,f.assert)(void 0 !== this.sd);(0,f.assert)(void 0 !== m.Iq);v=0;w=0;this.Rb.offset=this.mL;for(p=0;p < q;++p){y=this.P1(h,x,w);if(0 === p)x=y.L0b;v+=y.wH;w+=y.m$;}p=q;q=this.M.offset;y=this.P1(h,x,w);this.mva=t;this.YN=p;this.vcb=w;if(t){if((this.xN=this.Km + v,this.aq=0,p === this.sd))return !0;}else if((this.xN=this.Km,this.aq=v,0 === p))return !0;if(0 === p || p === this.sd)return !1;this.XS=!0;if(t){this.aq+=y.wH;for(t=p + 1;t < this.sd;++t){y=this.P1(h,x,w);this.aq+=y.wH;}this.Rb.offset=this.Ria;this.sd=p;this.Rb.ju(this.sd);this.Rb.pza(u);this.d5 && (this.M.offset+=4);this.am(this.length - (q - this.startOffset),q);}else (h=q - this.mL,this.mL=q,this.Rb.offset=this.Ria,this.sd-=p,this.Rb.ju(this.sd),this.Km+=v,this.Rb.pza(u,this.Km),this.d5 && (this.M.offset+=4),this.am(h,this.Rb.offset));n.am(this.aq,m.Iq + this.xN);return !0;};g.prototype.lTb=function(m,h,n,p,q,u,t,v){var w,x,z,A,B;void 0 === t && (t=!1);(0,f.assert)(void 0 !== this.Km);(0,f.assert)(void 0 !== this.mL);(0,f.assert)(void 0 !== this.sd);(0,f.assert)(void 0 !== this.Yva);(0,f.assert)(void 0 !== m.Iq);for(var y=p.length;y < this.sd;++y){p[y]=p[y - 1];}p.some(function(C){return 0 >= C;}) && (x=null === (w=this.vpb(q,u)) || void 0 === w?void 0:w.U$);this.M.offset=this.mL;m=m.Iq + this.Km;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.M.view.buffer,this.M.view.byteOffset,this.M.view.byteLength);for(y=0;y < this.sd;++y){w=this.P1(h).wH;if(-Infinity === p[y]){if(x && this.p$){n.Z9(w,x,m);z=this.Yva - (this.n$?4:0);this.Rb.offset-=z;this.Rb.ju(x.byteLength);this.Rb.offset+=z - 4;}}else if(0 > p[y])try{A=u.subarray(m,m + w);B=(0,l.HYa)({wd:q,frame:A,zx:p[y],tH:t,AG:v}).vHb;B !== w && this.M.console.error(("TrackRunBoxEditor: parse frame size error ").concat(B," should be ").concat(w));}catch(C){this.M.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(C.message," ").concat(C.stack));}m+=w;}};g.prototype.vpb=function(m,h){if("string" === typeof h)return ((0,f.assert)("reset" !== h && "standard" !== h),k.KE[h]);if(void 0 !== m)return h?k.KE.reset[m] || k.KE.standard[m]:k.KE.standard[m];};g.se="trun";g.Oc=!1;return g;})(a(85571).Ze);b.aOa=r;},6483:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xza=b.VEa=b.jFa=b.Dza=b.Cza=b.Bza=b.Aza=void 0;c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){l.prototype.parse.call(this,k);this.Fc=this.cw([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{ggc:"int32"},{yjc:"int32"},{offset:32,type:"offset"},{Cfc:"int16"},{yec:{type:"int8",Stb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};f.Oc=!0;return f;})(a(44126).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="avc1";return f;})(r);b.Aza=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="avc2";return f;})(r);b.Bza=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="avc3";return f;})(r);b.Cza=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="avc4";return f;})(r);b.Dza=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="hvc1";return f;})(r);b.jFa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="hev1";return f;})(r);b.VEa=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="av01";return f;})(r);b.xza=r;},91418:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hZ=void 0;c=a(5163);l=a(85571);f=a(97001);r=(function(k){function d(g,m,h,n,p){h=k.call(this,h,n,p) || this;h.svb=g;h.eO=m;h.Gd={};return h;}c.__extends(d,k);d.prototype.parse=function(g){var m,h,n,p,q,u;this.offset=0;m=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){h=this.offset;n=this.Sb();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=(0,f.hx)(this.Sb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.R9();}if(0 === m.length && this.eO.yZa(p,h,n))break;if(h + n > this.view.byteLength)break;q=this.svb[p];u=void 0;if(q){if((u=new q(this,p,h,n,m[0]),(m[0] || this).NR(u),u.parse(g)))this.config.Fta && q.Oc?m.unshift(u):this.offset=h + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=h + n;for(;m.length && this.offset > m[0].byteOffset + m[0].QG - 8;){u=m.shift();if(!u.mT(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.QG;}if(0 === m.length && this.eO.pXa(p,h,n,u))break;}return !this.eO.done && (g=this.eO.endOffset?this.eO.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,Q6a:g}:{done:!0,offset:Math.min(this.eO.endOffset || Infinity,this.offset)};};d.prototype.NR=function(g){l.Ze.NR(this,g);};return d;})(a(96785).LOa);b.hZ=r;},51170:function(r){var c,l;function b(){var f,k;if(DataView.prototype && DataView.prototype.dU && !l){try{f=new ArrayBuffer(4);k=new DataView(f);k.KL(0,4,1);}catch(d){return;}try{f=new ArrayBuffer(4);k=new DataView(f);k.KL(1,2,2);}catch(d){DataView.prototype.KL=a(DataView.prototype.KL,DataView.prototype.getUint8,Uint8Array);DataView.prototype.c6=a(DataView.prototype.c6,DataView.prototype.getUint16,Uint16Array);DataView.prototype.dU=a(DataView.prototype.dU,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Kna=a(DataView.prototype.Kna,DataView.prototype.getInt8,Int8Array);DataView.prototype.Ina=a(DataView.prototype.Ina,DataView.prototype.getInt16,Int16Array);DataView.prototype.Jna=a(DataView.prototype.Jna,DataView.prototype.getInt32,Int32Array);}c.MLb=function(d,g,m,h,n){return m?d.KL(g,m,h || 1,n):new Uint8Array(0);};c.KLb=function(d,g,m,h,n){return m?d.c6(g,m,h || 2,n):new Uint16Array(0);};c.LLb=function(d,g,m,h,n){return m?d.dU(g,m,h || 4,n):new Uint32Array(0);};c.Mfc=function(d,g,m,h,n){return m?d.Kna(g,m,h || 1,n):new Int8Array(0);};c.Kfc=function(d,g,m,h,n){return m?d.Ina(g,m,h || 2,n):new Int16Array(0);};c.Lfc=function(d,g,m,h,n){return m?d.Jna(g,m,h || 4,n):new Int32Array(0);};l=!0;}}function a(f,k,d){return function(g,m,h,n){var p;h=h || d.BYTES_PER_ELEMENT;if(g + m * h > this.byteLength){p=new d(m);p.set(f.call(this,g,m - 1,h,n));p[m - 1]=k.call(this,g + (m - 1 * h),n);return p;}return f.call(this,g,m,h,n);};}c={KL:function(f,k,d,g,m){var h;h=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getUint8(k,m);}return h;},c6:function(f,k,d,g,m){var h;h=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getUint16(k,m);}return h;},dU:function(f,k,d,g,m){var h;h=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getUint32(k,m);}return h;},Kna:function(f,k,d,g,m){var h;h=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getInt8(k,m);}return h;},Ina:function(f,k,d,g,m){var h;h=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getInt16(k,m);}return h;},Jna:function(f,k,d,g,m){var h;h=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getInt32(k,m);}return h;},rfc:b};l=!1;c.VIb=function(){return l;};b();r.exports=c;},48609:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pca=void 0;c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;this.M8=this.M.kd();g=this.M.kd();this.Bxa=g >>> 2;this.Fya=g >>> 1 & 1;this.Xia=256 * this.M.If() + this.M.kd();this.maxBitrate=this.M.Sb();this.Z2=this.M.Sb();l.K && this.M.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.M8.toString(16) + ", streamType=" + this.Bxa + ", upStream=" + this.Fya + ", bufferSizeDB=" + this.Xia + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.Z2);if(null === d || void 0 === d?0:d.Oi)(d.Oi.M8=this.M8,d.Oi.Bxa=this.Bxa,d.Oi.Fya=this.Fya,d.Oi.Xia=this.Xia,d.Oi.maxBitrate=this.maxBitrate,d.Oi.Z2=this.Z2);this.OQa(d);return !0;};k.tag=4;return k;})(a(4420).LZ);b.pca=r;},91737:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.RCa=void 0;c=a(5163);l=a(85571);r=a(4420);f=a(26678);a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.l$a=function(){var g;g=this.M.Pc(4);return 15 !== g?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][g]:this.M.Pc(24);};d.prototype.parse=function(g,m){if(this.COb(m) && 64 === m.M8){if(null === g || void 0 === g?0:g.Oi){m=this.M.t_a(this.length);for(var h=new ArrayBuffer(this.length),n=new Uint8Array(h),p=0;p < this.length;p++){n[p]=m.getUint8(p);}g.Oi.Kec=h;}this.np=this.d$a();this.q$=this.l$a();this.yja=this.M.Pc(4);this.dwa=this.jT=5 === this.np || 29 === this.np?5:-1;this.Iua=29 === this.np?1:-1;0 < this.jT && (this.kma=this.l$a(),this.np=this.d$a(),22 === this.np && (this.jma=this.M.Pc(4)));switch(this.np){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.yT=this.M.Pc(1),this.tka=(this.OCb=this.M.Pc(1))?this.M.Pc(14):void 0,this.M.Pc(1),this.CF=3 === this.np?256:23 === this.np?this.yT?480:512:this.yT?960:1024);}l.K && this.M.console.trace("AudioSpecificConfig: audioObjectType=" + this.np + ", samplingFrequency=" + this.q$ + ", channelConfiguration=" + this.yja + ", extensionAudioObjectType=" + this.jT + ", sbrPresentFlag=" + this.dwa + ", psPresentFlag=" + this.Iua + ", extensionSamplingFrequency=" + this.kma + ", extensionChannelConfiguration=" + this.jma + ", frameLengthFlag=" + this.yT + ", coreCoderDelay=" + this.tka + ", frameLength=" + this.CF);if(null === g || void 0 === g?0:g.Oi)(g.Oi.np=this.np,g.Oi.q$=this.q$,g.Oi.yja=this.yja,g.Oi.jT=this.jT,g.Oi.dwa=this.dwa,g.Oi.Iua=this.Iua,g.Oi.kma=this.kma,g.Oi.jma=this.jma,g.Oi.yT=this.yT,g.Oi.tka=this.tka,g.Oi.CF=this.CF);}this.skip();return !0;};d.prototype.d$a=function(){var g;g=this.M.Pc(5);31 === g && (g=32 + this.M.Pc(6));return g;};d.prototype.COb=function(g){return g.tag === f.pca.tag;};d.tag=5;return d;})(r.LZ);b.RCa=a;},4420:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LZ=void 0;c=a(5163);l=a(26678);r=(function(){function f(k,d,g){this.tag=k;this.view=d;this.M=g;this.startOffset=g.offset;}f.f$a=function(k,d,g){var m,h;m=k.kd();h=k.pZb();k=new (l.iF[m] || f)(m,k.t_a(h),k);k.parse(d,g);return k;};Object.defineProperties(f.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});f.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.qd=0;return !0;};f.prototype.XYa=function(k){var d,m;d=[];this.tag === k && d.push(this);if(this.iF)for(var g=0;g < this.iF.length;g++){m=this.iF[g];d=c.__spreadArray(c.__spreadArray([],d,!0),m.XYa(k),!0);}return d;};f.prototype.Sm=function(k){for(k=this.XYa(k);0 < k.length;){return k[0];}};f.prototype.OQa=function(k){for(this.iF=[];this.M.offset < this.startOffset + this.length;){this.iF.push(f.f$a(this.M,k,this));}};return f;})();b.LZ=r;r.prototype.skip=r.prototype.parse;},26678:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iF=void 0;r=a(5163);r.__exportStar(a(4420),b);r.__exportStar(a(99128),b);r.__exportStar(a(48609),b);r.__exportStar(a(91737),b);r=a(48609);c=a(91737);a=a(99128);b.iF={3:a.Aca,4:r.pca,5:c.RCa};},99128:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Aca=void 0;c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;this.Ljb=this.M.If();g=this.M.kd();this.Ycb=!!(g & 128);this.pOa=!!(g & 64);this.YIa=!!(g & 32);this.m4b=g & 31;this.PCb=this.Ycb?this.M.If():void 0;this.pOa && this.M.O9(this.M.kd());this.Tlb=this.YIa?this.M.If():void 0;l.K && this.M.console.trace("ESDescriptor: ES_ID=" + this.Ljb + ", streamDependenceFlag=" + this.Ycb + ", URL_Flag=" + this.pOa + ", OCRstreamFlag=" + this.YIa + ", streamPriority=" + this.m4b + ", dependsOn_ES_ID=" + this.PCb + ", OCR_ES_Id=" + this.Tlb);this.OQa(d);return !0;};k.tag=3;return k;})(a(4420).LZ);b.Aca=r;},36418:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.u=b.KE=b.O0=b.sfa=b.ijb=b.hx=b.XI=b.EP=b.YB=b.hs=b.Sw=b.pq=void 0;r=a(52297);c=a(51170);b.ijb=c;c=a(11174);b.sfa=c;c=a(16936);b.KE=c;b.O0=r.FM.Gd.sidx;l=a(56602);Object.defineProperties(b,{pq:{enumerable:!0,get:function(){return l.pq;}}});f=a(46788);Object.defineProperties(b,{Sw:{enumerable:!0,get:function(){return f.Sw;}}});k=a(70190);Object.defineProperties(b,{hs:{enumerable:!0,get:function(){return k.hs;}}});Object.defineProperties(b,{YB:{enumerable:!0,get:function(){return k.YB;}}});d=a(49478);Object.defineProperties(b,{EP:{enumerable:!0,get:function(){return d.EP;}}});g=a(9080);Object.defineProperties(b,{XI:{enumerable:!0,get:function(){return g.XI;}}});m=a(97001);Object.defineProperties(b,{hx:{enumerable:!0,get:function(){return m.hx;}}});h=a(23378);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return h.u;}}});},49478:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.EP=void 0;c=a(5163);r=a(46788);l=a(57821);a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.Ia=function(d){var g,m,h,n;g=this;if(!this.parse().done)return !1;m=this.Gd.moov;if(!m || 0 === m.length)return !1;h=m[0].Sm("tenc");if(!h)return !1;n=new Uint8Array(h.eo);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){u=!1;break;}}u && g.gf.Z9(p.from.length,p.to,h.oqa);});return (0,l.concat)(this.gf.Ia());};return k;})(r.Sw);b.EP=a;},23378:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.u=void 0;c=a(60328);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});},52297:function(r,b,a){var F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa,na,Ca,Ra,Q,da,P,Y,sa,Ha,Wa,$a,fb,sb,Jb;function c(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function l(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function f(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function k(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);this.dxa=Ua.config.dxa;this.bf=this.sizes=void 0;}function d(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function g(){for(var Ua=new DataView(this),bb="",kb,rb=0;rb < this.byteLength;rb++){kb=Ua.getUint8(rb);bb+=("00" + kb.toString(16)).slice(-2);}return bb;}function m(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function h(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function n(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function p(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function q(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function u(Ua){function bb(kb,rb,qb,yb,Ab){H.call(this,kb,rb,qb,yb,Ab);this.KTb=Ua;}bb.Oc=!1;bb.prototype=new H();bb.prototype.constructor=bb;Object.defineProperties(bb.prototype,{ICa:{get:function(){return this.KTb;}}});bb.prototype.parse=function(){this.M.offset=this.startOffset + 4;this.Rb.vgb(this.ICa);this.type=this.ICa;return !0;};return bb;}function t(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function v(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function w(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function y(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function x(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function z(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function A(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function B(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function C(Ua,bb,kb,rb,qb){H.call(this,Ua,bb,kb,rb,qb);}function D(Ua,bb){Ua.forEach(function(kb){bb[kb.se]=kb;});}F=a(27172).assert;b=a(26464);G=a(255).L;E=a(11174);a(51170);a(97001);a(97001);a(97001);H=a(85571).Ze;M=a(97291)["default"];L=a(85978)["default"];K=a(20968)["default"];O=a(60841)["default"];J=a(60440)["default"];I=a(22770)["default"];N=a(89849)["default"];R=a(36464)["default"];U=a(44210)["default"];a(44126);a(61671);ja=a(82818).sza;ra=a(82818).yDa;ka=a(24475)["default"];ua=a(89525)["default"];Aa=a(6483)["default"];La=a(6483).Aza;Xa=a(6483).Bza;ab=a(6483).Cza;aa=a(6483).Dza;na=a(80586)["default"];Ca=a(24895)["default"];Ra=a(27235)["default"];Q=a(6483).jFa;da=a(6483).VEa;P=a(6483).xza;Y=a(12228)["default"];sa=a(46079)["default"];Ha=a(75706)["default"];Wa=a(79798)["default"];$a=a(30855)["default"];a(4420);a(48609);a(91737);a(99128);fb=a(85830)["default"];sb=a(58853).aOa;Jb=a(21501)["default"];a=a(57199)["default"];c.Oc=!0;c.prototype=new H();c.prototype.constructor=c;l.Oc=!0;l.prototype=new H();l.prototype.constructor=l;f.Oc=!1;f.prototype=new H();f.prototype.constructor=f;f.prototype.parse=function(Ua){var bb;this.wg();1 === this.version?(this.M.Vi(),this.M.Vi(),this.N=this.M.Sb(),this.duration=this.M.Vi()):(this.M.Sb(),this.M.Sb(),this.N=this.M.Sb(),this.duration=this.M.Sb());bb=this.M.If() & 32767;this.language=String.fromCharCode(96 + (bb >>> 10),96 + (bb >>> 5 & 31),96 + (bb & 31));Ua && Ua.Ge && (Ua.Ge.N=this.N,Ua.Ge.duration=this.duration);return !0;};k.Oc=!1;k.prototype=new H();k.prototype.constructor=k;k.prototype.Lqb=function(){this.wg();this.M.Sb();this.N=this.M.Sb();0 === this.version?(this.DXa=this.M.Sb(),this.nZa=this.M.Sb()):(this.DXa=this.M.Vi(),this.nZa=this.M.Vi());this.mab=this.M.If();this.B$a=this.M.If();};k.prototype.Lob=function(Ua,bb){var kb,rb,qb;kb=this.N;Ua=Ua && Ua.N || kb;rb=Ua / kb;kb=this.M.N9(bb,12,!1);qb=1 === rb?this.M.N9(bb,12,!1):E.from(Uint32Array,{length:bb},function(){var yb;yb=Math.round(this.M.Sb() * rb);this.M.offset+=8;return yb;},this);this.Grb(bb,qb,kb,Ua);};k.prototype.Grb=function(Ua,bb,kb,rb){if(this.dxa){rb=this.dxa * rb / 1E3;for(var qb=0,yb=1;yb < Ua;yb++){Math.abs(bb[qb] - rb) > Math.abs(bb[qb] + bb[yb] - rb)?(bb[qb]+=bb[yb],kb[qb]+=kb[yb]):(++qb,qb !== yb && (bb[qb]=bb[yb],kb[qb]=kb[yb]));}++qb;bb=new Uint32Array(bb.buffer.slice(0,4 * qb));kb=new Uint32Array(kb.buffer.slice(0,4 * qb));}this.sizes=kb;this.bf=bb;};k.prototype.parse=function(Ua){var bb,kb,rb,qb;this.Lqb();this.za=Ua.za;bb=this.N;kb=this.za && this.za.N || bb;rb=this.B$a;qb=this.startOffset + this.length + this.nZa;bb=new G(this.DXa,bb).$c(kb).ja;this.La={N:kb,Kr:bb,offset:qb};this.Lob(this.za,rb);this.La.bf=this.bf;this.La.sizes=this.sizes;Ua.sk=this;return !0;};d.Oc=!1;d.prototype=new H();d.prototype.constructor=d;d.prototype.parse=function(){var Ua;this.vw=[];this.KWb=[];Ua=(this.length - 11) / 2;this.M.kd();this.M.kd();this.M.kd();for(var bb=0;bb < Ua;bb++){this.vw.push(this.M.kd());this.KWb.push(this.M.kd());}return !0;};m.Oc=!1;m.prototype=new H();m.prototype.constructor=m;m.prototype.parse=function(Ua){var bb;this.wg();this.M.offset+=1;if(0 == this.version)this.M.offset+=1;else {bb=this.M.kd();this.xCb=bb >> 4;this.DCb=bb & 15;Ua && Ua.Ge && (Ua.Ge.Oec=this.xCb,Ua.Ge.Rec=this.DCb);}this.SWa=this.M.kd();this.RWa=this.M.kd();this.oqa=this.M.offset;this.eo=this.M.P9(16);this.eo.toString=g;Ua && Ua.Ge && (Ua.Ge.Pec=this.SWa,Ua.Ge.zCb=this.RWa,Ua.Ge.Qec=this.eo);1 == this.SWa && 0 == this.RWa && (this.wCb=this.M.kd(),this.vCb=this.M.P9(this.wCb),Ua && Ua.Ge && (Ua.Ge.yCb=this.vCb));return !0;};h.Oc=!1;h.prototype=new H();h.prototype.constructor=h;h.prototype.parse=function(){this.wg();this.Bp=this.M.If();this.tSb=this.M.N9(this.Bp,void 0,!0);return !0;};n.Oc=!1;n.prototype=new H();n.prototype.constructor=n;n.prototype.parse=function(Ua){var bb,kb,rb,qb,yb,Ab;bb=Ua.sk;F(bb);Ua=Ua.za;kb=bb.N;bb=bb.B$a;F(Ua);F(kb);F(bb);this.wg();F(2 > this.version);this.Bp=this.M.If();this.fN=new Uint16Array(bb + 1);rb=Ua.e1a(kb);qb=rb / kb;yb=Ua.$c(rb).ja;if(0 === this.version)for((this.MN=new Uint16Array(),this.vi=new Uint32Array(),Ua=kb=0);Ua <= bb;++Ua){if((this.fN[Ua]=kb,Ua < this.Bp)){Ab=this.M.kd();if(0 !== Ab)for(rb=0;rb < Ab;(++rb,++kb)){this.MN[kb]=Math.floor((this.M.Sb() + 1) * qb) / yb;this.vi[kb]=this.M.Sb();}}}else if(1 === this.version)for((rb=this.M.mZb(this.Bp),this.M.offset+=4,this.vi=this.M.N9(this.Bp,10,!1),this.M.offset-=8,this.MN=E.from(Uint16Array,{length:this.Bp},function(){var Lb;Lb=Math.floor((this.M.Sb() + 1) * qb) / yb;this.M.offset+=6;return Lb;},this),kb=Ua=0);Ua <= bb;++Ua){for(;kb < rb.length && rb[kb] < Ua;){++kb;}this.fN[Ua]=kb;}this.qj={fN:this.fN,MN:this.MN,vi:this.vi};return !0;};p.Oc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Oc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.mT=function(){var Ua;Ua=this.Go("tfhd");Ua && (this.Iq=Ua.rTa?Ua.Iq:this.parent.startOffset);return !0;};t.Oc=!1;t.prototype=new H();t.prototype.constructor=t;t.prototype.parse=function(){var Ua,Xb;Ua=this.M.offset;this.wg();if(1 === this.version){this.M.offset+=2;for(var bb=this.M.offset,kb=this.M.kd(),rb=this.M.kd(),qb=this.M.kd(),yb=this.M.kd(),Ab=this.M.If(),Lb=[],Sb=0;Sb < Ab;++Sb){Lb=this.M.kd();}Sb=(kb & 240) >>> 4;Xb=(kb & 14) >>> 1;kb&=1;qb=16 === qb?1:0;rb != yb && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + rb + " and matrixCoefficients " + yb + " should be the same value!");yb=2;switch(rb){case 1:yb=2;break;case 6:yb=1;break;case 9:yb=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + rb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Rb.fba(this.version,Ua);this.Rb.fba(Sb << 4 | yb,bb++);this.Rb.fba(Xb << 4 | qb << 1 | kb,bb++);Ab+=2;Lb.push(0,0);this.Rb.b9b(Ab);bb+=2;Lb.forEach(function(Ib){this.Rb.fba(Ib,bb++);});}return !0;};v.Oc=!1;v.prototype=new H();v.prototype.constructor=v;v.se="tfhd";Object.defineProperties(v.prototype,{rTa:{get:function(){return this.flags & 1;}},M0b:{get:function(){return this.flags & 2;}},ACb:{get:function(){return this.flags & 8;}},CCb:{get:function(){return this.flags & 16;}},TWa:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(Ua){this.wg();this.yO=this.M.Sb();this.Iq=this.rTa?this.M.Vi():void 0;this.Lab=this.M0b?this.M.Sb():void 0;this.nv=this.ACb?this.M.Sb():void 0;this.Vx=this.CCb?this.M.Sb():void 0;this.Ux=this.TWa?this.M.Sb():void 0;Ua && Ua.Na && (Ua.Na.yO=this.yO,Ua.Na.Iq=this.Iq,Ua.Na.Lab=this.Lab,Ua.Na.nv=this.nv,Ua.Na.Vx=this.Vx,Ua.Na.Ux=this.TWa?this.Ux:void 0);return !0;};w.Oc=!1;w.prototype=new H();w.prototype.constructor=w;w.prototype.parse=function(Ua){this.wg();this.OE=1 === this.version?this.M.Vi():this.M.Sb();Ua && Ua.Na && (Ua.Na.OE=this.OE);return !0;};w.prototype.Ia=function(Ua){var bb;bb=this.startOffset + 12;this.OE+=Ua;1 === this.version?this.Rb.c9b(this.OE,bb):this.Rb.ju(this.OE,bb);};y.Oc=!1;y.prototype=Object.create(H.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{ME:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Ua){this.wg();this.ME && this.M.Vy();this.ME && this.M.Sb();this.BCb=this.M.kd();this.sd=this.M.Sb();this.INb=this.M.O9(this.sd);Ua && Ua.Na && (Ua.Na.N0b=this.INb);return !0;};y.prototype.Ia=function(Ua,bb){if(Ua && 0 === this.BCb){Ua=bb?this.sd - Ua:Ua;this.Rb.offset=this.startOffset + 13 + (this.ME?8:0);this.sd-=Ua;this.Rb.ju(this.sd);this.Vva=0;if(bb)this.Rb.offset+=this.sd;else {for(bb=0;bb < Ua;++bb){this.Vva+=this.Rb.kd();}this.Rb.offset-=Ua;}this.am(Ua,this.M.offset);}return !0;};x.Oc=!1;x.prototype=Object.create(H.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{ME:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Ua){var bb,kb,Sb,Xb;this.wg();this.ME && this.M.Vy();this.ME && this.M.Sb();this.Bp=this.M.Sb();F(1 === this.Bp,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Km=0 === this.version?this.M.Q9():this.M.rZb();this.M.offset=this.Km;if(Ua && Ua.Na && Ua.Ge){bb=Ua.Ge.zCb;kb=Ua.Na.N0b;F(0 < bb || void 0 !== Ua.Ge.yCb,"Expected per sample or constant IV");F(0 < (kb || []).length,"Expected saix box parsing to find sample info sizes");Ua.Na.vH=[];for(var rb=0;rb < kb.length;rb++){for(var qb=bb?this.M.P9(bb):void 0,yb=[],Ab=this.M.If(),Lb=0;Lb < Ab;Lb++){Sb=this.M.If();Xb=this.M.Sb();yb.push({Xvb:Sb,Yvb:Xb});}Ua.Na.vH.push({Gxa:yb,Zca:qb});}}return !0;};x.prototype.Ia=function(Ua,bb){this.Km+=Ua;this.Rb.offset=this.startOffset + 16 + (this.ME?8:0) + (0 === this.version?0:4);this.Rb.pza(bb,this.Km);return !0;};z.Oc=!1;z.prototype=Object.create(H.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{h8a:{get:function(){return this.flags & 1;}},Ifb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Ua){var bb,Ab,Lb;this.wg();bb=0;this.h8a && (bb=this.CPb=this.M.Sb() & 255,this.M.O9(16));if(Ua && Ua.Na){if(Ua.Na.vH)return !0;Ua.Na.Kj || (Ua.Na.Kj=[]);}if(0 !== bb && 8 !== bb && 16 !== bb)return !0;this.sd=this.M.Sb();if(Ua && Ua.Na)for(var kb=0;kb < this.sd;kb++){if((Ua.Na.Kj[kb].Zca=0 < bb?this.M.P9(bb):void 0,this.Ifb)){for(var rb=[],qb=this.M.If(),yb=0;yb < qb;yb++){Ab=this.M.If();Lb=this.M.Sb();rb.push({Xvb:Ab,Yvb:Lb});}Ua.Na.Kj[kb].Gxa=rb;}}return !0;};z.prototype.Ia=function(Ua,bb){var kb,rb;kb=bb?this.sd - Ua:Ua;this.Rb.offset=this.startOffset + 28 + (this.h8a?20:0);this.sd-=kb;this.Rb.ju(this.sd);Ua=this.Rb.offset;if(this.Ifb)for(kb=bb?this.sd:kb;0 < kb;--kb){this.Rb.offset+=8;rb=this.Rb.If();this.Rb.offset+=6 * rb;}else this.Rb.offset+=8 * (bb?this.sd:kb);bb?this.am(this.length - (this.M.offset - this.startOffset),this.M.offset):this.am(this.M.offset - Ua,Ua);};A.Oc=!1;A.prototype=Object.create(H.prototype);A.prototype.constructor=A;A.prototype.parse=function(Ua){this.wg();if(Ua && Ua.Na){void 0 === Ua.Na.Kj && (Ua.Na.Kj=[]);for(var bb=0;bb < this.length - 12;bb++){Ua.Na.Kj[bb].kic=this.M.kd();}}return !0;};A.prototype.Ia=function(Ua,bb,kb){kb?this.am(bb - Ua,this.startOffset + 12 + Ua):this.am(Ua,this.startOffset + 12);return !0;};B.Oc=!1;B.prototype=Object.create(H.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.wg();this.M.Vy();1 === this.version && this.M.Sb();this.Bp=this.M.Sb();this.fX=[];for(var Ua=0;Ua < this.Bp;++Ua){for(var bb=this.M.Sb(),kb=this.M.Sb(),rb=0;rb < bb;++rb){this.fX.push(kb);}}return !0;};B.prototype.Ia=function(Ua,bb){this.fX=bb?this.fX.slice(0,Ua):this.fX.slice(Ua);Ua=this.fX.reduce(function(kb,rb){0 !== kb.length && kb[kb.length - 1].group === rb || kb.push({group:rb,count:0});++kb[kb.length - 1].count;return kb;},[]);this.Rb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Rb.ju(Ua.length);Ua.forEach((function(kb){this.Rb.ju(kb.count);this.Rb.ju(kb.group);}).bind(this));this.Bp > Ua.length && this.am(8 * (this.Bp - Ua.length));this.Bp=Ua.length;return !0;};C.Oc=!1;C.prototype=Object.create(H.prototype);C.prototype.constructor=C;Aa={Gd:{moov:l,trak:c,mdia:c,mdhd:f,minf:c,encv:Aa,schi:c,sidx:k,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:q,tfhd:v,trun:sb,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:w,mdat:C,vmaf:d,edts:c},i6b:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},xeb:{schm:na},Xva:{}};D([Ca,Ra,I,a,N,Jb,R,Q,da,P,M,O,Wa,$a,J,U,L,K,fb,sb],Aa.Gd);D([ja,ka,La,Xa,ab,aa,ra,ua,sa,Y],Aa.Xva);D([Ca,na],Aa.xeb);Aa.Gd[b.rJa]=m;Aa.Gd[b.f0]=h;Aa.Gd[b.e0]=n;Aa.Gd[b.qJa]=z;Aa.Xva[b.Nda]=Ha;Aa.Ze=H;r.exports={FM:Aa};},70190:function(r,b,a){var l,f,k,d,g;function c(m){return "number" === typeof m[0] || void 0 === m[0]?{Jj:m[0],N:m[1],zx:m[2],Jva:m[3],tH:m[4]}:m[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.YB=b.hs=void 0;l=a(5163);f=a(26464);r=a(46788);k=a(97001);d=a(27172);g=a(85571);a=(function(m){function h(n,p,q){return m.call(this,n,p,q) || this;}l.__extends(h,m);h.prototype.L$a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ia(l.__assign(l.__assign({},c(n)),{mva:!1}));};h.prototype.S$a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ia(l.__assign(l.__assign({},c(n)),{mva:!0}));};h.prototype.Ia=function(n){var q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J;function p(R){z=x[R];A=z.Go("traf");if(void 0 === A || void 0 === A.Iq)return !1;F=A.Go("tfdt");if(void 0 === F)return !1;B=A.Go("trun");return void 0 === B?!1:!0;}q=n.Jj;u=n.N;t=n.mva;v=n.zx;w=n.Jva;w=void 0 === w?!1:w;y=n.tH;y=void 0 === y?!1:y;n=n.AG;if(!this.parse().done)return !1;x=this.Gd.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){C=q;for(q=0;q < x.length;++q){if(!p(q,this.gf.console.trace))return !1;(0,d.assert)(z && A && F && B && void 0 !== B.sd);if(B.sd > C || t && B.sd === C)break;C-=B.sd;}(0,d.assert)(z && A && F && B);}else if((q=t?x.length - 1:0,!p(q,this.gf.console.trace)))return !1;(0,d.assert)(z && A && F && B);if(t && q < x.length - 1){D=x[q + 1];this.gf.am(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.gf.am(z.startOffset,0);D=A.Go("tfhd");if(void 0 === D)return !1;F=A.Go("tfdt");G=B.sd;E=A.Go("saiz");H=A.Go("saio");M=A.Go(f.qJa);L=A.Go("sbgp");if(!(!E && !H || E && H))return !1;K=A.Go("sdtp");O=g.Ze.by(this,"mdat");if(O && q < O.length)J=O[q];else if(q !== x.length - 1)return !1;void 0 === C && (C=t?B.sd:0);if("number" === typeof v && 0 < v){O=t?C:B.sd - C;for(var I=Array(O),N=0;N < O;++N){I[N]=t?N >= O - v?-Infinity:0:N < v?-Infinity:0;}v=I;}if(B.Ia(A,D,J || this.gf,u,C,A.Iq,t))B.XS && ((0,d.assert)(void 0 !== B.vcb),(0,d.assert)(void 0 !== B.YN),!t && F && F.Ia(B.vcb),E && H && (E.Ia(B.YN,t),H.Ia(M?0:E.Vva,A.Iq)),M && M.Ia(B.YN,t),K && K.Ia(B.YN,G,t),L && L.Ia(B.YN,t));else if(!t){if(q === x.length - 1)return !1;this.gf.am(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.YN)return !1;Array.isArray(v) && J && this.stream.profile && void 0 !== w && B.lTb(A,D,J,v,this.stream.profile,w,y,n);u=this.gf.Ia();t=u.reduce(function(R,U){return R + U.byteLength;},0);u={Na:u,length:t,QG:this.gf.view.byteLength};B.XS && !J && (u.xN=A.Iq + B.xN,u.aq=B.aq);return u;};return h;})((function(m){function h(n,p,q){return m.call(this,n,p,q) || this;}l.__extends(h,m);return h;})(r.Sw));b.hs=a;b.YB=function(m){var h,n;h=new ArrayBuffer(8);n=new DataView(h);n.setUint32(0,m + 8);n.setUint32(4,(0,k.Tfa)("mdat"));return h;};},9080:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XI=void 0;c=a(97001);l={stsd:16};b.XI=(function(){function f(){}f.path=function(k,d){var p,q;for(var g=0,m=k.byteLength,h,n=0;n < d.length;n++){p=d[n];for(h && (g+=l[h] || 8);g < m;){q=k.getUint32(g);h=(0,c.hx)(k.getUint32(g + 4));if(h === p){m=g + q;break;}g+=q;}}return g < m?g:void 0;};f.FYa=function(k){var d,g,m,h,n;d=this.path(k,["moof","traf"]);if(void 0 !== d){k=new DataView(k.buffer,k.byteOffset + d + 8);g=this.path(k,["tfdt"]);if(void 0 !== g){1 === k.getUint8(g + 8)?(d=k.getUint32(g + 12),g=k.getUint32(g + 16),d=4294967296 * d + g):d=k.getUint32(g + 12);m=this.path(k,["trun"]);if(void 0 === m)return {kya:d};h=k.getUint8(m + 8);n=k.getUint32(m + 8) & 16777215;g=k.getUint32(m + 12);n & 2048?(m=m + 16 + ((n & 1) << 2) + (n & 4) + (((n & 256) >> 6) + ((n & 512) >> 7) + ((n & 1024) >> 8)),k=1 === h?k.getInt32(m):k.getUint32(m)):k=0;return {kya:d,mZa:k,Wva:g};}}};return f;})();},46788:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Sw=void 0;c=a(91418);l=a(52297);f=a(27815);r=(function(){function k(d,g,m){this.console=d;this.stream=g;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}k.prototype.parse=function(d){var g;g=new f.sca(this.view.byteLength);this.gf=new c.hZ(l.FM.Gd,g,this.view,this.console,{Fta:!0});d=this.gf.parse(d);this.Gd=this.gf.Gd;return d;};return k;})();b.Sw=r;},56602:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.pq=void 0;c=a(5163);l=a(44295);f=a(57821);k=a(27172);d=a(255);g=a(85571);r=a(79798);m=a(30855);h=a(91418);n=a(51170);p=a(52297);q=a(26464);u=a(27815);t=a(82441);c.__exportStar(a(17904),b);a=(function(){function v(w,y,x,z,A,B){this.console=w;this.stream=y;this.St=z;this.btb=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.EMb=(0,n.VIb)();}v.path=function(w,y){return y.reduce(function(x,z){return x && x.Gd[z] && x.Gd[z][0];},w);};v.aKb=function(w){return w && w.Zja && -1 !== w.Zja.indexOf("mcl0")?"mcl0":void 0;};v.FGb=function(w,y){var x,z;(0,k.assert)("mcl0" === w,"Unsupported McClearen brand");x=y.La;w=x.bf;y=new d.L(120,1).$c(x.N).ja;z=0;for(x=x.Kr;z < w.length && x < y;){x+=w[z++];}return z;};v.prototype.parse=function(w){var y;y=this.U0b();if(!y.done){if(y.Q6a)return {Qv:!1,s2:y.Q6a};this.console.error("Scan error: " + y.error);return {Qv:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === w || void 0 === w?0:w.za)w.KVb=w.za;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);w=this.iWb(w);return w.done?this.yyb():(this.console.error("Parse error: " + w.error),{Qv:!1,parseError:w.error || "unknown mp4 parse error"});};v.prototype.by=function(w){return g.Ze.by(this,w);};v.prototype.Sm=function(w){return g.Ze.Sm(this,w);};v.prototype.U0b=function(){var w,y;w=new u.rFa(this.St,this.btb?[q.f0,q.e0]:[],this.config && this.config.Yic || ["moof",q.EIa],this.config && this.config.Gta);y=c.__assign(c.__assign({},this.config),{Fta:!1});return new h.hZ(v.fwa,w,this.view,this.console,y).parse();};v.prototype.iWb=function(w){var y,x,z;y=new u.sca(this.view.byteLength);x=Object.create(p.FM.Gd);this.config && ((this.config.t8a || this.config.web || this.config.Y$) && l(p.FM.Xva,x),this.config.oya && l(p.FM.i6b,x),this.config.web && l(p.FM.xeb,x));z=c.__assign(c.__assign({},this.config),{Fta:!0});this.gf=new h.hZ(x,y,this.view,this.console,z);w=this.gf.parse(w);w.done && (this.Gd=this.gf.Gd);return w;};v.prototype.yyb=function(){var w,y,x,z,A,B,C,D;w={Qv:!0};y=v.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.by("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].Go("tkhd");z && (w.trackId=z.Fc.trackId);}z=v.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.t8a)if(z)(w.za=z.za,w.iic=z.Gd);else return {Qv:!1,parseError:"Missing sample descriptions"};A=v.path(z,["encv","sinf","schi"]);A && (A=v.path(A,["tenc"]) || v.path(A,[q.rJa])) && (w.aFb={zec:A.eo,oqa:A.oqa,ygc:!1});if(A=v.path(y,["trak","mdia","mdhd"]))w.N=A.N;if(A=v.path(y,["mvex","trex"]))w.c4=A && A.Fc.c4;w.c4 && w.N && (w.za=new d.L(w.c4,w.N));if(A=v.path(this,["sidx"])){B=v.path(this,[q.f0]);B=B && B.tSb;C=v.path(this,[q.e0]);C=C && C.qj;w.La=A.La;w.EM=B;w.qj=C;}if(B=this.Gd.vmaf && this.Gd.vmaf[0])w.vw=B.vw;if(this.config.qva && (B=v.path(y,["mvex"])) && x && x.length){D=x.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});D.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=(0,t.wya)(x,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),D=(0,t.wya)(x,Uint8Array,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),x.set(D,B.byteOffset),x.set(C,B.byteOffset + D.byteLength));}if(this.config.y0b)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.Y$ && z && 1 < z.cL && A && (w.Hh=this.Y$(z,A)),void 0 === w.Hh && (y=this.gf.XS?(0,f.concat)(this.gf.Ia()):this.view.buffer,w.Hh=[{Ye:0,data:y}]));else return {Qv:!1,parseError:"Missing movie box"};w.Qv=!0;w.g9=this.gf.offset;return w;};v.prototype.trim=function(w){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.gf.trim(w);this.view=new DataView(y);};v.prototype.Y$=function(w,y){var x,z,A;x=Object.keys(w.Gd);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=v.path(this,["ftyp"]);A=v.aKb(x);if(A)return (x=[],this.gf.bZb(),w.Q$a("encv"),x.push({Ye:0,tF:!1,data:(0,f.concat)(this.gf.Ia())}),this.gf.wXb(),w.Q$a(z[0]),w=v.FGb(A,y),x.push({Ye:w,tF:!0,data:(0,f.concat)(this.gf.Ia())}),x);}};v.fwa={};return v;})();b.pq=a;a.fwa[q.Oda]=r.default;a.fwa[q.Pda]=m.default;},97001:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Job=b.Tfa=b.hx=void 0;c=a(27172);b.hx=function(l){(0,c.assert)("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.Tfa=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.Job=function(l,f){return Math.floor(1E3 * l / f);};},26464:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Oda="6674654e-696c-5078-6966-665374726d21";b.Pda="6674654e-696c-4878-6165-6465722e7632";b.EIa="6674654e-696c-5078-6966-66496e646578";b.f0="6674654e-696c-4d78-6f6f-6653697a6573";b.e0="6674654e-696c-5378-6565-6b506f696e74";b.rJa="cedb7489-e77b-514c-84f9-7148f9882554";b.qJa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Nda="6674654e-696c-4678-7261-6d6552617465";},27815:function(r,b,a){var l;function c(f,k){f=k.indexOf(f);-1 !== f && k.splice(f,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.rFa=b.sca=void 0;l=a(26464);r=(function(){function f(k){this.endOffset=k;this.done=!1;}f.prototype.yZa=function(){return this.done;};f.prototype.pXa=function(k,d,g){return this.done=d + g >= this.endOffset;};return f;})();b.sca=r;r=(function(){function f(k,d,g,m){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === m && (m=!1);this.St=k;this.l4=d;this.Gdb=g;this.Gta=m;this.done=!1;this.cl={};}f.prototype.yZa=function(k,d,g){-1 !== f.LMb.indexOf(k) && (this.cl[k]={offset:d,size:g});if(-1 !== this.Gdb.indexOf(k)){if((this.cl[k]={offset:d,size:g},this.Gta))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.St && -1 !== this.St.indexOf(k)?(k=1 < this.St.length?4096:0,this.endOffset=Math.max(d + g + k,this.endOffset || 0)):-1 !== this.l4.indexOf(k) && (k=this.St?4096:0,this.endOffset=Math.max(d + g + k,this.endOffset || 0));return this.done;};f.prototype.pXa=function(k,d,g,m){var h;h=this;if(-1 !== this.Gdb.indexOf(k))return this.done=!0;k === l.Oda && this.Nbb(m.cl);k === l.Pda && this.Nbb(m.cl);this.St && c(k,this.St);c(k,this.l4);return this.St && 0 === this.St.length && !this.l4.some(function(n){return h.cl[n];})?this.done=!0:this.done;};f.prototype.Nbb=function(k){var d;d=this;this.cl=k;this.endOffset=(this.St || []).concat(this.l4).reduce(function(g,m){return d.cl[m]?(m=d.cl[m],Math.max(m.offset + (m.size || 4096),g)):g;},this.endOffset || 0);};f.LMb=["moov","sidx"];return f;})();b.rFa=r;},11174:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,f){a=new a(c.length);for(var k="function" === typeof l,d=0;d < c.length;++d){a[d]=k?l.call(f,c[d],d,c):c[d];}return a;},set:b};},82441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wya=void 0;b.wya=function(a,c,l,f){var k,d;if(null !== a && void 0 !== a && a.slice)return a.slice(l,f);k=Math.min(a.length,f);d=Math.min(a.length,l);for(c=new c(Math.max(f - l,0));d < k;d++){c[d - l]=a[d];}return c;};},27172:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},57821:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=void 0;b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(f,k){return f + k.byteLength;},0);l=new Uint8Array(c);a.reduce(function(f,k){l.set(new Uint8Array(k),f);return f + k.byteLength;},0);return l.buffer;};},44295:function(r){r.exports=function l(a,c){var f;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(k){f=Object.getOwnPropertyDescriptor(a,k);void 0 !== f && Object.defineProperty(c,k,f);});};},255:function(r,b){function a(l,f){return "number" !== typeof l || "number" !== typeof f?!1:l && f?Math.abs(l * f / c(l,f)):0;}function c(l,f){var k;l=Math.abs(l);for(f=Math.abs(f);f;){k=f;f=l % f;l=k;}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.L=void 0;r=(function(){function l(f,k){"object" === typeof f?(this.oc=f.ja,this.jb=f.N):(this.oc=f,this.jb=k);}l.Ma=function(f){return new l(f,1E3);};l.gya=function(f,k){return Math.floor(1E3 * f / k);};l.J6a=function(f,k){return Math.floor(f * k / 1E3);};l.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(d,g){return d.greaterThan(g)?d:g;});};l.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(d,g){return d.lessThan(g)?d:g;});};l.oB=function(f,k){var d;if(f.N === k.N)return new l(c(f.ja,k.ja),f.N);d=a(f.N,k.N);return l.oB(f.$c(d),k.$c(d));};Object.defineProperties(l.prototype,{ja:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{G:{get:function(){return 1E3 * this.oc / this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{uh:{get:function(){return this.oc / this.jb;},enumerable:!1,configurable:!0}});l.prototype.$c=function(f){f/=this.N;return new l(Math.floor(this.ja * f),Math.floor(this.N * f));};l.prototype.add=function(f){var k;if(this.N === f.N)return new l(this.ja + f.ja,this.N);k=a(this.N,f.N);return this.$c(k).add(f.$c(k));};l.prototype.qa=function(f){return this.add(new l(-f.ja,f.N));};l.prototype.oo=function(f){return new l(this.ja * f,this.N);};l.prototype.ih=function(f){var k;if(this.N === f.N)return this.ja / f.ja;k=a(this.N,f.N);return this.$c(k).ih(f.$c(k));};l.prototype.e1a=function(f){return a(this.N,f);};l.prototype.ava=function(){return new l(this.N,this.ja);};l.prototype.compare=function(f,k){var d;if(this.N === k.N)return f(this.ja,k.ja);d=a(this.N,k.N);return f(this.$c(d).ja,k.$c(d).ja);};l.prototype.equal=function(f){return this.compare(function(k,d){return k === d;},f);};l.prototype.wsa=function(f){return this.compare(function(k,d){return k !== d;},f);};l.prototype.lessThan=function(f){return this.compare(function(k,d){return k < d;},f);};l.prototype.greaterThan=function(f){return this.compare(function(k,d){return k > d;},f);};l.prototype.yy=function(f){return this.compare(function(k,d){return k <= d;},f);};l.prototype.hi=function(f){return this.compare(function(k,d){return k >= d;},f);};l.prototype.toJSON=function(){return {ticks:this.ja,timescale:this.N};};l.prototype.toString=function(){return ("").concat(this.ja,"/").concat(this.N);};l.Ga=new l(0,1);l.My=new l(1,1E3);return l;})();b.L=r;},96785:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.LOa=void 0;c=a(5163);l=a(27172);f=a(57821);k=a(97001);r=a(7604);d=(function(){function g(m){m?(this.zo=m.zo.slice(),this.Sr=m.Sr.slice(),this.vi=m.vi.slice(),this.trim=m.trim):(this.zo=[],this.Sr=[],this.vi=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.zo.length && 0 === this.Sr.length && 0 === this.vi.length;},enumerable:!1,configurable:!0}});return g;})();r=(function(g){function m(h,n,p){h=g.call(this,h,n,p) || this;h.KXa=[];h.Rd=new d();return h;}c.__extends(m,g);m.Qtb=function(h,n){if(n.offset + n.size <= h.byteLength)switch(n.size){case 1:h.setUint8(n.offset,n.value);break;case 2:n.yX?h.setInt16(n.offset,n.value):h.setUint16(n.offset,n.value);break;case 4:n.yX?h.setInt32(n.offset,n.value):h.setUint32(n.offset,n.value);break;case 8:(0,l.assert)(!n.yX);h.setUint32(n.offset,Math.floor(n.value / 4294967296));h.setUint32(n.offset + 4,n.value & 4294967295);break;default:(0,l.assert)(!1);}};Object.defineProperties(m.prototype,{XS:{get:function(){return !this.Rd.empty;},enumerable:!1,configurable:!0}});m.prototype.fba=function(h,n){this.Rd.Sr.push({offset:void 0 !== n?n:this.offset,value:h,size:1});void 0 === n && (this.offset+=1);};m.prototype.b9b=function(h){this.Rd.Sr.push({offset:!1,value:h,size:2,yX:!1});};m.prototype.ju=function(h,n){this.Rd.Sr.push({offset:void 0 !== n?n:this.offset,value:h,size:4,yX:!1});void 0 === n && (this.offset+=4);};m.prototype.c9b=function(h,n){this.Rd.Sr.push({offset:void 0 !== n?n:this.offset,value:h,size:8,yX:!1});void 0 === n && (this.offset+=8);};m.prototype.vgb=function(h){this.ju((0,k.Tfa)(h));};m.prototype.pza=function(h,n){this.Rd.vi.push({offset:this.offset,qp:h,value:n});this.offset+=4;};m.prototype.am=function(h,n,p){this.Rd.zo.push({offset:n,remove:h,kb:p});};m.prototype.Z9=function(h,n,p,q){this.Rd.zo.push({offset:p,remove:h,replace:n,kb:q});};m.prototype.trim=function(h){this.Rd.trim=h;};m.prototype.bZb=function(){this.KXa.push(new d(this.Rd));};m.prototype.wXb=function(){this.Rd=this.KXa.pop() || new d();};m.prototype.Ia=function(){var h,n,p,q,u,t,v;h=this;if(0 === this.Rd.zo.length && 0 === this.Rd.Sr.length && 0 === this.Rd.vi.length)return [void 0 === this.Rd.trim?this.view.buffer:this.view.buffer.slice(0,this.Rd.trim)];this.Rd.zo.sort(function(w,y){return w.offset - y.offset;});this.Rd.Sr.sort(function(w,y){return w.offset - y.offset;});this.k0b();n=this.wGb();p=this.view.buffer.slice(0,n);q=new DataView(p);this.Rd.Sr.forEach(m.Qtb.bind(void 0,q));this.c7b(q);this.a7b(q);u=[];t=void 0 !== this.Rd.trim?Math.min(this.Rd.trim,this.view.byteLength):this.view.byteLength;v=0;this.Rd.zo.filter(function(w){return w.offset <= t;}).forEach(function(w){w.offset > v && (u.push(q.buffer.slice(v,w.offset)),w.offset > q.byteLength && q !== h.view && (q=h.view,u.push(q.buffer.slice(n,w.offset))));w.replace && u.push(w.replace);v=w.offset + w.remove;});v < n && u.push(p.slice(v));v < t && (p=Math.max(p.byteLength,v),p < t && u.push(this.view.buffer.slice(p,t)));return u;};m.prototype.wGb=function(){var h,n,p;h=[];n=this.Rd.Sr[this.Rd.Sr.length - 1];p=this.Rd.vi[this.Rd.vi.length - 1];n && h.push(n.offset + n.size);p && h.push(p.offset + 4);this.Rd.zo.filter(function(q){return q.kb;}).forEach(function(q){return h.push(q.kb.byteOffset + 4);});n=Math.max.apply(void 0,h);return void 0 !== this.Rd.trim?Math.min(n,this.Rd.trim):n;};m.prototype.k0b=function(){this.Rd.zo=this.Rd.zo.reduce(function(h,n){var p,q;if(0 === h.length)return (h.push(n),h);p=h[h.length - 1];q=p.offset + p.remove;n.offset >= q?h.push(n):n.offset + n.remove > q && ((0,l.assert)(p.kb === n.kb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?(0,f.concat)(p.replace,n.replace):n.replace));return h;},[]);};m.prototype.c7b=function(h){var n;n=this;this.Rd.vi.forEach(function(p){var q,u,t,v;q=h;u=p.offset;n.Rd.zo.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),u=p.offset - w.offset,!0):!1;});t=p.qp + (void 0 !== p.value?p.value:q.getInt32(u));v=n.Rd.zo.reduce(function(w,y){return y.offset > p.qp && y.offset < t?w + (y.remove - (y.replace?y.replace.byteLength:0)):w;},0);q.setInt32(u,t - p.qp - v);});};m.prototype.a7b=function(h){this.Rd.zo.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.kb;n;){h.setUint32(n.byteOffset,h.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(r.MOa);b.LOa=r;},7604:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MOa=void 0;c=a(51170);a(51170);l=a(97001);r=(function(){function f(k,d,g){this.view=k;this.console=d;this.config=g;this.view=k;this.console=d;this.qd=this.Jq=this.offset=0;}f.prototype.t_a=function(k){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,k);};f.prototype.Pc=function(k){for(;this.qd < k;){this.Jq=(this.Jq << 8) + this.kd();this.qd+=8;}this.qd-=k;return this.Jq >>> this.qd & (1 << k) - 1;};f.prototype.kd=function(){var k;k=this.view.getUint8(this.offset);this.offset+=1;return k;};f.prototype.If=function(k){k=this.view.getUint16(this.offset,k);this.offset+=2;return k;};f.prototype.Sb=function(k){k=this.view.getUint32(this.offset,k);this.offset+=4;return k;};f.prototype.Q9=function(){var k;k=this.view.getInt32(this.offset,void 0);this.offset+=4;return k;};f.prototype.CWb=function(k,d){var g;g=this.view.getUint32(this.offset + (k?4:0),k);k=this.view.getUint32(this.offset + (k?0:4),k);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + k;};f.prototype.Vi=function(k,d){k=this.CWb(k,d);this.offset+=8;return k;};f.prototype.DWb=function(){var k,d;k=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < k?k:-k) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * k + d;};f.prototype.rZb=function(){var k;k=this.DWb();this.offset+=8;return k;};f.prototype.Vy=function(){return (0,l.hx)(this.Sb());};f.prototype.R9=function(){var d,g,m,h,n,p;function k(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Sb(!0);g=this.If(!0);m=this.If(!0);h=this.If();n=this.If();p=this.Sb();return [k(d,4),k(g,2),k(m,2),k(h,2),k(n,2) + k(p,4)].join("-");};f.prototype.P9=function(k){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + k);this.offset+=k;return d;};f.prototype.nZb=function(k){var d;d=[];if(0 === k)return "";k=k || Number.MAX_SAFE_INTEGER;for(var g=this.kd();0 !== g && 0 <= --k;){d.push(g);g=this.kd();}return String.fromCharCode.apply(null,d);};f.prototype.O9=function(k){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Dj(this.config.EO && c.MLb || c.KL,1,k,d,g);};f.prototype.mZb=function(k){var d,g,m;d=10;g=!1;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === m && (m=!1);return this.Dj(this.config.EO && c.KLb || c.c6,2,k,d,g,m);};f.prototype.N9=function(k,d,g){var m;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === m && (m=!1);return this.Dj(this.config.EO && c.LLb || c.dU,4,k,d,g,m);};f.prototype.pZb=function(){for(var k=this.kd(),d=k & 127;k & 128;){k=this.kd();d=d << 7 | k & 127;}return d;};f.prototype.Dj=function(k,d,g,m,h,n){void 0 === h && (h=!0);void 0 === n && (n=!1);k=k(this.view,this.offset,g,m,n);this.offset=h || !m || m === d?this.offset + g * (m || d):this.offset + d;return k;};return f;})();b.MOa=r;},58312:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;c=a(76113);l=a(69808);f=a(48668);k=a(99939);d=a(97911);g=a(51832);b=a(67286);m=a(62680);h=a(26302);n=m("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,v,w;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && g(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);v=f(this);w=l(v.length);if(0 === w)return !1;for(t=0 <= t?t:q(0,w + t);t < w;){if(k(u,h(v)?n(v,t):v[t]))return !0;t+=1;}return !1;};},71402:function(r,b,a){var c;c=a(58312);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},30026:function(r,b,a){var c,l;c=a(14926);l=a(71402);r.exports=function(){var f;f=l();c(Array.prototype,{includes:f},{includes:function(){return Array.prototype.includes !== f;}});return f;};},71501:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nGa="Injector";b.Ow=145152E5;b.iJ="ProfileSymbol";},66523:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.io=b.s4b=b.w7a=void 0;b.w7a=function(a,c){return a - c;};b.s4b=function(a,c){return a.localeCompare(c);};b.io=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ca(a));};},24747:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aZ="ApiInfoSymbol";},99198:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.zSa=void 0;c=a(7700);l=a(24747);r=a(22674);f=a(71501);k=a(4203);b.zSa=new r.dd(function(d){d(l.aZ).to(c.iAa).ga();});b.profile=new r.dd(function(d){d(f.iJ).PC(function(g){return (g=g.kb.get(k.Xb)()) && g.$x?"browsertest":"browser";});});},7700:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q){h=d.Ne.call(this,h,void 0 === q?"AppInfoConfigImpl":q) || this;h.config=n;h.Daa=p;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;r=a(5163);l=a(22674);f=a(34231);k=a(12501);d=a(64174);g=a(83767);a=a(70865);fa(c,d.Ne);c.prototype.qKb=function(h){return "" + this.nYa + (this.Daa.R$(h)?"/msl_v1":"");};c.prototype.CKb=function(h){return "" + this.host + (this.Daa.R$(h)?"/msl":"") + "/playapi";};Ya.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},nYa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.dL){case f.Jw.Rnb:h="www.stage";break;case f.Jw.LNa:h="www-qa.test";break;case f.Jw.pGa:h="www-int.test";break;default:h="www";}return "https://" + h + ".netflix.com";}},uTa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});m=c;r.__decorate([k.config(k.string,"apiEndpoint")],m.prototype,"endpoint",null);r.__decorate([k.config(k.string,"nqEndpoint")],m.prototype,"nYa",null);r.__decorate([k.config(k.string,"bindService")],m.prototype,"uTa",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.wl)),r.__param(1,(0,l.l)(f.wn)),r.__param(2,(0,l.l)(a.X0)),r.__param(3,(0,l.l)(g.sZ)),r.__param(3,(0,l.optional)())],m);b.iAa=m;},85405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vAa="AseIntegrationFactorySymbol";},31034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jJa="OpenConnectSideChannelSymbol";b.kIa="MediaRequestDownloaderSymbol";},13494:function(r,b){function a(l,f,k){var d,g,m,h;d=[];l.forEach(function(n){-1 == d.indexOf(n.Hd) && d.push(n.Hd);});g=null;m=null;f.forEach(function(n){null === g?m=g=n.bitrate:m < n.bitrate?m=n.bitrate:g > n.bitrate && (g=n.bitrate);});h=[];d.forEach(function(n){var p;p={ranges:[],profile:n};g && m && (p.ranges.push({min:g,max:m}),k && (p.disallowed=k.filter(function(q){return q.stream.Hd === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.q4};})),h.push(p));});return h;}function c(l,f){var k;k=void 0;return {SYa:l.filter(function(d){var g;g=f(d);g && (k=k || [],k.push({stream:d,q4:g}));return !g;}),nDb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.Qs=b.uBb=b.i1a=void 0;b.i1a=function(l,f){f=c(l,f);return a(l,f.SYa,f.nDb);};b.uBb=a;b.Qs=c;},92692:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.cb=void 0;r=a(22674);c=a(67263);l=a(13005);f=a(24240);k=a(22806);d=a(31034);g=a(76457);m=a(77425);h=a(51790);n=a(89936);b.cb=new r.dd(function(p){p(c.tca).to(l.iDa).ga();p(f.aIa).to(k.$Ha).ga();p(d.jJa).to(g.iJa).ga();p(d.kIa).to(m.jIa).ga();p(h.iIa).to(n.hIa).ga();});},67263:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tca=b.jDa=void 0;b.jDa=function(){this.fa=0;this.X=1;this.Yjb=2;this.xf=function(){};};b.tca="DownloadTrackConstructorFactorySymbol";},24240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aIa="MediaHttpSymbol";},51790:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iIa="MediaRequestConstructorFactorySymbol";},48220:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Yc=void 0;b.Yc=a;a.Ck={$Ia:"mr1",ZIa:"mr2",aJa:"mr3",bQ:"mr4",Ulb:"mr5",Sz:"mr6"};a.Nc={UNSENT:0,OPENED:1,$w:2,ul:3,DONE:5,Ur:7,name:("UNSENT OPENED SENT RECEIVING PAUSED DONE FAILED ABORTED").split(" ")};a.QZ={NO_ERROR:-1,Qib:0,FCa:1,bjb:2,Uib:3,iib:4,OBa:5,MBa:6,jib:7,kib:8,lib:9,fib:10,hib:11,NBa:12,gib:13,eib:14,bkb:15,fFa:16,eFa:17,Rca:18,Tca:19,Sca:20,Uca:21,dkb:22,O_:23,gFa:24,ckb:25,Xib:26,Rib:27,Enb:28,Hib:29,Iib:30,Jib:31,Kib:32,Lib:33,Mib:34,Nib:35,Oib:36,Pib:37,Sib:38,Tib:39,Vib:40,Wib:41,Yib:42,Zib:43,$ib:44,ajb:45,cjb:46,djb:47,Dnb:48,TIMEOUT:49,bFa:50,cFa:51,akb:52,iFa:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.tf={Nva:{I9b:!0,Zea:!1,vbc:!0}};},92720:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,C){var D;D=this;this.rb=x;this.j=z;this.debug=A;this.Xtb=C;this.ZQ=this.Bh=this.lx=!1;this.sR=this.rR=void 0;x={};this.Ev=(x[w.u.fa]={},x[w.u.X]={},x[w.u.Ha]={},x);this.iA=void 0;this.Fm=function(){var F,G,E,H,M,L;D.debug.assert(D.ya,"has access to asePlaygraph");D.debug.assert(D.Ec,"has access to internalLogger");D.debug.assert(D.zt,"has access to mediaBufferGetLogFields");M=D.Nn;L=null === (G=null === (F=D.Jc.get()) || void 0 === F?void 0:F.mb) || void 0 === G?void 0:G.Ca;F={type:"logdata",target:"startplay",fields:{hasasereport:D.j.ZS,hashindsight:!1,buffCompleteReason:M.reason,actualbw:L,initSelReason:null !== (E=M.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:M.vBufferLevelMs,bcABufferLevelMs:M.aBufferLevelMs}};(0,g.N2)({ema:F,ho:D.ho,loadTime:D.loadTime});D.ya.sya("startplay",l.kc.Oj);null !== (H=D.tb) && void 0 !== H && H.Nd?(D.Ec.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:M},D.zt()),D.j.Nn=M,D.j.Gq.set(m.nf.$d),D.WGb || (D.WGb=!0,D.j.ie("pb")),D.vg.value !== l.Fb.I0 && D.vg.value !== l.Fb.ls && D.play()):D.Ec.error("Shim received buffering complete but player has no position (player " + (D.tb?"":"un") + "defined, state " + D.j.state + ")");};this.oeb=function(){var F,G;D.debug.assert(D.Ec,"has access to internalLogger");!1;D.rR=void 0;D.sR=void 0;D.j.paused.value && D.TG && (D.TG=!1,D.j.paused.set(!1,{JM:!0}));null === (F=D.j.Td) || void 0 === F?void 0:F.jyb();null === (G=D.O7a) || void 0 === G?void 0:G.call(D);D.O7a=void 0;};this.events=new y();this.Le=new v.xfa(this.jv.bind(this),function(F,G){return D.j.fw(F,G);});}b.vda=void 0;l=a(93161);f=a(57055);k=a(32219);d=a(36129);g=a(30326);m=a(85001);h=a(29204);n=a(32687);p=a(5021);q=a(64302);u=a(8825);t=a(81734);v=a(64213);a(2762);w=a(60328);y=a(22699).EventEmitter;c.prototype.We=function(){var x;!1;this.ZQ=!1;this.Jc.K$(null);this.debug.assert(this.Nh,"has access to streamingEngine");this.ya && this.Nh.Zy(this.ya);this.tb && this.Nh.P$a(this.tb);this.Nh.R$a(this.Le.Tm(this.rb.aa.J));this.Le.clear();null === (x=this.mo) || void 0 === x?void 0:x.Vs();};c.prototype.G2b=function(x){var z,A,B,C,D,F,G,E,H,M,L,K,O;z=x.config;A=x.mp;B=x.Ec;C=x.Zd;D=x.zt;F=x.Qi;G=x.sX;x=x.zH;this.Ec=B;this.log=B.O3("AseIntegrationImpl");!1;this.zt=D;this.sX=G;this.zH=x;D=this.j.aa;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Nh,"has access to streamingEngine");this.debug.assert(D.zc,"has access to parsedManifest");this.debug.assert(D.W,"has access to manifest");this.config=z;this.Nh=A.Nh;A.$h.set(a(87141)(z),!0,F("ASE"));A.$h.set({maxNumberTitlesScheduled:null !== (H=null === (E=z.CXb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== H?H:1},!0,B);z.Nyb && !D.gd.ba && 3E5 > D.W.Fa.duration?A.$h.fW({expandDownloadTime:!1},!0,B):A.$h.fW({expandDownloadTime:A.$h.E8a().expandDownloadTime},!0,B);z=D.background.value || z.AXb && "postplay" === D.zd?"historical":A.$h.E8a().initBitrateSelectorAlgorithm;A.$h.fW({initBitrateSelectorAlgorithm:z},!0,B);z=null === (O=null === (K=null === (L=null === (M=D.Fg) || void 0 === M?void 0:M.value) || void 0 === L?void 0:L.streams) || void 0 === K?void 0:K[0]) || void 0 === O?void 0:O.Hd;A.$h.fW((0,h.oVa)(!!D.bb.rg,!!D.bb.ZL,z),!0,B);B=C.dC({},(0,h.E3)(D.zd));D.gd.ba && (B=C.dC(B,(0,h.E3)("live")));this.$h=A.$h.Pn(B);l.platform.events.emit("networkchange",D.zc.K1b);this.lx=!0;};c.prototype.yU=function(x){var z,A;this.debug.assert(this.Nh,"has access to streamingEngine");z=this.j.Ri(x.I);this.debug.assert(z.zc,"has access to playback parsedManifest");!1;A=x.flags;this.Jc.reset();this.Cg=new Set([w.u.fa,w.u.X]);(A.Wfb || A.Tdc) && this.Cg.delete(A.Wfb?w.u.fa:w.u.X);this.lI=[z.zc.nCb,z.zc.tCb,z.zc.sCb];this.jv(z.P,void 0,x.qWa);this.XNb(x);this.CK();};c.prototype.gu=function(x){var z;!1;null === (z=this.ya) || void 0 === z?void 0:z.gu(x);};c.prototype.lvb=function(x){var z,A,B,C;z=this;A=x.loadTime;B=x.ho;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.tb,"has access to asePlayer");!1;this.ho=B;this.loadTime=A;x=this.ya.events;C=this.tb.events;x.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.Ec.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.Ec.trace("StreamingFailure, buffer status:" + JSON.stringify(z.zt())),(0,k.Df)(function(){var F,G,E;F=d.U.Qgb;G=D.nativeCode;E=D.context;"adBreakHydration" === (null === E || void 0 === E?void 0:E.type) && (F=d.U.yD,G=d.S.ahb);z.j.pd(F,{Aa:G,Nb:D.errormsg,Kl:D.httpCode,u8:D.networkErrorCode,De:D.httpCode});}));});x.addListener("logdata",function(D){var F;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.ya) || void 0 === F?void 0:F.Btb,(0,g.N2)({ema:D,ho:B,loadTime:A}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,g.N2)({ema:D,ho:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.Gq.set(m.nf.Me);});x.addListener("bufferingComplete",function(D){!1;z.Nn=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.Ec,"has access to internalLogger");null !== (F=D.Eh) && void 0 !== F && F.JM || !z.lx || (D.newValue && z.vg.value === l.Fb.ke?(z.vg.set(l.Fb.Rh),z.ti.emit("paused",{type:"paused",pts:z.ti.Cd})):D.newValue || z.vg.value !== l.Fb.Rh || (z.vg.set(l.Fb.ke),z.ti.emit("playing",{type:"playing",pts:z.ti.Cd})));D.newValue || (z.TG=!1);z.Ec.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,u.ah)(z.j.mediaTime.value)});});this.j.qc.addListener(function(D){var F,G,E,H;if(z.lx)if((z.debug.assert(z.Ec,"has access to internalLogger"),D.Eh && D.Eh.y2))z.Ec.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {H=D.newValue;z.Adb({op:H.trackId,toJSON:function(){return H.tg;}})?z.Ec.trace("ASE accepted the audio track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(z.Ec.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== H.trackId && z.j.qc.set(D.oldValue,{y2:!0}));}});this.j.gd.ba && this.j.Mb.addListener(function(D){var F,G,E,H;if(z.lx)if((z.debug.assert(z.Ec,"has access to internalLogger"),D.Eh && D.Eh.y2))z.Ec.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {H=D.newValue;z.Adb({Jdb:H.trackId,toJSON:function(){return H.tg;}})?z.Ec.trace("ASE accepted the text track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(z.Ec.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== H.trackId && z.j.Mb.set(D.oldValue,{y2:!0}));}});x.addListener("serverSwitch",function(D){var F;!1;z.j.fireEvent(m.ha.pX,D);if("video" === D.mediatype)F=w.u.X;else "audio" === D.mediatype && (F=w.u.fa);(0,n.Wc)(F) && z.sX(D.segmentId,D.server,F);});x.addListener("streamSelected",function(D){var F,G,E,H;!1;if(z.ZQ){G=D.manifest.Dd;if(!z.j.HMb(G) && z.config.aGb)return z.j.pd(d.U.clb,{kB:G});G=(null === (F=z.ya) || void 0 === F?void 0:F.WF(D.position)).Jl.G;F=[];if(D.mediaType === w.u.X){E=z.j.H1a(D.streamId);H=z.j.Ke;F=z.j.wB();}else D.mediaType === w.u.fa && (E=z.j.s1a(D.streamId),H=z.j.Kg,F=z.j.iIb());E && H?(!1,H.set(E,{WE:G,gS:D.bandwidth})):D.mediaType !== w.u.Ha && z.Ec.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.SE});}});x.addListener("segmentNormalized",function(D){var F,G,E;!1;F=D.segmentId;G=Math.floor(D.viewableContentEnd.G);D=Math.floor(D.viewableEarliestContentEnd.G);G=(0,p.Ob)(G);D=(0,p.Ob)(D);z.j.C1a(F) || (!1,z.sAb(F));E=z.j.Ri(F);E && (z.debug.assert(E.I === F,"segmentNormalized: playbackViewableData segmentId should match the value in the event"),E.Ox=G,E.V5a=D);z.j.Wp || (z.j.gd.ba?(z.debug.assert(Infinity === G.ca(p.pa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.gd.ba + ", contentDuration:" + G),z.j.Wp=p.Ga):z.j.Wp=G);});C.addListener("segmentPresenting",function(D){var F,G,E,H;!1;z.debug.assert(z.ya,"has access to asePlaygraph");z.debug.assert(z.tb,"has access to asePlayer");z.debug.assert(z.zH,"has access to segmentPresentingHandler");G=z.ya.WF(D.position);E=void 0;H=null === (F=D.inner) || void 0 === F?void 0:F.position;H && z.uj && (E=z.uj.O[H.I]);z.zH({J:G.J,ZE:E,iG:!1});z.j.fireEvent(m.ha.yH,{type:"segmentPresenting",position:{segmentId:D.position.I,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.iA=z.tb.$n();});C.addListener("ptsChanged",function(D){var F;!1;z.j.Td.ZYb({Xma:null === (F=D.forcedTimestamp) || void 0 === F?void 0:F.Vv,VNb:D.initialTimestamp.Vv});z.ti.emit("skipped");});C.addListener("fragmentsMissing",function(D){var F,G;G=null === (F=z.ya) || void 0 === F?void 0:F.WF(D.V6a);z.j.Td.seek(G.Jl.G,m.Ac.rP,D.V6a.I);});x.addListener("locationSelected",function(D){!1;z.j.fireEvent(m.ha.cV,D);});x.addListener("aseReportEnabled",function(){!1;z.j.ZS=!0;});x.addListener("aseReport",function(D){!1;z.j.fireEvent(m.ha.IE,D);});x.addListener("liveReport",function(D){!1;z.j.fireEvent(m.ha.D7,D);});x.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.Q_b;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(m.ha.nF,{response:D,P:z.j.aa.P});});x.addListener("transportReport",function(D){var F;(D=null === (F=D.wFb) || void 0 === F?void 0:F.cadmiumResponse) && z.j.fireEvent(m.ha.nF,{response:D,P:z.j.aa.P});});x.addListener("liveEventTimesUpdated",function(D){var F,G;F=D.I;G=D.startTime;D=D.endTime;z.j.C1a(F) && (F=z.j.Ri(F),F.gd.ba && F.gd.Iwa(G,D));});x.addListener("liveLoggingInfoUpdated",function(D){var F,G;F=D.mediaType;G=z.Ev[F];z.Ev[F]=D.info;D=z.Ev[F].gB !== G.gB && void 0 !== G.gB;(z.Ev[F].fB !== G.fB && void 0 !== G.fB || D) && z.j.fireEvent(m.ha.C7,{mediaType:F,$l:G,current:z.Ev[F]});});};c.prototype.sAb=function(x){var z,A,B,C;if(this.uj && this.uj.O[x]){z=this.uj.O[x];x=this.j.lra;A=x.W;if(null === A || void 0 === A?0:A.pp)B=null === A || void 0 === A?void 0:A.pp.find(function(D){return D.Fa.P === z.J;});B || (B=this.j.Q_a(z.J));if(!B && (null === A || void 0 === A?0:A.Fa.Zb)){C=this.Xtb.IKb({Zb:null === A || void 0 === A?void 0:A.Fa.Zb,xd:x.P,J:z.J});C && (B=C.W);}B && B.Fa.Zb === (null === A || void 0 === A?void 0:A.Fa.Zb) && this.j.VVa(z.J,{Af:{Zb:B.Fa.Zb,xd:x.P}},x.ma,B);}};c.prototype.$n=function(){var x,z,A,B,C,D,F,G,E;G=null === (x=this.tb) || void 0 === x?void 0:x.q6();x=(null !== (z=this.iA) && void 0 !== z?z:G && this.tb.$n()) || ({});z=x.v;G=x.te;E=x.$G;x=x.zr;return {id:String(null === z || void 0 === z?void 0:z.id),Via:null !== (A=null === G || void 0 === G?void 0:G.G) && void 0 !== A?A:0,I3:null !== (B=null === z || void 0 === z?void 0:z.je.G) && void 0 !== B?B:Infinity,Ayb:null !== (C=null === z || void 0 === z?void 0:z.Ef.G) && void 0 !== C?C:0,eXb:null !== (D=null === E || void 0 === E?void 0:E.G) && void 0 !== D?D:Infinity,dua:null !== (F=null === x || void 0 === x?void 0:x.G) && void 0 !== F?F:0};};c.prototype.T2a=function(){var x,z;this.debug.assert(this.ya,"has access to asePlaygraph");x={};z=this.ya.GF();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;x.tbuflmsec=z.totaltbuflmsecs;x.tbuflbytes=z.tbuflbytes;return x;};c.prototype.paused=function(){};c.prototype.ZWb=function(){!1;this.ti.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.ti.Cd});};c.prototype.LE=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");A=this.lI[w.u.fa];return x.P === this.j.W.Fa.P?A:this.BGb(this.j.W.Fa.Ks[A],z);};c.prototype.ZH=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");if(this.j.gd.ba){this.debug.assert(x.P === this.j.W.Fa.P);A=this.lI[w.u.Ha];if((x=this.j.Wg.find(function(B){return B.trackId === z[A].Xf;})) && (!x.co() || x.dn()))return A;}};c.prototype.BGb=function(x,z){var A,B,C;this.debug.assert(this.Ec,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === x.profile;}).sort(function(D,F){var G,E,H;G=(D.language === x.language || "zxx" === D.language?0:1) - (F.language === x.language || "zxx" === F.language?0:1);0 === G && (G=(D.wh === x.wh?0:1) - (F.wh === x.wh?0:1));if(0 === G){D=(null !== (E=D.bc) && void 0 !== E?E:0) - (null !== (H=F.bc) && void 0 !== H?H:0);}else D=G;return D;});B=0;C=la(A).next().value;C && z.some(function(D,F){if(D === C)return (B=F,!0);});!1;return B;};c.prototype.Adb=function(x){var z,A,B,C,D,F;this.debug.assert(this.Ec,"has access to internalLogger");this.debug.assert(this.tb,"has access to asePlayer");this.debug.assert(this.j.W,"has access to playback manifest");if(this.jya)return (!1,!1);A=x.op;B=this.lI[w.u.fa];if(void 0 === A)C=B;else if(!this.j.W.Fa.audio_tracks.some(function(G,E){if(G.new_track_id === A)return (C=E,!0);}))return (!1,!1);D=x.Jdb;x=this.lI[w.u.Ha];if(void 0 === D)F=x;else if(!this.j.W.Fa.timedtexttracks.some(function(G,E){if(G.new_track_id === D)return (F=E,!0);}))return (!1,!1);!1;this.rR=C;this.sR=F;null === (z=this.j.Td) || void 0 === z?void 0:z.a4b();this.j.paused.value || (this.tb.pause([w.u.fa,w.u.Ha]),this.TG=!0,this.j.paused.set(!0,{JM:!0}));this.debug.K2(this.rR,"has access to valid requestedAudioTrackIndex number");this.lI[w.u.fa]=this.rR;this.debug.K2(this.sR,"has access to valid requestedTextTrackIndex number");this.lI[w.u.Ha]=this.sR;(this.hz() || this.TG) && this.tb.resume(this.TG?[w.u.fa,w.u.Ha]:void 0);this.tI(this.oeb);return !0;};c.prototype.hz=function(){var x;x=this;this.debug.assert(this.ya,"has access to asePlaygraph");return this.ya.hz({RN:this.LE.bind(this)},{RN:function(){return x.lI[w.u.X];}},{RN:this.ZH.bind(this)});};c.prototype.km=function(){var x;!1;this.vg.set(l.Fb.tl);null === (x=this.ya) || void 0 === x?void 0:x.sya("intrplay",l.kc.km);this.ti.emit("underflow",{type:"underflow",pts:this.ti.Cd});this.tI(this.Fm);};c.prototype.O$=function(x,z){this.$aa.O$(x,z);};c.prototype.open=function(){this.ZQ || (this.debug.assert(this.ya,"has access to asePlaygraph"),this.debug.assert(this.tb,"has access to asePlayer"),!1,this.ZQ=this.Bh=!0,this.ya.open(),this.debug.assert(this.jw,"invalid start position relative to playgraph"),this.ya.EC(this.jw,l.L.Ma(this.j.fb)),this.vg.set(l.Fb.Me),this.tI(this.Fm),this.ya.cv(this.tb),this.wQb());};c.prototype.play=function(){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.tb,"has access to asePlayer");!1;0 !== this.ya.state && (this.tb.resume(this.TG?[w.u.fa,w.u.Ha]:void 0),this.vg.set(l.Fb.ke),this.ti.emit("playing",{type:"playing",pts:this.ti.Cd}));};c.prototype.stop=function(){var x;!1;this.vg.set(l.Fb.I0);null === (x=this.tb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.ti.emit("paused",{type:"paused",pts:this.ti.Cd});};c.prototype.flush=function(){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Nh,"has access to streamingEngine");!1;this.ZQ && this.vg.value !== l.Fb.ls && this.vg.value !== l.Fb.I0 && this.stop();this.ya.sya("endplay",l.kc.ei);this.ya.Cf();this.Nh.Aj.save();this.Nh.JV.save();};c.prototype.Xn=function(){var x;return null === (x=this.ya) || void 0 === x?void 0:x.Uc;};c.prototype.pka=function(x){var z;this.debug.assert(this.ya,"has access to asePlaygraph");z=l.L.Ma(x);return (z=this.ya.al(z,{z3b:!0,y3b:!0}))?this.ya.ea.O[z.I].ta + Number(z.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.rka=function(x,z){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Ec,"has access to internalLogger");!1;this.ya.ea.O[x] || (x=this.zma(z));this.debug.L2(x,"has access to segmentId");x={I:x,offset:l.L.Ma(z - this.ya.ea.O[x].ta)};if(x=this.ya.yB(x))return x.G;!1;return z;};c.prototype.zwb=function(x,z){var A,B,C,D;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.tb,"has access to asePlayer");!1;z && this.ya.ea.O[z] || (z=null !== (A=this.zma(x)) && void 0 !== A?A:null === (B=this.tb) || void 0 === B?void 0:B.zg.I);z=this.j.Ri(z);x={Jl:l.L.Ma(x),J:z.P};return null === (D=null === (C=this.ya.Zs(x)) || void 0 === C?void 0:C.Ja) || void 0 === D?void 0:D.G;};c.prototype.y4=function(x){var z;z=void 0 === z?!0:z;!1;this.Bh?Number.isFinite(x) && (this.debug.assert(this.tb,"has access to asePlayer"),z?this.tb.zbb(x):this.tb.ybb(x)):this.fail("Must call open prior to drmReady");};c.prototype.z1a=function(){var x;return null !== (x=this.tb) && void 0 !== x && x.Nd?this.tb.GU(this.rb.aa.J):!1;};c.prototype.bi=function(x){var z,A;!1;if(!this.tb)return (!1,!1);z=this.Xn();x=l.L.Ma(x);A=this.tb.bi(x);return z && this.j.NL()?A && z.bi(x):A;};c.prototype.d1b=function(x,z){var A;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.tb,"has access to asePlayer");!1;z && this.ya.ea.O[z] || (z=null !== (A=this.zma(x)) && void 0 !== A?A:this.rb.hh);this.debug.L2(z,"has access to segmentId");this.debug.assert(this.ya.ea.O[z],"segment exists in playgraph map");z={I:z,offset:l.L.Ma(x - this.ya.ea.O[z].ta)};this.ya.EC(z,l.L.Ma(x));this.tb.resume();this.vg.set(l.Fb.Me);this.tI(this.Fm);x=this.ya.Mab(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.$6b=function(x,z){var A;!1;A={};this.ya.bj((A[x]=z,A));};c.prototype.s3=function(x,z){var A,B;this.debug.assert(this.Ec,"has access to internalLogger");this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.tb,"has access to asePlayer");!1;A=this.$n().id;B=this.ya.RT(A,x);if(z){if(!B.d8b)return (this.Ec.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.qsa)return (!1,B.qsa === x);this.ya.Nj(A,x,!1,z);return !0;}if(void 0 !== B.qsa)return (!1,!1);B.kS && (this.tb.reset(),this.ya.Nj(A,x,!1,z),this.tb.resume(),this.vg.set(l.Fb.Me),this.tI(this.Fm));return !!B.kS;};c.prototype.Nj=function(x,z,A,B){this.debug.assert(this.ya,"has access to asePlaygraph");!1;this.ya.Nj(x,z,A,B);};c.prototype.MH=function(){var x;this.debug.assert(this.Ec,"has access to internalLogger");!1;x=this.ti.Cd;!1;this.ti.emit("skipped",{type:"skipped",pts:x});return new l.tQ(Promise.resolve()).s0b;};c.prototype.K5=function(x,z){var A;return null === (A=this.ya) || void 0 === A?void 0:A.K5(x,z);};c.prototype.zma=function(x){var z,A,B,C,D,F,G,E;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Ec,"has access to internalLogger");!1;z=this.ya.ea;A=[];B=Infinity;for(C in z.O){D=z.O[C];F=D.ta;D=D.va;G=x < Number(null !== D && void 0 !== D?D:Infinity);if(F <= x && G)(!1,A.push(C));else if((F=Math.min(Math.abs(x - F),Math.abs(x - D)),F < B)){B=F;E=C;}}x=A[0] || E;this.debug.L2(x,"has access to locatedSegmentId");!1;return x;};c.prototype.wQb=function(){var x,z;x=this;this.debug.assert(this.j.Kb,"has access to mediaElement");z=this.j.Kb.$;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.vg.value === l.Fb.Rh && (x.vg.set(l.Fb.ke),x.ti.emit("playing",{type:"playing",pts:x.ti.Cd}));});z.addEventListener("pause",function(){x.vg.value === l.Fb.ke && (x.vg.set(l.Fb.Rh),x.ti.emit("paused",{type:"paused",pts:x.ti.Cd}));});};c.prototype.fail=function(x){var z;null === (z=this.ya) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.tI=function(x){var z,A,B,C,D,F,G,E;z=this;if(x !== this.oeb && this.jya)(!1,this.O7a=x);else {E=null === (A=this.tb) || void 0 === A?void 0:A.sr.value;A=null === (B=this.ya) || void 0 === B?void 0:B.Pd.value;B=!0 === E;E=A === l.Rc.vl;!1;null === (C=this.tb) || void 0 === C?void 0:C.sr.removeListener(this.Z5a);null === (D=this.ya) || void 0 === D?void 0:D.Pd.removeListener(this.ITa);B && E?x():(this.Z5a=function(){return z.tI(x);},this.ITa=function(){return z.tI(x);},null === (F=this.tb) || void 0 === F?void 0:F.sr.addListener(this.Z5a),null === (G=this.ya) || void 0 === G?void 0:G.Pd.addListener(this.ITa));}};c.prototype.NZa=function(x){var z,A;z=this;x=this.j.dk(x);return Promise.resolve(null !== (A=x.W) && void 0 !== A?A:this.M9(x)).then(function(B){B=B.Fa;return {W:B,gv:B.j6 && !B.AB,config:z.$h,Cg:[].concat(ca(z.Cg))};});};c.prototype.M9=function(x){var z,A,B,C,D;z=this;!1;B=Promise.resolve();if(x.Bf){C=x.Bf.xd;(D=null === (A=this.j.dk(C).W) || void 0 === A?void 0:A.Fa)?x.Bf.jW=D:B=this.Le.Tm(C).iq.then(function(F){return F.W;}).then(function(F){x.Bf.jW=F;}).catch(function(){return z.j.pd(d.U.yD,d.S.bhb);});}return B.then(function(){return z.j.M9(x);}).then(function(){return x.W;});};c.prototype.jv=function(x,z,A){var B,C,D,F,G,E,H,M,L,K,O,J,I;B=this;this.debug.assert(this.Nh,"has access to streamingEngine");!1;L={J:x,xd:null === (C=null === z || void 0 === z?void 0:z.Af) || void 0 === C?void 0:C.xd,Zb:null === (D=null === z || void 0 === z?void 0:z.Af) || void 0 === D?void 0:D.Zb};if(!this.Le.has(L)){if(!this.j.p6(x) && (null === (F=null === z || void 0 === z?void 0:z.Af) || void 0 === F?0:F.xd) && this.j.p6(null === (G=null === z || void 0 === z?void 0:z.Af) || void 0 === G?void 0:G.xd)){C=this.j.dk(null === (E=z.Af) || void 0 === E?void 0:E.xd);E=null === (H=C.W) || void 0 === H?void 0:H.Fa.Zb;H=this.j.Q_a(x);(null === (M=null === H || void 0 === H?void 0:H.Fa) || void 0 === M?0:M.Zb) && H.Fa.Zb === E && (K=H);this.j.VVa(x,z,C.ma,K);}this.j.p6(x) && (O=this.j.dk(x));J=A?A.ma:O?O.ma:void 0;M=A?A.Sp:O?O.wf:void 0;this.Le.store(L,{cUa:function(){},equals:function(N){return N && N.J === L.J && (J === N.ma || !N.ma || !J);},get iq() {I || (I=B.NZa(x));return I;},set iq(N) {I=N;},events:new f.EventEmitter(),ma:J,J:L.J,Sq:!1,Kxa:!1});this.$h.YK && this.Nh.TN(this.Le.Tm(L.J,z),{ma:J,Sp:M,ola:null === A || void 0 === A?void 0:A.dB});}};c.prototype.CO=function(x){var z,A,B;this.debug.assert(this.Nh,"has access to streamingEngine");!1;z=this.j.Ri(x);A=z.Bf;z={J:z.P,xd:null === A || void 0 === A?void 0:A.xd,Zb:null === A || void 0 === A?void 0:A.Zb};x=this.rb.ee(x).J;if(!this.Le.has(z))return Promise.resolve();A && (B={Af:{Zb:null === A || void 0 === A?void 0:A.Zb,xd:A.xd}});A=this.Le.Tm(x,B);A.iq=this.NZa(x);return this.Nh.CO(A);};c.prototype.RT=function(x){var z;this.debug.assert(this.tb,"has access to asePlayer");this.debug.assert(this.ya,"has access to asePlaygraph");return this.ya.RT(null === (z=this.tb.$n().v) || void 0 === z?void 0:z.id,x);};c.prototype.rB=function(x){var z;x=null === (z=this.ya) || void 0 === z?void 0:z.rB(x);!1;return x;};c.prototype.XNb=function(x){var z,A;z=x.qWa;A=x.I;this.debug.assert(this.Nh,"has access to streamingEngine");this.debug.assert(this.Ec,"has access to internalLogger");!1;x=this.j.Ri(A);x=this.rb.Q5(x);A=x.O[A];this.debug.assert(A,"segment exists");this.jw=(0,q.U0a)(A.J,x,this.j.fb,A.ta);z=Object.create(this.$h,{dB:{value:z.dB},F4:{value:this.j.background.value}});this.vg=new t.Eb(l.Fb.Ek);this.ya=this.Nh.PR(x,this.$h.nXb,z,this.Le);this.$aa=new l.yQ(this.Ec);z=this.ya.AK(this.$aa);x=this.ya.zK();this.ya.Qwa(x,z);this.hz();this.TG=!1;};c.prototype.CK=function(){var x,z,A;x=this;this.debug.assert(this.Nh,"has access to streamingEngine");this.debug.assert(this.j.W,"has access to playback manifest");!1;A=null === (z=this.j.W) || void 0 === z?void 0:z.Fa;z=void 0 !== this.ZH(A,A.dI);A=[].concat(ca(this.Cg));z && A.push(w.u.Ha);z=Object.create(this.$h,{Cg:{value:A},Qna:{value:function(){return x.vKb();}}});this.ti=Object.create(new f.EventEmitter(),{Cd:{get:function(){x.debug.K2(x.j.mediaTime.value,"has access to mediaTime.value");return l.L.Ma(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},bKb:{value:function(){x.debug.assert(x.j.Kb,"has access to mediaElement");return x.j.Kb;}}});this.tb=this.Nh.Qsb(this.ti,z);};c.prototype.vKb=function(){this.mo || (this.mo=new l.platform.MediaSource(this.ti),this.mo.tf || (this.mo.tf=l.platform.MediaSource.tf));return this.mo;};Ya.Object.defineProperties(c.prototype,{jya:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.rR && void 0 !== this.sR;}},Jc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Nh,"has access to streamingEngine");return this.Nh.Jc;}},uj:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.ya) || void 0 === x?void 0:x.uj;null === z || void 0 === z?0:z.uj;){z=z.uj;}return null === z || void 0 === z?void 0:z.ea;}},aVa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.tb;null === x || void 0 === x?0:x.zU;){x=x.zU;}return x;}},IBb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.aVa) || void 0 === x?0:x.Nd){A=(x=this.aVa.zg) && (null === (z=this.uj) || void 0 === z?void 0:z.O[x.I]);if(A)return {Jl:l.L.Ma(x.offset.G + A.ta),J:A.J};}}}});b.vda=c;},13005:function(r,b,a){var l,f,k,d;function c(g){function m(h,n){this.Z=h;this.Sob=n;this.pma=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Hi=g.$a("DownloadTrack");}m.prototype.Vs=function(){!1;this.yR=void 0;this.emit("destroyed");};m.prototype.toString=function(){return "id:" + this.yR + " config: " + JSON.stringify(this.Z);};m.prototype.toJSON=function(){return "Download Track id:" + this.yR + " config: " + JSON.stringify(this.Z);};m.prototype.dM=function(){return void 0 === this.yR?!1:!0;};m.prototype.bva=function(h){this.Z.connections !== h.connections && (this.Z=h);};Ya.Object.defineProperties(m.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.yR;}},Qn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.yR;}},config:{configurable:!0,enumerable:!0,get:function(){return this.Z;}},o9:{configurable:!0,enumerable:!0,get:function(){return this.Hi;}},wV:{configurable:!0,enumerable:!0,get:function(){return this.Sob.wV;}},W4b:{configurable:!0,enumerable:!0,get:function(){return !0;}}});this.GI=Object.assign(m,new k.jDa());}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(67263);d=a(22699).EventEmitter;c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab))],c);b.iDa=c;},22806:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,v,w){this.eK=q;this.Ee=t;this.zb=v;this.Ea=w;this.log=u.$a("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ha=void 0;r=a(5163);l=a(48220);f=a(24550);k=a(36129);d=a(87386);g=a(22674);m=a(32934);h=a(42207);n=a(81918);p=a(5021);c.prototype.KF=function(){return this.Ea.Ib().ca(p.pa);};c.prototype.$Tb=function(q,u){q.cUb({mediaRequest:q,timestamp:u});};c.prototype.U8=function(q){var u,t;t=q.mediaRequest.aC;t.m7a(Object.assign(Object.assign({},q),{timestamp:q.connect?q.timestamp:this.KF(),connect:null !== (u=q.connect) && void 0 !== u?u:!1,mediaRequest:t,readyState:t.readyState}));};c.prototype.NM=function(q){this.$Tb(q.mediaRequest.aC,q.timestamp);};c.prototype.NG=function(q){var u,t;u=q.mediaRequest.aC;t=q.bytes;"undefined" === typeof u?!1:(u.readyState === l.Yc.Nc.$w && this.U8(q),this.zb.Yj(t) && (q.mediaRequest=u,q.timestamp=this.KF(),t > u.bytesReceived && (q.newBytes=t - u.bytesReceived,q.bytesLoaded=t,u.fUb(q))));};c.prototype.gn=function(q){var u,t,v,w;u=q.mediaRequest;t=q.errorcode;v=q.httpcode;w=l.Yc.QZ;if("undefined" === typeof u)!1;else if((u=u.aC,"undefined" === typeof u))!1;else if(t === k.S.pD)(q.mediaRequest=u,q.readyState=u.readyState,u.YTb(q));else {switch(t){case k.S.BP:v=w.MBa;break;case k.S.Vca:v=w.Rca;break;case k.S.yP:v=400 < v && 500 > v?452 === v?w.iFa:w.Tca:500 <= v?w.Uca:w.Rca;break;case k.S.zP:v=w.Sca;break;case k.S.xP:v=w.NBa;break;case k.S.AP:v=w.O_;break;case k.S.qD:v=w.O_;break;case k.S.hFa:v=w.gFa;break;case k.S.dFa:v=w.Tca;break;case k.S.fjb:v=w.Sca;break;default:v=w.O_;}q.mediaRequest=u;q.readyState=u.readyState;q.errorcode=v;q.nativecode=t;u.Bsa(q);}};c.prototype.MM=function(q,u){var t,v;t=u.request.aC;if(t)if(u.ia){if((!1,q.j && t.readyState !== l.Yc.Nc.DONE)){switch(t.readyState){case l.Yc.Nc.Ur:!1;return;case l.Yc.Nc.ul:break;case l.Yc.Nc.$w:this.U8({mediaRequest:u.request,responseHeaders:u.headers,httpCode:u.$m});break;default:!1;}if(!t.Fe){v={mediaRequest:t,readyState:t.readyState,timestamp:this.KF(),cadmiumResponse:u};q.j.hya+=1;t.HLb();t.fPb() && (q.j.Mva+=1,u.Wl.Wi=Math.ceil(t.Ima),u.Wl.cq=Math.ceil(t.$E),u.Wl.az=Math.floor(t.WB));t.lyb=v;t.KM(v);}}}else (!1,t.readyState === l.Yc.Nc.Ur?!1:this.gn({mediaRequest:u.request,errorcode:u.Aa,httpcode:u.Kl,responseHeaders:u.headers,cadmiumResponse:u}));};c.prototype.download=function(q,u){var t;t=this;u=this.Ee.download(q,u);q.aC && q.aC.readyState === l.Yc.Nc.OPENED && u.i2b(function(v){t.NM(v);});u.p2(function(v){t.MM(q,v);});u.n2b(function(v){t.NG(v);});return u;};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.WO)),r.__param(1,(0,g.l)(d.ab)),r.__param(2,(0,g.l)(m.tu)),r.__param(3,(0,g.l)(h.Qf)),r.__param(4,(0,g.l)(n.Lc))],a);b.$Ha=a;},77425:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.Ea=t;this.dt=v;this.config=w;this.Ee=x;this.xSb=z;this.log=y.$a("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(32934);d=a(24240);g=a(51344);m=a(48220);h=a(81918);n=a(5021);p=a(34231);q=a(4203);u=a(60328);c.prototype.zT=function(t,v,w){var x,z,A,B;function y(){var C;t.removeEventListener(m.Yc.Ck.Sz,y);C=x.config().WFb;void 0 === t.jL?t.jL=0:t.jL++;t.jL >= C.length && (t.jL=C.length - 1);ob.clearTimeout(t.oma);t.oma=ob.setTimeout(function(){x.zT(t,v,w);},C[t.jL]);}x=this;t.ugc=!0;z=0 === v.start && -1 === v.end;z={url:t.url,responseType:this.Ee.C0.UAa,withCredentials:!1,ZA:t.mediaType === u.u.fa?"audio":"video",offset:z?void 0:v.start,length:z?void 0:t.Do,track:{type:t.mediaType === u.u.fa?g.Uj.audio:g.Uj.video},stream:{Ub:t.Qb,bitrate:t.bitrate},Cc:{id:t.Qc},aC:t,IH:w,Qr:this.dt.Qr,Gr:t.Gr};A=t.$K;void 0 !== A && void 0 !== A.Xt && void 0 !== A.tG && void 0 !== A.uG && (z.$K=[A.uG,A.tG,A.Xt,A.PUa]);B=this.KF();z=this.xSb.download(z,function(C){C.ia && t.readyState !== m.Yc.Nc.DONE && (t.readyState === m.Yc.Nc.Ur?!1:(t.readyState === m.Yc.Nc.$w?t.m7a({mediaRequest:t,readyState:t.readyState,timestamp:t.Fe?B:x.KF(),connect:!1,responseHeaders:C.headers,httpCode:C.$m}):t.readyState !== m.Yc.Nc.$w && t.readyState !== m.Yc.Nc.ul && !1,C={mediaRequest:t,readyState:t.readyState,timestamp:x.KF(),cadmiumResponse:C,response:C.content},t.lyb=C,t.KM(C)));});t.addEventListener(m.Yc.Ck.Sz,y);t.epa=z.abort;};c.prototype.zRa=function(t){try{ob.clearTimeout(t.oma);t.oma=void 0;t.jL=void 0;t.epa();}catch(v){this.log.warn("exception aborting request");}};c.prototype.KF=function(){return this.Ea.Ib().ca(n.pa);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Lc)),r.__param(1,(0,l.l)(p.wn)),r.__param(2,(0,l.l)(q.Xb)),r.__param(3,(0,l.l)(f.ab)),r.__param(4,(0,l.l)(k.tu)),r.__param(5,(0,l.l)(d.aIa))],a);b.jIa=a;},89936:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,v,w,y,x){function z(B,C){this.track=B;this.label=C;this.Re=n.Yc.Nc.UNSENT;this.bytesReceived=0;this.bX=[];}function A(B,C,D){this.requestId=x.SA().toString();this.zb=v;this.log=t.$a("MediaRequest");this.config=u;this.Hb=new h.Tj();this.label=C;"notification" === this.label?this.config().YK && (this.wV=w):this.wV=y;D && (this.mediaType=D.mediaType,this.Qb=D.Qb,this.bitrate=D.bitrate,this.Qc=D.Qc || 0,this.tt=D.tt,this.I=D.I);this.AU=this.k3=this.l3=void 0;this.track=B;this.mK=this.url=this.responseType=void 0;this.Re=n.Yc.Nc.UNSENT;this.Ti=this.mB=this.Uf=this.status=void 0;this.bytesReceived=0;this.connect=this.Ima=this.$E=this.WB=this.uqa=this.ki=this.Hma=this.loadTime=this.$Qa=void 0;this.bX=[];this.Qn=!1;!1;}z.prototype.addEventListener=function(B,C,D){this.Hb.addListener.call(this,B,C,D);};z.prototype.removeEventListener=function(B,C){this.Hb.removeListener.call(this,B,C);};z.prototype.emit=function(B,C,D){this.Hb.Dc.call(this,B,C,D);};z.prototype.cUb=function(B){this.Re === n.Yc.Nc.OPENED && (this.AU=!0,this.loadTime=this.ki=B.timestamp,!1,this.Re=n.Yc.Nc.$w,this.emit(n.Yc.Ck.$Ia,B));};z.prototype.m7a=function(B){var C;B.responseHeaders && (this.g$=B.responseHeaders);B.httpCode && (this.status=B.httpCode);if(this.Re < n.Yc.Nc.ul){this.bX=[];C=B.timestamp - this.loadTime;!this.Fe && 0 < C && (this.connect=!0,this.bX.push(C));!0 === this.config().qNb?this.Hma=B.timestamp:this.Hma=this.ki=B.timestamp;!1;this.Re=n.Yc.Nc.ul;200 <= this.status && 299 >= this.status && this.emit(n.Yc.Ck.ZIa,B);}};z.prototype.fUb=function(B){this.Re === n.Yc.Nc.ul && (!1,this.uqa=this.ki=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.zb.qg(this.uqa) && 200 <= this.status && 299 >= this.status && this.emit(n.Yc.Ck.aJa,B));};z.prototype.KM=function(B){var C;if(-1 < [n.Yc.Nc.$w,n.Yc.Nc.ul].indexOf(this.Re)){this.AU=!1;!1;this.ki=B.timestamp;this.Re=n.Yc.Nc.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Wl.H3;(0,q.oa)(this.bytesReceived === this.Do,"bytesReceived do not match expected totalBytes.");B.newBytes=this.Do - C;this.zb.qg(this.$E) && (this.ki=this.$E,0 === B.newBytes && (this.uqa=this.$E));this.zb.qg(this.WB) && (this.loadTime=this.WB);this.$Qa=B.response;this.emit(n.Yc.Ck.bQ,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",Q_b:B});}};z.prototype.YTb=function(B){this.AU=!1;!1;this.emit(n.Yc.Ck.Ulb,B);};z.prototype.Bsa=function(B){var C,D;this.ki=B.timestamp;this.status=null !== (C=B.httpcode) && void 0 !== C?C:this.status;this.g$=null !== (D=B.responseHeaders) && void 0 !== D?D:this.g$;this.Uf=B.errorcode;this.mB=n.Yc.QZ.name[this.Uf];this.Ti=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",wFb:B});this.emit(n.Yc.Ck.Sz,B);this.AU=!1;};z.prototype.open=function(B,C,D,F,G,E,H,M,L){this.kw=!1;this.mK=C;this.IH=H;this.Gr=M;this.$K=L;this.url=B;this.responseType=D;!1;return this.url?this.nG():(!1,!1);};z.prototype.nG=function(){this.Re=n.Yc.Nc.OPENED;this.status=this.bytesReceived=0;this.Ti=this.mB=this.Uf=this.g$=void 0;this.wV.zT(this,this.mK,this.IH);return !0;};z.prototype.We=function(){!1;-1 !== [n.Yc.Nc.OPENED,n.Yc.Nc.$w,n.Yc.Nc.ul].indexOf(this.Re) && this.abort();return !0;};z.prototype.TX=function(B){!1;this.url=B;return this.Re > n.Yc.Nc.UNSENT?(this.abort(),this.nG()):!0;};z.prototype.abort=function(){this.Re=n.Yc.Nc.Ur;this.wV.zRa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.g$) || void 0 === C?void 0:C[B.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.vN=function(){};z.prototype.yj=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.yj(),segmentId:this.I,isHeader:this.Fe,ptsStart:this.oN,ptsOffset:this.J9,responseType:this.responseType,duration:this.Ws,readystate:this.Re,bitrate:this.bitrate};return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.HLb=function(){var B,C;if(this.config().Ffb && d.yu && d.yu.getEntriesByType && (!this.zb.qg(this.WB) || !this.zb.qg(this.$E) && this.zb.qg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.l3 + "-" + this.k3 + "*");C=new RegExp(B);B=d.yu.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.zb.qg(B) && (0 < B.startTime && (this.WB=B.startTime,0 < B.requestStart && (this.WB=Math.max(this.WB,B.requestStart))),0 < B.responseStart && (this.Ima=B.responseStart),0 < B.responseEnd && (this.$E=B.responseEnd));}};z.prototype.fPb=function(){return this.zb.qg(this.WB) && this.zb.qg(this.$E) && this.zb.qg(this.Ima);};Ya.Object.defineProperties(z.prototype,{Do:{configurable:!0,enumerable:!0,get:function(){return 0 === this.mK.start && -1 === this.mK.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.mK.end - this.mK.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.k3 - this.l3 + 1;}},CMb:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Fe:{configurable:!0,enumerable:!0,get:function(){return !this.tt;}},response:{configurable:!0,enumerable:!0,get:function(){return this.$Qa;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Re;}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,C);});this.Mo=Object.assign(A,n.Yc);}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(22365);g=a(42207);m=a(31034);h=a(94886);n=a(48220);p=a(62665);q=a(45146);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xb)),r.__param(1,(0,l.l)(f.ab)),r.__param(2,(0,l.l)(g.Qf)),r.__param(3,(0,l.l)(m.jJa)),r.__param(4,(0,l.l)(m.kIa)),r.__param(5,(0,l.l)(p.Mw))],c);b.hIa=c;},76457:function(r,b,a){var l,f,k;function c(d,g){this.Ee=g;this.log=d.$a("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(32934);c.prototype.zT=function(d,g,m){g={url:d.url,a1b:m};!1;d.epa=this.Ee.i3b(g);};c.prototype.zRa=function(d){try{d.epa();}catch(g){this.log.warn("exception aborting request");}};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.tu))],k);b.iJa=k;},64213:function(r,b,a){var l,f,k,d;function c(g,m){this.jv=void 0 === g?function(){}:g;this.vva=m;this.uw=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.xfa=void 0;l=a(5163);f=a(93161);k=a(45146);d=a(31149);c.prototype.store=function(g,m){var h,q;h=this.generateKey(g);this.uw.has(h) && this.ysa(this.uw.get(h),!0);if(!g.xd)for(var n=la(this.uw),p=n.next();!p.done;p=n.next()){q=la(p.value);p=q.next().value;q=q.next().value;p.includes(":" + g.J + ":") && (this.ysa(q,!0),this.uw.delete(p));}this.uw.set(h,m);};c.prototype.Tm=function(g,m){var h,n,p;p=null === (h=null === m || void 0 === m?void 0:m.Af) || void 0 === h?void 0:h.Zb;h=null === (n=null === m || void 0 === m?void 0:m.Af) || void 0 === n?void 0:n.xd;n={J:g,xd:h,Zb:p};this.has(n) || this.jv(g,m);return this.get(n);};c.prototype.fw=function(g,m){var h;return l.__awaiter(this,void 0,void 0,function p(){var q,u;q=this;return Ja(p,function(t){var v;if(1 == t.Lv)return ((0,k.oa)(m.Af,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,k.oa)(!!m.Af.Zb,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),t.sja=2,Ma(t,q.vva(g,m),4));if(2 != t.Lv)return t.return(t.SY);t.sja=0;v=t.AE.wYa;t.AE=null;u=v;throw new f.wea("Could not hydrate adBreak",{Gm:0,Qic:0,errorCode:null !== (h=u.code) && void 0 !== h?h:0,context:{error:u instanceof d.Mc?u.toJSON():u,type:"adBreakHydration"}});});});};c.prototype.has=function(g){g=this.generateKey(g);return this.uw.has(g) && !this.uw.get(g).Sq;};c.prototype.clear=function(){var g;g=this;this.uw.forEach(function(m){g.ysa(m,!1);});this.uw.clear();};c.prototype.get=function(g){return this.uw.get(this.generateKey(g));};c.prototype.generateKey=function(g){var m,h;m=g.Zb;h=g.xd;return g.J.toString() + (h?":" + h:"") + (m?":" + m:"");};c.prototype.ysa=function(g,m){var h;null === (h=g.events) || void 0 === h?void 0:h.emit("viewableEvicted",{type:"viewableEvicted"});g.Kxa=m;};b.xfa=c;},30326:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.N2=void 0;c=a(32687);b.N2=function(l){var f,k,d,g;f=l.ho;k=l.loadTime;l=l.ema;d=(0,c.yb)(k)?k:0;g=f[l.target] || ({});f[l.target] !== g && (f[l.target]=g);Object.entries(l.fields).forEach(function(m){var h,n,p,q;h=la(m);m=h.next().value;h=h.next().value;if("object" !== typeof h || null === h)g[m]=h;else {n=h.type;if("count" === n)(void 0 === g[m] && (g[m]=0),++g[m]);else if(void 0 !== h.value){if("array" === n){n=g[m];p=h.adjust;q=h.value;n || (n=g[m]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});n.push(q);}else g[m]="sum" === n?(g[m] || 0) + h.value:h.value;}else g[m]=h;}});};},64302:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.U0a=void 0;c=a(93161);l=a(45146);b.U0a=function(f,k,d,g){return k.O[k.ve].ta === g?(f=(0,c.xp)(k,f,c.L.Ma(d)),(0,l.oa)(f,"has valid start position relative to playgraph"),f):{I:k.ve,offset:c.L.Ga};};},11479:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oh="AsyncComponentLoaderSymbol";},87284:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.YSa=void 0;r=a(22674);c=a(31073);l=a(11479);b.YSa=new r.dd(function(f){f(l.Oh).to(c.LAa).ga();});},31073:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v;function c(w,y,x,z,A,B){var C;C=this;this.vk=w;this.config=x;this.vo=z;this.debug=A;this.Ea=B;this.eeb=[];this.Xc={};this.log=y.$a("loadAsync");this.vRb=(0,u.wEa)(function(D){C.h_b=!0;C.startTime=C.Ea.Ib().ca(p.pa);C.load(C.eeb).then(function(){C.endTime=C.Ea.Ib().ca(p.pa);D(v.cg);}).catch(function(F){C.endTime=C.Ea.Ib().ca(p.pa);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;r=a(5163);l=a(77134);f=a(36129);k=a(96813);d=a(63156);g=a(22674);m=a(87386);h=a(4203);n=a(59818);p=a(5021);q=a(90597);u=a(22894);t=a(81918);v=a(33096);c.prototype.aV=function(w){this.vRb(w);};c.prototype.register=function(w,y){this.debug.assert(!this.h_b);this.eeb.push({RQb:this.Dwb(y),errorCode:w});};c.prototype.ie=function(w){this.debug.assert(void 0 === this.Xc[w]);this.Xc[w]=this.Ea.Ib().ca(p.pa);};c.prototype.load=function(w){var y;y=this;return (0,k.z9a)(w).then(function(x){y.vk.mark(d.Sj.gj.Ygb);return x.reduce(function(z,A){return z.then(function(){return y.PQb(A);});},Promise.resolve()).then(function(){y.vk.mark(d.Sj.gj.Wgb);});});};c.prototype.PQb=function(w){var y,x;y=this;x=w.RQb;!1;return this.vo.bq((0,p.Ob)(this.config().mub),x()).catch(function(z){y.log.error("Failed to load component " + w.errorCode,z);y.vk.mark(d.Sj.gj.Xgb);if(z instanceof n.vq)throw {Aa:f.S.Vgb,errorCode:w.errorCode};z.errorCode=z.errorCode || w.errorCode;z.Aa=z.Aa || f.S.Ugb;throw z;});};c.prototype.Dwb=function(w){return function(){return new Promise(function(y,x){w(function(z){z.ia?y():x(z);});});};};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(l.oJ)),r.__param(1,(0,g.l)(m.ab)),r.__param(2,(0,g.l)(h.Xb)),r.__param(3,(0,g.l)(n.Uz)),r.__param(4,(0,g.l)(q.Dw)),r.__param(5,(0,g.l)(t.Lc))],a);b.LAa=a;},96813:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.z9a=void 0;c=a(36129);l=[c.U.xkb,c.U.QFa,c.U.RFa,c.U.VFa,c.U.NFa,c.U.LFa,c.U.Yca,c.U.Bkb,c.U.OFa,c.U.MFa,c.U.Mz,c.U.IFa,c.U.KFa,c.U.SFa,c.U.TFa,c.U.UFa,c.U.PFa,c.U.JFa];(function(k){k.Olb=function(d){var h;for(var g={},m=0;m < d.length;m++){h=d[m];if(g[h.errorCode])return {errorCode:h.errorCode,Aa:c.S.Sgb};g[h.errorCode]=1;}};k.Plb=function(d){var m;for(var g=0;g < d.length;g++){m=d[g];if(-1 === l.indexOf(m.errorCode))return {errorCode:m.errorCode,Aa:c.S.Tgb};}};})(f || (f={}));b.z9a=function(k){return new Promise(function(d,g){var m;m=f.Plb(k);m && g(m);(m=f.Olb(k)) && g(m);d(k.sort(function(h,n){return l.indexOf(h.errorCode) - l.indexOf(n.errorCode);}));});};},81918:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lc="ApplicationSymbol";},6405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bw="Base16EncoderSymbol";},2248:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zg="Base64EncoderSymbol";},22816:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fD="BrowserInfoSymbol";},33258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aca="CachedErrorsSymbol";},30869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bg="ClockSymbol";},87061:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jCa="ClockConfigSymbol";},58098:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zCa="CsvEncoderSymbol";},34043:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HZ="DebouncerFactorySymbol";},90597:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OCa="DebugConfigSymbol";b.Dw="DebugSymbol";},2762:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.anb=b.jjb=b.PCa=void 0;r=b.PCa || (b.PCa={});r.ecc="PboDebugEvent";r.hcc="PlaygraphEvent";b.jjb={cbc:"Manifest",Event:"Event",Qac:"Logblob"};b.anb={cdc:"UX",s$b:"Combined_1",t$b:"Combined_2"};},28131:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa,na,Ca,Ra,Q,da,P,Y,sa,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb,Ab,Lb,Sb,Xb;Object.defineProperty(b,"__esModule",{value:!0});b.Lx=void 0;r=a(22674);c=a(63368);l=a(30869);f=a(53085);k=a(62665);d=a(10306);g=a(61909);m=a(11629);h=a(67525);n=a(691);p=a(84408);q=a(6405);u=a(2248);t=a(74870);v=a(42207);w=a(15160);y=a(59818);x=a(67572);z=a(53399);A=a(33543);B=a(30033);C=a(24900);D=a(4734);F=a(76564);G=a(31811);E=a(55099);H=a(88490);M=a(57180);L=a(9002);K=a(81918);O=a(58098);J=a(76928);I=a(69997);N=a(90597);R=a(85125);U=a(87386);ja=a(87061);ra=a(84183);ka=a(77134);ua=a(1639);Aa=a(91591);La=a(69216);Xa=a(49721);ab=a(45842);aa=a(22365);na=a(78789);Ca=a(20483);Ra=a(77687);Q=a(6214);da=a(31298);P=a(4203);Y=a(91581);sa=a(79274);Ha=a(36582);Wa=a(22816);$a=a(66057);fb=a(44720);sb=a(95947);Jb=a(4246);Ua=a(84130);bb=a(34043);kb=a(61453);rb=a(90030);qb=a(2010);yb=a(50093);Ab=a(75236);Lb=a(76892);Sb=a(33258);Xb=a(19699);b.Lx=new r.dd(function(Ib){Ib(c.r0).PC(function(){return {};}).ga();Ib(c.tD).ll(JSON);Ib(c.TOa).ll(ob);Ib(d.DNa).ll(Math);Ib(c.aHa).ll(aa.g0);Ib(c.lea).ll(aa.yu);Ib(c.tOa).ll(aa.DD);Ib(c.LCa).ll(Date);Ib(c.$I).ll(aa.ze);Ib(c.ylb).ll(aa.Qz);Ib(ja.jCa).to(ra.iCa).ga();Ib(K.Lc).to(L.mAa).ga();Ib(l.bg).to(n.kCa).ga();Ib(f.Th).to(g.JMa).ga();Ib(k.Mw).to(m.cGa).ga();Ib(y.Uz).to(D.XLa).ga();Ib(d.D0).to(h.eMa).ga();Ib(Ha.Fda).to(yb.YHa).ga();Ib(N.Dw).to(I.QCa).ga();Ib(N.OCa).to(R.NCa).ga();Ib(p.xq).to(z.uOa).ga();Ib(q.Bw).to(A.Rba).ga();Ib(u.Zg).to(B.aBa).ga();Ib(t.bh).to(C.vOa).ga();Ib(v.Qf).ll(F.sD);Ib(fb.qP).to(sb.fEa).ga();Ib(w.Fca).to(G.Tj).kpa();Ib(w.IZ).to(G.Tj).ga();Ib(w.cDa).to(G.Tj).ga();Ib(w.Jca).to(G.Tj).ga();Ib(H.kfa).to(M.LD).ga();Ib(O.zCa).to(J.yCa).ga();Ib(ka.oJ).to(ua.pfa).ga();Ib(ka.YP).to(ua.pfa).ga();Ib("Factory<LoggerFactory>").deb(U.ab);Ib(Aa.qca).to(La.SCa).ga();Ib(ab.MD).Xd(function(Nb){return function(Pb){return new Xa.NNa(Nb.kb.get(K.Lc),Nb.kb.get(f.Th),Pb);};});Ib(bb.HZ).Xd(function(Nb){return function(Pb){return new kb.MCa(Nb.kb.get(f.Th),Pb);};});Ib(na.Jea).S5b(Ca.Iea);Ib(na.fnb).Xd(function(Nb){var Pb;Pb=Nb.kb.get(na.Jea);return function(){return new Pb(!1);};});Ib(na.gnb).Xd(function(Nb){var Pb;Pb=Nb.kb.get(na.Jea);return function(){return new Pb(!0);};});Ib(Ra.qOa).Xd(function(){return function(Nb){return new Q.rOa(Nb);};});Ib(sa.hQ).Xd(function(Nb){return function(Pb,cc,nc){return new da.iLa(Nb.kb.get(N.Dw),Nb.kb.get(P.Xb),Nb.kb.get(Y.An),Nb.kb.get(Ha.Fda),Pb,cc,nc);};});Ib(x.gJa).Xd(function(){return function(Nb){return new E.hJa(Nb);};});Ib(Wa.fD).to($a.pBa);Ib(Ab.Z0).to(Lb.sOa).ga();Ib(Jb.sQ).Xd(function(Nb){return function(Pb,cc){return new Ua.ZNa(Nb.kb.get(f.Th),Pb,cc);};});Ib(rb.ZDa).to(qb.YDa).ga();Ib(Sb.aca).to(Xb.VBa).ga();});},90030:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hj="_ANY_";b.ZDa="EnricherSymbol";},15160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fca="EventSourceSymbol";b.Jca="GlobalEventSourceSymbol";b.IZ="DebugEventSourceSymbol";b.cDa="DiagnosticsEventSourceSymbol";},44720:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qP="EventSourceFactorySymbol";},62665:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mw="IdProviderSymbol";},42207:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qf="IsTypeSymbol";},43193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nz=void 0;r=b.Nz || (b.Nz={});r[r.g$b=8]="Backspace";r[r.Xcc=9]="Tab";r[r.eac=13]="Enter";r[r.Qcc=16]="Shift";r[r.y$b=17]="Ctrl";r[r.M9b=18]="Alt";r[r.dcc=19]="PauseBreak";r[r.p$b=20]="CapsLock";r[r.gac=27]="Escape";r[r.Scc=32]="Space";r[r.ccc=33]="PageUp";r[r.bcc=34]="PageDown";r[r.dac=35]="End";r[r.Iac=36]="Home";r[r.Oac=37]="LeftArrow";r[r.edc=38]="UpArrow";r[r.mcc=39]="RightArrow";r[r.M$b=40]="DownArrow";r[r.Lac=45]="Insert";r[r.K$b=46]="Delete";r[r.ndc=48]="Zero";r[r.Tbc=49]="One";r[r.$cc=50]="Two";r[r.Ycc=51]="Three";r[r.Dac=52]="Four";r[r.Bac=53]="Five";r[r.Rcc=54]="Six";r[r.Pcc=55]="Seven";r[r.cac=56]="Eight";r[r.Ebc=57]="Nine";r[r.E9b=65]="A";r[r.eZ=66]="B";r[r.j$b=67]="C";r[r.vib=68]="D";r[r.E=69]="E";r[r.hac=70]="F";r[r.Ica=71]="G";r[r.Gac=72]="H";r[r.Jac=73]="I";r[r.Mac=74]="J";r[r.eda=75]="K";r[r.Vkb=76]="L";r[r.vda=77]="M";r[r.gbc=78]="N";r[r.Qbc=79]="O";r[r.Vbc=80]="P";r[r.Q=81]="Q";r[r.jcc=82]="R";r[r.occ=83]="S";r[r.Znb=84]="T";r[r.adc=85]="U";r[r.fdc=86]="V";r[r.hdc=87]="W";r[r.jdc=88]="X";r[r.ldc=89]="Y";r[r.mdc=90]="Z";r[r.Pac=91]="LeftWindowKey";r[r.ncc=92]="RightWindowKey";r[r.Ncc=93]="SelectKey";r[r.Gbc=96]="Numpad0";r[r.Hbc=97]="Numpad1";r[r.Ibc=98]="Numpad2";r[r.Jbc=99]="Numpad3";r[r.Kbc=100]="Numpad4";r[r.Lbc=101]="Numpad5";r[r.Mbc=102]="Numpad6";r[r.Nbc=103]="Numpad7";r[r.Obc=104]="Numpad8";r[r.Pbc=105]="Numpad9";r[r.fbc=106]="Multiply";r[r.L9b=107]="Add";r[r.Tcc=109]="Subtract";r[r.J$b=110]="DecimalPoint";r[r.L$b=111]="Divide";r[r.iac=112]="F1";r[r.mac=113]="F2";r[r.nac=114]="F3";r[r.oac=115]="F4";r[r.pac=116]="F5";r[r.qac=117]="F6";r[r.rac=118]="F7";r[r.sac=119]="F8";r[r.tac=120]="F9";r[r.jac=121]="F10";r[r.kac=122]="F11";r[r.lac=123]="F12";r[r.Fbc=144]="NumLock";r[r.Lcc=145]="ScrollLock";r[r.Occ=186]="SemiColon";r[r.fac=187]="Equals";r[r.u$b=188]="Comma";r[r.I$b=189]="Dash";r[r.fcc=190]="Period";r[r.Cac=191]="ForwardSlash";r[r.Zcc=192]="Tilde";r[r.Ubc=219]="OpenBracket";r[r.f$b=220]="BackSlash";r[r.r$b=221]="CloseBracket";r[r.icc=222]="Quote";},67572:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gJa="OneWayCounterFactorySymbol";},91591:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qca="DecoderTimeoutPathologistSymbol";},91581:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.An="PlatformSymbol";b.s0="PlatformMutableSymbol";},63368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TOa="WindowTimersSymbol";b.tD="JSONSymbol";b.tOa="UserAgentSymbol";b.$I="NavigatorSymbol";b.ylb="MediaSourceSymbol";b.aHa="LocationSymbol";b.LCa="DateSymbol";b.lea="PerformanceSymbol";b.r0="PlatformExtraInfoSymbol";},79274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hQ="PlayerErrorFactorySymbol";},78789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jea="PrioritizedSetOfListsSymbol";b.fnb="PrioritizedSetOfListsFactorySymbol";b.gnb="PrioritizedSetOfSetsFactorySymbol";},59818:function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Uz=b.vq=void 0;fa(a,Error);b.vq=a;b.Uz="PromiseTimerSymbol";},10306:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DNa="SystemRandomSymbol";b.D0="RandomGeneratorSymbol";},53085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Th="SchedulerSymbol";},88490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kfa="StringUtilsSymbol";},14423:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lfa=void 0;l=a(22365);c.G0a=function(){var f;f=l.zu && l.zu.height;return f?1080 <= f?1080:720:720;};b.lfa=c;},45842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MD="ThrottleFactorySymbol";},4246:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sQ="TimeoutMonitorFactorySymbol";},77134:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oJ="TimingApiSymbol";b.YP="MilestoneTimingApiSymbol";},77687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qOa="UrlFactorySymbol";},84408:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xq="Utf8EncoderSymbol";},74870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bh="UtilitiesSymbol";},36258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tKa="PboPlaydataValidatorSymbol";b.kKa="PboPlaydataArrayValidatorSymbol";b.mKa="PboPlaydataCollectionValidatorSymbol";},63156:function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sj=b.Pa=b.gj=void 0;(function(f){f[f.rm=0]="STANDARD";f[f.xn=1]="LIMITED";f[f.Xbc=2]="PREVIEW";})(c || (c={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(f){f.Ygb="asl_start";f.Wgb="asl_comp";f.K9b="asl_exc";f.Xgb="asl_fail";f.Inb="stf_creat";f.nkb="idb_open";f.kkb="idb_block";f.ukb="idb_upgr";f.tkb="idb_succ";f.lkb="idb_error";f.mkb="idb_invalid_state";f.pkb="idb_open_timeout";f.rkb="idb_open_wrkarnd";f.skb="idb_storelen_exc";f.okb="idb_open_exc";f.qkb="idb_timeout_invalid_storelen";f.qlb="msl_load_data";f.slb="msl_load_no_data";f.rlb="msl_load_failed";})(r=b.gj || (b.gj={}));(function(f){f.Zda="PlaybackRequestStart";f.Yda="PlaybackRequestEnd";f.B0="RequestPrefetchManifestStart";f.A0="RequestPrefetchManifestEnd";f.z0="RequestManifestStart";f.y0="RequestManifestEnd";f.x0="RequestLicenseStart";f.w0="RequestLicenseEnd";f.fP="RequestTimedTextUrlStart";f.eP="RequestTimedTextUrlEnd";f.dP="RequestAudioUrlStart";f.cP="RequestAudioUrlEnd";f.hP="RequestVideoUrlStart";f.gP="RequestVideoUrlEnd";f.nba="AppendBufferStart";f.mba="AppendBufferEnd";f.Vea="SetMediaKeysStart";f.Uea="SetMediaKeysEnd";f.WZ="GenerateChallengeStart";f.VZ="GenerateChallengeEnd";f.WY="ApplyLicenseStart";f.VY="ApplyLicenseEnd";})(b.Pa || (b.Pa={}));b.Sj=a;a.ida=c;a.EVa=function(f){return ["STANDARD","LIMITED","PREVIEW"][f];};a.gj=r;a.Lz=l;},36129:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Kw=b.dEa=b.cEa=b.Dca=b.bEa=b.RZ=b.c0=b.Q_=b.aEa=b.S=b.U=void 0;(function(l){l[l.Qo=7001]="UNKNOWN";l[l.oOa=7002]="UNHANDLED_EXCEPTION";l[l.xkb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.Zjb=7004]="HLS_NOT_SUPPORTED";l[l.Xca=7010]="INIT_ASYNCCOMPONENT";l[l.Bkb=7011]="INIT_HTTP";l[l.vkb=7014]="INIT_BADMOVIEID";l[l.XFa=7020]="INIT_PLAYBACK_LOCK";l[l.YFa=7022]="INIT_SESSION_LOCK";l[l.Ckb=7029]="INIT_POSTAUTHORIZE";l[l.WFa=7031]="INIT_HEADER_MEDIA";l[l.Dkb=7034]="INIT_TIMEDTEXT_TRACK";l[l.Qgb=7037]="ASE_SESSION_ERROR";l[l.Pgb=7038]="ASE_SEEK_THREW";l[l.Rgb=7039]="ASE_SKIPPED_THREW";l[l.ykb=7041]="INIT_CORE_OBJECTS1";l[l.zkb=7042]="INIT_CORE_OBJECTS2";l[l.Akb=7043]="INIT_CORE_OBJECTS3";l[l.QFa=7053]="INIT_COMPONENT_STORAGE";l[l.RFa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.NFa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.Yca=7059]="INIT_COMPONENT_DEVICE";l[l.OFa=7063]="INIT_COMPONENT_MSL";l[l.MFa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.Mz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.VFa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.LFa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.JFa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.IFa=7089]="INIT_COMPONENT_ASE";l[l.QI=7091]="INIT_COMPONENT_DRM_CACHE";l[l.wkb=7092]="INIT_COMPONENT_DRM";l[l.KFa=7094]="INIT_COMPONENT_FTL";l[l.PFa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.SFa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.TFa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.UFa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.yD=7111]="MANIFEST";l[l.clb=7114]="MANIFEST_MISTMATCH";l[l.vHa=7117]="MANIFEST_VERIFY";l[l.Gnb=7120]="START";l[l.SI=7121]="LICENSE";l[l.Nea=7122]="RELEASE";l[l.Hnb=7123]="STOP";l[l.fda=7125]="KEEPALIVE";l[l.wmb=7131]="PING";l[l.Jjb=7134]="ENGAGE";l[l.Zkb=7137]="LOGBLOB";l[l.Wbc=7138]="PAUSE";l[l.lcc=7139]="RESUME";l[l.BMa=7140]="SPLICE";l[l.rhb=7142]="BIND";l[l.shb=7144]="BIND_DEVICE";l[l.Vjb=7145]="GENERATE_SCREENSHOTS";l[l.tza=7146]="AD_EVENT";l[l.Amb=7202]="PLAY_INIT_EXCEPTION";l[l.$da=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.Gmb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.vJa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.Hmb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.aea=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.Fmb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.zJa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.uJa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.bea=7355]="PLAY_MSE_SOURCEADD";l[l.tJa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.dQ=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.yJa=7361]="PLAY_MSE_EVENT_ERROR";l[l.bJ=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.sq=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.Jmb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.Kmb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.Lmb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.Mmb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.Qmb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.Pmb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.Omb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.Nmb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.AJa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.Bmb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.Cmb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.Dmb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.wJa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.Imb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.xJa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.Emb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.o0=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.NDa=7400]="EXTERNAL";l[l.n0=7500]="PAUSE_TIMEOUT";l[l.S_=7502]="INACTIVITY_TIMEOUT";l[l.$gb=7510]="AUTHORIZATION_EXPIRED";l[l.Bjb=7700]="EME_INVALID_KEYSYSTEM";l[l.ADa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.oP=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.PZ=7703]="EME_GENERATEREQUEST_FAILED";l[l.HDa=7704]="EME_UPDATE_FAILED";l[l.FDa=7705]="EME_KEYSESSION_ERROR";l[l.EDa=7706]="EME_KEYMESSAGE_EMPTY";l[l.Fjb=7707]="EME_REMOVE_FAILED";l[l.Djb=7708]="EME_LOAD_FAILED";l[l.xjb=7709]="EME_CREATE_SESSION_FAILED";l[l.xca=7710]="EME_LDL_RENEWAL_ERROR";l[l.CDa=7711]="EME_INVALID_INITDATA_DATA";l[l.DDa=7712]="EME_INVALID_LICENSE_DATA";l[l.Cjb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.zDa=7716]="EME_CLOSE_FAILED";l[l.yca=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.Hjb=7718]="EME_SET_SERVER_CERTIFICATE";l[l.xmb=7800]="PLAYDATA_STORE_FAILURE";l[l.YO=7900]="BRANCH_PLAY_FAILURE";l[l.ZO=7901]="BRANCH_QUEUE_FAILURE";l[l.XAa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.zhb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.hmb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.U || (b.U={}));(function(l){l[l.Qo=1001]="UNKNOWN";l[l.ol=1003]="EXCEPTION";l[l.Gkb=1004]="INVALID_DI";l[l.Ugb=1011]="ASYNCLOAD_EXCEPTION";l[l.Vgb=1013]="ASYNCLOAD_TIMEOUT";l[l.J9b=1015]="ASYNCLOAD_BADCONFIG";l[l.Sgb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.Tgb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.BP=1101]="HTTP_UNKNOWN";l[l.Vca=1102]="HTTP_XHR";l[l.yP=1103]="HTTP_PROTOCOL";l[l.xP=1104]="HTTP_OFFLINE";l[l.AP=1105]="HTTP_TIMEOUT";l[l.qD=1106]="HTTP_READTIMEOUT";l[l.pD=1107]="HTTP_ABORT";l[l.hFa=1108]="HTTP_PARSE";l[l.dFa=1110]="HTTP_BAD_URL";l[l.zP=1111]="HTTP_PROXY";l[l.Bda=1203]="MSE_AUDIO";l[l.Cda=1204]="MSE_VIDEO";l[l.llb=1250]="MSE_MEDIA_ERR_BASE";l[l.Wac=1251]="MSE_MEDIA_ERR_ABORTED";l[l.Zac=1252]="MSE_MEDIA_ERR_NETWORK";l[l.Xac=1253]="MSE_MEDIA_ERR_DECODE";l[l.$ac=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.Yac=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.Yr=1260]="EME_MEDIA_KEYERR_BASE";l[l.V$b=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.Q$b=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.U$b=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.T$b=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.S$b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.R$b=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.W$b=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.Ajb=1270]="EME_INTERNAL_ERROR";l[l.wjb=1271]="EME_CLOSED_BY_APPLICATION";l[l.Ejb=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.wca=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.Gjb=1274]="EME_RESOURCE_EVICTED";l[l.zjb=1280]="EME_ERROR_NODRMSESSSION";l[l.yjb=1281]="EME_ERROR_NODRMREQUESTS";l[l.N$b=1282]="EME_ERROR_INDIV_FAILED";l[l.O$b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.Ijb=1284]="EME_TIMEOUT_MESSAGE";l[l.X$b=1285]="EME_TIMEOUT_KEYCHANGE";l[l.GDa=1286]="EME_UNDEFINED_DATA";l[l.JI=1287]="EME_INVALID_STATE";l[l.P$b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.BDa=1289]="EME_EMPTY_DATA";l[l.pP=1290]="EME_TIMEOUT";l[l.obc=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.rbc=1305]="NCCP_PARSEXML";l[l.Tmb=1309]="PROCESS_EXCEPTION";l[l.qbc=1311]="NCCP_NETFLIXID_MISSING";l[l.sbc=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.lbc=1313]="NCCP_HMAC_MISSING";l[l.kbc=1315]="NCCP_HMAC_MISMATCH";l[l.jbc=1317]="NCCP_HMAC_FAILED";l[l.ibc=1321]="NCCP_CLIENTTIME_MISSING";l[l.hbc=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.xEa=1331]="GENERIC";l[l.Dlb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.Elb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.tbc=1341]="NCCP_TRANSACTION";l[l.mbc=1343]="NCCP_INVALID_DRMTYPE";l[l.nbc=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.pbc=1345]="NCCP_MISSING_PAYLOAD";l[l.acc=1346]="PROTOCOL_NOT_INITIALIZED";l[l.$bc=1347]="PROTOCOL_MISSING_FIELD";l[l.Zbc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.ax=1402]="STORAGE_NODATA";l[l.vcc=1403]="STORAGE_EXCEPTION";l[l.Dcc=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.Ecc=1407]="STORAGE_QUOTA_TO_SMALL";l[l.EMa=1411]="STORAGE_LOAD_ERROR";l[l.Jnb=1412]="STORAGE_LOAD_TIMEOUT";l[l.FMa=1414]="STORAGE_SAVE_ERROR";l[l.Mnb=1415]="STORAGE_SAVE_TIMEOUT";l[l.Yea=1417]="STORAGE_DELETE_ERROR";l[l.DMa=1418]="STORAGE_DELETE_TIMEOUT";l[l.Ccc=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.zcc=1423]="STORAGE_FS_GETDIRECTORY";l[l.Bcc=1425]="STORAGE_FS_READENTRIES";l[l.wcc=1427]="STORAGE_FS_FILEREAD";l[l.ycc=1429]="STORAGE_FS_FILEWRITE";l[l.xcc=1431]="STORAGE_FS_FILEREMOVE";l[l.Acc=1432]="STORAGE_FS_PARSEJSON";l[l.Lnb=1451]="STORAGE_NO_LOCALSTORAGE";l[l.Knb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.Dbc=1501]="NTBA_UNKNOWN";l[l.Cbc=1502]="NTBA_EXCEPTION";l[l.ybc=1504]="NTBA_CRYPTO_KEY";l[l.Abc=1506]="NTBA_CRYPTO_OPERATION";l[l.zbc=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.Bbc=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.ECa=1553]="DEVICE_NO_ESN";l[l.Fib=1555]="DEVICE_ERROR_GETTING_ESN";l[l.yac=1701]="FORMAT_UNKNOWN";l[l.Rjb=1713]="FORMAT_XML";l[l.zac=1715]="FORMAT_XML_CONTENT";l[l.wac=1721]="FORMAT_BASE64";l[l.xac=1723]="FORMAT_DFXP";l[l.ikb=1801]="INDEXDB_OPEN_EXCEPTION";l[l.GFa=1802]="INDEXDB_NOT_SUPPORTED";l[l.hkb=1803]="INDEXDB_OPEN_ERROR";l[l.HFa=1804]="INDEXDB_OPEN_NULL";l[l.gkb=1805]="INDEXDB_OPEN_BLOCKED";l[l.jkb=1807]="INDEXDB_OPEN_TIMEOUT";l[l.fkb=1808]="INDEXDB_INVALID_STORE_STATE";l[l.T_=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.vlb=1901]="MSL_UNKNOWN";l[l.olb=1911]="MSL_INIT_NO_MSL";l[l.CHa=1913]="MSL_INIT_ERROR";l[l.plb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.mlb=1931]="MSL_ERROR";l[l.ulb=1933]="MSL_REQUEST_TIMEOUT";l[l.tlb=1934]="MSL_READ_TIMEOUT";l[l.nlb=1935]="MSL_ERROR_HEADER";l[l.abc=1936]="MSL_ERROR_ENVELOPE";l[l.bbc=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.BHa=1957]="MSL_ERROR_REAUTH";l[l.zfa=2103]="WEBCRYPTO_MISSING";l[l.idc=2105]="WEBCRYPTOKEYS_MISSING";l[l.iob=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.k$b=2200]="CACHEDDATA_PARSEJSON";l[l.zBa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.l$b=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.Hz=2203]="CACHEDDATA_INVALID_FORMAT";l[l.G9b=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.H9b=3001]="ACCOUNT_INVALID";l[l.H$b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.G$b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.E$b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.F$b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.D$b=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.Fcc=3300]="STORAGE_VA_LOAD_ERROR";l[l.Gcc=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.Jcc=3302]="STORAGE_VA_SAVE_ERROR";l[l.Kcc=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.Hcc=3304]="STORAGE_VA_REMOVE_ERROR";l[l.Icc=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.Xda=3077]="PBO_DEVICE_EOL_WARNING";l[l.lJa=3078]="PBO_DEVICE_EOL_FINAL";l[l.oJa=3100]="PBO_DEVICE_RESET";l[l.nJa=3101]="PBO_DEVICE_RELOAD";l[l.mJa=3102]="PBO_DEVICE_EXIT";l[l.umb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.Ylb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.gmb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.pJa=5007]="PBO_INCORRECT_PIN";l[l.rmb=5008]="PBO_MOBILE_ONLY";l[l.vmb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.Zlb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.bmb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.$lb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.amb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.cmb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.omb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.nmb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.lmb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.emb=5059]="PBO_BLACKLISTED_IP";l[l.dmb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.fmb=5080]="PBO_CHOICE_MAP_ERROR";l[l.smb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.pmb=5091]="PBO_MALFORMED_REQUEST";l[l.mmb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.qmb=5093]="PBO_MDX_INVALID_CTICKET";l[l.kmb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.tmb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.jmb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.imb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.Aib=5100]="DECODER_TIMEOUT_BUFFERING";l[l.Cib=5101]="DECODER_TIMEOUT_PRESENTING";l[l.Bib=5102]="DECODER_TIMEOUT_PLAYING";l[l.fjb=5200]="DOWNLOADER_IO_ERROR";l[l.WAa=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.vhb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.T9b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.Qba=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.P9b=5304]="BRANCHING_ASE_FAILURE";l[l.Q9b=5305]="BRANCHING_MOMENT_FAILURE";l[l.thb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.S9b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.whb=5308]="BRANCHING_SEEK_THREW";l[l.R9b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.uhb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.xhb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.yhb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.Nnb=5500]="STUDIO_MUXED_MANIFEST";l[l.xda=5600]="MANIFEST_HYDRATION_FAILURE";l[l.bhb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.chb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";l[l.ahb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(c=b.S || (b.S={}));(function(l){l[l.d$b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.U9b=5005]="BR_ACCOUNT_ON_HOLD";l[l.Y9b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.a$b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.X9b=5059]="BR_BLACKLISTED_IP";l[l.V9b=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.b$b=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.Z9b=2205]="BR_DRM_LICENSE_AQUISITION";l[l.c$b=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.$9b=2207]="BR_ENDPOINT_ERROR";l[l.W9b=2208]="BR_AUTHORIZATION_ERROR";})(b.aEa || (b.aEa={}));b.Q_={Ghb:"400",ddc:"401",HJa:"413"};b.c0={uac:1,Wcc:2,$$b:3,bdc:4,Nac:5,Z$b:6,tfa:7,bac:8,kcc:9,scc:10};b.RZ=function(l,f,k,d){return l == a.n0 || l == a.S_ || l == a.$da && 432E5 <= k || l == a.yca && f === c.wca && 0 < Number(d);};b.bEa=function(l){return 1100 <= l && 1199 >= l;};b.Dca=function(l,f){return 1 <= l && 9 >= l?f + l:f;};b.cEa=function(l){return (0,b.Dca)(l,c.llb);};b.dEa=function(l){return (0,b.Dca)(l,c.Yr);};b.Kw=function(l){var f,k,d;f={};k=l.errorExternalCode || l.De;d=l.errorDetails || l.Nb;f.ErrorSubCode=l.errorSubCode || l.Aa || c.Qo;k && (f.ErrorExternalCode=k);d && (f.ErrorDetails=d);return f;};},9002:function(r,b,a){var l,f,k,d;function c(g,m){this.sa=g;this.o5=this.sa.de.ca(k.pa) - 1;this.cRb=this.o7=0;this.id="" + m.SA();}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;r=a(5163);l=a(22674);f=a(30869);k=a(5021);a=a(62665);c.prototype.Ib=function(){var g,m;g=this.sa.de.ca(k.pa) - this.o5;if(g < this.o7){m=this.o7 + 1;this.o5-=m - g;g=m;}this.o7=g;return (0,k.Ob)(this.o7);};c.prototype.UJb=function(){return this.cRb++;};Ya.Object.defineProperties(c.prototype,{wy:{configurable:!0,enumerable:!0,get:function(){return (0,k.Ob)(this.o5);}}});d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.bg)),r.__param(1,(0,l.l)(a.Mw))],d);b.mAa=d;},33543:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Rba=void 0;r=a(5163);a=a(22674);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(k){for(var d=new Uint8Array(k.length / 2),g=0;g < d.length;g++){d[g]=this.heb(k.substr(2 * g,2));}return d;};c.prototype.encode=function(k){var h;for(var d="",g=k.length,m=0;m < g;m++){h=k[m];d+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return d;};c.prototype.DF=function(k,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[k & 15] || "0") + g;k>>>=4;}return g;};c.prototype.heb=function(k){var d;d=k.length;if(7 < d)throw Error("hex to long");for(var g=0,m=0;m < d;m++){g=16 * g + l[k[m]];}return g;};f=c;f=r.__decorate([(0,a.T)()],f);b.Rba=f;},30033:function(r,b,a){var l,f,k,d,g,m,h,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aBa=void 0;r=a(5163);a=a(22674);f=Array.prototype.slice;k=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");f=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};m={};h={};n=/\s+/g;[k,f].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;g[u]=q << 12;m[u]=q << 6;h[u]=q;}});c.prototype.encode=function(p){return l.Jla(p,k,"=");};c.prototype.decode=function(p){return l.Ska(p);};c.Ska=function(p){var q,u,t;p=p.replace(n,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var v=0,w=0,y;w < u;){y=d[p[v++]] + g[p[v++]] + m[p[v++]] + h[p[v++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[w++]=y >>> 16;q[w++]=y >>> 8 & 255;q[w++]=y & 255;}if(0 < t && (y=d[p[v++]] + g[p[v++]],q[w++]=y >>> 16,1 < t && (y+=m[p[v++]],q[w++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.Jla=function(p,q,u){for(var t="",v=0,w=p.length,y=w - 2,x;v < y;){x=(p[v++] << 16) + (p[v++] << 8) + p[v++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(v == y){x=(p[v++] << 8) + p[v++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(v == w - 1){x=p[v++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};f=l=c;f=l=r.__decorate([(0,a.T)()],f);b.aBa=f;},66057:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){this.userAgentData=p;this.od=this.RFb(h,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.zOa=b.pBa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(83767);d=a(63368);a=a(75236);c.prototype.d6=function(h,n){var p;if(n=this.RLb(n))switch(h){case m.Dy:p=0 < n.length?Number(n[0]):0;break;case m.BM:p=1 < n.length?Number(n[1]):0;break;case m.YM:p=2 < n.length?Number(n[2]):0;break;case m.i$:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.RLb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.gG=function(h){return this.od.name === h;};c.prototype.jG=function(h){return this.od.d9.name === h;};c.prototype.NOb=function(h){return this.od.tMb === h;};c.prototype.RFb=function(h,n){return Object.assign(Object.assign({tMb:this.TFb(h,n)},this.QFb(h,n)),{d9:this.UFb(h,n)});};c.prototype.TFb=function(h,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(h)?f.P_.phone:(/Android/).test(h)?f.P_.f5b:f.P_.oyb;};c.prototype.QFb=function(h,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(h)?{name:f.om.opera,version:""}:(/Tesla/).test(h)?{name:f.om.Hdb,version:""}:(n=h.match(/Edge\/(\d*)\./))?{name:f.om.Ap,version:n[1]}:(n=h.match(/Edg\/(\d*)\./))?{name:f.om.HXa,version:n[1]}:(n=h.match(/Chrome\/(\d*)\./))?{name:f.om.Ija,version:n[1]}:(n=h.match(/Firefox\/(\d*)\./))?{name:f.om.kZa,version:n[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:f.om.Iab,version:h[1]}:{name:f.om.Ija,version:""};};c.prototype.UFb=function(h,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(h)?{name:f.zn.CUa,version:""}:(n=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:f.zn.h5a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(h)?{name:f.zn.nza,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:f.zn.eia,version:""}:(/Linux/).test(h)?{name:f.zn.G4a,version:""}:(/iPhone/).test(h)?{name:f.zn.W2a,version:""}:{name:f.zn.nza,version:""};};Ya.Object.defineProperties(c.prototype,{f3a:{configurable:!0,enumerable:!0,get:function(){return this.gG(f.om.Ija);}},HU:{configurable:!0,enumerable:!0,get:function(){return this.gG(f.om.Ap);}},sy:{configurable:!0,enumerable:!0,get:function(){return this.gG(f.om.HXa);}},S6:{configurable:!0,enumerable:!0,get:function(){return this.gG(f.om.kZa);}},Xpa:{configurable:!0,enumerable:!0,get:function(){return this.gG(f.om.opera);}},MU:{configurable:!0,enumerable:!0,get:function(){return this.gG(f.om.Iab);}},E3a:{configurable:!0,enumerable:!0,get:function(){return this.gG(f.om.Hdb);}},DU:{configurable:!0,enumerable:!0,get:function(){return this.jG(f.zn.eia);}},YL:{configurable:!0,enumerable:!0,get:function(){return this.jG(f.zn.W2a);}},M6:{configurable:!0,enumerable:!0,get:function(){return this.jG(f.zn.eia) && this.NOb(f.P_.phone);}},FU:{configurable:!0,enumerable:!0,get:function(){return this.jG(f.zn.CUa);}},TOb:{configurable:!0,enumerable:!0,get:function(){return this.jG(f.zn.G4a);}},MB:{configurable:!0,enumerable:!0,get:function(){return this.jG(f.zn.h5a);}},ty:{configurable:!0,enumerable:!0,get:function(){return this.jG(f.zn.nza);}},Em:{configurable:!0,enumerable:!0,get:function(){return this.d6(m.Dy,this.od.version);}},OVb:{configurable:!0,enumerable:!0,get:function(){return this.d6(m.Dy,this.od.d9.version);}},PVb:{configurable:!0,enumerable:!0,get:function(){return this.d6(m.BM,this.od.d9.version);}},QVb:{configurable:!0,enumerable:!0,get:function(){return this.d6(m.YM,this.od.d9.version);}}});g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.tOa)),r.__param(1,(0,l.l)(k.DP)),r.__param(2,(0,l.l)(a.Z0))],g);b.pBa=g;(function(h){h[h.Dy=0]="major";h[h.BM=1]="minor";h[h.YM=2]="patch";h[h.i$=3]="revision";})(m=b.zOa || (b.zOa={}));},19699:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t;function c(v,w,y,x,z,A){this.fl=v;this.config=y;this.vo=x;this.sa=z;this.is=A;this.log=w.$a("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=b.$ba=void 0;r=a(5163);f=a(22674);k=a(36129);d=a(87386);g=a(5021);m=a(17892);h=a(4203);n=a(59818);p=a(30869);q=a(42207);u=a(17612);t=a(82100);b.$ba="errors";c.prototype.load=function(){var v,w;v=this;if(!this.config().TXa)return Promise.resolve([]);w=(0,g.Ob)(this.config().gwb);return this.vo.bq(w,this.L4a([])).catch(function(y){v.log.error("Load failed.",y);return [];});};c.prototype.add=function(v,w,y,x,z){var A;A=this;return this.config().TXa && w && y && (w === u.eb.pea || w === u.eb.zQ + "." + t.Zr)?this.L4a([{time:v,keySystem:w,code:y,ec:x,Vc:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.OQb=function(){var v;v=this;return this.fl.create().then(function(w){return w.load(b.$ba).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.Aa === k.S.ax)return (v.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.zHb=function(v){return {time:(0,g.uh)(v[0]),keySystem:v[1],code:v[2],ec:v[3],Vc:v[4]};};c.Q5b=function(v){return [v.time.ca(g.sm),v.keySystem,v.code,v.ec,v.Vc];};c.prototype.S0b=function(v){var w;w={version:1,errors:v.map(l.Q5b)};return this.fl.create().then(function(y){return y.save(b.$ba,w,!1);}).then(function(){return v;});};c.prototype.pGb=function(v){var w,y;w=(0,g.uh)(this.config().fwb);y=this.sa.de.qa(w);return v.filter(function(x){return x.time.qa(y).z3a();});};c.prototype.f8b=function(v){return v.filter(this.yOb.bind(this)).map(this.zHb);};c.prototype.yOb=function(v){return this.is.Yj(v[0]) && this.is.jp(v[1]) && this.is.Yj(v[2]) && (this.is.Yj(v[3]) || void 0 === v[3]) && (this.is.jp(v[4]) || void 0 === v[4])?!0:!1;};c.prototype.kGb=function(v){var w;w=this;return v.filter(function(y){return w.config().tFb.includes(y.code);});};c.prototype.lGb=function(v){return v.slice(-this.config().dwb);};c.prototype.L4a=function(v){var w;w=this;return this.OQb().then(function(y){return w.f8b(y);}).then(function(y){return w.pGb(y);}).then(function(y){return y.concat(v);}).then(function(y){return w.kGb(y);}).then(function(y){return w.lGb(y);}).then(function(y){return w.S0b(y);});};a=l=c;a=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.zw)),r.__param(1,(0,f.l)(d.ab)),r.__param(2,(0,f.l)(h.Xb)),r.__param(3,(0,f.l)(n.Uz)),r.__param(4,(0,f.l)(p.bg)),r.__param(5,(0,f.l)(q.Qf))],a);b.VBa=a;},31149:function(r,b,a){var l;function c(f,k,d,g,m,h,n,p,q,u,t,v,w){this.code=void 0 === f?l.U.Qo:f;this.ec=k;this.Vc=d;this.Pm=g;this.Ky=m;this.message=h;this.details=n;this.data=p;this.wj=q;this.$Wb=u;this.alert=t;this.Zha=v;this.Dd=w;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;l=a(36129);c.ue=function(f){var k,d,g;if(f){k=f.stack;d=f.number;g=f.message;g || (g="" + f);k?(f="" + k,0 !== f.indexOf(g) && (f=g + "\n" + f)):f=g;d && (f+="\nnumber:" + d);return f;}return "";};c.prototype.MS=function(f){this.details=c.ue(f);this.data=f;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ec,extCode:this.Vc,edgeCode:this.Pm,mslCode:this.Ky,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.wj,playbackServiceError:this.$Wb};};c.ana=function(f,k){return new c(f,l.S.ol,void 0,void 0,void 0,void 0,k.message,k.stack);};c.rgb=function(f,k){return new c(f,k,void 0,void 0,void 0,void 0,void 0,void 0);};c.Y8b=function(f,k,d){return new c(f,k,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Mc=c;},84183:function(r,b,a){var l,f,k,d;function c(g){return f.$O.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);a=a(83767);fa(c,f.$O);Ya.Object.defineProperties(c.prototype,{Dfb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.ed,"usePerformanceApi")],d.prototype,"Dfb",null);d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.cca))],d);b.iCa=d;},691:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u){var t;t=this;this.config=n;this.MBb=p;this.Hb=q;this.performance=u;this.vVb=function(v){t.Cwa=v.qa(t.de);};(0,l.io)(this,"date");(0,l.io)(this,"performance");this.ztb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.Cwa=f.Ga;this.Hb.addListener(h.bda.mbb,this.vVb);}Object.defineProperty(b,"__esModule",{value:!0});b.kCa=void 0;r=a(5163);l=a(66523);f=a(5021);k=a(22674);d=a(63368);g=a(87061);m=a(15160);h=a(85001);c.prototype.htb=function(n){return n.add(this.Cwa);};Ya.Object.defineProperties(c.prototype,{de:{configurable:!0,enumerable:!0,get:function(){return this.H6a?(0,f.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,f.Ob)(this.MBb.now());}},DH:{configurable:!0,enumerable:!0,get:function(){return this.de.add(this.Cwa);}},H6a:{configurable:!0,enumerable:!0,get:function(){return this.config.Dfb && this.ztb;}}});a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.jCa)),r.__param(1,(0,k.l)(d.LCa)),r.__param(2,(0,k.l)(m.Jca)),r.__param(3,(0,k.l)(d.lea)),r.__param(3,(0,k.optional)())],a);b.kCa=a;},76928:function(r,b,a){var l,f,k,d;function c(g,m){this.is=g;this.Zd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.yCa=void 0;r=a(5163);f=a(22674);k=a(42207);a=a(74870);c.prototype.encode=function(g){var m,h;m=this;h="";this.Zd.jB(g,function(n,p){n=m.jYa(n) + "=" + m.jYa(p);h=h?h + ("," + n):n;});return h;};c.prototype.jYa=function(g){return this.is.hF(g)?this.is.Yj(g)?"" + g:this.is.jp(g)?(g=g.replace(l.eva,this.sra.bind(this)),!l.kZb.test(g) && l.ATb.test(g) && (g='"' + g + '"'),g):this.is.g2(g)?"" + g:this.is.uha(g)?"NaN":"":"";};c.prototype.sra=function(g){return l.map[g];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.eva=/(?!^.+)["\r\n](?=.+$)/g;d.kZb=/["].*["]/g;d.ATb=/[", ]/;d=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Qf)),r.__param(1,(0,f.l)(a.bh))],d);b.yCa=d;},61453:function(r,b,a){var l,f;function c(k,d){this.xc=k;this.K3=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MCa=void 0;r=a(5163);l=a(22674);a=a(53085);c.prototype.Lj=function(k){this.Ag();this.Yi=this.xc.nk(this.K3,k);};c.prototype.Ag=function(){this.Yi && this.Yi.cancel();this.Yi=void 0;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Th))],f);b.MCa=f;},85125:function(r,b,a){var l,f,k,d;function c(g){g=f.$O.call(this,g,"DebugConfigImpl") || this;g.Hec=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);a=a(83767);fa(c,f.$O);Ya.Object.defineProperties(c.prototype,{wvb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.ed,"breakOnError")],d.prototype,"wvb",null);d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.cca))],d);b.NCa=d;},69997:function(r,b,a){var l,f,k,d;function c(g,m,h){this.config=g;this.zb=m;this.la=h.$a("General");}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;r=a(5163);l=a(22674);f=a(42207);k=a(90597);a=a(87386);c.prototype.assert=function(){};c.prototype.cub=function(g,m){this.assert(this.zb.hF(g),m);};c.prototype.dub=function(g,m){this.assert(this.zb.qg(g),m);};c.prototype.L2=function(g,m){this.assert(this.zb.jp(g),m);};c.prototype.jub=function(g,m){this.assert(this.zb.Am(g),m);};c.prototype.hub=function(g,m){this.assert(this.zb.jp(g) || null === g || void 0 === g,m);};c.prototype.K2=function(g,m){this.assert(this.zb.Yj(g),m);};c.prototype.fub=function(g,m){this.assert(this.zb.cia(g),m);};c.prototype.iub=function(g,m){this.assert(this.zb.UR(g),m);};c.prototype.gub=function(g,m){this.assert(this.zb.CR(g),m);};c.prototype.bub=function(g,m){this.assert(this.zb.g2(g),m);};c.prototype.eub=function(g,m){this.assert(this.zb.i2(g),m);};c.prototype.mOb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.OCa)),r.__param(1,(0,l.l)(f.Qf)),r.__param(2,(0,l.l)(a.ab))],d);b.QCa=d;},69216:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u){this.Ea=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;r=a(5163);f=a(22674);k=a(81918);d=a(31149);g=a(36129);m=a(85001);h=a(5021);n=a(22365);a=a(21801);c.prototype.fXa=function(q){var u,t,v,w,y,x,z,A,B,C;u=this;w=q.mediaTime.value;y=q.Gq.value;x=q.sb.value;z=q.state.value;A={segmentId:q.coa(),mediaTime:w,segmentTime:q.tB(),bufferingState:l.Mvb[y],presentingState:l.fYb[x],playbackState:l.aXb[z],mseBuffersBusy:this.kLb(q),intBuffersBusy:this.CJb(q),tabVisible:this.e5b(),decodedFrameCount:this.iCb(q),videoElementInDom:this.u8b(q),lastVideoSync:this.Ea.Ib().qa((0,h.Ob)(q.VX)).ca(h.pa)};B=x === m.gb.zf?q.bb.rg?this.config.S7a:this.config.R7a:this.config.z6a;if(y !== m.nf.$d){if((y=g.S.Aib,this.CTa(A.mseBuffersBusy,A.intBuffersBusy)))C=l.YAa;}else (x !== m.gb.ke?y=g.S.Cib:(y=g.S.Bib,(x=q.Td) && 0 === x.A5() && (C=l.mob)),(x=q.Td) && x.Kb.sourceBuffers.forEach(function(D){var F,G;F=l.Cg[D.mediaType];A[F + "Ranges"]=D.s5();try{G=D.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - w,A[F + "Undecoded"]=D,1 < G.length && (C=l.Bhb),w < 1E3 * G.start(0) || w > 1E3 * G.end(0)?C=l.Chb:D < B.ca(h.pa)?C=l.Dhb:u.CTa(A.mseBuffersBusy,A.intBuffersBusy) && (C=l.YAa)):(A[F + "Undecoded"]=0,C=l.Ahb);}));x=q.bab.Y0a();z=w === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (v=q.cb) || void 0 === v?void 0:v.jya;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.Mc(g.U.uJa,y,C,void 0,void 0,void 0,q,void 0);};c.prototype.kLb=function(q){var u;if(q.Kb){u={};q.Kb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.CJb=function(q){var u;if(q.Kb){u={};q.Kb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.mh()};});return u;}};c.prototype.e5b=function(){return !n.Hg.hidden;};c.prototype.iCb=function(q){return (q=q.Td) && (q=q.Kb.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.u8b=function(q){if(q=q.Td)if(q=q.Kb.$)return n.Hg.body.contains(q);return !1;};c.prototype.CTa=function(q,u){var t,v,w,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (v=u.audio) || void 0 === v?void 0:v.updating) && (null === (w=q.video) || void 0 === w?void 0:w.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=l=c;p.Ahb="1";p.Bhb="2";p.Chb="3";p.YAa="4";p.Dhb="5";p.mob="6";p.Cg=["Audio","Video"];p.Mvb=["","NORMAL","BUFFERING","STALLED"];p.fYb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.aXb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Lc)),r.__param(1,(0,f.l)(a.Lda))],p);b.SCa=p;},2010:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;r=a(5163);l=a(22674);f=a(90030);c.prototype.bL=function(k,d){var g;g=this;k && Object.entries(d).forEach(function(m){var h,n,p;h=la(m);m=h.next().value;h=h.next().value;if(g.BOb(h)){n=la(h);h=n.next().value;p=n.next().value;n=k[h];Array.isArray(n)?(g.dla(k,m,h),n.forEach(function(q){g.bL(q,p);})):h === f.hj?Object.values(k).forEach(function(q){g.bL(q,p);}):(g.dla(k,m,h),"object" === typeof n && g.bL(n,p));}else g.dla(k,m,h);});};c.prototype.BOb=function(k){return Array.isArray(k);};c.prototype.dla=function(k,d,g){k.hasOwnProperty(d) || d === g || Object.defineProperty(k,d,{get:function(){return k[g];},set:function(m){return k[g]=m;},enumerable:!0});};a=c;a=r.__decorate([(0,l.T)()],a);b.YDa=a;},95947:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qP=b.fEa=void 0;r=a(5163);l=a(31811);a=a(22674);c.prototype.create=function(){return new l.Tj();};f=c;f=r.__decorate([(0,a.T)()],f);b.fEa=f;b.qP="EventSourceFactorySymbol";},31811:function(r,b,a){var l,f;function c(){this.Cp={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Tj=void 0;r=a(5163);a=a(22674);c.prototype.addListener=function(k,d,g){var m,h;m="$netflix$player$order" + this.id + "$" + k;if(this.Cp){h=this.Cp[k]?this.Cp[k].slice():[];g && (d[m]=g);0 > h.indexOf(d) && (h.push(d),h.sort(function(n,p){return (n[m] || 0) - (p[m] || 0);}));this.Cp[k]=h;}};c.prototype.removeListener=function(k,d){if(this.Cp && this.Cp[k]){for(var g=this.Cp[k].slice(),m;0 <= (m=g.indexOf(d));){g.splice(m,1);}this.Cp[k]=g;}};c.prototype.Dc=function(k,d,g){var m;if(this.Cp){m=this.Ana(k);for(k={vI:0};k.vI < m.length;(k={vI:k.vI},k.vI++)){g?(function(h){return function(){var n;n=m[h.vI];setTimeout(function(){n(d);},0);};})(k)():m[k.vI].call(this,d);}}};c.prototype.Ag=function(){this.Cp=void 0;};c.prototype.on=function(k,d,g){this.addListener(k,d,g);};c.prototype.Ana=function(k){var d;return null !== (d=this.Cp && (this.Cp[k] || (this.Cp[k]=[]))) && void 0 !== d?d:[];};f=l=c;f.counter=0;f=l=r.__decorate([(0,a.T)()],f);b.Tj=f;},11629:function(r,b,a){var l,f,k,d,g;function c(m,h){this.sa=m;this.random=h;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;r=a(5163);f=a(22674);k=a(5021);d=a(30869);a=a(10306);c.prototype.SA=function(){return this.sa.de.ca(k.sm) * l.PBa + Math.floor(this.random.random() * l.PBa);};g=l=c;g.PBa=1E8;g=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.bg)),r.__param(1,(0,f.l)(a.D0))],g);b.cGa=g;},52657:function(r,b,a){var l;function c(f,k,d,g,m){this.version=f;this.VG=k;this.zxa=d;this.fl=g;this.du=m;this.pk=new l.dGa(f,k,d,g,m);this.El=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$ca=void 0;l=a(51665);c.prototype.load=function(f){var k;k=this;return this.pk.load(f).then(function(){var d;k.El=null !== (d=k.pk.El) && void 0 !== d?d:[];});};c.prototype.add=function(f){this.El.push(f);return this.pk.set(this.El);};c.prototype.remove=function(f,k){f=this.f_a(this.sL(f,k));return 0 <= f?(this.El.splice(f,1),this.pk.set(this.El)):Promise.resolve();};c.prototype.update=function(f,k){k=this.f_a(this.sL(f,k));return 0 <= k?(this.El[k]=f,this.pk.set(this.El)):Promise.resolve();};c.prototype.sL=function(f,k){for(var d=0;d < this.El.length;++d){if(k(this.El[d],f))return this.El[d];}};c.prototype.f_a=function(f){return f?this.El.indexOf(f):-1;};b.$ca=c;},51665:function(r,b,a){var l,f;function c(k,d,g,m,h){this.version=k;this.VG=d;this.zxa=g;this.fl=m;this.du=h;}Object.defineProperty(b,"__esModule",{value:!0});b.dGa=void 0;l=a(36129);f=a(31149);c.prototype.load=function(k){return this.NQb(k);};c.prototype.set=function(k){this.El=k;return this.IWb();};c.prototype.NQb=function(k){var d;d=this;this.P4a || (this.P4a=new Promise(function(g,m){function h(n){d.JCb().then(function(){m(n);}).catch(function(){m(n);});}d.poa().then(function(n){d.storage=n;return d.storage.load(d.VG);}).then(function(n){var p;n=n.value;try{p=k(n);d.version=p.version;d.El=p.data;g();}catch(q){h(q);}}).catch(function(n){n.Aa !== l.S.ax?m(n):g();});}));return this.P4a;};c.prototype.IWb=function(){var k,d,g,m,h;k=this;if(!this.zxa)return Promise.resolve();if(this.gaa){m=new Promise(function(n,p){d=n;g=p;});h=function(){k.gaa=m;k.Vcb().then(function(){d();}).catch(function(n){g(n);});};this.gaa.then(h).catch(h);return m;}return this.gaa=this.Vcb();};c.prototype.Vcb=function(){var k,d;k=this;d=this.du();return new Promise(function(g,m){k.poa().then(function(h){return h.save(k.VG,d,!1);}).then(function(){g();}).catch(function(h){m(c.R5b(l.U.xmb,h));});});};c.prototype.JCb=function(){var k;k=this;return this.zxa?new Promise(function(d,g){k.poa().then(function(m){return m.remove(k.VG);}).then(function(){d();}).catch(function(m){g(m);});}):Promise.resolve();};c.prototype.poa=function(){return this.storage?Promise.resolve(this.storage):this.fl.create();};c.R5b=function(k,d){var g;if(d.Aa && d.$b)return new f.Mc(k,d.Aa,void 0,void 0,void 0,void 0,void 0,d.$b);if(void 0 !== d.ec){g=d.message?d.message + " ":"";d.code=k;d.message="" === g?void 0:g;return d;}return d instanceof Error?new f.Mc(k,l.S.ol,void 0,void 0,void 0,void 0,d.stack,d):new f.Mc(k,l.S.Qo,void 0,void 0,void 0,void 0,void 0,d);};b.dGa=c;},76564:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sD=void 0;c=/^\S+$/;a.prototype.hF=function(l){return void 0 !== l;};a.prototype.qg=function(l){return null !== l && void 0 !== l;};a.prototype.TR=function(l){return a.tSa(l);};a.prototype.vha=function(l){return !(!l || !a.tSa(l));};a.prototype.DA=function(l){return Array.isArray(l);};a.prototype.uSa=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.Yj=function(l,f,k){return a.xRa(l,f,k);};a.prototype.uha=function(l){return a.uha(l);};a.prototype.cia=function(l,f,k){return a.z2(l,f,k) && 0 === l % 1;};a.prototype.UR=function(l,f,k){return a.z2(l,f || 0,k);};a.prototype.CR=function(l){return a.z2(l,1);};a.prototype.Urb=function(l){return a.z2(l,0,255);};a.prototype.Vrb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.vSa=function(l){return !(!l || !c.test(l));};a.prototype.jp=function(l){return a.yRa(l);};a.prototype.Am=function(l){return !(!a.yRa(l) || !l);};a.prototype.g2=function(l){return !0 === l || !1 === l;};a.prototype.i2=function(l){return "function" == typeof l;};a.yRa=function(l){return "string" == typeof l;};a.xRa=function(l,f,k){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === f || l >= f) && (void 0 === k || l <= k);};a.uha=function(l){return "number" == typeof l && isNaN(l);};a.z2=function(l,f,k){return a.xRa(l,f,k) && 0 === l % 1;};a.tSa=function(l){return "object" == typeof l;};b.sD=new a();},81734:function(r,b,a){var l,f,k;function c(d,g){this.Lu=g?[g]:[];this.uga="$op$" + k++;this.Qa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Eb=void 0;l=a(33096);f=a(45146);k=0;c.prototype.addListener=function(d,g){var m;m=this;(0,f.Oka)(d);(0,f.oa)(0 > this.Lu.indexOf(d));d[l.l0 + this.uga]=g;this.Lu=this.Lu.slice();this.Lu.push(d);this.Lu.sort(function(h,n){return m.E3b(h,n);});};c.prototype.removeListener=function(d){var g;(0,f.Oka)(d);this.Lu=this.Lu.slice();0 <= (g=this.Lu.indexOf(d)) && this.Lu.splice(g,1);};c.prototype.set=function(d,g){var m;if(this.Qa !== d){m={oldValue:this.Qa,newValue:d,Eh:g};this.Qa=d;this.Uob=g;d=this.Lu;g=d.length;for(var h=0;h < g;h++){d[h](m);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(m){function h(n){if(d(n.newValue))return (g.removeListener(h),m(n.newValue));}if(d(g.Qa))return m(g.Qa);g.addListener(h);});};c.prototype.E3b=function(d,g){return (d[l.l0 + this.uga] || 0) - (g[l.l0 + this.uga] || 0);};Ya.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Qa;}},Eh:{configurable:!0,enumerable:!0,get:function(){return this.Uob;}}});b.Eb=c;},55099:function(r,b,a){var l;function c(f){this.YHb=f;this.l6=!1;this.v6=this.Nf=this.nO=0;this.rU=!1;this.w6=0;}Object.defineProperty(b,"__esModule",{value:!0});b.hJa=void 0;l=a(32687);c.prototype.Pha=function(f){f < this.nO && (this.Nf+=this.nO);this.nO=f;this.l6=!0;};c.prototype.MIb=function(){if(this.l6)return this.rU?this.w6 - this.v6:this.Nf + this.nO - this.v6;};c.prototype.refresh=function(){var f;f=this.YHb();(0,l.yb)(f) && this.Pha(f);};c.prototype.O3b=function(){this.rU || (this.l6 && (this.w6=this.Nf + this.nO),this.rU=!0);};c.prototype.f4b=function(){this.rU && (this.l6 && (this.v6+=this.Nf + this.nO - this.w6),this.w6=0,this.rU=!1);};b.hJa=c;},72465:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Vda=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Vda=a;},20483:function(r,b,a){var l;function c(f){this.Mpb=void 0 === f?!1:f;this.Se={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Iea=void 0;r=a(5163);a=a(22674);c.prototype.add=function(f,k){var d;k=void 0 === k?0:k;d=this.Se[k];d?this.Mpb && -1 !== d.indexOf(f) || d.push(f):this.Se[k]=[f];};c.prototype.remove=function(f,k){this.sx(f,void 0 === k?0:k);};c.prototype.removeAll=function(f){this.sx(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Se).sort().reduce(function(k,d){return k.concat(f.Se[d]);},[]);};c.prototype.sx=function(f,k){Object.entries(this.Se).forEach(function(d){var g,m;g=la(d);d=g.next().value;g=g.next().value;if(void 0 === k || k === parseInt(d)){-1 < (m=g.indexOf(f)) && g.splice(m,1);}});};l=c;l=r.__decorate([(0,a.T)()],l);b.Iea=l;},94293:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v0=void 0;b.v0=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},4734:function(r,b,a){var l,f,k;function c(d){this.xc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;r=a(5163);l=a(22674);f=a(53085);k=a(59818);c.prototype.bq=function(d,g){var m;m=this;return new Promise(function(h,n){var p;p=m.xc.nk(d,function(){n(new k.vq(d));});g.then(function(q){h(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Th))],a);b.XLa=a;},67525:function(r,b,a){var l,f;function c(k){this.d5b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.eMa=void 0;r=a(5163);l=a(22674);a=a(10306);c.prototype.random=function(){return this.d5b.random();};c.prototype.a$a=function(k,d){if("number" !== typeof k)(d=k.end,k=k.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(k + this.random() * (d - k));};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.DNa))],f);b.eMa=f;},74267:function(r,b){function a(c,l,f){if(null != f){if(0 < f(c,l))throw a.aWa(c,l);}else if(c.Lk && 0 < c.Lk(l))throw a.aWa(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Pea=void 0;a.aWa=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.Pea=a;},61909:function(r,b,a){var f,k,d,g;function c(m){this.Co=m;(0,k.io)(this,"timers");}function l(m,h){this.Co=m;this.Lwb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.JMa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(63368);g=a(5021);l.prototype.cancel=function(){this.Lwb(this.Co);};c.prototype.Lj=function(m){return this.nk(g.Ga,m);};c.prototype.nk=function(m,h){var n;n=this.Co.setTimeout(h,m.ca(g.pa));return new l(this.Co,function(p){p.clearTimeout(n);});};c.prototype.xH=function(m,h){var n;n=this.Co.setInterval(h,m.ca(g.pa));return new l(this.Co,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.TOa))],a);b.JMa=a;},57180:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LD=void 0;r=a(5163);a=a(22674);c.prototype.format=function(f,k){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(m,h){return "undefined" != typeof g[h]?g[h]:m;});};c.prototype.edb=function(f){for(var k=f.length,d=new Uint16Array(k),g=0;g < k;g++){d[g]=f.charCodeAt(g);}return d.buffer;};c.prototype.hdb=function(f){return JSON.stringify(f,null,"  ");};l=c;l=r.__decorate([(0,a.T)()],l);b.LD=l;},49721:function(r,b,a){var l,f,k,d;function c(g,m,h){var n;n=this;this.Sf=g;this.xc=m;this.K3=h;this.QM=function(p){n.Yi=void 0;n.w6b(p || n.K3);};this.f4a=(0,k.Ob)(-this.K3.ca(k.pa));}Object.defineProperty(b,"__esModule",{value:!0});b.NNa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(5021);a=a(53085);c.prototype.Lj=function(g){this.iwa=g;this.Yi=this.Yi || this.Df(this.QM);};c.prototype.Ag=function(){this.Yi && this.Yi.cancel();this.Yi=void 0;};c.prototype.w6b=function(g){var m,h;m=this.Sf.Ib();if(this.iwa){h=g.qa(m.qa(this.f4a));0 >= h.Lk(k.Ga)?(g=this.iwa,this.iwa=void 0,this.f4a=m,g()):this.Yi=this.Yi || this.xc.nk(h,this.QM.bind(this,g));}};c.prototype.Df=function(g){return this.xc.nk(k.Ga,g);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(a.Th))],d);b.NNa=d;},84130:function(r,b,a){var l,f,k;function c(d,g,m){this.xc=d;this.cya=g;this.xv=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ZNa=void 0;r=a(5163);l=a(53085);f=a(22674);k=a(5021);c.prototype.hB=function(){this.Yi || (this.Yi=this.xc.nk((0,k.Ob)(this.cya),this.xv));};c.prototype.Ao=function(){this.Yi && this.Yi.cancel();this.Yi=void 0;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Th))],a);b.ZNa=a;},1639:function(r,b,a){var l,f,k,d;function c(g,m){this.Ea=g;this.entries=new Set();this.la=m.$a("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.pfa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(5021);a=a(87386);c.prototype.mark=function(g,m,h){g={name:g,Mr:this.Ea.Ib()};m && (g.ma=m);h && (g.wf=h);this.entries.add(g);return g;};c.prototype.Ona=function(){var g;g=[];this.entries.forEach(function(m){return g.push(m);});return g;};c.prototype.g0a=function(g){return this.Ona().filter(function(m){return m.ma === g;});};c.prototype.XJb=function(){var g;g={};try{g=this.Ona().filter(function(m){return !m.ma;}).reduce(function(m,h){m[h.name]=h.Mr.ca(k.pa);return m;},{});}catch(m){this.la.error(" getMapOfCommonMarks exception",m);}return g;};c.prototype.M$a=function(g){var m;m=this;this.Ona().forEach(function(h){h.ma === g && m.entries.delete(h);});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(a.ab))],d);b.pfa=d;},6214:function(r,b){function a(){this.searchParams={};}function c(l){this.qp=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.rOa=void 0;c.prototype.toString=function(){return this.href;};Ya.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.qp + this.searchParams.toString();}}});b.rOa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,f){this.searchParams[l]=f;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,f,k){var d;d=la(f);f=d.next().value;d=d.next().value;return "" + l + (0 == k?"?":"&") + f + "=" + d;},"");};},53399:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uOa=void 0;r=a(5163);a=a(22674);c.prototype.encode=function(k){return l.Jla(k);};c.prototype.decode=function(k){return l.Ska(k);};c.Jla=function(k){if(!k)throw new TypeError("Invalid byte array");for(var d=0,g,m=k.length,h="";d < m;){g=k[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (k[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((k[d++] & 63) << 6) + (k[d++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(g);}return h;};c.Ska=function(k){var d,g,m,h,n;d=k.length;g=0;h=0;if(!(0 <= d))throw Error("bad string");for(m=d;m--;){n=k.charCodeAt(m);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(m=0;m < d;m++){n=k.charCodeAt(m);128 > n?g[h++]=n:(2048 > n?g[h++]=192 | n >>> 6:(g[h++]=224 | n >>> 12,g[h++]=128 | n >>> 6 & 63),g[h++]=128 | n & 63);}return g;};f=l=c;f=l=r.__decorate([(0,a.T)()],f);b.uOa=f;},24900:function(r,b,a){var l,f,k,d;function c(g,m){this.is=g;this.Ni=m;}Object.defineProperty(b,"__esModule",{value:!0});b.vOa=void 0;r=a(5163);l=a(22674);a(36129);f=a(42207);k=a(6405);d=a(22365);c.prototype.dC=function(g,m,h){var n,p,q,u;n=this;if(m)if(h){p=h.jV;q=h.prefix;u=h.b9;this.jB(m,function(t,v){if(!u || n.is.qg(v))g[(q || "") + (p?t.toLowerCase():t)]=v;});}else this.jB(m,function(t,v){g[t]=v;});return g;};c.prototype.jB=function(g,m){for(var h in g){g.hasOwnProperty(h) && m(h,g[h]);}};c.prototype.PA=function(g,m){if(g.length == m.length){for(var h=g.length;h--;){if(g[h] != m[h])return !1;}return !0;}return !1;};c.prototype.xVa=function(g,m){if(g.length != m.length)return !1;g.sort();m.sort();for(var h=g.length;h--;){if(g[h] !== m[h])return !1;}return !0;};c.prototype.ue=function(g){var m,h,n;if(g){m=g.stack;h=g.number;n=g.message;n || (n="" + g);m?(g="" + m,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;h && (g+="\nnumber:" + h);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.rna=function(g){return this.getFunctionName(g.constructor);};c.prototype.Hsa=function(g){var m,h;m=this;h="";this.is.DA(g) || this.is.uSa(g)?h=Array.prototype.reduce.call(g,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.jp(g)?h=g:this.jB(g,function(n,p){h+=(h?", ":"") + "{" + n + ": " + (m.is.i2(p)?m.getFunctionName(p) || "function":p) + "}";});return "[" + this.rna(g) + " " + h + "]";};c.prototype.createElement=function(g,m,h,n){var p;p=d.Hg.createElement(g);m && (p.style.cssText=m);h && (p.innerHTML=h);n && this.jB(n,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.jGb=function(g,m){return function(h){return h[g] === m;};};c.prototype.kW=function(g){var m;m={};(g || "").split("&").forEach(function(h){var n,p;h=h.trim();n=h.indexOf("=");if(0 <= n){p=decodeURIComponent(h.substr(0,n)).toLowerCase();m[p]=decodeURIComponent(h.substr(n + 1));}else m[h.toLowerCase()]=void 0;});return m;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Qf)),r.__param(1,(0,l.l)(k.Bw))],a);b.vOa=a;},38385:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.c5a=void 0;c=a(80401);l=a(76989);r=a(22674);f=a(36410);k=a(87386);d=a(42790);b.c5a=new r.dd(function(g){g(k.ab).to(l.sHa).ga();g(f.UI).to(c.tHa).ga();g(k.pda).to(d.hHa).ga();});},87386:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nP=b.ab=b.pda=b.dj=void 0;r=b.dj || (b.dj={});r[r.Pjb=0]="FATAL";r[r.Bk=1]="ERROR";r[r.yfa=2]="WARN";r[r.Wca=3]="INFO";r[r.HNa=4]="TRACE";r[r.K=5]="DEBUG";b.pda="LogFieldBuilderFactorySymbol";b.ab="LoggerFactorySymbol";b.nP={};},36410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UI="LoggerSinksSymbol";},34126:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.rda=void 0;b.rda=a;a.Gib="display";a.mib="console";},22097:function(r,b,a){var l,f;function c(k,d,g,m,h,n,p){this.level=k;this.Gm=d;this.timestamp=g;this.message=m;this.Fc=h;this.prefix=n;this.index=void 0 === p?0:p;this.u4b=this.x4b();}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;l=a(5021);f={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.zaa=function(k){k=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (k?"":" " + this.u4b);return (this.timestamp.ca(l.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (f[this.level] || this.level) + "|" + this.Gm + "| " + k;};c.prototype.x4b=function(){var m;for(var k=this.Fc.length,d="",g=0;g < k;++g){m=this.Fc[g].Pt;g && d.length && (d+=" ");if("object" === typeof m){if(null === m)d+="null";else if(m instanceof Error)d+=this.w4b(m);else try{d+=JSON.stringify(m);}catch(h){d+=this.v4b(m);}}else d+=m;}return d;};c.prototype.w4b=function(k){return k.toString() + (k.stack?"\n" + k.stack:"") + "\n";};c.prototype.v4b=function(k){var d;d=[];return JSON.stringify(k,function(g,m){if("object" === typeof m && null !== m){if(-1 !== d.indexOf(m))return "<cycle>";d.push(m);}return m;});};b.wAa=c;},98895:function(r,b,a){var l,f;function c(k,d,g,m,h,n){k=l.TI.call(this,k,d,g,m) || this;k.groups=h;Array.isArray(n)?k.prefix=n:n && "string" === typeof n && (k.prefix=[],k.prefix.push(n));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;l=a(29045);f=a(22097);fa(c,l.TI);c.prototype.wA=function(k,d,g){k=new f.wAa(k,this.Gm,this.Ea.Ib(),d,g,this.prefix);d=la(this.rn.rn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(k);}};c.prototype.O3=function(k){return new c(this.Ea,this.i3,this.rn,k,this.groups,this.prefix);};b.xAa=c;},37960:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LTa=void 0;b.LTa=function(a,c){var f;a=a.RJb();for(var l=0;l < c.length;++l){f=c[l];void 0 != f && null != f && (f.tg && (f=f.tg),f.constructor === Uint8Array?a.Xsb(f):"MediaRequest" === f.constructor.name?a.Isb(f):"string" === typeof f?a.Usb(f):"function" === typeof f?a.Csb(f):f instanceof Error?a.Bsb(f):f instanceof Object && "function" === typeof f.toJSON?a.$Ra(f.toJSON()):f instanceof Object?a.$Ra(f):a.Zsb(f));}return a.Lg();};},90694:function(r,b,a){var l;function c(f,k,d,g,m,h){this.level=f;this.Gm=k;this.timestamp=d;this.message=g;this.Fc=m;this.index=void 0 === h?0:h;this.Wkb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.oda=void 0;l=a(5021);c.prototype.zaa=function(f){var k;k="" + this.message;this.Fc.forEach(function(d){k+=d.fI(f);});return (this.timestamp.ca(l.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Wkb[this.level] || this.level) + "|" + this.Gm + "| " + k;};b.oda=c;},42790:function(r,b,a){var l,f,k,d;function c(g,m){this.jc=g;this.Zd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;r=a(5163);l=a(22674);f=a(14600);k=a(2248);a=a(74870);c.prototype.RJb=function(){return new f.iHa(this.jc,this.Zd);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Zg)),r.__param(1,(0,l.l)(a.bh))],d);b.hHa=d;},14600:function(r,b,a){var p,q,u;function c(t,v){this.jc=t;this.Zd=v;this.Fc=[];}function l(t){return n.call(this,t,function(v){return {Details:v};}) || this;}function f(t){return n.call(this,t,function(v){return JSON.parse(v.toJSON());}) || this;}function k(t,v){v=n.call(this,v,function(w){return {Base64:t.encode(w)};}) || this;v.jc=t;return v;}function d(t,v){v=n.call(this,v,function(w){return w();}) || this;v.Zd=t;return v;}function g(t){return n.call(this,t,function(v){return {Exception:v.message || "" + v,StackTrace:v.stack || "nostack"};}) || this;}function m(t,v,w){v=n.call(this,v,w) || this;v.Zd=t;return v;}function h(t){return n.call(this,t,function(v){return {Details:v};}) || this;}function n(t,v){this.Pt=t;this.value=v?v(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.iHa=void 0;r=a(5163);p=a(22674);q=a(74870);a=a(2248);n.prototype.fT=function(t){return this.Pt === t;};fa(h,n);h.prototype.fI=function(){return "\r\n" + this.Pt;};fa(m,n);m.prototype.fI=function(){var t;t="";this.Zd.jB(this.value,function(v,w){try{t+=", " + v + ": " + w;}catch(y){try{t+=", " + v + ": " + JSON.stringify(w);}catch(x){t+=", error stringifying " + v;}}});return t.replace(/[\r\n]+ */g," ");};fa(g,n);g.prototype.fI=function(t){var v;v="\r\n" + this.Pt.message;t || (v+="\r\n" + this.Pt.stack);return v;};fa(d,n);d.prototype.fI=function(){var t;t="";this.Zd.jB(this.value,function(v,w){t+=", " + v + ": " + w;});return t.replace(/[\r\n]+ */g," ");};fa(k,n);k.prototype.fI=function(){return this.Pt?"\r\n" + this.jc.encode(this.Pt):"";};fa(f,n);f.prototype.fI=function(){return this.Pt?this.Pt.toJSON():"";};fa(l,n);l.prototype.fI=function(){return ", " + (this.Pt.toString?"" + this.Pt.toString():"");};c.prototype.Usb=function(t){this.Fc.push(new h(t));};c.prototype.$Ra=function(t){this.Fc.push(new m(this.Zd,t));};c.prototype.Bsb=function(t){this.Fc.push(new g(t));};c.prototype.Csb=function(t){this.Fc.push(new d(this.Zd,t));};c.prototype.Xsb=function(t){this.Fc.push(new k(this.jc,t));};c.prototype.Isb=function(t){this.Fc.push(new f(t));};c.prototype.Zsb=function(t){this.Fc.push(new l(t));};c.prototype.Lg=function(){return this.Fc;};u=c;u=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(a.Zg)),r.__param(1,(0,p.l)(q.bh))],u);b.iHa=u;},76989:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q){this.Ea=n;this.rn=p;this.Sqa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;r=a(5163);l=a(29045);f=a(22674);k=a(51742);d=a(81918);g=a(36410);m=a(87386);h=a(98895);c.prototype.$a=function(n,p,q,u,t){q=void 0 === q?this.rn:q;return p?new k.YKa(this.Ea,this.Sqa,q,p,n):t?new h.xAa(this.Ea,this.Sqa,q,n,u || "",t):new l.TI(this.Ea,this.Sqa,q,n);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.Lc)),r.__param(1,(0,f.l)(g.UI)),r.__param(2,(0,f.l)(m.pda))],a);b.sHa=a;},29045:function(r,b,a){var l,f,k;function c(d,g,m,h){this.Ea=d;this.i3=g;this.rn=m;this.Gm=void 0 === h?"General":h;this.Xja={};}Object.defineProperty(b,"__esModule",{value:!0});b.TI=void 0;l=a(87386);f=a(90694);k=a(37960);c.prototype.ORa=function(d,g){this.Xja[d]=g;};c.prototype.fatal=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.wA(l.dj.Pjb,d,this.HO(d,m));};c.prototype.error=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.wA(l.dj.Bk,d,this.HO(d,m));};c.prototype.warn=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.wA(l.dj.yfa,d,this.HO(d,m));};c.prototype.info=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.wA(l.dj.Wca,d,this.HO(d,m));};c.prototype.trace=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.wA(l.dj.HNa,d,this.HO(d,m));};c.prototype.debug=function(d,g){for(var m=1;m < arguments.length;++m){;}!1;};c.prototype.log=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.debug.apply(this,[d].concat(ca(m)));};c.prototype.write=function(d,g,m){for(var h=[],n=2;n < arguments.length;++n){h[n - 2]=arguments[n];}this.wA(d,g,this.HO(g,h));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Gm};};c.prototype.O3=function(d){return new c(this.Ea,this.i3,this.rn,d);};c.prototype.wA=function(d,g,m){d=new f.oda(d,this.Gm,this.Ea.Ib(),g,m);g=la(this.rn.rn);for(m=g.next();!m.done;m=g.next()){m=m.value;m(d);}};c.prototype.GIb=function(d){return 0 < Object.keys(this.Xja).length?[this.Xja].concat(ca(d)):d;};c.prototype.HO=function(d,g){var m;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (m=Error("Empty message").stack) && void 0 !== m?m:"nostack"});return (0,k.LTa)(this.i3,this.GIb(g));};b.TI=c;},80401:function(r,b,a){var l;function c(){this.qcb={};this.rn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(5163);a=a(22674);c.prototype.U9=function(f,k){k && (this.qcb[f]=k,this.rn=Object.values(this.qcb));};l=c;l=r.__decorate([(0,a.T)()],l);b.tHa=l;},51742:function(r,b,a){var l,f,k;function c(d,g,m,h,n){d=k.TI.call(this,d,g,m,n) || this;d.j=h;(0,l.io)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;l=a(66523);f=a(90694);k=a(29045);fa(c,k.TI);c.prototype.O3=function(d){return new c(this.Ea,this.i3,this.rn,this.j,d);};c.prototype.wA=function(d,g,m){d=new f.oda(d,this.Gm,this.Ea.Ib(),g,m,this.j.index);g=la(this.rn.rn);for(m=g.next();!m.done;m=g.next()){m=m.value;m(d,this.j);}};b.YKa=c;},56371:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.D6a=void 0;r=a(22674);c=a(76193);l=a(25857);b.D6a=new r.dd(function(f){f(c.xIa).to(l.wIa).ga();});},76193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xIa="MomentObserverFactory";},25857:function(r,b,a){var l,f,k;function c(d){this.xc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;r=a(5163);l=a(22674);f=a(89350);a=a(53085);c.prototype.TVa=function(d,g){return new f.yIa(this.xc,d,g);};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Th))],k);b.wIa=k;},89350:function(r,b){function a(c,l,f){this.xc=c;this.config=l;this.getTime=f;}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;a.prototype.observe=function(c,l){var f;f=this;this.cancel();this.Yi=this.xc.xH(this.config.E0a(),function(){f.getTime() >= c && (f.cancel(),l());});};a.prototype.cancel=function(){this.Yi && (this.Yi.cancel(),this.Yi=void 0);};b.yIa=a;},64274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wRb=b.qM=b.uRb=void 0;b.uRb=function(a){return a;};b.qM=function(a){return a;};b.wRb=function(a){return Object.assign({},a);};},33194:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.O=void 0;r=a(22674);c=a(2911);l=a(93488);f=a(12242);k=a(71807);d=a(25830);g=a(49310);b.O=new r.dd(function(m){m(c.bfa).to(f.UMa).ga();m(l.QMa).to(k.PMa).ga();m(d.cOa).to(g.bOa).ga();});},93488:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QMa="SegmentConfigFactorySymbol";},2911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bfa="SegmentManagerFactorySymbol";},25830:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cOa="TransitionLoggerSymbol";},61494:function(r,b,a){var k,d,g,m;function c(h,n,p,q,u,t,v){var w;w=this;this.Y=n;this.j=p;this.CM=q;this.xc=u;this.eK=t;this.config=v;this.rK=function(){w.jC && (w.jC.cancel(),w.jC=void 0);};this.log=h.$a("SegmentManager",this.j);this.O=new Map();this.j.bb.rg && (this.j.addEventListener(g.ha.yH,function(y){return w.Pv(y);}),this.j.addEventListener(g.ha.closed,this.rK));}function l(h,n){this.id=h;this.Hja=n;}function f(h,n,p,q){return d.Mc.call(this,h,p,void 0,void 0,void 0,n,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;k=a(36129);d=a(31149);g=a(85001);m=a(5021);fa(f,d.Mc);f.prototype.toString=function(){return this.code + "-" + this.ec + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.ta,contentEndPts:this.va};};Ya.Object.defineProperties(l.prototype,{ta:{configurable:!0,enumerable:!0,get:function(){return this.Hja.startTimeMs;}},va:{configurable:!0,enumerable:!0,get:function(){return this.Hja.endTimeMs;}},Ly:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Hja.next);}}});c.prototype.Pv=function(h){var n;n=this;!1;h=h.position.segmentId;0 === this.O.size && Object.entries(this.j.ET()).forEach(function(p){var q;q=la(p);p=q.next().value;q=q.next().value;n.O.set(p,new l(p,q));});this.aa=this.O.get(h);};c.prototype.play=function(h){this.qN && (this.qN=void 0);this.rK();this.log.trace("Playing segment",h);return this.q3a(h)?this.XWb(h):this.oW(h);};c.prototype.pN=function(h){this.log.trace("Queueing segment",h);return this.q3a(h)?this.hZb(h):this.iZb(h);};c.prototype.bj=function(h,n){var p,q;p=this;q=this.j.cb;if(null === q || void 0 === q || !q.Bh)return Promise.reject(this.getError(k.U.XAa,"ASE session manager is not yet initialized",k.S.Qba,{segmentId:h,updates:n}));this.log.trace("Updating next segment weights",h,n);return new Promise(function(u,t){try{q.$6b(h,n);p.j.fireEvent(g.ha.Jya,{I:h,F7b:n});u();}catch(v){t(p.getError(k.U.XAa,"updateNextSegmentWeights threw an exception",k.S.yhb,{segmentId:h,updates:n,error:v}));}});};c.prototype.q3a=function(h){return this.aa?void 0 !== this.j.ET()[this.aa.id].next[h]:!1;};c.prototype.foa=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.Bh)return h.$n().eXb;};c.prototype.KKb=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.Bh)return h.$n().id;};c.prototype.DIb=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.Bh)return (h={Via:0},h.Via);};c.prototype.XWb=function(h){var n,p;n=this;p=this.j.cb;return null !== p && void 0 !== p && p.Bh?this.aa && 1 === this.aa.Ly.length?this.oW(h):this.j.Td?void 0 === this.DIb()?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.oW(h)):new Promise(function(q,u){var x,z,A,B,C,D;function t(){!A && z && x && (D.cancel(),A=!0,n.log.trace("Telling ASE to choose the next segment",{id:h,stopped:z,repositioned:x,completed:A}),p.s3(h,!1)?(q(),A=!0):(A=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),n.oW(h).then(q).catch(u)));}function v(){x=!0;n.log.trace("Player is repositioned",{id:h,stopped:z,repositioned:x,completed:A});n.j.removeEventListener(g.ha.Ej,v);t();}function w(){n.j.removeEventListener(g.ha.BC,w);p.stop();}function y(){z=!0;n.log.trace("ASE is stopped",{id:h,stopped:z,repositioned:x,completed:A});p.removeEventListener("stop",y);t();}x=!1;z=!1;A=!1;B=n.O.get(h);C=n.foa();if(void 0 === C)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),n.oW(h));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:C,currentSegment:n.aa,nextSegment:B},null,"  "));n.j.fireEvent(g.ha.y8,{hh:n.aa && n.aa.id,HM:h});p.addEventListener("stop",y);n.j.addEventListener(g.ha.BC,w);n.j.addEventListener(g.ha.Ej,v);D=n.xc.nk((0,m.uh)(10),function(){A=!0;D.cancel();u(n.getError(k.U.YO,"Timed out waiting for the player to be repositioned and ASE to be stopped",k.S.uhb,{id:h,stopped:z,repositioned:x,completed:A}));});n.Y.seek(C,g.Ac.kJ);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(k.U.YO,"MediaPresenter is not initialized",k.S.vhb,{id:h}))):Promise.reject(this.getError(k.U.YO,"ASE session manager is not yet initialized",k.S.Qba,{id:h}));};c.prototype.oW=function(h){var n;n=this.O.get(h);return n?this.hX(n,k.U.YO):Promise.reject(this.getError(k.U.YO,"Unable to find the separated segment",k.S.WAa,{id:h}));};c.prototype.hZb=function(h){var n;n=this.j.cb;if(null === n || void 0 === n || !n.Bh)return Promise.reject(this.getError(k.U.ZO,"ASE session manager is not yet initialized",k.S.Qba,{id:h}));this.j.fireEvent(g.ha.y8,{hh:this.aa && this.aa.id,HM:h});if(n.s3(h,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.WWa(h);};c.prototype.iZb=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.P,srcsegment:this.KKb()});return this.WWa(h);};c.prototype.WWa=function(h){var n,p;n=this;if(this.qN)return Promise.reject(this.getError(k.U.ZO,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",k.S.xhb,{currentSegment:this.aa?this.aa.id:void 0,queuedSegment:this.qN.id,failedSegment:h}));if(!this.aa)return Promise.reject(this.getError(k.U.ZO,"Unable to queue segment for delayed seek because there is no currently playing segment",k.S.thb,{nextSegmentid:h}));p=this.O.get(h);if(!p)return Promise.reject(this.getError(k.U.ZO,"Unable to find the separated segment",k.S.WAa,{nextSegmentid:h,currentSegmentId:this.aa.id}));this.qN={id:h,promise:new Promise(function(q,u){var t;n.jC=n.CM.TVa({E0a:function(){return (0,m.Ob)(100);}},function(){return n.Y.Yq() || 0;});t=n.foa() - n.config().A6a;n.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:t});n.jC.observe(t,function(){n.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:n.aa.id,playerEndPts:n.foa(),pts:t});n.qN=void 0;n.rK();n.hX(p,k.U.ZO).then(q).catch(u);});})};this.qN.promise.catch(function(q){n.j.pd(q.code,q);});return Promise.resolve();};c.prototype.hX=function(h,n){var p;p=this;return new Promise(function(q,u){var t;try{t=h.ta;!1;p.Y.seek(t,g.Ac.Zw);q();}catch(v){u(p.getError(n,"Seek threw an exception",k.S.whb,{id:h.id,error:v}));}});};c.prototype.getError=function(h,n,p,q){this.log.warn(n,q);return new f(h,n,p,q);};b.oBa=c;},71807:function(r,b,a){var f,k;function c(){}function l(d,g,m,h,n){this.debug=d;this.version=g;this.GPb=m;this.UWb=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.PMa=void 0;r=a(5163);f=a(22674);k=a(5021);l.prototype.tJb=function(){return this.config().XF;};l.prototype.mna=function(){return this.config().yTa;};l.prototype.E0a=function(){return (0,k.Ob)(this.config().vXb);};l.prototype.c0a=function(){return this.config().SQb;};l.prototype.f0a=function(){return this.config().HRb;};c.prototype.HF=function(d,g,m,h,n){return new l(d,g,m,h,n);};a=c;a=r.__decorate([(0,f.T)()],a);b.PMa=a;},12242:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w;function c(y,x,z,A,B,C,D,F,G,E,H){this.Ea=y;this.yf=x;this.CM=z;this.cza=A;this.pW=B;this.xc=C;this.eK=D;this.rh=F;this.cma=G;this.xh=E;this.config=H;}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(76193);g=a(79274);m=a(51038);h=a(58872);n=a(64181);p=a(61494);q=a(24550);u=a(53085);t=a(95947);v=a(74870);a=a(4203);c.prototype.XAb=function(y,x,z){return new n.VMa(this.Ea,this.yf,this.CM,this.cza,x,y,this.rh,this.pW,this.xh,this.cma,z);};c.prototype.tAb=function(y,x){return new p.oBa(this.yf,y,x,this.CM,this.xc,this.eK,this.config);};w=c;w=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.ab)),r.__param(2,(0,l.l)(d.xIa)),r.__param(3,(0,l.l)(h.EOa)),r.__param(4,(0,l.l)(m.UKa)),r.__param(5,(0,l.l)(u.Th)),r.__param(6,(0,l.l)(q.WO)),r.__param(7,(0,l.l)(g.hQ)),r.__param(8,(0,l.l)(t.qP)),r.__param(9,(0,l.l)(v.bh)),r.__param(10,(0,l.l)(a.Xb))],w);b.UMa=w;},64181:function(r,b,a){var d,g,m;function c(h,n,p,q,u,t,v,w,y,x,z){var A;A=this;this.Ea=h;this.CM=p;this.bua=q;this.config=u;this.rb=t;this.rh=v;this.pW=w;this.xh=y;this.Rj=z;this.AFb=Object.values(d.Ka).map(function(B){return {event:B,xv:function(C){return A.Hb.Dc(B,C);}};});this.Hb=x.create();this.xC=[];this.log=n.$a("SegmentManager");this.yF=!0;this.mk=this.xh.createElement("div",m.Oea);}function l(h,n,p,q,u,t,v,w,y,x,z){var A;A=this;this.log=h;this.config=n;this.yUb=p;this.bua=q;this.rh=u;this.pW=t;this.Ut=v;this.v=w;this.mk=y;this.rb=x;this.Rj=z;this.rK=function(){A.jC && (A.jC.cancel(),A.jC=void 0);};this.Ioa=function(B){A.log.trace("Received the transition event",{movieId:B.P});A.tZb();};this.Lqa=function(){};this.log.debug("Constructing session data",f(w));this.N5b=new Promise(function(B){A.tZb=B;});}function f(h){return {movieId:h.P};}function k(h){return JSON.stringify({movieId:h.P,startPts:h.fb,logicalEnd:h.Si,params:h.ub?{trackingId:h.ub.Pj,authParams:h.ub.W2,sessionParams:h.ub.cm,disableTrackStickiness:h.ub.mla,uiPlayStartTime:h.ub.TC,loadImmediately:h.ub.E7,playbackState:h.ub.playbackState?{currentTime:h.ub.playbackState.currentTime,volume:h.ub.playbackState.volume,muted:h.ub.playbackState.muted,playbackRate:h.ub.playbackState.playbackRate}:void 0,pin:h.ub.G8a,heartbeatCooldown:h.ub.Uoa,uiLabel:h.ub.zd,uxLabels:h.ub.Paa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.VMa=void 0;d=a(85001);g=a(5021);m=a(33096);l.prototype.load=function(h){var n,p;n=this;this.log.trace("Loading new segment",f(this.v));this.Y=this.bua.CK(this.config,this.pW,this.rh,this.v,this.rb,this.Rj);this.Y.addEventListener(d.Ka.QL,function(q){n.log.trace("Segment is inactive",f(n.v));n.Ut.close(n.rh(q.errorCode));});this.Y.addEventListener(d.Ka.closed,this.rK);if(h)(this.log.debug("Pausing background segment",f(this.v)),this.Y.addEventListener(d.Ka.dqa,this.Ioa),this.Y.x8a());else {this.mk.appendChild(this.Y.Um());p=function(q){n.Ioa(q);n.Y.removeEventListener(d.Ka.loaded,p);};this.Y.addEventListener(d.Ka.loaded,p);}};l.prototype.observe=function(){var h,n,p;h=this;this.log.trace("Observing segment",k(this.v));if(this.jC)this.log.trace("Segment is currently observing",f(this.v));else if(this.v.ub && this.v.ub.E7)this.Lqa(this);else {n=this.yUb.TVa(this.config,function(){var q;if(h.Y){q=h.Y.Yq();if(q)return q;}return 0;});p=this.nwb(this.v);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){h.log.trace("Segment has reached its loading point",f(h.v));h.Lqa(h);h.rK();});}};l.prototype.close=function(h){this.log.info("Closing segment",{segment:k(this.v),error:h});return this.Y?(this.Y.removeEventListener(d.Ka.dqa,this.Ioa),this.Y.close(h)):Promise.resolve();};l.prototype.yVb=function(h){this.Lqa=h;};l.prototype.nwb=function(h){var n,p;n=h.Si;h=h.ub?h.ub.E7:!1;p=0;n && !h && (p=n - this.config.c0a(),p < this.config.f0a() && (h=n - this.config.f0a(),p=n - h / 2));return p;};c.prototype.SKb=function(){return this.Mg && this.Mg.Y?this.Mg.Y.Bv():!1;};c.prototype.Um=function(){return this.mk;};c.prototype.QF=function(){if(!this.Mg || !this.Mg.Y)throw Error("Player not ready");return this.Mg.Y;};c.prototype.u7b=function(h){var n,p;p=this.Ama(h);p?this.kfb(p,h):this.rb.ee(h.id) || this.log.error("Tried to update a non-existent segment",{segment:k(h),currentMovieId:this.Mg.v.P,queuedMovieIds:this.xC.map(function(q){return q.v.P;}),xid:null === (n=this.Mg.Y) || void 0 === n?void 0:n.kt()});};c.prototype.Ce=function(h){var n;this.log.info("Adding segment",k(h));if(this.yF){this.log.trace("First segment, loading",f(h));n=this.Q4a(h);this.yF=!1;}else (this.log.trace("Subsequent segment, caching",f(h)),(n=this.Ama(h))?this.kfb(n,h):(n=this.createSession(h),this.xC.push(n),this.Mg.observe()));return n?n.N5b:null;};c.prototype.transition=function(h,n){var p,q,u;q=this.LG;u=null === q || void 0 === q?void 0:q.Y;if(q && u)return (this.LG=void 0,this.log.info("Transitioning segment",k(q.v)),u.Vwa(this.Ea.Ib().ca(g.pa)),this.veb(q,n));n=null === q || void 0 === q?void 0:q.v;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Mg.v.P,xid:null === (p=this.Mg.Y) || void 0 === p?void 0:p.kt(),nextSegmentId:h,currentSegment:k(this.Mg.v),nextSegment:n?k(n):void 0,queuedMovieIds:this.xC.map(function(t){return t.v.P;})});return Promise.reject();};c.prototype.close=function(h){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(f(this.Mg.v)),nextSession:this.LG?JSON.stringify(f(this.LG.v)):void 0});h=[this.Mg.close(h)];this.LG && h.push(this.LG.close());return Promise.all(h).then(function(){n.LG=void 0;n.xC=[];n.yF=!0;});};c.prototype.addListener=function(h,n,p){this.Hb.addListener(h,n,p);};c.prototype.removeListener=function(h,n){this.Hb.removeListener(h,n);};c.prototype.kfb=function(h,n){this.YVb(h.v,n);this.log.trace("Overwrote existing segment data",k(h.v));};c.prototype.Q4a=function(h){var n,p;n=this;this.log.info("Loading the next episode",f(h));if(this.Mg){this.config.mna()[h.P]=h.fb;p=this.Ama(h);}else p=this.createSession(h);if(p)return (this.log.trace("Found the next session",f(h)),p.yVb(function(q){n.Wdb(q);}),this.Mg?(this.log.trace("Subsequent playback, caching player and pausing",f(h)),this.LG=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",f(h)),p.load(!1),this.veb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",f(h));};c.prototype.veb=function(h,n){var p,q,u,t,v;n=void 0 === n?{}:n;t=h.Y?null === (p=h.Y) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=h.Y) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Mg.v.P,mid:h.v.P,error:t,xid:null === (u=h.Y) || void 0 === u?void 0:u.kt()}),Promise.reject());this.log.trace("Playing episode",f(h.v));p=this.Mg;this.Mg=h;h=this.Mg.Y;h.Fwa(!1);this.uI(h,p?p.Y:void 0);if(p && p.Y){v=p.Y.Um();q=h.Um();v.style.display="none";p=p.close();this.mk.appendChild(q);p.then(function(){v.parentElement && v.parentElement.removeChild(v);});q.style.display="block";h.Kaa(n);h.bO();h.play();}return Promise.resolve();};c.prototype.Wdb=function(h){var n,p,q,u,t;if(this.xC.length && h.Y){n=h.Y.Yq();p=this.xC[0];q=this.Mg.v.Si;u=this.Mg.v.ub?this.Mg.v.ub.E7:!1;if(q || u){u?t=0:q && (t=q - this.config.c0a());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",f(p.v)),this.Q4a(p.v),this.xC.splice(0,1),this.Wdb(h));}}};c.prototype.Ama=function(h){return this.Mg.v.P === h.P?this.Mg:this.xC.find(function(n){return n.v.P === h.P;});};c.prototype.YVb=function(h,n){h.fb=n.fb || h.fb;h.Si=n.Si || h.Si;h.ub=n.ub || h.ub;h.W=n.W || h.W;};c.prototype.createSession=function(h){return new l(this.log,this.config,this.CM,this.bua,this.rh,this.pW,this,h,this.mk,this.rb,this.Rj);};c.prototype.uI=function(h,n){this.AFb.forEach(function(p){n && n.removeEventListener(p.event,p.xv);h.addEventListener(p.event,p.xv);});this.Hb.Dc(d.HD.mX);};b.VMa=c;},49310:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.bOa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(3887);c.prototype.KYb=function(d,g,m,h){this.config().C1b && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (m={isBranching:h || void 0,isPlaygraph:!h || void 0,mid:g.P,xid:g.ma,srcxid:m.ma,srcmid:m.P,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!h && d.auxMid && d.auxMid !== g.P && (m.moffms=(0,k.Vf)(g.ES)),g.oM.hb.transition(m)));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xb))],a);b.bOa=a;},24550:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WO=b.mhb=b.rAa=b.tAa=void 0;(function(a){a[a.IDb=0]="downloading";a[a.HDb=1]="downloaded";a[a.WR=2]="appended";a[a.buffered=3]="buffered";a[a.Qt=4]="removed";a[a.ojc=5]="unused";})(b.tAa || (b.tAa={}));(function(a){a[a.waiting=1]="waiting";a[a.Chc=2]="ondeck";a[a.IDb=4]="downloading";a[a.HDb=8]="downloaded";a[a.AU=6]="inprogress";})(b.rAa || (b.rAa={}));b.mhb="AseBufferViewSymbol";b.WO="AseBufferAccountingSymbol";},1891:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){return function(){return new Promise(function(q,u){var t;t=p.kb.get(f.wDa);t.Bb().then(function(){q(t);}).catch(function(v){u(v);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.CXa=void 0;r=a(22674);l=a(2413);f=a(31701);k=a(98281);d=a(24550);g=a(64372);m=a(52476);h=a(14188);n=a(33633);b.CXa=new r.dd(function(p){p(m.fHa).to(h.eHa).ga();p(l.tDa).to(n.gHa);p(d.WO).to(g.pAa).ga();p(f.wDa).to(k.uDa).ga();p(f.vDa).hY(c);});},2413:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tDa="DxDisplaySymbol";},31701:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wDa="DxManagerSymbol";b.vDa="DxManagerProviderSymbol";},52476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fHa="LogDisplayConfigSymbol";},64372:function(r,b,a){var l;function c(){this.h1b="";this.D8b=[[],[],[]];this.La=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.pAa=void 0;r=a(5163);l=a(22674);a(5021);a(24550);c.prototype.update=function(f){this.D8b[f.mediaType].forEach(function(k){k.pjc(f);});};Ya.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.h1b;}}});a=c;a=r.__decorate([(0,l.T)()],a);b.pAa=a;},44133:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;l=a(22365);c.Myb=function(f){var k;if(l.Hg.queryCommandSupported && l.Hg.queryCommandSupported("copy")){k=l.Hg.createElement("textarea");k.textContent=f;k.style.position="fixed";l.Hg.body.appendChild(k);k.select();try{l.Hg.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Hg.body.removeChild(k);}}};b.hCa=c;},98281:function(r,b,a){var l,f;function c(k){this.rDb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=void 0;r=a(5163);l=a(22674);a=a(2413);c.prototype.Bb=function(){var k;k=this;this.FB || (this.FB=new Promise(function(d,g){var m;m=[];k.rDb.forEach(function(h){m.push(h.Bb());});Promise.all(m).then(function(){d();}).catch(function(h){g(h);});}));return this.FB;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.JG)(a.tDa))],f);b.uDa=f;},14188:function(r,b,a){var l,f,k,d,g;function c(m,h){m=k.Ne.call(this,m,"LogDisplayConfigImpl") || this;m.pg=h;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);d=a(83767);a=a(5614);fa(c,k.Ne);Ya.Object.defineProperties(c.prototype,{OW:{configurable:!0,enumerable:!0,get:function(){return !0;}},nM:{configurable:!0,enumerable:!0,get:function(){return this.pg.nM;}},$4a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([f.config(f.ed,"renderDomDiagnostics")],g.prototype,"OW",null);r.__decorate([f.config(f.IB,"logDisplayMaxEntryCount")],g.prototype,"nM",null);r.__decorate([f.config(f.IB,"logDisplayAutoshowLevel")],g.prototype,"$4a",null);g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.wl)),r.__param(1,(0,l.l)(a.fJ))],g);b.eHa=g;},33633:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A;function c(B,C,D,F,G,E,H,M,L,K){var O;O=this;this.sa=B;this.Sf=C;this.xh=D;this.xc=F;this.rn=G;this.config=E;this.lF=H;this.Txa=M;this.Nka=L;this.fl=K;this.w5b=function(){O.uY.Lj(function(){O.update();});};this.clear=function(){O.entries=[];O.update();};this.s6a=function(){O.Ie.$L=!O.Ie.$L;O.ZB && O.bC && (O.Ie.$L?(O.ZB.style.display="inline-block",O.bC.style.display="none"):(O.bC.style.display="inline-block",O.ZB.style.display="none"));O.HH(!1);};this.fRb=function(J){var I;O.entries.push(J);I=O.config.nM;0 <= I && O.entries.length > I && O.entries.shift();void 0 === O.Ie.Fx[J.Gm] && (O.Ie.Fx[J.Gm]=!0,O.HH(!1));O.Ie.isVisible && !O.Kdb?O.w5b():O.uY.Lj();};this.zDb=function(){f.download("all",O.entries.map(function(J){return J.zaa(!1);})).catch(function(J){console.error("Unable to download all logs to the file",J);});};this.GB=!1;this.Ie={isVisible:!1,$L:!0,nla:!0,Tqa:t.dj.Wca,Fx:{}};this.uY=this.Txa((0,p.uh)(1));this.mGb=this.Nka((0,p.Ob)(250));this.entries=[];!1;!1;}function l(B){var C;this.elements=[];C=document.createElementNS(l.SX,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.gHa=void 0;r=a(5163);k=a(22674);d=a(74870);g=a(45842);m=a(34043);h=a(53085);n=a(30869);p=a(5021);q=a(81918);u=a(33554);t=a(87386);v=a(36410);w=a(34126);y=a(52476);x=a(17892);z=a(43193);A=a(44133);f.download=function(B,C){return f.lJb(B).then(function(D){return f.CLb(D,C.join("\r\n")).then(function(F){return f.xDb(F.filename,F.text);});});};f.lJb=function(B){return new Promise(function(C,D){var F,G,E,H,M,L,K;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();H=F.getFullYear().toString();M=F.getHours().toString();L=F.getMinutes().toString();K=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === M.length && (M="0" + M);1 === L.length && (L="0" + L);1 === K.length && (K="0" + K);C(H + E + G + M + L + K + "." + B + ".log");}catch(O){D(O);}});};f.CLb=function(B,C){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){F(G);}});};f.xDb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};l.prototype.aO=function(){var B;B=document.createElementNS(l.SX,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};l.prototype.cO=function(B,C,D){var F;F=document.createElementNS(l.SX,"path");F.setAttribute("d",B);C && F.setAttribute("fill",C);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};l.prototype.DX=function(B,C,D,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(l.SX,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",C.toString());E.setAttribute("height",D.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};l.prototype.W3b=function(){var B;B=document.createElementNS(l.SX,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.Lg=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ya.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},fF:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.SX="http://www.w3.org/2000/svg";c.prototype.Bb=function(){var B;B=this;this.FB || (this.FB=new Promise(function(C){ob.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.Nz.Vkb?B.toggle():D.keyCode == z.Nz.E && A.hCa.Myb(B.lF().bk));});B.rn.U9(w.rda.Gib,B.fRb);C();}));return this.FB;};c.prototype.show=function(){document.body && (this.element || (this.AAb(),this.GB=!0),!this.Ie.isVisible && this.element && (document.body.appendChild(this.element),this.Ie.isVisible=!0,this.update(!0)));};c.prototype.yv=function(){this.GB && this.Ie.isVisible && this.element && (document.body.removeChild(this.element),this.Ie.isVisible=!1);};c.prototype.toggle=function(){this.Ie.isVisible?this.yv():this.show();this.HH(!1);};c.prototype.AAb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.Bo=this.rBb());B.appendChild(this.sBb());B.appendChild(this.uAb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.rBb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.Kdb=!0;B.update();B.Bo && (B.Bo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.Kdb=!1;B.update();B.Bo && (B.Bo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.sBb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.VAb());B.appendChild(this.KAb());B.appendChild(this.FAb());B.appendChild(this.tBb());B.appendChild(this.yAb());B.appendChild(this.bBb());B.appendChild(this.ZAb());B.appendChild(this.GAb());B.appendChild(this.zAb());return B;};c.prototype.uAb=function(){var B,C,D,F,G,E;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.uv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(F);D.addEventListener("mousedown",function(H){H.preventDefault();});E=!1;D.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.Ie.Fx).sort()).forEach(function(H){G.appendChild(B.vAb(H,D));}),G.style.display="block");E=!E;});return C;};c.prototype.vAb=function(B,C){var D,F,G;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.Ie.Fx[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.Ie.Fx).forEach(function(E){D.Ie.Fx[E]="all" === B;}),C.click()):D.Ie.Fx[B]=!D.Ie.Fx[B];D.HH(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.VAb=function(){var B,C;B=this;C=this.createElement("select",this.uv(22,NaN,1,2),'<option value="' + t.dj.Bk + '">Error</option><option value="' + (t.dj.yfa + '">Warn</option><option value="') + (t.dj.Wca + '">Info</option><option value="') + (t.dj.HNa + '">Trace</option><option value="') + (t.dj.K + '">Debug</option>'));C.value=this.Ie.Tqa.toString();C.addEventListener("change",function(D){B.Ie.Tqa=parseInt(D.target.value);B.HH(!0);},!1);return C;};c.prototype.KAb=function(){var C,D;function B(F){return C.mGb.Lj(function(){var G;G=F.target.value;C.Ie.filter=G?new RegExp(G):void 0;C.HH(!0);});}C=this;D=this.createElement("input",this.uv(14,150,1,2));D.value=this.Ie.filter?this.Ie.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.FAb=function(){var B,C,D,F;B=this;C=this.createElement("div",this.uv(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.Ie.nla;D.addEventListener("change",function(G){B.Ie.nla=G.target.checked;B.HH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";C.appendChild(D);C.appendChild(F);return C;};c.prototype.tBb=function(){var B,C,D;B=this;C=this.createElement("button",this.uv());D=new l("0 0 24 24").aO().W3b().end().cO("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.fF,"nonzero").end().end().Lg();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.yAb=function(){var B,C;B=this.createElement("button",this.uv());C=new l("0 0 24 24").aO().DX(0,0,24,24,l.background).end().cO("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.fF).end().end().Lg();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.bBb=function(){var B;this.bC=this.createElement("button",this.uv());this.bC.style.display=this.Ie.$L?"none":"inline-block";B=new l("0 0 24 24").aO().DX(0,0,24,24,l.background).end().cO("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.fF,"nonzero").end().end().Lg();this.bC.addEventListener("click",this.s6a,!1);this.bC.appendChild(B);this.bC.setAttribute("title","Shrink the log console");return this.bC;};c.prototype.ZAb=function(){var B;this.ZB=this.createElement("button",this.uv());this.ZB.style.display=this.Ie.$L?"inline-block":"none";B=new l("0 0 24 24").aO().DX(4,4,16,16,l.background).end().cO("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.fF,"nonzero").end().end().Lg();this.ZB.addEventListener("click",this.s6a,!1);this.ZB.appendChild(B);this.ZB.setAttribute("title","Expand the log console");return this.ZB;};c.prototype.GAb=function(){var B,C;B=this.createElement("button",this.uv());C=new l("0 0 26 26").aO().DX(0,0,24,24,l.background).end().cO("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.fF,"nonzero").end().end().Lg();B.appendChild(C);B.addEventListener("click",this.zDb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.zAb=function(){var B,C,D;B=this;C=this.createElement("button",this.uv());D=new l("0 0 24 24").aO().DX(0,0,24,24,l.background).end().cO("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.fF,"nonzero").end().end().Lg();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.HH=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.OW && Promise.resolve(this.Pvb() + this.mJb().join("\r\n")).then(function(D){C.element && C.Bo && (C.Bo.value=D,C.element.style.cssText=C.Ie.$L?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.xc.nk(p.Ga,function(){C.Bo.scrollTop=C.Bo.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.mJb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.Ie.Tqa && B.Ie.Fx[D.Gm] && (D=D.zaa(!B.Ie.nla),B.Ie.filter && !B.Ie.filter.test(D) || C.push(D));});return C;};c.prototype.Pvb=function(){var B;B=this.lF();return "Version: 6.0042.952.911 \n" + ((B?"Esn: " + B.bk:"") + "\nJsSid: ") + (this.Sf.id + ", Epoch: " + this.sa.de.ca(p.sm) + ", Start: " + this.Sf.wy.ca(p.sm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,F){return this.xh.createElement(B,C,D,F);};c.prototype.uv=function(B,C,D,F){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + l.fF + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.g4b="logDxDisplay";a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(n.bg)),r.__param(1,(0,k.l)(q.Lc)),r.__param(2,(0,k.l)(d.bh)),r.__param(3,(0,k.l)(h.Th)),r.__param(4,(0,k.l)(v.UI)),r.__param(5,(0,k.l)(y.fHa)),r.__param(6,(0,k.l)(u.Gw)),r.__param(7,(0,k.l)(g.MD)),r.__param(8,(0,k.l)(m.HZ)),r.__param(9,(0,k.l)(x.zw))],a);b.gHa=a;},72574:function(r,b,a){var f;function c(){return f.vQ.apply(this,arguments) || this;}function l(k){return new f.gs(k,b.dD);}Object.defineProperty(b,"__esModule",{value:!0});b.Ga=b.oIa=b.hda=b.Wr=b.dD=b.ySb=b.PPb=b.wa=b.Jq=b.Zhb=void 0;f=a(35201);fa(c,f.vQ);b.Zhb=c;b.Jq=l;b.wa=function(k){return new f.gs(k,b.Wr);};b.PPb=function(k){return new f.gs(k,b.hda);};b.ySb=function(k){return new f.gs(k,b.oIa);};b.dD=new c(1,"b");b.Wr=new c(8 * b.dD.ag,"B",b.dD);b.hda=new c(1024 * b.Wr.ag,"KB",b.dD);b.oIa=new c(1024 * b.hda.ag,"MB",b.dD);b.Ga=l(0);},5021:function(r,b,a){var f;function c(){return f.vQ.apply(this,arguments) || this;}function l(k){return new f.gs(k,b.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.Ga=b.uFa=b.Kda=b.sm=b.pa=b.BD=b.timestamp=b.WMb=b.o8=b.uh=b.Ob=b.l9a=b.GSb=b.aob=void 0;f=a(35201);fa(c,f.vQ);b.aob=c;b.GSb=function(k){return new f.gs(k,b.BD);};b.l9a=function(k){return new f.gs(k * b.sm.ag,b.BD);};b.Ob=l;b.uh=function(k){return new f.gs(k,b.sm);};b.o8=function(k){return new f.gs(k,b.Kda);};b.WMb=function(k){return new f.gs(k,b.uFa);};b.timestamp=function(k){return l(k);};b.BD=new c(1,"\u03bcs");b.pa=new c(1E3,"ms",b.BD);b.sm=new c(1E3 * b.pa.ag,"s",b.BD);b.Kda=new c(60 * b.sm.ag,"min",b.BD);b.uFa=new c(60 * b.Kda.ag,"hr",b.BD);b.Ga=l(0);},35201:function(r,b,a){var f;function c(k,d){this.ag=d;this.Cy=Math.floor(k);this.display=this.Cy + " " + this.ag.name;}function l(k,d,g){this.ag=k;this.name=d;this.qp=g?g:this;(0,f.io)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.gs=b.vQ=void 0;f=a(66523);l.prototype.fT=function(k){return this.ag == k.ag;};l.prototype.toJSON=function(){return this.name;};b.vQ=l;c.prototype.ca=function(k){return this.ag.fT(k)?this.Cy:Math.floor(this.Cy * this.ag.ag / k.ag);};c.prototype.k9a=function(k){return this.ag.fT(k)?this.Cy:this.Cy * this.ag.ag / k.ag;};c.prototype.as=function(k){return new c(this.ca(k),k);};c.prototype.to=function(k){return new c(this.ca(k),k);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Cy,units:this.ag.name};};c.prototype.add=function(k){return this.$Ua(k);};c.prototype.qa=function(k){return this.$Ua(k,function(d){return -d;});};c.prototype.scale=function(k){return new c(this.ca(this.ag.qp) * k,this.ag.qp);};c.prototype.Lk=function(k){return this.ca(this.ag.qp) - k.ca(this.ag.qp);};c.prototype.fT=function(k){return 0 == this.Lk(k);};c.prototype.K3a=function(){return 0 == this.Cy;};c.prototype.Wpa=function(){return 0 > this.Cy;};c.prototype.z3a=function(){return 0 < this.Cy;};c.prototype.$Ua=function(k,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ca(this.ag.qp) + d(k.ca(this.ag.qp)),this.ag.qp);};b.gs=c;},4203:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.om={mec:"casttv",Ija:"chrome",sec:"chromecast",Ap:"edge",HXa:"edgeoss",kZa:"firefox",lgc:"ie",opera:"opera",Iab:"safari",Hdb:"tesla"};b.zn={eia:"android",W2a:"ios",CUa:"chromeos",G4a:"linux",h5a:"mac",nza:"windows"};b.P_={oyb:"computer",phone:"phone",f5b:"tablet"};b.Xb="ConfigSymbol";},12501:function(r,b,a){var k,d,g;function c(m){return function(h,n){return h.Wua(n,m);};}function l(m,h){return m.L9.fZb[h] || f(m,h);}function f(m,h){m=m.ny.data[h];switch(typeof m){case "undefined":break;case "string":case "number":case "boolean":return m.toString();default:return JSON.stringify(m);}}Object.defineProperty(b,"__esModule",{value:!0});b.HE=b.eva=b.object=b.nFb=b.url=b.wa=b.ik=b.xya=b.lOb=b.iO=b.string=b.pz=b.ed=b.IB=b.config=void 0;k=a(72574);d=a(5021);g=a(37187);b.config=function(m,h,n){n=void 0 === n?!1:n;return function(p,q,u){var t,v;t=void 0 !== h?h:q;v=u.get;void 0 !== v && (u.get=function(){var w;if(!this.ePb(q))return this.$Kb(q);a:{w=(this.stb || n?l:f)(this,t.toString());if(void 0 !== w)if((w=m(this.QV,w),w instanceof g.No))this.zZa(t,w);else break a;w=v.bind(this)();}this.Lva(q,w);return w;});return u;};};b.IB=function(m,h){return m.i$a(h);};b.ed=function(m,h){return m.Tua(h);};b.pz=function(m,h){return m.$p(h);};b.string=function(m,h){return m.Wua(h);};b.iO=function(m,h){return m.Dj(h,b.string);};b.lOb=function(m,h){return m.Dj(h,b.IB);};b.xya=function(m,h){return m.Dj(h,b.pz);};b.ik=function(m,h){m=m.$p(h);return m instanceof g.No?m:(0,d.Ob)(m);};b.wa=function(m,h){m=m.$p(h);return m instanceof g.No?m:(0,k.wa)(m);};b.url=c(/^\S+$/);b.nFb=function(m){return function(h,n){return h.h$a(n,m);};};b.object=function(){return function(m,h){return m.j$a(h);};};b.eva=c;b.HE=function(m,h){return function(n,p){return n.Dj(p,m,h);};};},83767:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cca="ConfigurableInputsSymbol";b.wl="ValidatingConfigurableInputsSymbol";b.sZ="ConfigNameSymbol";b.DP="InitParamsSymbol";},34231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wn=b.wu=b.Jw=void 0;(function(a){a[a.LNa=0]="Test";a[a.pGa=1]="Int";a[a.Rnb=2]="Staging";a[a.hnb=3]="Prod";})(b.Jw || (b.Jw={}));(function(a){a[a.iQ=0]="PreferMsl";a[a.KLa=1]="PreferNoMsl";a[a.Qlb=2]="NoMsl";})(b.wu || (b.wu={}));b.wn="GeneralConfigSymbol";},5614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fJ="PlatformConfigDefaultsSymbol";},27081:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.nea=void 0;c=a(5021);l=a(72574);f=a(75568);k={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.nea=function(){this.Awa=!0;this.JE=[];this.yk=[];this.mr=[];this.TK=!1;this.Ela=!0;this.au=[f.um.ekb,f.um.eca,f.um.Bnb,f.um.YI];this.Ul=void 0;this.Pla=!0;this.H4=!1;this.G2=(0,l.wa)(288E4);this.J2=(0,l.wa)(335544320);this.I2=(0,l.wa)(1E4);this.Ey=(0,c.Ob)(15E3);this.URb=(0,l.wa)(6291456);this.nM=1E3;this.pja=!0;this.xaa=k;this.rO=(0,l.wa)(0);this.A6=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.B6=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.w7=["th","ta"];this.Aaa=(0,c.Ob)(0);this.qU=!0;this.Maa=!1;this.WK=!0;this.pI=this.eB=this.hv=!1;this.dF=["start"];};},52033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EKa="PlatformConfigOverridesSymbol";},83810:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(22674);c=a(4203);l=a(80217);f=a(83767);k=a(34231);d=a(33823);g=a(48004);m=a(40158);h=a(69484);n=a(34731);p=a(23563);q=a(18135);b.config=new r.dd(function(u){u(c.Xb).Xd(function(){return function(){return ob._cad_global.config;};});u(f.cca).to(l.oCa).ga();u(f.wl).to(l.yOa).ga();u(f.DP).to(l.lGa).ga();u(k.wn).to(d.zEa).ga();u(g.MIa).to(m.LIa).ga();u(h.tEa).to(n.sEa).ga();u(p.oq).to(q.QDa).ga();});},64174:function(r,b,a){var f,k,d,g;function c(m,h){var n;n=g.call(this,m,h) || this;n.sVa=h;n.debug=m.debug;n.la=m.yf.$a(n.sVa);return n;}function l(m,h){this.sVa=h;this.Dua={};this.ny=m.ny;this.QV=m.QV;this.L9=m.L9;}Object.defineProperty(b,"__esModule",{value:!0});b.Ne=b.$O=b.GNa=void 0;r=a(5163);f=a(72465);k=a(22674);d=a(37187);b.GNa="isTestAccount";l.prototype.zZa=function(){};l.prototype.Lva=function(m,h){this.Dua[m]=[h,this.ny.i$];};l.prototype.ePb=function(m){return f.Vda.of(this.Dua[m]).map(function(h){return h[1];}).or(-1) < this.ny.i$;};l.prototype.$Kb=function(m){return f.Vda.of(this.Dua[m]).map(function(h){return h[0];}).or(function(){throw Error("Invalid State Error");});};Ya.Object.defineProperties(l.prototype,{stb:{configurable:!0,enumerable:!0,get:function(){var m,h;if(this && this.ny && this.ny.data){m=this.ny.data[b.GNa];"undefined" !== typeof m && (h=m.toString());m=this.QV.Tua(h);m=m instanceof d.No?!1:m;}else m=!1;return m;}}});g=l;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.un)()),r.__param(1,(0,k.un)())],g);b.$O=g;fa(c,g);c.prototype.zZa=function(m,h){this.la.error("Invalid configuration value.",{name:m},h);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,k.un)()),r.__param(1,(0,k.un)())],a);b.Ne=a;},80217:function(r,b,a){var k,d,g,m,h;function c(){this.Tx={};this.Bab=0;}function l(n,p,q,u,t){this.debug=n;this.ny=p;this.QV=q;this.yf=u;this.L9=t;}function f(n,p,q){this.ny=n;this.QV=p;this.L9=q;}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=b.yOa=b.oCa=void 0;r=a(5163);k=a(22674);d=a(90597);g=a(87386);m=a(37187);h=a(17842);a=a(83767);f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.DP)),r.__param(1,(0,k.l)(m.S0)),r.__param(2,(0,k.l)(h.Lea))],f);b.oCa=f;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.Dw)),r.__param(1,(0,k.l)(a.DP)),r.__param(2,(0,k.l)(m.S0)),r.__param(3,(0,k.l)(g.ab)),r.__param(4,(0,k.l)(h.Lea))],l);b.yOa=l;c.prototype.DSb=function(n){this.Tx=Object.assign({},this.Tx,n);this.Bab++;};Ya.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Tx;}},i$:{configurable:!0,enumerable:!0,get:function(){return this.Bab;}}});a=c;a=r.__decorate([(0,k.T)()],a);b.lGa=a;},33823:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u){p=d.Ne.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.pg=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=b.dL=void 0;r=a(5163);l=a(5021);f=a(22674);k=a(12501);d=a(64174);g=a(34231);m=a(83767);a=a(5614);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.dL=function(p,q){return p.h$a(h[q] || q,g.Jw);};fa(c,d.Ne);Ya.Object.defineProperties(c.prototype,{dL:{configurable:!0,enumerable:!0,get:function(){return g.Jw.hnb;}},Ucb:{configurable:!0,enumerable:!0,get:function(){return (0,l.uh)(8);}},XF:{configurable:!0,enumerable:!0,get:function(){return "";}},qK:{configurable:!0,enumerable:!0,get:function(){return "";}},pY:{configurable:!0,enumerable:!0,get:function(){return "";}},E2:{configurable:!0,enumerable:!0,get:function(){return !0;}},qU:{configurable:!0,enumerable:!0,get:function(){return this.pg.qU;}},DFb:{configurable:!0,enumerable:!0,get:function(){return !1;}},od:{configurable:!0,enumerable:!0,get:function(){return {};}},gqa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Qr:{configurable:!0,enumerable:!0,get:function(){return !1;}},bT:{configurable:!0,enumerable:!0,get:function(){return !0;}},KC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},$x:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.Jw.LNa,g.Jw.pGa].indexOf(this.dL);}}});n=c;r.__decorate([k.config(b.dL,"environment")],n.prototype,"dL",null);r.__decorate([k.config(k.ik,"storageTimeout")],n.prototype,"Ucb",null);r.__decorate([k.config(k.string,"groupName")],n.prototype,"XF",null);r.__decorate([k.config(k.string,"canaryGroupName",!0)],n.prototype,"qK",null);r.__decorate([k.config(k.string,"uiGroupName")],n.prototype,"pY",null);r.__decorate([k.config(k.ed,"applyIndexedDbOpenWorkaround")],n.prototype,"E2",null);r.__decorate([k.config(k.ed,"ignoreIdbOpenError")],n.prototype,"qU",null);r.__decorate([k.config(k.ed,"executeStorageMigration")],n.prototype,"DFb",null);r.__decorate([k.config(k.object(),"browserInfo")],n.prototype,"od",null);r.__decorate([k.config(k.ed,"isTestAccount")],n.prototype,"gqa",null);r.__decorate([k.config(k.ed,"useRangeHeader")],n.prototype,"Qr",null);r.__decorate([k.config(k.ed,"enableMilestoneEventList")],n.prototype,"bT",null);r.__decorate([k.config(k.object,"storageRules")],n.prototype,"KC",null);n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.wl)),r.__param(1,(0,f.l)(a.fJ)),r.__param(2,(0,f.l)(m.sZ)),r.__param(2,(0,f.optional)())],n);b.zEa=n;},41605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YBa="CapabilityDetectorFactorySymbol";},22210:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ud=void 0;b.ud=a;a.WEa=/^hevc-/;a.XEa=/^hevc-main/;a.UEa=/^hevc-hdr-|hevc-dv/;a.OI=/^hevc-hdr-/;a.ru=/^hevc-dv/;a.sP=/h264mpl/;a.lD=/h264mpl30/;a.mD=/h264mpl31/;a.Dz=/h264hpl.*-dash$/;a.Eza=/h264hpl.*-live$/;a.Yz=/^vp9-/;a.Ei=/^av1-/;a.Qjb=/[l|L]4[0-1]-/;a.pJ=/-L5[0-1]-/;a.DGa=/-live/;a.kba=/^heaac-2-/;a.$jb=/^heaac-2hq-dash/;a.ex=/^xheaac-dash/;a.xib=/ddplus-2/;a.yib=/ddplus-5/;a.zib=/ddplus-atmos/;},73796:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cd=void 0;l=a(56800);c.kWa=function(f){var k;k={};k[l.Oe.lQ]=c.sP;k[l.Oe.e_]=c.sP;k[l.Oe.pJ]=c.d_;k[l.Oe.OI]=c.OI;k[l.Oe.ru]=f || c.ru;k[l.Oe.Dz]=c.sP;k[l.Oe.Yz]=c.wQ;k[l.Oe.Ei]=c.Ei;return k;};b.cd=c;c.Ura='video/mp4; codecs="avc1.4d0028"';c.sP="avc1.4d0028";c.d_="hev1.1.6.L93.B0";c.gca="dvhe.05.01";c.JCa="dvhe.05.04";c.hca="dvhe.05.05";c.ica="dvhe.05.06";c.jca="dvhe.05.07";c.kca="dvhe.05.09";c.ru=c.gca;c.OI=c.d_;c.kba="mp4a.40.2";c.ex="mp4a.40.42";c.wib="ec-3";c.wQ="vp09.00.11.08.02";c.Ei="av01.0.04M.08";},51259:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.Mm=void 0;r=a(22674);c=a(56800);l=a(4203);f=a(98960);k=a(1079);d=a(95162);g=a(57718);m=a(16152);h=a(79974);n=a(57657);p=a(41605);q=a(43466);u=a(22365);t=a(12931);v=a(43551);w=a(28185);y=a(6600);x=a(94800);z=a(74742);A=a(18580);B=a(63368);C=a(33430);D=a(78866);b.Mm=new r.dd(function(F){F(d.oQ).to(g.gNa).ga();F(c.Fw).to(f.XCa).ga();F(m.uGa).to(h.tGa).ga();F(p.YBa).to(q.XBa).ga();F(m.FKa).ll({isTypeSupported:u.Qz && u.Qz.isTypeSupported});F(n.jEa).PC(function(G){return {jJb:function(){return G.kb.get(B.r0);}};});F(k.FI).PC(function(G){return G.kb.get(l.Xb);});F(t.XHa).to(v.UHa).ga();F(C.THa).to(D.SHa).ga();F(w.WHa).to(y.VHa).ga();F(x.Gca).to(z.iEa).ga();F(A.TLa).ll(ob);});},56800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fw=b.IOa=b.gob=b.Lo=b.Oe=b.xl=b.ou=b.u=void 0;(function(a){a[a.Audio=0]="Audio";a[a.AOa=1]="Video";})(b.u || (b.u={}));(function(a){a[a.Ew=0]="Default";a[a.Rw=1]="Microsoft";})(b.ou || (b.ou={}));(function(a){a[a.Ew=0]="Default";a[a.EI=1]="Chrome";a[a.Rw=2]="Microsoft";})(b.xl || (b.xl={}));(function(a){a[a.lQ=0]="SD";a[a.e_=1]="HD";a[a.pJ=2]="UHD";a[a.ru=3]="DV";a[a.OI=4]="HDR10";a[a.Dz=5]="AVCHigh";a[a.Yz=6]="VP9";a[a.Ei=7]="AV1";})(b.Oe || (b.Oe={}));(function(a){a[a.X_=0]="Level_1_4";a[a.vD=1]="Level_2_2";})(b.Lo || (b.Lo={}));b.gob=function(){};(function(a){a[a.gcc=0]="Platform";a[a.z$b=1]="CurrentTitle";})(b.IOa || (b.IOa={}));b.Fw="DeviceCapabilitiesSymbol";},1079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.FI=b.mjb=void 0;c=a(56800);b.mjb=function(){this.JE=[];this.yk=[];this.mr=[];this.lSa=[];this.Bia=c.ou.Ew;this.Vaa=c.xl.Ew;};b.FI="DeviceCapabilitiesConfigSymbol";},94800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gca=b.Lw=void 0;r=b.Lw || (b.Lw={});r.eob="unknown";r.Fza="absent";r.SLa="present";r.Error="error";b.Gca="ExternalDisplayLogHelperSymbol";},57657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jEa="ExtraPlatformInfoProviderSymbol";},16152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uGa="IsTypeSupportedProviderFactorySymbol";b.FKa="PlatformIsTypeSupportedSymbol";},17612:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.HI=b.eb=void 0;l=a(53921);f=a(31149);k=a(36129);c.JT=function(d){if(d){if(d.includes(b.HI.Qy))return l.Ak.Qy;if(d.includes("fps"))return l.Ak.nB;if(d.includes(b.HI.LY))return l.Ak.LY;}throw new f.Mc(k.U.Bjb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.xna=function(d){switch(d){case l.Ak.Qy:return b.HI.Qy;case l.Ak.nB:return b.HI.nB;default:return b.HI.LY;}};b.eb=c;c.Yw="com.microsoft.playready";c.vd="com.microsoft.playready.hardware";c.FD="com.microsoft.playready.software";c.Sjb="com.apple.fps.2_0";c.zQ="com.widevine.alpha";c.ROa="com.widevine.alpha.experiment";c.pea="com.microsoft.playready.recommendation.3000";c.LKa="com.microsoft.playready.recommendation.2000";c.BFa=[c.pea];b.HI={nB:"fairplay",LY:"widevine",Qy:"playready"};},12931:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XHa="MediaCapabilitiesSymbol";},33430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.THa="MediaCapabilitiesDetectorSymbol";},28185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WHa="MediaCapabilitiesLogHelperSymbol";},75568:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={lD:"playready-h264mpl30-dash",mD:"playready-h264mpl31-dash",c_:"playready-h264mpl40-dash",FEa:"h264mpl30-dash-playready-prk-qc",GEa:"h264mpl31-dash-playready-prk-qc",HEa:"h264mpl40-dash-playready-prk-qc",DEa:"playready-h264hpl22-dash",XZ:"playready-h264hpl30-dash",ZZ:"playready-h264hpl31-dash",a_:"playready-h264hpl40-dash",EEa:"h264hpl22-dash-playready-live",YZ:"h264hpl30-dash-playready-live",$Z:"h264hpl31-dash-playready-live",b_:"h264hpl40-dash-playready-live",ufa:"vp9-profile0-L21-dash-cenc",$0:"vp9-profile0-L30-dash-cenc",a1:"vp9-profile0-L31-dash-cenc",xQ:"vp9-profile0-L40-dash-cenc",Mca:"hevc-main10-L30-dash-cenc",Nca:"hevc-main10-L31-dash-cenc",Oca:"hevc-main10-L40-dash-cenc",Pca:"hevc-main10-L41-dash-cenc",vP:"hevc-main10-L50-dash-cenc",wP:"hevc-main10-L51-dash-cenc",z_:"hevc-main10-L30-dash-cenc-prk",C_:"hevc-main10-L31-dash-cenc-prk",F_:"hevc-main10-L40-dash-cenc-prk",I_:"hevc-main10-L41-dash-cenc-prk",A_:"hevc-main10-L30-dash-cenc-prk-do",D_:"hevc-main10-L31-dash-cenc-prk-do",G_:"hevc-main10-L40-dash-cenc-prk-do",J_:"hevc-main10-L41-dash-cenc-prk-do",L_:"hevc-main10-L50-dash-cenc-prk-do",N_:"hevc-main10-L51-dash-cenc-prk-do",y_:"hevc-main10-L30-dash-cenc-live",B_:"hevc-main10-L31-dash-cenc-live",E_:"hevc-main10-L40-dash-cenc-live",H_:"hevc-main10-L41-dash-cenc-live",K_:"hevc-main10-L50-dash-cenc-live",M_:"hevc-main10-L51-dash-cenc-live",wZ:"hevc-dv5-main10-L30-dash-cenc-prk",yZ:"hevc-dv5-main10-L31-dash-cenc-prk",lP:"hevc-dv5-main10-L40-dash-cenc-prk",BZ:"hevc-dv5-main10-L41-dash-cenc-prk",DZ:"hevc-dv5-main10-L50-dash-cenc-prk",FZ:"hevc-dv5-main10-L51-dash-cenc-prk",lca:"hevc-dv5-main10-L40-dash-cenc-prk-qc",mca:"hevc-dv5-main10-L41-dash-cenc-prk-qc",nca:"hevc-dv5-main10-L50-dash-cenc-prk-qc",oca:"hevc-dv5-main10-L51-dash-cenc-prk-qc",xZ:"hevc-dv5-main10-L30-dash-cenc-prk-do",zZ:"hevc-dv5-main10-L31-dash-cenc-prk-do",AZ:"hevc-dv5-main10-L40-dash-cenc-prk-do",CZ:"hevc-dv5-main10-L41-dash-cenc-prk-do",EZ:"hevc-dv5-main10-L50-dash-cenc-prk-do",GZ:"hevc-dv5-main10-L51-dash-cenc-prk-do",g_:"hevc-hdr-main10-L30-dash-cenc-prk",j_:"hevc-hdr-main10-L31-dash-cenc-prk",uP:"hevc-hdr-main10-L40-dash-cenc-prk",o_:"hevc-hdr-main10-L41-dash-cenc-prk",r_:"hevc-hdr-main10-L50-dash-cenc-prk",u_:"hevc-hdr-main10-L51-dash-cenc-prk",h_:"hevc-hdr-main10-L30-dash-cenc-prk-do",k_:"hevc-hdr-main10-L31-dash-cenc-prk-do",m_:"hevc-hdr-main10-L40-dash-cenc-prk-do",p_:"hevc-hdr-main10-L41-dash-cenc-prk-do",s_:"hevc-hdr-main10-L50-dash-cenc-prk-do",v_:"hevc-hdr-main10-L51-dash-cenc-prk-do",f_:"hevc-hdr-main10-L30-dash-cenc-live",i_:"hevc-hdr-main10-L31-dash-cenc-live",l_:"hevc-hdr-main10-L40-dash-cenc-live",n_:"hevc-hdr-main10-L41-dash-cenc-live",q_:"hevc-hdr-main10-L50-dash-cenc-live",t_:"hevc-hdr-main10-L51-dash-cenc-live",yza:"av1-main-L20-dash-cbcs-prk",zza:"av1-main-L21-dash-cbcs-prk",Bz:"av1-main-L30-dash-cbcs-prk",Cz:"av1-main-L31-dash-cbcs-prk",yI:"av1-main-L40-dash-cbcs-prk",zI:"av1-main-L41-dash-cbcs-prk",YY:"av1-main-L50-dash-cbcs-prk",ZY:"av1-main-L51-dash-cbcs-prk"};b.Bc={kZ:[b.H.lD,b.H.mD,b.H.c_],UY:[b.H.XZ,b.H.ZZ,b.H.a_],TY:[b.H.YZ,b.H.$Z,b.H.b_],lba:[b.H.$0,b.H.a1,b.H.xQ],pZ:[b.H.Mca,b.H.Nca,b.H.Oca,b.H.Pca,b.H.vP,b.H.wP],nZ:[b.H.z_,b.H.C_,b.H.F_,b.H.I_,b.H.vP,b.H.wP],oZ:[b.H.A_,b.H.D_,b.H.G_,b.H.J_,b.H.L_,b.H.N_],Wba:[b.H.y_,b.H.B_,b.H.E_,b.H.H_,b.H.K_,b.H.M_],lZ:[b.H.g_,b.H.j_,b.H.uP,b.H.o_,b.H.r_,b.H.u_],mZ:[b.H.h_,b.H.k_,b.H.m_,b.H.p_,b.H.s_,b.H.v_],Vba:[b.H.f_,b.H.i_,b.H.l_,b.H.n_,b.H.q_,b.H.t_],EBa:[b.H.wZ,b.H.lP,b.H.DZ,b.H.yZ,b.H.BZ,b.H.FZ],FBa:[b.H.xZ,b.H.AZ,b.H.EZ,b.H.zZ,b.H.CZ,b.H.GZ],GBa:[b.H.Bz,b.H.Cz,b.H.yI,b.H.zI,b.H.YY,b.H.ZY]};b.Bd={nD:"heaac-2-dash",w_:"heaac-5.1-dash",oD:"heaac-2hq-dash",ex:"xheaac-dash",jP:"ddplus-2.0-dash",uZ:"ddplus-5.1-dash",kP:"ddplus-atmos-dash"};b.um={Bnb:"simplesdh",eca:"dfxp-ls-sdh",c1:"webvtt-lssdh-ios8",ekb:"imsc1.1",YI:"nflx-cmisc"};},18580:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TLa="PresentationAPISymbol";},95162:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oQ="SourceBufferTypeProviderSymbol";},43466:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z;function c(A,B,C,D,F,G,E,H,M,L){this.G3a=A;this.config=B;this.xc=C;this.sa=D;this.is=F;this.lo=G;this.Vl=E;this.platform=H;this.jc=M;this.Gy=L;}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;r=a(5163);l=a(22674);f=a(56800);k=a(16152);d=a(1079);g=a(92049);m=a(75456);h=a(46286);n=a(31741);p=a(53085);q=a(30869);u=a(42207);t=a(5180);v=a(21103);w=a(87386);y=a(91581);x=a(2248);a=a(33430);c.prototype.qAb=function(A){var B;B=this.G3a.ZVa();switch(A){case f.ou.Rw:return new g.uIa(this.config,B,this.is,this.platform,this.Gy);default:return new n.JZ(this.config,B,this.Gy);}};c.prototype.wBb=function(A){var B;B=this.G3a.ZVa();switch(A){case f.xl.EI:A=new t.eCa(this.config,B,this.is,this.lo,this.Vl,this.sa,this.Gy);break;case f.xl.Rw:A=new m.DHa(this.config,B,this.is,this.xc,this.sa,this.Vl,this.jc,this.Gy,this.lo);break;default:A=new h.Jz(this.config,B,this.is,this.Gy);}return A;};z=c;z=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.uGa)),r.__param(1,(0,l.l)(d.FI)),r.__param(2,(0,l.l)(p.Th)),r.__param(3,(0,l.l)(q.bg)),r.__param(4,(0,l.l)(u.Qf)),r.__param(5,(0,l.l)(v.Qw)),r.__param(6,(0,l.l)(w.ab)),r.__param(7,(0,l.l)(y.An)),r.__param(8,(0,l.l)(x.Zg)),r.__param(9,(0,l.l)(a.THa))],z);b.XBa=z;},65264:function(r,b,a){var l,f,k,d,g;function c(m,h,n,p){this.config=m;this.mo=h;this.mediaType=n;this.Gy=p;this.Mra={};this.Mra[l.u.Audio]="audio";this.Mra[l.u.AOa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.hD=void 0;l=a(56800);r=a(57180);f=a(22210);k=a(22365);d=a(7802);g=new r.LD().format;c.prototype.$0a=function(m){return this.cDb(this.MKb(this.I0a(),m));};c.prototype.TE=function(m){return this.mo.isTypeSupported(m);};c.prototype.PIb=function(){return [f.ud.kba,f.ud.$jb,f.ud.lD,f.ud.mD];};c.prototype.$Nb=function(){this.uo=[];this.Nt=[];this.config().XVb && this.Nt.push(f.ud.ex);this.config().f8a && this.Nt.push(f.ud.XEa);this.config().e8a && this.Nt.push(f.ud.UEa);this.config().d8a && this.Nt.push(f.ud.ru);this.config().b8a && this.Nt.push(f.ud.Dz);this.config().c8a && this.Nt.push(f.ud.Eza);this.config().g8a && this.Nt.push(f.ud.Yz);this.config().a8a && this.Nt.push(f.ud.Ei);this.Nt=this.Nt.concat(this.PIb());!this.config().UEb && this.uo.push(f.ud.ex);!this.config().VXa && this.uo.push(f.ud.xib);!this.config().UXa && this.uo.push(f.ud.yib);!this.config().VK && this.uo.push(f.ud.zib);!this.config().GEb && this.uo.push(/prk$/);this.config().d8a || this.config().pEb || this.uo.push(f.ud.ru);this.config().f8a || this.config().uEb || this.uo.push(f.ud.XEa);this.config().e8a || this.config().Gla || this.uo.push(f.ud.UEa);this.config().b8a || this.config().TK || this.uo.push(f.ud.Dz);this.config().c8a || this.config().Ela || this.uo.push(f.ud.Eza);this.config().g8a || this.config().QEb || this.uo.push(f.ud.Yz);this.config().a8a || this.config().fEb || this.uo.push(f.ud.Ei);!this.config().PEb && this.uo.push(f.ud.pJ);};c.prototype.MKb=function(m,h){var n;n=k.ze.hardwareConcurrency && k.ze.hardwareConcurrency;return m.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.zd) || !p.restrictToUILabels.includes(h.zd))?!1:!0;}).map(function(p){return p.name;});};c.prototype.lT=function(m){var h,n;h=this;n=m.map(function(p){for(var q=la(h.Nt),u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!0});}q=la(h.uo);for(u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return h.kT(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.u0(m,p);});};c.prototype.kT=function(m){var h;h=this;return this.bqa(m).then(function(n){return n.supported?h.config().CEb?h.Gy.kT(m):h.uma(m):n;});};c.prototype.uma=function(m){var h;m=this.BW[m];h="";return m?(Array.isArray(m) && (h=1 < m.length?" " + m[1]:"",m=m[0]),m=g("{0}/mp4;codecs={1};{2}",this.Mra[this.mediaType],m,h),this.TE(m)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.cDb=function(m){this.$Nb();return this.lT(m);};c.prototype.bqa=function(){return Promise.resolve({supported:!0});};Ya.Object.defineProperties(c.prototype,{BW:{configurable:!0,enumerable:!0,get:function(){this.HQa || (this.HQa=this.Oq());return this.HQa;}}});b.hD=c;},5180:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u,t,v){h=l.Jz.call(this,h,n,p,v) || this;h.lo=q;h.Vl=u;h.sa=t;h.Gy=v;h.type=f.xl.EI;h.log=h.Vl.$a("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;l=a(46286);f=a(56800);k=a(5021);d=a(82100);g=a(22210);m=a(17612);fa(c,l.Jz);c.prototype.UH=function(h){switch(h){case f.Lo.vD:return this.U4b;default:return Promise.resolve(!1);}};c.prototype.WT=function(){var h;h=this;return this.UH(f.Lo.vD).then(function(n){return n?f.Lo.vD:void 0;}).then(function(n){return h.M3(n);});};c.prototype.Gha=function(h){this.Tp=h;};c.prototype.xPb=function(h){var n;return !(null === (n=h.getConfiguration().videoCapabilities) || void 0 === n || !n.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.Zr;}));};c.prototype.hfb=function(){var h;if(this.Tp){h=this.K1a && this.L1a && this.K1a.qa(this.L1a).ca(k.pa);this.Tp.itshdcp=JSON.stringify({hdcp2:this.nt,time2:h});}};c.prototype.bqa=function(h){var n;n=this;return this.lo.qB().then(function(p){var q;q=(0,d.L5)(p);p=q === d.Zr || m.eb.BFa.includes(p.keySystem);return [g.ud.Dz,g.ud.Yz,g.ud.Ei].some(function(u){return u.test(h);}) && !g.ud.DGa.test(h) && n.config().h6a && p?{supported:!1,reason:"mcclearen-restricted"}:!p && g.ud.WEa.test(h) || g.ud.Qjb.test(h) && !(n.config().tEb || n.config().XXa && q === d.Zr) || g.ud.pJ.test(h) && (!n.config().XXa || q !== d.Zr)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ya.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.b6a || (this.b6a=this.lo.qB().then(function(h){return h.createMediaKeys();}));return this.b6a;}},U4b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.Mxa || (this.config().vEb?this.Mxa=Promise.all([this.lo.qB(),this.mediaKeys]).then(function(n){var p;p=la(n);n=p.next().value;p=p.next().value;if(!h.xPb(n))return (h.nt="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.nt),!1);if(p && p.getStatusForPolicy)return (h.L1a=h.sa.de,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.K1a=h.sa.de;h.nt=q;h.log.trace("hdcpStatus: " + h.nt);return "usable" === h.nt;}));h.nt="not available";h.log.trace("hdcpStatus: " + h.nt);return !1;}).catch(function(n){h.nt="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.nt},n);return !1;}).then(function(n){h.hfb();return n;}):(this.nt="not enabled",this.log.trace("hdcpStatus: " + this.nt),this.hfb(),this.Mxa=Promise.resolve(!1)));return this.Mxa;}}});b.eCa=c;},31741:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){p=f.hD.call(this,h,n,l.u.Audio,p) || this;p.config=h;p.mo=n;p.type=l.ou.Ew;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.JZ=void 0;l=a(56800);f=a(65264);k=a(73796);r=a(57180);d=a(12187);g=a(7802);m=new r.LD().format;fa(c,f.hD);c.prototype.NX=function(){var h;h=m(c.Gaa,k.cd.wib);return Promise.resolve(this.config().VK && this.mo.isTypeSupported(h));};c.prototype.Oq=function(){return d.rca.Oq();};c.prototype.I0a=function(){return this.config().JE;};c.prototype.lT=function(h){return this.config().VVb?Promise.resolve(new g.u0(h,h.map(function(){return {supported:!0};}))):f.hD.prototype.lT.call(this,h);};b.JZ=c;c.Gaa="audio/mp4;codecs={0};";},12187:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rca=void 0;l=a(75568);c.Oq=function(){var f;f={};return (f[l.Bd.nD]="mp4a.40.2",f[l.Bd.w_]="mp4a.40.2",f[l.Bd.oD]="mp4a.40.2",f[l.Bd.ex]="mp4a.40.42",f[l.Bd.jP]="ec-3",f[l.Bd.uZ]="ec-3",f[l.Bd.kP]="ec-3",f);};b.rca=c;},46286:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u){var t;t=k.hD.call(this,n,p,l.u.AOa,u) || this;t.config=n;t.mo=p;t.is=q;t.S7=u;t.type=l.xl.Ew;t.A8b=d.cd.kWa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Jz=void 0;l=a(56800);f=a(75568);k=a(65264);r=a(57180);d=a(73796);g=a(48617);m=a(45266);h=a(7802);new r.LD();fa(c,k.hD);c.prototype.UH=function(){return Promise.resolve(!1);};c.prototype.MF=function(){return Promise.resolve("");};c.prototype.B5=function(){return Promise.resolve("");};c.prototype.PX=function(){return this.config().Gla?this.S7.Qpa()?this.S7.kT(f.H.uP).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.paa=function(){return this.config().Gla?this.S7.Qpa()?this.S7.kT(f.H.lP).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.QX=function(){return Promise.resolve(!1);};c.prototype.NX=function(){return Promise.resolve(!1);};c.prototype.FT=function(n){return this.A8b[n];};c.prototype.Gha=function(){};c.prototype.ERb=function(n){switch(n){case l.Lo.X_:return "1.4";case l.Lo.vD:return "2.2";}};c.prototype.Oq=function(){return g.KZ.Oq();};c.prototype.I0a=function(){var p;function n(q,u){return (0,m.Neb)(function(t,v){return t.name === v.name;},q,u);}p=n(this.config().lSa,this.config().yk);return n(p,this.config().mr);};c.prototype.WT=function(){return Promise.resolve(void 0);};c.prototype.P5=function(){return Promise.resolve(void 0);};c.prototype.M3=function(n){var p;p=[];this.is.qg(n) && p.push(this.ERb(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.lT=function(n){return this.config().WVb?Promise.resolve(new h.u0(n,n.map(function(){return {supported:!0};}))):k.hD.prototype.lT.call(this,n);};b.Jz=c;c.Gaa="video/mp4;codecs={0};";},48617:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.KZ=void 0;l=a(75568);f=a(73796);c.Oq=function(){var k;k={};return (k[l.H.lD]="avc1.4D401E",k[l.H.mD]="avc1.4D401F",k[l.H.c_]="avc1.4D4028",k[l.H.FEa]="avc1.4D401E",k[l.H.GEa]="avc1.4D401F",k[l.H.HEa]="avc1.4D4028",k[l.H.Mca]="hev1.2.6.L90.B0",k[l.H.Nca]="hev1.2.6.L93.B0",k[l.H.Oca]="hev1.2.6.L120.B0",k[l.H.Pca]="hev1.2.6.L123.B0",k[l.H.z_]="hev1.2.6.L90.B0",k[l.H.C_]="hev1.2.6.L93.B0",k[l.H.F_]="hev1.2.6.L120.B0",k[l.H.I_]="hev1.2.6.L123.B0",k[l.H.vP]="hev1.2.6.L150.B0",k[l.H.wP]="hev1.2.6.L153.B0",k[l.H.A_]="hev1.2.6.L90.B0",k[l.H.D_]="hev1.2.6.L93.B0",k[l.H.G_]="hev1.2.6.L120.B0",k[l.H.J_]="hev1.2.6.L123.B0",k[l.H.L_]="hev1.2.6.L150.B0",k[l.H.N_]="hev1.2.6.L153.B0",k[l.H.y_]="hev1.2.6.L90.B0",k[l.H.B_]="hev1.2.6.L93.B0",k[l.H.E_]="hev1.2.6.L120.B0",k[l.H.H_]="hev1.2.6.L123.B0",k[l.H.K_]="hev1.2.6.L150.B0",k[l.H.M_]="hev1.2.6.L153.B0",k[l.H.g_]="hev1.2.6.L90.B0",k[l.H.j_]="hev1.2.6.L93.B0",k[l.H.uP]="hev1.2.6.L120.B0",k[l.H.o_]="hev1.2.6.L123.B0",k[l.H.r_]="hev1.2.6.L150.B0",k[l.H.u_]="hev1.2.6.L153.B0",k[l.H.h_]="hev1.2.6.L90.B0",k[l.H.k_]="hev1.2.6.L93.B0",k[l.H.m_]="hev1.2.6.L120.B0",k[l.H.p_]="hev1.2.6.L123.B0",k[l.H.s_]="hev1.2.6.L150.B0",k[l.H.v_]="hev1.2.6.L153.B0",k[l.H.f_]="hev1.2.6.L90.B0",k[l.H.i_]="hev1.2.6.L93.B0",k[l.H.l_]="hev1.2.6.L120.B0",k[l.H.n_]="hev1.2.6.L123.B0",k[l.H.q_]="hev1.2.6.L150.B0",k[l.H.t_]="hev1.2.6.L153.B0",k[l.H.wZ]=f.cd.gca,k[l.H.yZ]=f.cd.JCa,k[l.H.lP]=f.cd.hca,k[l.H.BZ]=f.cd.ica,k[l.H.DZ]=f.cd.jca,k[l.H.FZ]=f.cd.kca,k[l.H.lca]=f.cd.hca,k[l.H.mca]=f.cd.ica,k[l.H.nca]=f.cd.jca,k[l.H.oca]=f.cd.kca,k[l.H.xZ]=f.cd.gca,k[l.H.zZ]=f.cd.JCa,k[l.H.AZ]=f.cd.hca,k[l.H.CZ]=f.cd.ica,k[l.H.EZ]=f.cd.jca,k[l.H.GZ]=f.cd.kca,k[l.H.DEa]="avc1.640016",k[l.H.XZ]="avc1.64001E",k[l.H.ZZ]="avc1.64001F",k[l.H.a_]="avc1.640028",k[l.H.EEa]="avc1.640016",k[l.H.YZ]="avc1.64001E",k[l.H.$Z]="avc1.64001F",k[l.H.b_]="avc1.640028",k[l.H.ufa]=f.cd.wQ,k[l.H.$0]=f.cd.wQ,k[l.H.a1]=f.cd.wQ,k[l.H.xQ]=f.cd.wQ,k[l.H.yza]=f.cd.Ei,k[l.H.zza]=f.cd.Ei,k[l.H.Bz]=f.cd.Ei,k[l.H.Cz]=f.cd.Ei,k[l.H.yI]=f.cd.Ei,k[l.H.zI]=f.cd.Ei,k[l.H.YY]=f.cd.Ei,k[l.H.ZY]=f.cd.Ei,k);};b.KZ=c;},98960:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){this.config=h;this.eUa=n;this.TWb=p;this.LYb=this.jBb();}Object.defineProperty(b,"__esModule",{value:!0});b.XCa=void 0;r=a(5163);l=a(56800);f=a(1079);k=a(22674);d=a(75568);g=a(57657);a=a(41605);c.prototype.Z0a=function(h){return this.SZa().$0a(h);};c.prototype.a1a=function(h){return this.jt().$0a(h);};c.prototype.SZa=function(){this.Aia && this.Aia.type == this.config().Bia || (this.Aia=this.eUa.qAb(this.config().Bia));return this.Aia;};c.prototype.jt=function(){this.Uaa && this.Uaa.type == this.config().Vaa || (this.Uaa=this.eUa.wBb(this.config().Vaa),this.Uaa.Gha(this.TWb.jJb()));return this.Uaa;};c.prototype.xJb=function(h){var q;if(!h || !h.length)return l.Oe.e_;h=this.KGb(h);for(var n=[l.Oe.lQ,l.Oe.e_,l.Oe.pJ,l.Oe.OI,l.Oe.ru,l.Oe.Dz,l.Oe.Yz,l.Oe.Ei],p=n.length;p--;){q=n[p];if((0,this.LYb[q])(h))return q;}return l.Oe.lQ;};c.prototype.UH=function(h){return this.jt().UH(h);};c.prototype.TE=function(h){return this.jt().TE(h);};c.prototype.MF=function(){return this.jt().MF();};c.prototype.B5=function(){return this.jt().B5();};c.prototype.PX=function(){return this.jt().PX();};c.prototype.NX=function(){return this.SZa().NX();};c.prototype.paa=function(){return this.jt().paa();};c.prototype.QX=function(){return this.jt().QX();};c.prototype.FT=function(h){return this.jt().FT(h);};c.prototype.WT=function(){return this.jt().WT();};c.prototype.P5=function(){return this.jt().P5();};c.prototype.KGb=function(h){var n;n={};h.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Hd]="";});return Object.keys(n);};c.prototype.jBb=function(){var h;h={};h[l.Oe.Ei]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};h[l.Oe.Dz]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};h[l.Oe.Yz]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};h[l.Oe.ru]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};h[l.Oe.OI]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};h[l.Oe.pJ]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};h[l.Oe.e_]=(function(n,p){var q;q={};n.forEach(function(u){return q[u]=1;});n=la(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.mD]);h[l.Oe.lQ]=function(){return !0;};return h;};m=c;m=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.FI)),r.__param(1,(0,k.l)(a.YBa)),r.__param(2,(0,k.l)(g.jEa))],m);b.XCa=m;},74742:function(r,b,a){var l,f,k;function c(d){this.cYb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.iEa=void 0;r=a(5163);l=a(22674);f=a(94800);a=a(18580);c.prototype.eGb=function(){var d,g;d={hL:f.Lw.eob};try{g=this.cYb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(m){var h;d.hL=m.value?f.Lw.SLa:f.Lw.Fza;if(d.hL === f.Lw.Fza){h=function(){m.value && (d.hL=f.Lw.SLa);m.removeEventListener("change",h);};m.addEventListener("change",h);}}).catch(function(){d.hL=f.Lw.Error;});}catch(m){d.hL=f.Lw.Error;}return d;};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.TLa))],k);b.iEa=k;},79974:function(r,b,a){var l,f,k,d,g;function c(m,h){this.config=m;this.qCb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;r=a(5163);l=a(22674);f=a(16152);k=a(1079);d=a(56800);g=a(40290);c.prototype.ZVa=function(){switch(this.config().Vaa){case d.xl.Rw:return g.Oz.SAb();default:return this.qCb;}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.FI)),r.__param(1,(0,l.l)(f.FKa))],a);b.tGa=a;},75456:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F;function c(G,E,H,M,L,K,O,J,I){G=f.Jz.call(this,G,E,H,J) || this;G.xc=M;G.sa=L;G.Vl=K;G.jc=O;G.Gy=J;G.lo=I;G.type=k.xl.Rw;G.DI="hvc1";G.IBa="avc1";G.O8a={};G.log=G.Vl.$a("MicrosoftVideoCapabilityDetector");G.V3b();G.OX && G.config().HSb?G.zXa=G.IAb():(G.zXa=Promise.resolve(""),G.config().JSb?G.OAb():G.config().ISb && G.NAb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;l=a(75568);f=a(46286);k=a(56800);r=a(57180);d=a(17612);g=a(5021);m=a(33543);h=a(73796);n=a(40290);p=a(82100);q=a(22210);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];C=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");D=new r.LD();F=new m.Rba();fa(c,f.Jz);c.prototype.FT=function(G){return G === k.Oe.ru && this.config().N7b?h.cd.d_:f.Jz.prototype.FT.call(this,G);};c.prototype.UH=function(G){switch(G){case k.Lo.X_:return this.tdb();case k.Lo.vD:return this.EW;default:return Promise.resolve(!1);}};c.prototype.MF=function(){var E;function G(){return E.OX?E.dNb?E.tdb().then(function(H){return Promise.resolve(H?d.eb.vd:d.eb.FD);}):Promise.resolve(d.eb.FD):E.X4b?Promise.resolve(d.eb.FD):Promise.resolve(d.eb.Yw);}E=this;this.keySystem || (this.keySystem=this.config().Rr?this.lo.qB().then(function(H){return H.keySystem;}):G());return this.keySystem;};c.prototype.B5=function(){return this.zXa;};c.prototype.PX=function(){return Promise.resolve({result:this.sdb(),reason:"is-type-supported"});};c.prototype.QX=function(){return this.OX && this.vdb()?this.EW:Promise.resolve(!1);};c.prototype.paa=function(){return Promise.resolve(this.rdb()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Gha=function(G){this.Tp=G;Object.assign(this.Tp,this.O8a);G.itshwdrm=this.OX;G.itsqhd=this.udb();G.itshevc=this.vdb();G.itshdr=this.sdb();G.itsdv=this.rdb();G.itsav1=this.T4b();G.itshevccl=this.wdb();G.itsavccl=this.R4b();this.Kya();};c.prototype.OR=function(G,E){(this.Tp?this.Tp:this.O8a)[G]=E;};c.prototype.WT=function(){var G;G=this;return this.UH(k.Lo.vD).then(function(E){return E?G.M3(k.Lo.vD):G.UH(k.Lo.X_).then(function(H){return H?G.M3(k.Lo.X_):G.M3(void 0);});});};c.prototype.P5=function(){return this.config().Rr?Promise.resolve(void 0):this.MF().then(function(G){return G === d.eb.vd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.uma=function(G){var E;E=this;return this.MF().then(function(H){var M,L,K;M=E.BW[G];if(M){L=[];if(E.is.jp(M))K=M;else (L=M.features,K=M.wd,H=M.keySystem);return E.Os(H,K,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Oq=function(){var G;G=f.Jz.prototype.Oq.call(this);G[l.H.xQ]=G[l.H.a1]=G[l.H.$0]=G[l.H.ufa]={wd:"vp09.00.11.08.02",keySystem:d.eb.vd,features:u};G[l.H.A_]=G[l.H.z_]=G[l.H.y_]={wd:"hev1.2.6.L90.B0",keySystem:d.eb.vd,features:t};G[l.H.D_]=G[l.H.C_]=G[l.H.B_]={wd:"hev1.2.6.L93.B0",keySystem:d.eb.vd,features:t};G[l.H.G_]=G[l.H.F_]=G[l.H.E_]={wd:"hev1.2.6.L120.B0",keySystem:d.eb.vd,features:t};G[l.H.J_]=G[l.H.I_]=G[l.H.H_]={wd:"hev1.2.6.L123.B0",keySystem:d.eb.vd,features:t};G[l.H.L_]=G[l.H.vP]=G[l.H.K_]={wd:"hev1.2.6.L150.B0",keySystem:d.eb.vd,features:t};G[l.H.N_]=G[l.H.wP]=G[l.H.M_]={wd:"hev1.2.6.L153.B0",keySystem:d.eb.vd,features:t};G[l.H.h_]=G[l.H.g_]=G[l.H.f_]={wd:"hev1.2.6.L90.B0",keySystem:d.eb.vd,features:w};G[l.H.k_]=G[l.H.j_]=G[l.H.i_]={wd:"hev1.2.6.L93.B0",keySystem:d.eb.vd,features:w};G[l.H.m_]=G[l.H.uP]=G[l.H.l_]={wd:"hev1.2.6.L120.B0",keySystem:d.eb.vd,features:w};G[l.H.p_]=G[l.H.o_]=G[l.H.n_]={wd:"hev1.2.6.L123.B0",keySystem:d.eb.vd,features:y};G[l.H.s_]=G[l.H.r_]=G[l.H.q_]={wd:"hev1.2.6.L150.B0",keySystem:d.eb.vd,features:y};G[l.H.v_]=G[l.H.u_]=G[l.H.t_]={wd:"hev1.2.6.L153.B0",keySystem:d.eb.vd,features:y};G[l.H.xZ]=G[l.H.wZ]={wd:"hev1.2.6.L90.B0",keySystem:d.eb.vd,features:x};G[l.H.zZ]=G[l.H.yZ]={wd:"hev1.2.6.L93.B0",keySystem:d.eb.vd,features:x};G[l.H.AZ]=G[l.H.lca]=G[l.H.lP]={wd:"hev1.2.6.L120.B0",keySystem:d.eb.vd,features:x};G[l.H.CZ]=G[l.H.mca]=G[l.H.BZ]={wd:"hev1.2.6.L123.B0",keySystem:d.eb.vd,features:z};G[l.H.EZ]=G[l.H.nca]=G[l.H.DZ]={wd:"hev1.2.6.L150.B0",keySystem:d.eb.vd,features:z};G[l.H.GZ]=G[l.H.oca]=G[l.H.FZ]={wd:"hev1.2.6.L153.B0",keySystem:d.eb.vd,features:z};G[l.H.Bz]={wd:"av01.0.04M.10",keySystem:d.eb.vd,features:u};G[l.H.Cz]={wd:"av01.0.05M.10",keySystem:d.eb.vd,features:u};G[l.H.yI]={wd:"av01.0.08M.10",keySystem:d.eb.vd,features:u};G[l.H.zI]={wd:"av01.0.09M.10",keySystem:d.eb.vd,features:u};G[l.H.YY]={wd:"av01.0.12M.10",keySystem:d.eb.vd,features:v};G[l.H.ZY]={wd:"av01.0.13M.10",keySystem:d.eb.vd,features:v};return G;};c.prototype.Os=function(G,E,H){G=n.Oz.N3(G,E,H);return this.TE(G);};c.prototype.udb=function(){return this.Os(d.eb.vd,this.DI,t);};c.prototype.sdb=function(){return this.Os(d.eb.vd,this.DI,w);};c.prototype.rdb=function(){return this.Os(d.eb.vd,this.DI,x);};c.prototype.T4b=function(){return this.Os(d.eb.vd,h.cd.Ei,u);};c.prototype.vdb=function(){return this.Os(d.eb.vd,this.DI,v);};c.prototype.wdb=function(){return this.Os(d.eb.vd,this.DI,C);};c.prototype.R4b=function(){return this.Os(d.eb.vd,this.IBa,C);};c.prototype.tdb=function(){var G;G=this;return this.EW.then(function(E){return E?Promise.resolve(E):G.M9a;});};c.prototype.Kya=function(){this.Tp && (this.Tp.itshdcp=JSON.stringify({hdcp1:this.I1a,time1:this.Udb - this.Jcb,hdcp2:this.J1a,time2:this.Vdb - this.Kcb}));};c.prototype.V3b=function(){var G;G=this;this.OX?(this.EW=this.D0a(this.config().i6a,this.config().LSb,function(){var E;E=G.vJb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;}),this.M9a=this.EW.then(function(E){return E?!0:G.D0a(G.config().i6a,G.config().KSb,function(){var H;H=G.uJb();return ["maybe" !== H,H];}).then(function(H){return "probably" === H;});})):(this.M9a=Promise.resolve(!0),this.EW=Promise.resolve(!1));};c.prototype.D0a=function(G,E,H){var M;M=this;return new Promise(function(L){var K,O,J,I;K=la(H());O=K.next().value;K=K.next().value;if(O)return L(K);J=M.xc.xH((0,g.Ob)(G),function(){var N,R;N=la(H());R=N.next().value;N=N.next().value;R && (J.cancel(),I.cancel(),L(N));});I=M.xc.nk((0,g.Ob)(E),function(){J.cancel();I.cancel();L("timeout");});});};c.prototype.uJb=function(){var G;G=n.Oz.N3(d.eb.FD,this.IBa,A).split("|");this.I1a=n.Oz.Lxa(G[0],G[1]);this.Udb=this.sa.de.ca(g.pa);this.Jcb=this.Jcb || this.Udb;this.Kya();return this.I1a;};c.prototype.vJb=function(){var G;G=n.Oz.N3(d.eb.vd,this.DI,B).split("|");this.J1a=n.Oz.Lxa(G[0],G[1]);this.Vdb=this.sa.de.ca(g.pa);this.Kcb=this.Kcb || this.Vdb;this.Kya();return this.J1a;};c.prototype.IAb=function(){var G;G=this;return this.xka(d.eb.vd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.sJa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(E){G.log.debug("DriverInfo: " + E);return E;}).catch(function(E){G.OR("itsDriverInfo","exception");G.log.error("DriverInfo exception",E);throw E;});};c.prototype.NAb=function(){var G;G=this;this.xka(d.eb.Yw,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(E){var H;H=String.fromCharCode.apply(void 0,G.jc.decode(E));G.OR("itsHardwareInfo",H);G.log.debug("HardwareInfo: " + H);return E;}).catch(function(E){G.OR("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",E);throw E;});};c.prototype.OAb=function(){var G;G=this;this.xka(d.eb.Yw,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(E){var H;H=String.fromCharCode.apply(void 0,G.jc.decode(E));G.OR("itsHardwareReset",H);G.log.debug("ResetHardwareDRMDisabled: " + H);return E;}).catch(function(E){G.OR("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",E);throw E;});};c.prototype.xka=function(G,E){var H;H=this;return new Promise(function(M,L){var R,U,ja;function K(ra){try{I(ra.target,"Unexpectedly got an mskeyerror event: 0x" + F.DF(ra && ra.target && ra.target.error && ra.target.error.Vic || 0,4));}catch(ka){I(ra.target,ka);}}function O(ra){I(ra.target,"Unexpectedly got an mskeyadded event");}function J(ra){var ka;try{ka=H.nma(ra.message,"PlayReadyKeyMessage","Challenge");N(ra.target);M(ka);}catch(ua){I(ra.target,ua);}}function I(ra,ka){H.log.error("PlayReadyChallenge error",{cdmData:E});N(ra);L(ka);}function N(ra){ra.removeEventListener("mskeymessage",J);ra.removeEventListener("mskeyadded",O);ra.removeEventListener("mskeyerror",K);ja && ja.cancel();}try{R=new Uint8Array(D.edb(E));U=new ob.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),R);U.addEventListener("mskeymessage",J);U.addEventListener("mskeyadded",O);U.addEventListener("mskeyerror",K);ja=H.xc.nk((0,g.Ob)(1E3),function(){I(U,Error("timeout"));});}catch(ra){L(ra);}});};c.prototype.nma=function(G,E){var M,L,K;for(var H=1;H < arguments.length;++H){;}H="";L=G.length;for(M=0;M < L;M++){K=G[M];0 < K && (H+=String.fromCharCode(K));}L="\\s*(.*)\\s*";for(M=arguments.length - 1;0 < M;M--){K=arguments[M];if(0 > H.search(K))return;K="(?:[^:].*:|)" + K;L="[\\s\\S]*<" + K + "[^>]*>" + L + "</" + K + ">[\\s\\S]*";}if(H=H.match(new RegExp(L)))return H[1];};c.prototype.bqa=function(G){var E;E=this;return this.MF().then(function(H){var M;if(q.ud.WEa.test(G) && !E.wdb())return {supported:!1,reason:"ms-restricted"};M=[d.eb.FD,d.eb.LKa].some(function(L){return L === H;});M=E.config().h6a && !M;return [q.ud.Dz,q.ud.Yz,q.ud.Ei].some(function(L){return L.test(G);}) && !q.ud.DGa.test(G) && M?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Ya.Object.defineProperties(c.prototype,{dNb:{configurable:!0,enumerable:!0,get:function(){return this.config().YXa && (!this.config().j6a || this.udb());}},OX:{configurable:!0,enumerable:!0,get:function(){try{return this.TE(d.eb.vd + "|" + h.cd.Ura);}catch(G){return !1;}}},X4b:{configurable:!0,enumerable:!0,get:function(){try{return this.TE(d.eb.FD);}catch(G){return !1;}}}});b.DHa=c;},78866:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t){this.config=p;this.navigator=q;this.Vl=u;this.wM=t;this.$Sa={};this.Sfb={};this.Tha={};this.log=this.Vl.$a("MediaCapabilityDetector");this.$Sa=this.pAb();this.Sfb=this.vBb();}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;r=a(5163);l=a(22674);f=a(75568);k=a(87386);d=a(63368);g=a(21103);m=a(1079);h=a(82100);n=a(22365);c.prototype.kT=function(p){var q;q=this;return this.wM.qB().then(function(u){return q.sGb(p,u);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.OOb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.Qpa=function(){return ob.matchMedia("(dynamic-range: high)").matches;};c.prototype.sGb=function(p,q){var u,t,v;try{u={type:"media-source"};t=this.$Sa[p];v=this.Sfb[p];if(t)u.audio=t;else if(v){u.video=v;if(this.OOb(v) && !this.Qpa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (u.keySystemConfiguration=this.JJb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.dxb(u),this.bxb((t || v).contentType)]).then(function(w){var y;y=la(w);w=y.next().value;y=y.next().value;return w?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(w){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",w),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.dxb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(u){var t;u.configuration || (u.configuration=p);t=q.oPb(p,u);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(u)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(u));return t;}).catch(function(u){q.log.error("mediaCapabilities.decodingInfo failed",u);return !1;});};c.prototype.bxb=function(p){var q;q=this;if(!this.config().DEb)return Promise.resolve(!0);this.Tha[p] || (this.Tha[p]=new Promise(function(u){var t;try{t=new n.Qz();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);u(!0);}catch(v){q.log.warn("addSourceBuffer failed",v);u(!1);}});}catch(v){q.log.warn("addSourceBuffer failed",v);u(!1);}}));return this.Tha[p];};c.prototype.JJb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,h.L5)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.pAb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[f.Bd.nD]=q;p[f.Bd.w_]=q;p[f.Bd.oD]=q;p[f.Bd.ex]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[f.Bd.jP]=q;p[f.Bd.uZ]=q;p[f.Bd.kP]=q;return p;};c.prototype.vBb=function(){var p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};v=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});w=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),v);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),v);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),v);C=Object.assign(Object.assign({},p),v);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),w);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);E=Object.assign(Object.assign(Object.assign({},p),v),z);H=Object.assign(Object.assign(Object.assign({},p),w),z);M=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),v),A);L=Object.assign(Object.assign(Object.assign({},q),w),A);K=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),x),A);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),v);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),w);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);A={};return (A[f.H.lD]=t,A[f.H.mD]=t,A[f.H.c_]=t,A[f.H.FEa]=t,A[f.H.GEa]=t,A[f.H.HEa]=t,A[f.H.DEa]=u,A[f.H.XZ]=u,A[f.H.ZZ]=u,A[f.H.a_]=u,A[f.H.EEa]=u,A[f.H.YZ]=u,A[f.H.$Z]=u,A[f.H.b_]=u,A[f.H.ufa]=B,A[f.H.$0]=B,A[f.H.a1]=B,A[f.H.xQ]=B,A[f.H.Mca]=C,A[f.H.Nca]=C,A[f.H.Oca]=C,A[f.H.Pca]=D,A[f.H.z_]=C,A[f.H.C_]=C,A[f.H.F_]=C,A[f.H.I_]=D,A[f.H.vP]=F,A[f.H.wP]=G,A[f.H.A_]=C,A[f.H.D_]=C,A[f.H.G_]=C,A[f.H.J_]=D,A[f.H.L_]=F,A[f.H.N_]=G,A[f.H.y_]=C,A[f.H.B_]=C,A[f.H.E_]=C,A[f.H.H_]=D,A[f.H.K_]=F,A[f.H.M_]=G,A[f.H.g_]=E,A[f.H.j_]=E,A[f.H.uP]=E,A[f.H.o_]=H,A[f.H.r_]=M,A[f.H.u_]=p,A[f.H.h_]=E,A[f.H.k_]=E,A[f.H.m_]=E,A[f.H.p_]=H,A[f.H.s_]=M,A[f.H.v_]=p,A[f.H.f_]=E,A[f.H.i_]=E,A[f.H.l_]=E,A[f.H.n_]=H,A[f.H.q_]=M,A[f.H.t_]=p,A[f.H.wZ]=z,A[f.H.yZ]=z,A[f.H.lP]=z,A[f.H.BZ]=L,A[f.H.DZ]=K,A[f.H.FZ]=q,A[f.H.lca]=z,A[f.H.mca]=L,A[f.H.nca]=K,A[f.H.oca]=q,A[f.H.xZ]=z,A[f.H.zZ]=z,A[f.H.AZ]=z,A[f.H.CZ]=L,A[f.H.EZ]=K,A[f.H.GZ]=q,A[f.H.yza]=v,A[f.H.zza]=v,A[f.H.Bz]=v,A[f.H.Cz]=v,A[f.H.yI]=v,A[f.H.zI]=w,A[f.H.YY]=y,A[f.H.ZY]=x,A);};c.prototype.oPb=function(p,q){return p.video && this.config().BXb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.FI)),r.__param(1,(0,l.l)(d.$I)),r.__param(2,(0,l.l)(k.ab)),r.__param(3,(0,l.l)(g.Qw))],a);b.SHa=a;},43551:function(r,b,a){var l,f;function c(k){this.navigator=k;this.$5a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.UHa=void 0;r=a(5163);l=a(22674);a=a(63368);c.prototype.tma=function(k){return this.$5a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:k.contentType,width:k.width,height:k.height,bitrate:k.bitrate,framerate:k.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.$I))],f);b.UHa=f;},6600:function(r,b,a){var l,f,k,d;function c(g,m){this.mediaCapabilities=g;this.log=m.$a("MediaCapabilities");this.BW=d.KZ.Oq();}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;r=a(5163);l=a(12931);f=a(87386);k=a(22674);d=a(48617);c.prototype.tma=function(g){var m,h,n,p;m=this;n={tf:void 0};if(this.mediaCapabilities.$5a){p={contentType:'video/mp4;codecs="' + (null !== (h=this.BW[g.Hd]) && void 0 !== h?h:"avc1.640028") + '"',width:g.width,height:g.height,bitrate:1E3 * g.bitrate,framerate:24};this.mediaCapabilities.tma(p).then(function(q){return n.tf=Object.assign(Object.assign({},q),p);}).catch(function(q){return m.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.XHa)),r.__param(1,(0,k.l)(f.ab))],a);b.VHa=a;},92049:function(r,b,a){var l,f,k,d,g;function c(m,h,n,p,q){m=d.JZ.call(this,m,h,q) || this;m.is=n;m.platform=p;m.type=l.ou.Rw;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;l=a(56800);f=a(75568);k=a(17612);d=a(31741);g=a(40290);fa(c,d.JZ);c.prototype.NX=function(){return Promise.resolve(this.config().VK && this.Os(k.eb.Yw,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Oq=function(){var m,h;m={};m=(m[f.Bd.nD]="mp4a.40.2",m[f.Bd.oD]="mp4a.40.2",m);if("browser" === this.platform.ila){h={};return Object.assign(Object.assign({},m),(h[f.Bd.jP]=this.config().VK?{wd:"avc1",keySystem:k.eb.Yw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Bd.kP]=this.config().VK?{wd:"avc1",keySystem:k.eb.Yw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Bd.w_]=void 0,h[f.Bd.ex]=void 0,h[f.Bd.uZ]=void 0,h));}h={};return Object.assign(Object.assign({},m),(h[f.Bd.jP]=this.config().VXa?"ec-3":void 0,h[f.Bd.uZ]=this.config().UXa?"ec-3":void 0,h[f.Bd.kP]=this.config().VK?{wd:"avc1",keySystem:k.eb.Yw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Bd.w_]=void 0,h[f.Bd.ex]=void 0,h));};c.prototype.uma=function(m){var h,n,p;m=this.BW[m];h=[];n=k.eb.Yw;if(m){if(this.is.jp(m))p=m;else (h=m.features,p=m.wd,n=m.keySystem);return this.Os(n,p,h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.Os=function(m,h,n){m=g.Oz.N3(m,h,n);return this.TE(m);};b.uIa=c;},40290:function(r,b,a){var l,f,k;function c(){this.type=l.ou.Rw;}Object.defineProperty(b,"__esModule",{value:!0});b.Oz=void 0;l=a(56800);r=a(57180);f=a(17612);k=new r.LD();c.SAb=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return ob.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?ob.MSMediaKeys.isTypeSupported(f.eb.Yw,d):"probably" === c.Lxa(g[0],g[1]);}catch(m){return !1;}}};};c.N3=function(d,g,m){g=k.format(c.Gaa,g);if(0 === m.length)return g;m=k.format('features="{0}"',m.join());return k.format("{0}|{1}{2}",d,g,m);};c.Lxa=function(d,g){var m;try{m=ob.MSMediaKeys.isTypeSupportedWithFeatures?ob.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(h){m="exception";}return m;};b.Oz=c;c.Gaa='video/mp4;codecs="{0},mp4a";';},7802:function(r,b){function a(c,l){var f;f=this;this.status={};c.forEach(function(k,d){f.status[k]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.u0=void 0;a.prototype.HL=function(){return this.status;};a.prototype.X5=function(){return Object.entries(this.status).filter(function(c){c=la(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=la(c);l=c.next().value;c.next();return l;});};b.u0=a;},57718:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u){this.Mm=p;this.zb=q;this.gdb=u;this.Prb="video/mp4;codecs={0}";this.xob="audio/mp4;codecs={0}";p=this.Mm.FT(f.Oe.ru);this.Orb=d.cd.kWa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.gNa=void 0;r=a(5163);f=a(56800);k=a(22674);d=a(73796);g=a(42207);m=a(88490);h=a(29670);n=a(33096);c.prototype.R3=function(p){p=this.Mm.xJb(p);p=this.zb.hF(p)?p:f.Oe.lQ;return this.gdb.format(this.Prb,this.Orb[p]);};c.prototype.L3=function(p){if(0 === p.length)return this.gdb.format(this.xob,d.cd.kba);p=h.SAa[p[0].Hd] || l.wza;return p === l.wza?n.zHa:p === l.Zgb?n.AHa:n.yHa;};a=l=c;a.wza="AAC";a.Zgb="XHEAAC";a=l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Fw)),r.__param(1,(0,k.l)(g.Qf)),r.__param(2,(0,k.l)(m.kfa))],a);b.gNa=a;},82656:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Ok=void 0;r=a(22674);c=a(33554);l=a(58393);f=a(48723);k=a(68703);d=a(99662);b.Ok=new r.dd(function(g){g(c.Gw).Xd(function(){return function(){return ob._cad_global.device;};});g(k.bDa).to(d.aDa).ga();g(l.ZCa).to(f.YCa).ga();});},33554:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gw="DeviceFactorySymbol";},58393:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZCa="DeviceIdGeneratorSymbol";},68703:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bDa="DeviceProviderSymbol";},48723:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.sa=h;this.Qua=n;}Object.defineProperty(b,"__esModule",{value:!0});b.YCa=void 0;r=a(5163);l=a(30869);f=a(5021);k=a(10306);d=a(74267);g=a(66523);a=a(22674);c.prototype.NHb=function(){for(var h="",n=this.sa.de.ca(f.pa),p=6;p--;){h=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + h;n=Math.floor(n / 32);}for(;30 > h.length;){h+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Qua.a$a(new d.Pea(0,31,g.w7a))];}return h;};m=c;m=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.bg)),r.__param(1,(0,a.l)(k.D0))],m);b.YCa=m;},66085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;b.$Ca=function(a,c,l,f){this.bk=a;this.Tn=c;this.K4=f;};},99662:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,v){this.dDb=p;this.fl=q;this.zb=t;this.yWb=v;this.IDa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.$a("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;r=a(5163);l=a(36129);f=a(42207);k=a(66085);d=a(87386);g=a(58393);m=a(22674);h=a(17892);a=a(70285);c.prototype.EYa=function(p){try{return p.match(this.IDa)[2];}catch(q){}};c.prototype.VFb=function(p){try{return p.match(this.IDa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.fl.create().then(function(v){var y,x,z,A,B,C;function w(D){q.zb.Am(D) && q.zb.Am(y)?(x=new k.$Ca(D,y,void 0,z,p.NS || "cadmium"),u(x)):t({Aa:l.S.ECa});}y=p.Tn;if(p.vna){z="bind_device";q.yWb.xf(q.log,{}).then(function(D){w(D.esn);}).catch(function(D){t(D);});}else if(p.qL){B=p.bk;if(q.zb.Am(B)){C=q.VFb(B);C != p.Tn && q.log.error("esn prefix from ui is different",{ui:C,cad:p.Tn,ua:p.userAgent});}else p.Rqa && q.log.error("esn from ui is missing");!p.FO && q.zb.Am(B)?(z="config",w(B)):v.load(p.eXa).then(function(D){A=D.value;q.zb.Am(A) && (!1,q.zb.Am(B)?(D=q.EYa(B),z=D === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",w(y + A));}).catch(function(D){var E;function F(){v.save(p.eXa,E,!1).then(function(){w(y + E);}).catch(function(H){t(H);});}function G(){E=q.dDb.NHb();!1;F();}if(D.Aa === l.S.ax){if(q.zb.Am(p.bk)){E=q.EYa(p.bk);q.zb.Am(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.bk),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(D);});}else w();}).catch(function(v){t(v);});});};n=c;n=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(g.ZCa)),r.__param(1,(0,m.l)(h.zw)),r.__param(2,(0,m.l)(d.ab)),r.__param(3,(0,m.l)(f.Qf)),r.__param(4,(0,m.l)(a.NJa))],n);b.aDa=n;},93673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zba="CachedDrmDataSymbol";},2492:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rZ="CannedChallengeProvider";},49594:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C;Object.defineProperty(b,"__esModule",{value:!0});b.RK=b.LXa=void 0;r=a(22674);c=a(47737);l=a(58120);f=a(31050);k=a(93673);d=a(44235);g=a(97485);m=a(21103);h=a(92395);n=a(66372);p=a(2492);q=a(77228);u=a(34008);t=a(17250);v=a(41980);w=a(90581);y=a(91490);x=a(38231);z=a(22266);A=a(48691);B=a(18647);C=a(61738);b.LXa=new r.dd(function(D){D(l.lDa).to(f.kDa).ga();D(k.Zba).to(d.UBa).ga();D(c.NZ).hY(g.P9a);D(z.AGa).to(A.zGa).ga();D(B.gda).to(C.BGa).ga();D(m.Qw).PC(function(F){b.RK.parent=F.kb;return b.RK.get(m.Qw);});D(h.SP).Xd(function(){return function(){return new n.fIa();};});D(p.rZ).to(q.WBa).ga();D(u.Bca).to(t.PDa).ga();D(v.uca).to(w.qDa).ga();D(y.cIa).to(x.bIa).ga();});b.RK=new r.tZ({KH:!0});},58120:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lDa="DrmDataFactorySymbol";},28048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Opa=b.su=void 0;(function(a){a.vfb="usable";a.Sq="expired";a.released="released";a.X7a="output-restricted";a.SVb="output-downscaled";a.c4b="status-pending";a.iOb="internal-error";})(b.su || (b.su={}));b.Opa=function(a){return !!a && !!a.keyStatuses;};},28289:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.BXa=b.Xr=void 0;(function(c){c[c.B4a=0]="licenseStarted";c[c.t$a=1]="receivedLicenseChallenge";c[c.s$a=2]="receivedLicense";c[c.u$a=3]="receivedRenewalChallengeComplete";c[c.v$a=4]="receivedRenewalLicenseComplete";c[c.w$a=5]="receivedRenewalLicenseFailed";c[c.AZb=6]="receivedIndivChallengeComplete";c[c.BZb=7]="receivedIndivLicenseComplete";c[c.VRa=8]="addLicenseComplete";c[c.aSa=9]="addRenewalLicenseComplete";c[c.bSa=10]="addRenewalLicenseFailed";})(a=b.Xr || (b.Xr={}));b.BXa=function(c){switch(c){case a.B4a:return "lg";case a.t$a:return "lc";case a.s$a:return "lr";case a.u$a:return "renew_lc";case a.v$a:return "renew_lr";case a.w$a:return "renew_lr_failed";case a.AZb:return "ilc";case a.BZb:return "ilr";case a.VRa:return "ld";case a.aSa:return "renew_ld";case a.bSa:return "renew_ld_failed";default:return "unknown";}};},47737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pDa="DrmServicesSymbol";b.NZ="DrmServicesProviderSymbol";},41980:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uca="DrmTraitsFactorySymbol";},53921:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vjb=b.Ak=void 0;r=b.Ak || (b.Ak={});r[r.Qy=0]="playready";r[r.LY=1]="widevine";r[r.nB=2]="fairplay";r[r.uec=3]="clearkey";b.vjb="DrmTypeSymbol";},27995:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OD=void 0;r=b.OD || (b.OD={});r[r.Request=0]="Request";r[r.hMa=1]="Renewal";},34008:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bca="EmeApiFactorySymbol";},23563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oq="EmeConfigSymbol";},10060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SDa="EmeSessionFactorySymbol";},22266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AGa="KeySystemProviderSymbol";},18647:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gda="KeySystemRestrictorSymbol";},91490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cIa="MediaKeySystemAccessInternalFactorySymbol";},21103:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qw="MediaKeySystemAccessServicesSymbol";},92395:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SP="MediaKeysStorageFactorySymbol";},51120:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.MXa=void 0;r=a(22674);c=a(47737);l=a(80075);f=a(21103);k=a(9717);d=a(10060);g=a(74946);b.MXa=new r.dd(function(m){m(c.pDa).to(l.oDa).ga();m(f.Qw).to(k.eIa).ga();m(d.SDa).to(g.RDa);});},44235:function(r,b,a){var k,d,g,m,h,n,p,q;function c(u,t,v){var w;w=this;this.is=u;this.fl=t;this.config=v;this.du=function(){return {version:w.version,drmData:w.x4.map(function(y){return y.du();})};};this.bna=function(y){var x;w.is.Am(y) && (y=l(y));1 === y.version && (y=f(w.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.MZ(z);});}catch(z){throw new h.Mc(g.U.QI,g.S.Hz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !w.is.Yj(y.version))throw new h.Mc(g.U.QI,g.S.Hz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new h.Mc(g.U.QI,g.S.zBa,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.pk=new n.$ca(2,this.config.US,this.is.Am(this.config.US),this.fl,this.du);}function l(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new h.Mc(g.U.QI,g.S.Hz);return {version:1,drmData:[u]};}function f(u,t){if(u.DA(t.drmData))return {version:2,drmData:t.drmData.map(function(v){var w;w=v.keySessionIds;return new q.MZ({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(y){return {id:y,licenseContextId:v.licenseContextId,licenseId:void 0};}),xid:v.xid,movieId:v.movieId}).du();})};throw new h.Mc(g.U.QI,g.S.Hz);}Object.defineProperty(b,"__esModule",{value:!0});b.UBa=void 0;r=a(5163);k=a(22674);d=a(23563);g=a(36129);m=a(42207);h=a(31149);n=a(52657);p=a(17892);q=a(31050);c.prototype.g$a=function(){return this.X3b();};c.prototype.QRa=function(u){return this.pk.add(u);};c.prototype.NW=function(u){return this.pk.remove(u,function(t,v){return t.ma === v.ma;});};c.prototype.toString=function(){return JSON.stringify(this.du(),null,"  ");};c.prototype.X3b=function(){var u;u=this;this.k$a || (this.k$a=new Promise(function(t,v){u.pk.load(u.bna).then(function(){t();}).catch(function(w){w.Aa && w.$b?v(new h.Mc(g.U.QI,w.Aa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):v(w);});}));return this.k$a;};Ya.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.pk.version;}},x4:{configurable:!0,enumerable:!0,get:function(){return this.pk.El;}}});a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.Qf)),r.__param(1,(0,k.l)(p.zw)),r.__param(2,(0,k.l)(d.oq))],a);b.UBa=a;},77228:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,v){this.sF=p;this.jc=q;this.xM=t;this.lo=v;this.log=u.$a("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;r=a(5163);l=a(22674);f=a(47737);k=a(2248);d=a(87386);g=a(92395);m=a(21103);h=a(53921);n=a(84218);c.prototype.loa=function(p){var q;q=this;return Promise.all([this.sF(),this.Gna()]).then(function(u){var t;t=la(u);u=t.next().value;t=t.next().value;return u.OHb({type:p,initData:t,O6:!1},q.xM());}).then(function(u){var t;t=la(u);u=t.next().value;t=t.next().value;t=q.jc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {fz:u,xja:t};});};c.prototype.Gna=function(){var p;p=this;return this.lo.qB().then(function(q){return q.ft();}).then(function(q){switch(q){case h.Ak.nB:return n.nEa;case h.Ak.Qy:return n.KKa;default:return n.SOa;}}).then(function(q){return q.map(p.jc.decode);});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.NZ)),r.__param(1,(0,l.l)(k.Zg)),r.__param(2,(0,l.l)(d.ab)),r.__param(3,(0,l.l)(g.SP)),r.__param(4,(0,l.l)(m.Qw))],a);b.WBa=a;},31050:function(r,b,a){var f;function c(){}function l(k){k?(this.active=!1,this.bna(k)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=b.MZ=void 0;r=a(5163);a=a(22674);l.prototype.bna=function(k){this.he=k.keySessionData?k.keySessionData.map(function(d){return {id:d.id,vG:d.licenseContextId,XU:d.licenseId};}):[];this.ma=k.xid;this.P=k.movieId;};l.prototype.du=function(){return JSON.parse(JSON.stringify({keySessionData:this.he?this.he.map(function(k){return {id:k.id,licenseContextId:k.vG,licenseId:k.XU};}):[],xid:this.ma,movieId:this.P}));};b.MZ=l;c.prototype.create=function(){return new l();};c.prototype.load=function(k){return new l(k);};f=c;f=r.__decorate([(0,a.T)()],f);b.kDa=f;},80075:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v;function c(w,y,x,z,A,B,C,D,F){var G;G=this;this.xc=y;this.Uy=x;this.config=z;this.dt=A;this.ZDb=B;this.oK=C;this.xM=D;this.Yl=F;this.B4b=function(E,H){var M;G.Yl.mark(v.Pa.WZ,E.yi.ma,"generate-challenge");M=!1;H.g2b(function(L){M || (M=!0,G.Yl.mark(v.Pa.VZ,E.yi.ma,"generate-challenge"));G.OF(E,H,L).then(function(K){H.URa(K);G.$vb(H);}).catch(function(K){return H.Hsb(K);});});};this.log=w.$a("DrmServices");this.dt().Rr && this.oK.g$a().then(function(){G.l_b();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.G2a && this.RA(D(),m.yh.rm).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(53085);d=a(69493);g=a(77134);m=a(24735);h=a(23563);n=a(93673);p=a(31050);q=a(10060);u=a(4203);t=a(92395);v=a(63156);c.prototype.OHb=function(w,y){return this.RA(y,w.type,w.context).then(function(x){return x.RHb(w.initData,w.O6).then(function(z){return [x,{Om:x.ft(),data:z.sj}];});});};c.prototype.Qg=function(w,y){var x;x=this;this.log.info("Requesting challenges",this.$_a(w,w.type));return this.RA(y,w.type,w.context).then(function(z){x.E6a(w,z);return z.SHb(w.initData,w.O6).then(function(){return z;});});};c.prototype.E6a=function(w,y){y.l2b(w.yi);this.B4b(w,y);};c.prototype.release=function(w,y){var x;x=this;this.log.info("Releasing server license",this.V0a(w));return this.UKb(w).then(function(){var z;z=Object.assign({active:!1,he:[]},w.yi);x.oK.NW(z);y.x_b();return w;});};c.prototype.$_a=function(w,y){return {movieId:w.yi.P,xid:w.yi.ma,type:(0,m.Eqa)(y)};};c.prototype.V0a=function(w){return {movieId:w.yi?w.yi.P:void 0,xid:w.yi?w.yi.ma:void 0,keySessionId:w.dy()};};c.prototype.OF=function(w,y,x){this.log.info("Sending license request",this.$_a(w,x.ff));return this.Uy.Qg({ma:w.yi.ma,Dd:w.yi.Dd,w4:[w.yi.Pk],sj:[{sessionId:y.dy() || "session",data:x.sj}],ff:x.ff,Om:y.ft(),kUa:x.kUa,oi:w.yi.oi,$f:w.yi.$f});};c.prototype.UKb=function(w){this.log.info("Sending release request",this.V0a(w));return this.Uy.release({ma:w.yi.ma,he:w.he});};c.prototype.RA=function(w,y,x){return this.ZDb.create().then(function(z){return z.createSession(w,y,x).then(function(){return z;});});};c.prototype.k_b=function(w){var y;y=this;return this.Uy.release({ma:w.ma,he:w.he}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.l_b=function(){var w;w=this;this.xc.nk(this.config.Rta,function(){w.log.trace("Removing cached sessions",{"count:":w.oK.x4.length});w.oK.x4.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return w.k_b(x);}).then(function(){return w.oK.NW(x);});},Promise.resolve(void 0));});};c.prototype.$vb=function(w){var y;if(w.dy() && w.yi){y=new p.MZ();y.he=w.he;y.ma=w.yi.ma;y.P=w.yi.P;this.oK.QRa(y);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.Th)),r.__param(2,(0,l.l)(d.nDa)),r.__param(3,(0,l.l)(h.oq)),r.__param(4,(0,l.l)(u.Xb)),r.__param(5,(0,l.l)(q.SDa)),r.__param(6,(0,l.l)(n.Zba)),r.__param(7,(0,l.l)(t.SP)),r.__param(8,(0,l.l)(g.YP))],a);b.oDa=a;},97485:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.P9a=void 0;c=a(36129);l=a(70999);f=a(47737);k=a(49594);b.P9a=function(g){k.RK.parent=g.kb;return function(){d || (d=new Promise(function(m,h){try{m(k.RK.get(f.pDa));}catch(n){h(new l.Gg(c.U.wkb,c.S.Gkb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},90581:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.Yg=t;this.Ni=v;this.jc=w;this.config=y;this.di=x;this.qh=z;}Object.defineProperty(b,"__esModule",{value:!0});b.qDa=void 0;r=a(5163);l=a(22674);f=a(6405);k=a(2248);d=a(84408);g=a(4203);m=a(7605);h=a(53921);n=a(23563);p=a(65315);q=a(20674);u=a(8265);c.prototype.create=function(t){switch(t){case h.Ak.Qy:return new q.ODa(this.Ni,this.jc);case h.Ak.nB:return new u.IMa(this.Ni,this.jc,this.Yg,this.qh);default:return new p.dCa(this.Ni,this.jc,this.di,this.config);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.xq)),r.__param(1,(0,l.l)(f.Bw)),r.__param(2,(0,l.l)(k.Zg)),r.__param(3,(0,l.l)(g.Xb)),r.__param(4,(0,l.l)(n.oq)),r.__param(5,(0,l.l)(m.Xw))],a);b.qDa=a;},17250:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.Zd=t;this.Yg=v;this.jc=w;this.is=y;this.HV=x;this.di=z;}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=void 0;r=a(5163);l=a(22674);f=a(2248);k=a(42207);d=a(63368);g=a(84408);m=a(74870);h=a(53921);n=a(23563);p=a(81471);q=a(963);u=a(90349);c.prototype.create=function(t){switch(t){case h.Ak.Qy:return new q.JLa(this.HV,this.is,this.jc,this.Zd,this.di,this.Yg);case h.Ak.nB:return new p.mEa(this.HV,this.is,this.jc,this.Zd,this.di,this.Yg);default:return new u.Au(this.HV,this.is,this.jc,this.Zd,this.di,this.Yg);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.bh)),r.__param(1,(0,l.l)(g.xq)),r.__param(2,(0,l.l)(f.Zg)),r.__param(3,(0,l.l)(k.Qf)),r.__param(4,(0,l.l)(d.$I)),r.__param(5,(0,l.l)(n.oq))],a);b.PDa=a;},18135:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){h=f.Ne.call(this,h,void 0 === p?"EmeConfigImpl":p) || this;h.od=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(5021);g=a(12501);a=a(22816);fa(c,f.Ne);Ya.Object.defineProperties(c.prototype,{F8a:{configurable:!0,enumerable:!0,get:function(){return !0;}},G2a:{configurable:!0,enumerable:!0,get:function(){return this.od.f3a || this.od.S6 || this.od.MU?!0:!1;}},SB:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(5);}},Rta:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(10);}},US:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},uT:{configurable:!0,enumerable:!0,get:function(){return !1;}},lla:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ar:{configurable:!0,enumerable:!0,get:function(){return !0;}},xSa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},ySa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},ASa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},B2:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},BSa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},Bwa:{configurable:!0,enumerable:!0,get:function(){return "";}},Y7a:{configurable:!0,enumerable:!0,get:function(){return this.od.sy?!1:!0;}},Z7a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});m=c;r.__decorate([g.config(g.ed,"persistentStateRequired")],m.prototype,"F8a",null);r.__decorate([g.config(g.ed,"initializeKeySystemAtStartup")],m.prototype,"G2a",null);r.__decorate([g.config(g.ik,"licenseRenewalRequestDelay")],m.prototype,"SB",null);r.__decorate([g.config(g.ik,"persistedReleaseDelay")],m.prototype,"Rta",null);r.__decorate([g.config(g.string,"drmPersistKey")],m.prototype,"US",null);r.__decorate([g.config(g.ed,"forceLimitedDurationLicense")],m.prototype,"uT",null);r.__decorate([g.config(g.ed,"disableLicenseRenewal")],m.prototype,"lla",null);r.__decorate([g.config(g.ed,"prepareCadmium")],m.prototype,"Ar",null);r.__decorate([g.config(g.ik,"apiCloseTimeout")],m.prototype,"xSa",null);r.__decorate([g.config(g.ik,"apiCreateMediaKeysTimeout")],m.prototype,"ySa",null);r.__decorate([g.config(g.ik,"apiSetServerCertificateTimeout")],m.prototype,"ASa",null);r.__decorate([g.config(g.ik,"apiGenerateRequestTimeout")],m.prototype,"B2",null);r.__decorate([g.config(g.ik,"apiUpdateTimeout")],m.prototype,"BSa",null);r.__decorate([g.config(g.string,"serverCertificate")],m.prototype,"Bwa",null);r.__decorate([g.config(g.ed,"outputRestrictedIsFatal")],m.prototype,"Y7a",null);r.__decorate([g.config(g.ed,"outputRestrictedIsFatalForUhd")],m.prototype,"Z7a",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl)),r.__param(1,(0,l.l)(a.fD)),r.__param(2,(0,l.l)(k.sZ)),r.__param(2,(0,l.optional)())],m);b.QDa=m;},70999:function(r,b,a){var l,f;function c(k,d,g,m,h){k=void 0 === k?l.U.Qo:k;return f.Mc.call(this,k,d,g,void 0,void 0,m,f.Mc.ue(h),h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Gg=void 0;l=a(36129);f=a(31149);fa(c,f.Mc);b.Gg=c;},74946:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,v,w){this.Vl=p;this.Ea=q;this.jc=u;this.config=t;this.vo=v;this.lo=w;}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(81918);d=a(2248);g=a(23563);m=a(59818);h=a(97737);a=a(21103);c.prototype.create=function(){var p;p=this;return this.lo.qB().then(function(q){return new h.TDa(p.Vl,p.Ea,p.jc,p.config,p.vo,q);});};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.Lc)),r.__param(2,(0,l.l)(d.Zg)),r.__param(3,(0,l.l)(g.oq)),r.__param(4,(0,l.l)(m.Uz)),r.__param(5,(0,l.l)(a.Qw))],n);b.RDa=n;},97737:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w;function c(y,x,z,A,B,C){var D;D=this;this.Ea=x;this.HA=z;this.config=A;this.vo=B;this.eC=C;this.keyStatuses=new p.Eb({});this.Vsa=function(F){var G,E,H,M,L,K;try{E=D.ml.ska(F);H=E.FG;M=E.messageType;L=E.sessionId;D.Dv=D.Dv || E.Dv;D.rX(L);D.log.trace("Received " + F.type + " event",{sessionId:L,messageType:M,keyIds:D.Dv});if(M === b.zda){if(D.config.lla){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.ff=k.yh.rm;D.qo=t.oH;}D.qo === t.Qg && D.kp(d.Xr.t$a);D.qo === t.oH && D.kp(d.Xr.u$a);K={sj:H,kUa:M,ff:D.ff};null === (G=D.G7a) || void 0 === G?void 0:G.call(D,K);D.Ooa(H)?D.PB(new n.Mc(f.U.EDa)):D.ck && !D.ck.jgb && D.M3a(K);}catch(O){D.PB(O);}};this.Tsa=function(F){var G,E,H,M,L,J,I,N,R,U,ja,ra,Aa,La,Xa,ab,aa;E=F.target;H=E.keyStatuses;D.rX(E.sessionId);D.log.trace("Received event: " + F.type);try{L=null === (G=D.context) || void 0 === G?void 0:G.i7;F=[];for(var K=la(H),O=K.next();!O.done;O=K.next()){J=la(O.value);I=J.next().value;N=J.next().value;R=D.HA.encode(new Uint8Array(I));F.push({eo:R,status:N,height:null === L || void 0 === L?void 0:L[R]});}F.sort(function(na,Ca){return (na.height || 0) - (Ca.height || 0);});U=F.map(function(na){return na.eo;});ja=F.map(function(na){return na.height;});ra=F.map(function(na){return na.status;});D.pqa=U + ", " + ja + ", " + ra;D.log.trace("KeyStatus: " + D.pqa);L={};for(var ka=la(H),ua=ka.next();!ua.done;ua=ka.next()){Aa=la(ua.value);La=Aa.next().value;Xa=Aa.next().value;ab=D.HA.encode(new Uint8Array(La));aa=v[Xa];L[ab]=aa.status;D.iG(ab,aa.error) && (M=new m.Gg(aa.error));}D.keyStatuses.set(L);}catch(na){M=new m.Gg(f.U.Hmb);M.MS(na);}M?D.kr?D.b7(M):D.OU(M):(D.ml.B3() || D.N3a(),D.ff !== k.yh.xn || D.ml.Dia() || (D.config.lla?D.log.trace("Disabling license renewal"):D.C_b()));};this.gn=function(F){var G;G=D.ml.Qx(F);D.log.error("Received event: " + F.type,G);D.PB(G);D.b7(G);D.ck || D.kr || D.OU(G);};this.UUb=function(F){D.log.error("MediaKeySession closed unexpectedly: " + F);D.OU(new n.Mc(f.U.yca,w[F]));};this.PB=function(F){D.close().then(function(){var G;D.log.trace("Issuing a generate challenge error");null === (G=D.ck) || void 0 === G?void 0:G.jO.reject(F);D.ck=void 0;},function(G){var E;D.log.error("EmeSession closed with an error.",D.ml.Qx(G));null === (E=D.ck) || void 0 === E?void 0:E.jO.reject(F);D.ck=void 0;});};this.M3a=function(F){var G;null === (G=D.ck) || void 0 === G?void 0:G.jO.resolve(F);D.ck=void 0;};this.b7=function(F){D.log.error("Failed to add license",F);D.close().then(function(){var G,E;D.log.trace("Issuing a license error");null === (G=D.ck) || void 0 === G?void 0:G.jO.reject(F);D.ck=void 0;null === (E=D.kr) || void 0 === E?void 0:E.reject(F);D.kr=void 0;},function(G){var E,H;D.log.error("EmeSession closed with an error.",D.ml.Qx(G));D.qo === t.oH && D.kp(d.Xr.bSa);null === (E=D.ck) || void 0 === E?void 0:E.jO.reject(F);D.ck=void 0;null === (H=D.kr) || void 0 === H?void 0:H.reject(F);D.kr=void 0;});};this.N3a=function(){D.kr && (D.log.info("Successfully added license"),D.qo === t.Qg?D.kp(d.Xr.VRa):D.qo === t.oH && D.kp(d.Xr.aSa),D.kr.resolve(),D.kr=void 0);};this.OU=function(F){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.ck=void 0;D.kr=void 0;null === (G=D.D7a) || void 0 === G?void 0:G.call(D,F);},function(G){var E;D.log.error("EmeSession closed with an error.",D.ml.Qx(G));D.ck=void 0;D.kr=void 0;null === (E=D.D7a) || void 0 === E?void 0:E.call(D,F);});};this.kp=function(F){D.Xc.push({time:D.Ea.Ib(),AV:F});};this.V$a=!1;this.log=y.$a("EmeSession");this.qo=t.K6b;this.fh=C.PVa();this.ml=C.OVa();this.Xc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=b.zda=b.Ada=void 0;l=a(5021);f=a(36129);k=a(24735);d=a(28289);r=a(28048);g=a(27995);m=a(70999);h=a(59818);n=a(31149);p=a(81734);q=a(94293);u=a(82100);(function(y){y[y.K6b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Qg=3]="license";y[y.oH=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.Ada="license-request";b.zda="license-renewal";v={usable:{status:r.su.vfb},expired:{status:r.su.Sq,error:f.U.$da},released:{status:r.su.released},"output-not-allowed":{status:r.su.X7a,error:f.U.vJa},"output-restricted":{status:r.su.X7a,error:f.U.aea},"output-downscaled":{status:r.su.SVb},"status-pending":{status:r.su.c4b},"internal-error":{status:r.su.iOb,error:f.U.Gmb}};w={"internal-error":f.S.Ajb,"closed-by-application":f.S.wjb,"release-acknowledged":f.S.Ejb,"hardware-context-reset":f.S.wca,"resource-evicted":f.S.Gjb};c.prototype.AL=function(){return this.eC.k7;};c.prototype.W_a=function(){return this.pqa;};c.prototype.dy=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.G7a=this.context=void 0;this.qo=t.closed;this.Xc=[];void 0 !== this.Y9 && (ob.clearTimeout(this.Y9),this.Y9=void 0);return this.fh.jPb()?(this.log.trace("Closing the session"),this.fh.N$a(this.Vsa),this.fh.K$a(this.Tsa),this.fh.I$a(this.gn),this.mediaKeys=void 0,this.vo.bq(this.config.xSa,this.fh.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.ml.Qx(x).code=f.U.Jmb;throw x;})):Promise.resolve(void 0);};c.prototype.ft=function(){return this.eC.ft();};c.prototype.z1a=function(){return void 0 !== this.Uk;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.ff=x;this.qo=t.create;this.kp(d.Xr.B4a);return (y.A1a()?Promise.resolve():this.vo.bq(this.config.ySa,this.fh.createMediaKeys(this.eC)).then(function(B){A.log.trace("Created media keys");return A.Otb(B).then(function(){return y.WRa(B);}).catch(function(C){return Promise.reject(A.yua(C,f.U.Hjb));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.fh.createSession(A.mediaKeys,u.TEMPORARY);A.fh.XRa(A.Vsa);A.fh.TRa(A.Tsa);A.fh.RRa(A.gn);A.fh.xsb(A.UUb);A.rX(A.fh.dy());}catch(B){return Promise.reject(A.yua(B,f.U.xjb));}}).catch(function(B){return Promise.reject(A.yua(B,f.U.oP));});};c.prototype.l2b=function(y){this.yi=y;this.log.ORa("xid",y.ma);};c.prototype.RHb=function(y,x){return this.generateRequest(y,x,!1).then(function(z){return z;});};c.prototype.SHb=function(y,x){return this.generateRequest(y,x,!0).then(function(){});};c.prototype.URa=function(y){this.he=y.he;y=y.Uk.map(function(x){return x.data;});this.Ooa(y)?(this.log.error("The license buffer is empty"),this.PB(new m.Gg(f.U.DDa,f.S.BDa))):(this.qo === t.Qg && (this.kp(d.Xr.s$a),this.Uk=y,this.AXa=this.ml.yL(this.Dv,y),this.ck && this.ck.jgb && this.M3a()),this.qo === t.oH && (this.kp(d.Xr.v$a),this.Uk=y,this.AXa=this.ml.yL(this.Dv,y),this.lia()));};c.prototype.Hsb=function(y){this.qo === t.oH?(this.kp(d.Xr.w$a),this.OU(y)):this.PB(y);};c.prototype.lia=function(){var y,x;y=this;if(!this.Uk){x=new m.Gg(f.U.DDa,f.S.GDa);this.b7(x);return Promise.reject(x);}this.kr=new q.v0();x=this.Uk;this.Uk=void 0;this.vo.bq(this.config.BSa,this.fh.update(x,this.qo === t.Qg?g.OD.Request:g.OD.hMa,this.Dv)).then(function(){y.ml.B3() && y.N3a();}).catch(function(z){z=y.ml.Qx(z);z.code=f.U.o0;z.message="Unable to update the EME";y.log.error(z.message,z);y.b7(z);});return this.kr.promise;};c.prototype.g2b=function(y){this.G7a=y;};c.prototype.Z1b=function(y){this.D7a=y;};c.prototype.yL=function(){return this.AXa;};c.prototype.generateRequest=function(y,x,z){var A;A=this;this.qo=t.Qg;this.log.trace("Generating a license challenge");if(!y)return (y=new m.Gg(f.U.CDa,f.S.GDa),this.PB(y),Promise.reject(y));if(this.Ooa(y))return (y=new m.Gg(f.U.CDa,f.S.BDa),this.PB(y),Promise.reject(y));this.ck={jO:new q.v0(),jgb:z};this.vo.bq(this.config.B2,this.fh.generateRequest(this.ml.Hna(),y,x)).then(function(){A.rX(A.fh.dy());}).catch(function(B){var C,D;C=new m.Gg(f.U.PZ,B instanceof h.vq?f.S.pP:f.S.ol);try{D=A.ml.Qx(B);C.Vc=D.Vc;C.message="Unable to generate request.";C.MS(B);}catch(F){}A.log.error("Unable to generate a license request",C);A.PB(C);});return this.ck.jO.promise;};c.prototype.Otb=function(y){return this.vo.bq(this.config.ASa,this.fh.setServerCertificate(y,this.ml.v5()));};c.prototype.rX=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.ORa("sessionId",y));};c.prototype.C_b=function(){var y;y=this;this.V$a || (this.V$a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.SB}),this.Y9=ob.setTimeout(function(){y.Y9=void 0;y.nH();},this.config.SB.ca(l.pa)));};c.prototype.qPb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.i7) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.iG=function(y,x){return x === f.U.aea?this.qPb(y)?this.config.Z7a:this.config.Y7a:!!x;};c.prototype.nH=function(){this.log.trace("Initiating a renewal request");this.ff=k.yh.rm;this.qo=t.oH;this.ml.qja()?this.ml.Gpa(this.fh):this.Q3();};c.prototype.Q3=function(){var y;y=this;this.fh.Q3(this.mediaKeys,u.TEMPORARY,this.Vsa,this.Tsa,this.gn).then(function(){y.log.debug("Creating session to renew license");y.rX(y.fh.dy());}).catch(function(){y.OU(new m.Gg(f.U.PZ));});};c.prototype.Ooa=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.yua=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.ec))return y;A=(0,u.Zna)(null === y || void 0 === y?void 0:y.message);return new m.Gg(x,y instanceof h.vq?f.S.pP:f.S.ol,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.TDa=c;},84218:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SOa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.nEa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.KKa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t){this.Vl=p;this.config=q;this.WS=u;this.QB=t;this.log=this.Vl.$a("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(87386);d=a(4203);g=a(17612);m=a(82100);h=a(41980);a=a(18647);c.prototype.get=function(){var p,q,u;p=this;try{q=(this.config().a4a || [this.config().Ul]).map(function(t){var v;v=g.eb.JT(t);v=p.WS.create(v).joa();return (0 < v.length?v:[void 0]).map(function(w){return {keySystem:t,robustness:w};});});u=(0,f.flatten)(q).filter(function(t){return p.qGb(t);});return this.QB.get().then(function(t){return p.tGb(u,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.qGb=function(p){var q;return g.eb.BFa.includes(p.keySystem) || m.CFa.includes(null !== (q=p.robustness) && void 0 !== q?q:"")?this.config().MSb && 1440 > ob.screen.height * ob.devicePixelRatio?!1:this.config().YXa:!0;};c.prototype.tGb=function(p,q){var u;u=this;return p.reduce(function(t,v,w){var y;y=u.sMb(v);w=p.length - 1 === w;y=(0,m.mVa)(y);q.includes(y) && !w || t.push(v);return t;},[]);};c.prototype.sMb=function(p){var q;q={keySystem:p.keySystem === g.eb.ROa?g.eb.zQ:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(d.Xb)),r.__param(2,(0,l.l)(h.uca)),r.__param(3,(0,l.l)(a.gda))],n);b.zGa=n;},61738:function(r,b,a){var l,f,k,d;function c(g,m,h){this.config=g;this.Vl=m;this.ija=h;this.log=this.Vl.$a("KeySystemRestrictor");this.QQb=this.config().aYa?this.ija.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);a=a(33258);c.prototype.get=function(){var g;g=this;try{return this.config().aYa?this.QQb.then(function(m){return g.AGb(m);}):Promise.resolve([]);}catch(m){return (this.log.error("KeySystemRestrictor failed.",m),Promise.resolve([]));}};c.prototype.AGb=function(g){var m,n;this.yab={};m=g.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(m));g=[];m=la(Object.entries(m));for(var h=m.next();!h.done;h=m.next()){n=la(h.value);h=n.next().value;n=n.next().value;this.KMb(n) && g.push(h);}g.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + g);return this.r0b=g;};c.prototype.KMb=function(g){var m,h;m=this;h=g.reduce(function(n,p){m.config().uFb.includes(p.code) && (p=m.JAb(p),n[p] || (n[p]=0),n[p]++);return n;},{});this.yab[g[0].keySystem]=h;return Object.values(h).some(function(n){return n >= m.config().vFb;});};c.prototype.JAb=function(g){return [g.code,g.ec,g.Vc].filter(Boolean).join(".");};Ya.Object.defineProperties(c.prototype,{b4a:{configurable:!0,enumerable:!0,get:function(){return this.r0b;}},c4a:{configurable:!0,enumerable:!0,get:function(){return this.yab;}}});d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xb)),r.__param(1,(0,l.l)(f.ab)),r.__param(2,(0,l.l)(a.aca))],d);b.BGa=d;},38231:function(r,b,a){var l,f,k,d;function c(g,m){this.WS=g;this.YS=m;}Object.defineProperty(b,"__esModule",{value:!0});b.bIa=void 0;r=a(5163);l=a(22674);f=a(41980);k=a(34008);d=a(52428);c.prototype.create=function(g,m,h){return new d.dIa(g,this.WS,this.YS,m,h);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.uca)),r.__param(1,(0,l.l)(k.Bca))],a);b.bIa=a;},52428:function(r,b,a){var l,f;function c(k,d,g,m,h){this.keySystem=k;this.WS=d;this.YS=g;this.eC=m;this.Om=h;}Object.defineProperty(b,"__esModule",{value:!0});b.dIa=void 0;l=a(17612);f=a(82100);c.prototype.createMediaKeys=function(){return this.eC.createMediaKeys();};c.prototype.getConfiguration=function(){return this.eC.getConfiguration();};c.prototype.ft=function(){return l.eb.JT(this.eC.keySystem);};c.prototype.PVa=function(){return this.YS.create(this.Om);};c.prototype.OVa=function(){return this.WS.create(this.Om);};Ya.Object.defineProperties(c.prototype,{k7:{configurable:!0,enumerable:!0,get:function(){var k,d;k=this.keySystem;d=(0,f.L5)(this.eC);d && (k+="." + d);return k;}}});b.dIa=c;},9717:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,C,D,F){this.Vl=x;this.jc=z;this.config=A;this.di=B;this.iTb=C;this.YS=D;this.LPb=F;this.log=this.Vl.$a("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(87386);d=a(70999);g=a(53921);m=a(2248);h=a(4203);n=a(17612);p=a(82100);q=a(84218);u=a(91490);t=a(34008);v=a(22266);w=a(23563);y=a(73796);c.prototype.qB=function(){this.promise || (this.promise=this.H0b());return this.promise;};c.prototype.$Ab=function(x,z){var A;A="video/mp4;codecs=" + (z === p.Zr && this.config().j6a?y.cd.d_:y.cd.sP);A={initDataTypes:[p.pu],videoCapabilities:[{contentType:A}],sessionTypes:[p.TEMPORARY]};x === g.Ak.LY && this.di.F8a && (A.persistentState="required");x=A.videoCapabilities[0];z && (x.robustness=z);return [A];};c.prototype.TAb=function(x,z){var A;A=this;return new Promise(function(B,C){var D;D=n.eb.JT(x);A.YS.create(D).P_b(x,A.$Ab(D,z)).then(function(F){A.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:F.getConfiguration?JSON.stringify(F.getConfiguration()):void 0});F=A.iTb.create(x,F,D);A.k7=F.k7;B(F);}).catch(function(F){A.log.warn("Unable to create the media key system access object",{keySystem:x,error:F.message});C(new d.Gg(f.U.ADa,f.S.ol,void 0,"Unable to create media keys system access. " + F.message,F));});});};c.prototype.cJb=function(){var x;x=this.config().a4a || [this.config().Ul];if(1 < x.length)return (x=x.map(function(z){return n.eb.xna(n.eb.JT(z));}),1 === new Set(x).size?Promise.resolve(x[0]):this.qB().then(function(z){return z.ft();}).then(function(z){return n.eb.xna(z);}));x=n.eb.JT(x[0]);return Promise.resolve(n.eb.xna(x));};c.prototype.Zya=function(x){var z,A,B,C;z=this;A=x.ft();B=x.PVa();C=x.OVa();return x.createMediaKeys().then(function(D){B.createSession(D,p.TEMPORARY);return B.setServerCertificate(D,C.v5());}).then(function(){return B.generateRequest(p.pu,z.Gna(A),!1);}).then(function(){return B.close();}).then(function(){return x;}).catch(function(D){z.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};c.prototype.Gna=function(x){switch(x){case g.Ak.nB:x=q.nEa;break;case g.Ak.Qy:x=q.KKa;break;default:x=q.SOa;}return x.map(this.jc.decode);};c.prototype.H0b=function(){var x;x=this;try{return this.LPb.get().then(function(z){return z.map(function(A,B){return function(){var C,D;C=B === z.length - 1;D=x.config().Zya && !C;return x.TAb(A.keySystem,A.robustness).then(function(F){return D?x.Zya(F):Promise.resolve(F);});};});}).then(function(z){return x.I0b(z);});}catch(z){return Promise.reject(z);}};c.prototype.I0b=function(x){return x.reduce(function(z,A){return z.then(function(B){return Promise.resolve(B);}).catch(function(){return A();});},Promise.reject(Error("keySystem missing")));};Ya.Object.defineProperties(c.prototype,{$3a:{configurable:!0,enumerable:!0,get:function(){return this.k7;}}});a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(m.Zg)),r.__param(2,(0,l.l)(h.Xb)),r.__param(3,(0,l.l)(w.oq)),r.__param(4,(0,l.l)(u.cIa)),r.__param(5,(0,l.l)(t.Bca)),r.__param(6,(0,l.l)(v.AGa))],a);b.eIa=a;},66372:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.fIa=void 0;a.prototype.A1a=function(){return void 0 !== this.mediaKeys;};a.prototype.WRa=function(c){this.mediaKeys=c;};a.prototype.x_b=function(){this.A1a() && (this.mediaKeys=void 0);};b.fIa=a;},77699:function(r,b){function a(c,l,f){var k;k=this;this.jc=c;this.xh=l;this.Yg=f;this.IJb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=k.jc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.pEa={pu:1667591779,aib:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;a.prototype.xyb=function(c,l){l=l?this.pEa.aib:this.pEa.pu;c=c.map(function(f){return {zgc:"",MPb:f,wia:f,L3b:f,l8b:[1]};});return this.tRb(l,c);};a.prototype.sRb=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.nra("fpsi",[l]);};a.prototype.rRb=function(c,l,f,k){c=[this.nra("fkri",[c])];l.byteLength && c.push(this.iV("fkai",[l]));f.byteLength && c.push(this.iV("fkcx",[f]));k.length && c.push(this.iV("fkvl",[new Uint8Array(new Uint32Array(k).buffer)]));return this.iV("fpsk",c);};a.prototype.tRb=function(c,l){var f,d;f=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.sRb(c)];for(var k in l){d=l[k];c.push(this.rRb(d.MPb,d.wia,d.L3b,d.l8b));}l=this.iV("fpsd",c);k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,l.byteLength);return this.nra("pssh",[f,k,l]);};a.prototype.nra=function(c,l){var f,k,d;f=0;for(d in l){f+=l[d].byteLength;}f=new Uint8Array(12 + f);k=new DataView(f.buffer);d=0;k.setUint32(d,f.byteLength);d+=4;f.set(this.Yg.decode(c),d);d+=4;k.setUint32(d,0);d+=4;for(var g in l){c=l[g];f.set(c,d);d+=c.byteLength;}return f;};a.prototype.iV=function(c,l){var f,k;f=0;for(k in l){f+=l[k].byteLength;}f=new Uint8Array(8 + f);k=0;new DataView(f.buffer).setUint32(k,f.byteLength);k+=4;f.set(this.Yg.decode(c),k);k+=4;for(var d in l){c=l[d];f.set(c,k);k+=c.byteLength;}return f;};b.lEa=a;},81471:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z){t=f.Au.call(this,t,v,w,y,x,z) || this;t.jc=w;t.xh=y;t.di=x;t.Yg=z;t.O1a=new k.lEa(t.jc,t.xh,t.Yg);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;r=a(5163);l=a(22674);f=a(90349);k=a(77699);d=a(63368);g=a(42207);m=a(2248);h=a(74870);n=a(23563);p=a(84408);q=a(27995);u=a(47450);fa(c,f.Au);c.prototype.generateRequest=function(t,v,w){var y,x,z;y=this;try{x=v.map(function(A){return y.O1a.IJb(A);});this.w2a=x.map(function(A){return y.jc.encode(A);});z=this.O1a.xyb(x,w);return f.Au.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,v,w){var y,x,z,A,B;y=this;if(w)try{x=this.Yg.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(C){var D;D=u.M0.fdb(C.ID);return {keyID:v === q.OD.hMa?y.w2a[y.w2a.length - 1]:w[D],payload:C.PAYLOAD};});if(v === q.OD.Request){A=z.map(function(C){return C.keyID;});w.forEach(function(C){-1 === A.indexOf(C) && z.push({keyID:C,error:1});});}B=JSON.stringify(z);t=[this.Yg.decode(B)];}catch(C){return Promise.reject(C);}return f.Au.prototype.update.call(this,t,v);};c.prototype.nH=function(){return f.Au.prototype.update.call(this,[this.Yg.decode("renew")],q.OD.Request);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.$I)),r.__param(1,(0,l.l)(g.Qf)),r.__param(2,(0,l.l)(m.Zg)),r.__param(3,(0,l.l)(h.bh)),r.__param(4,(0,l.l)(n.oq)),r.__param(5,(0,l.l)(p.xq))],a);b.mEa=a;},963:function(r,b,a){var l,f,k,d;function c(){return f.Au.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;r=a(5163);l=a(22674);f=a(90349);k=a(70999);d=a(36129);fa(c,f.Au);c.prototype.Q3=function(g,m,h,n,p){this.N$a(h);this.K$a(n);this.I$a(p);this.cQa=this.oe;this.oe=g.createSession(m);this.XRa(h);this.TRa(n);this.RRa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var m;function g(h){return h && h.sessionId?h.close():Promise.resolve();}m=this;this.Uja=void 0;return this.oe?Promise.all([g(this.oe),g(this.cQa)]).then(function(){}).finally(function(){m.oe=void 0;m.cQa=void 0;}):Promise.reject(new k.Gg(d.U.zDa,d.S.JI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,m,h){this.initDataType=g;this.initData=m;return f.Au.prototype.generateRequest.call(this,g,m,h);};a=c;a=r.__decorate([(0,l.T)()],a);b.JLa=a;},90349:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.HV=t;this.is=v;this.jc=w;this.xh=y;this.di=x;this.Yg=z;(0,k.io)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Au=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(36129);g=a(63368);m=a(42207);h=a(70999);n=a(74870);p=a(2248);q=a(23563);a=a(84408);c.prototype.dy=function(){if(this.oe)return this.oe.sessionId;};c.prototype.P_b=function(t,v){return this.HV.requestMediaKeySystemAccess(t,v);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,v){this.oe=t.createSession(v);};c.prototype.Q3=function(){return Promise.reject(new h.Gg(d.U.PZ));};c.prototype.jPb=function(){return !!this.oe;};c.prototype.setServerCertificate=function(t,v){return this.is.i2(t.setServerCertificate) && v?t.setServerCertificate(v):Promise.resolve();};c.prototype.generateRequest=function(t,v){return this.oe?this.oe.generateRequest(t,v[0]):Promise.reject(new h.Gg(d.U.PZ,d.S.JI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.oe?this.oe.update(t[0]):Promise.reject(new h.Gg(d.U.HDa,d.S.JI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.oe?this.oe.load(t):Promise.reject(new h.Gg(d.U.Djb,d.S.JI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Uja=void 0;if(!this.oe)return Promise.reject(new h.Gg(d.U.zDa,d.S.JI,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.dy() && (t=this.oe.close());this.oe=void 0;return t;};c.prototype.remove=function(){return this.oe?this.oe.remove():Promise.reject(new h.Gg(d.U.Fjb,d.S.JI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.nH=function(){return Promise.reject(new h.Gg(d.U.xca,void 0,"Unable to renew a key session, not supported"));};c.prototype.XRa=function(t){if(!this.oe)throw ReferenceError("Unable to add message handler, key session is not valid");this.oe.addEventListener(l.LDa,t);};c.prototype.TRa=function(t){if(!this.oe)throw ReferenceError("Unable to add key status handler, key session is not valid");this.oe.addEventListener(l.KDa,t);};c.prototype.RRa=function(t){if(!this.oe)throw ReferenceError("Unable to add error handler, key session is not valid");this.oe.addEventListener(l.JDa,t);};c.prototype.xsb=function(t){var v;v=this;if(!this.oe)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Uja=t;this.oe.closed.then(function(w){var y;return null === (y=v.Uja) || void 0 === y?void 0:y.call(v,w);});};c.prototype.N$a=function(t){if(!this.oe)throw ReferenceError("Unable to remove message handler, key session is not valid");this.oe.removeEventListener(l.LDa,t);};c.prototype.K$a=function(t){if(!this.oe)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.oe.removeEventListener(l.KDa,t);};c.prototype.I$a=function(t){if(!this.oe)throw ReferenceError("Unable to remove error handler, key session is not valid");this.oe.removeEventListener(l.JDa,t);};u=l=c;u.LDa="message";u.KDa="keystatuseschange";u.JDa="error";u=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.$I)),r.__param(1,(0,f.l)(m.Qf)),r.__param(2,(0,f.l)(p.Zg)),r.__param(3,(0,f.l)(n.bh)),r.__param(4,(0,f.l)(q.oq)),r.__param(5,(0,f.l)(a.xq))],u);b.Au=u;},65315:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,v,w){this.Ni=u;this.jc=t;this.di=v;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(2248);g=a(70999);m=a(59818);h=a(23563);n=a(4203);p=a(31149);q=a(82100);c.prototype.B3=function(){return !1;};c.prototype.Dia=function(){return !0;};c.prototype.qja=function(){return !0;};c.prototype.Hna=function(){return q.pu;};c.prototype.v5=function(){return this.di.Bwa?this.jc.decode(this.di.Bwa):this.jc.decode(q.QOa);};c.prototype.joa=function(){return [q.Zr,q.L0,q.K0];};c.prototype.Gpa=function(){Promise.reject(new p.Mc(f.U.xca));};c.prototype.ska=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,FG:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Qx=function(u){var t,v,w;t=new g.Gg(f.U.sq);v=null === u || void 0 === u?void 0:u.code;null != v && void 0 !== v?(v=parseInt(v,10),t.ec=1 <= v && 9 >= v?f.S.Yr + v:f.S.Yr):t.ec=u instanceof m.vq?f.S.pP:f.S.ol;try{w=u.message.match(/\((\d*)\)/)[1];t.Vc=this.Ni.DF(w,4);}catch(y){}t.MS(u);return t;};c.prototype.yL=function(){};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Bw)),r.__param(1,(0,l.l)(d.Zg)),r.__param(2,(0,l.l)(h.oq)),r.__param(3,(0,l.l)(n.Xb))],a);b.dCa=a;},20674:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q){this.Ni=p;this.jc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.ODa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(2248);g=a(70999);m=a(59818);h=a(31149);n=a(82100);c.prototype.B3=function(){return !0;};c.prototype.Dia=function(){return !1;};c.prototype.qja=function(){return !1;};c.prototype.Hna=function(){return n.pu;};c.prototype.v5=function(){};c.prototype.joa=function(){return [];};c.prototype.Gpa=function(){Promise.reject(new h.Mc(f.U.xca));};c.prototype.ska=function(p){var q;q=new Uint8Array(p.message);q=this.nma(q,"PlayReadyKeyMessage","Challenge");q=this.jc.decode(q);return {type:p.type,sessionId:p.target.sessionId,FG:[q],messageType:p.messageType};};c.prototype.Qx=function(p){var q,u,t;q=new g.Gg(f.U.sq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.ec=1 <= u && 9 >= u?f.S.Yr + u:f.S.Yr):q.ec=p instanceof m.vq?f.S.pP:f.S.ol;try{t=(/\((\d+)\)/).exec(p.message);q.Vc=this.Ni.DF(Number(t && t[1]),4);}catch(v){}q.MS(p);return q;};c.prototype.nma=function(p,q){var t,v,w;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";v=p.length;for(t=0;t < v;t++){w=p[t];0 < w && (u+=String.fromCharCode(w));}v="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){w=arguments[t];if(0 > u.search(w))return "";w="(?:[^:].*:|)" + w;v="[\\s\\S]*<" + w + "[^>]*>" + v + "</" + w + ">[\\s\\S]*";}return (u=u.match(new RegExp(v)))?u[1]:"";};c.prototype.yL=function(){};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Bw)),r.__param(1,(0,l.l)(d.Zg))],a);b.ODa=a;},47450:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.M0=void 0;a.GNb=function(c){return "ID" + (c + 1);};a.fdb=function(c){return Number(c.substr(2)) - 1;};b.M0=a;},8265:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t;function c(v,w,y,x){this.Ni=v;this.jc=w;this.Yg=y;this.qh=x;}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(84408);g=a(70999);m=a(59818);h=a(2248);n=a(82100);p=a(97737);q=a(31149);u=a(7605);t=a(47450);c.prototype.B3=function(){return !1;};c.prototype.Dia=function(){return !1;};c.prototype.qja=function(){return !0;};c.prototype.Hna=function(){return n.pu;};c.prototype.v5=function(){return this.jc.decode(n.TZ);};c.prototype.joa=function(){return [];};c.prototype.Gpa=function(v){v.nH();};c.prototype.ska=function(v){var w,y;w=[];if(v.messageType === p.Ada || v.messageType === p.zda){if(v.messageType === p.Ada){y=this.Yg.encode(new Uint8Array(v.message));w=JSON.parse(y);y=w.map(function(x){return x.keyID;});w=w.map(function(x){return x.payload;});}else w=[this.jc.encode(new Uint8Array(v.message))];if(0 === w.length || !w.every(function(x){return x && x.length;}))throw new q.Mc(f.U.EDa);w=this.P5b(w);w=this.Yg.decode(JSON.stringify(w));}else w=new Uint8Array(v.message);return {type:v.type,sessionId:v.target.sessionId,FG:[w],messageType:v.messageType,Dv:y};};c.prototype.Qx=function(v){var w,y,x,z;y=null === (w=v.target) || void 0 === w?void 0:w.error;if(y)(x=y.systemCode,z=y.code);w=new g.Gg(f.U.sq,v instanceof m.vq?f.S.pP:f.S.Yr,x?this.Ni.DF(x,4):z,"",y);w.MS(v);return w;};c.prototype.P5b=function(v){v=v.map(function(w,y){return {ID:t.M0.GNb(y),PAYLOAD:w};});return {VERSION:this.qh.hv?3:1,CHALLENGES:v};};c.prototype.yL=function(v,w){var y,x;y=this;if(w && this.qh.hv)try{x=this.Yg.encode(w[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.M0.fdb(z.ID);z=y.jc.decode(z.DHB).subarray(4,12);A=y.jc.decode(v[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.Gg(f.U.Fmb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Bw)),r.__param(1,(0,l.l)(h.Zg)),r.__param(2,(0,l.l)(d.xq)),r.__param(3,(0,l.l)(u.Xw))],a);b.IMa=a;},63341:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.GZa=void 0;r=a(22674);c=a(62502);l=a(15031);f=a(76691);k=a(69936);d=a(33399);g=a(14318);m=a(75447);h=a(69484);b.GZa=new r.dd(function(n){n(h.vEa).to(c.uEa).ga();n(h.lMa).to(l.kMa).ga();n(h.jMa).to(f.iMa).ga();n(g.rEa).to(k.qEa).ga();n(m.zFa).to(d.yFa).ga();});},14318:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rEa="FtlDataParserSymbol";},69484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lMa="ReportSyncSymbol";b.jMa="ReportApiErrorSyncSymbol";b.tEa="FtlProbeConfigSymbol";b.vEa="FtlProbeSymbol";},75447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zFa="HttpRequesterSymbol";},69936:function(r,b,a){var l,f,k,d,g;function c(m,h){this.is=m;this.json=h;(0,f.io)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(63368);d=a(5021);a=a(42207);c.prototype.parse=function(m){var n;m=this.json.parse(m);if(!this.is.vha(m))throw Error("FtlProbe: param: not an object");if(m.next && !this.is.CR(m.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.CR(m.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(m.pulse_delays && !this.is.DA(m.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.CR(m.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.DA(m.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Am(m.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.TR(m.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var h=0;h < m.urls.length;++h){n=m.urls[h];if(!this.is.vha(n))throw Error("FtlProbe: param.urls[" + h + "]: not an object");if(!this.is.jp(n.name))throw Error("FtlProbe: param.urls[" + h + "].name: not a string");if(!this.is.jp(n.url))throw Error("FtlProbe: param.urls[" + h + "].url: not a string");}return {aZb:m.pulses,U9a:m.pulse_delays?m.pulse_delays.map(d.Ob):[],$Yb:(0,d.Ob)(m.pulse_timeout),V3a:m.next?(0,d.Ob)(m.next):void 0,urls:m.urls,Yqa:m.logblob,context:m.ctx};};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Qf)),r.__param(1,(0,l.l)(k.tD))],g);b.qEa=g;},34731:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q){n=d.Ne.call(this,n,"FtlProbeConfigImpl") || this;n.fh=p;n.sa=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;r=a(5163);l=a(30869);f=a(22674);k=a(5021);d=a(64174);g=a(24747);m=a(12501);a=a(83767);fa(c,d.Ne);Ya.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.cna + (-1 === this.cna.indexOf("?")?"?":"&") + "monotonic=" + this.sa.H6a + "&device=web";}},Ecb:{configurable:!0,enumerable:!0,get:function(){return k.Ga;}},Vma:{configurable:!0,enumerable:!0,get:function(){return "";}},cna:{configurable:!0,enumerable:!0,get:function(){return this.fh.endpoint + "/ftl/probe" + (this.Vma?"?force=" + this.Vma:"");}}});h=c;r.__decorate([m.config(m.ed,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([m.config(m.ik,"ftlStartDelay")],h.prototype,"Ecb",null);r.__decorate([m.config(m.string,"ftlEndpointForceParam")],h.prototype,"Vma",null);r.__decorate([m.config(m.url,"ftlEndpoint")],h.prototype,"cna",null);h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.wl)),r.__param(1,(0,f.l)(g.aZ)),r.__param(2,(0,f.l)(l.bg))],h);b.sEa=h;},62502:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,v,w,y){this.config=p;this.Y1a=q;this.xc=u;this.gf=t;this.L_b=v;this.sva=w;this.APb=0;this.la=y.$a("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.uEa=void 0;r=a(5163);f=a(22674);k=a(5021);d=a(53085);g=a(87386);m=a(14318);h=a(75447);a=a(69484);c.prototype.start=function(){this.config.enabled && !this.Fr && (this.Fr=this.xc.nk(this.config.Ecb,this.LN.bind(this)));};c.prototype.stop=function(){this.Fr && (this.Fr.cancel(),this.Fr=void 0);};c.prototype.LN=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.APb++;this.ALb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.rMb(u,t.url,t.name);})).then(function(t){0 < t.length && p.L_b.QW({data:t,context:u.context,Yqa:u.Yqa});}).then(function(){return u;});}).then(function(u){p.Fr && (u.V3a?p.Fr=p.xc.nk(u.V3a,p.LN.bind(p)):p.stop());}).catch(function(u){return p.la.error("FTL run failed",u);});};c.prototype.ALb=function(p){var q;q=this;return this.Y1a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.sva.QW({url:p,status:u.status,Sta:"FTL API request failed",Xl:u.Xl}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.gf.parse(u.body);return t instanceof Error?(q.sva.QW({url:p,status:4,Sta:"FTL Probe API JSON parsing error",Xl:u.Xl}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.sva.QW({url:p,status:0,Sta:u.message}),q.la.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.rMb=function(p,q,u){var t;t=this;return new Promise(function(v,w){var G;for(var y,x,z,A,B,C=[],D={},F=0;F < p.aZb;(D={iba:D.iba,jba:D.jba},++F)){D.iba=F < p.U9a.length?p.U9a[F]:k.Ga;D.jba="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (F + 1);G=(function(E){return function(){return new Promise(function(H,M){t.xc.nk(E.iba,function(){l.uYb(t.Y1a,E.jba,p.$Yb).then(function(L){function K(O,J,I){O || (O=I.headers[J]);return O;}y=K(y,"via",L);x=K(x,"x-ftl-probe-data",L);z=K(z,"x-ftl-error",L);A=K(A,"x-ftl-probe-recv-ts",L);B=K(B,"latency-trace",L);L={status:L.status,Xl:L.Xl,o8b:y || "",wxb:x || "",gT:z || "",G1b:A || "",ZPb:t.sWb(B)};H(L);}).catch(function(L){M(L);});});});};})(D);C.push(0 < F?C[F - 1].then(G):G());}Promise.all(C).then(function(E){v({url:q,name:u,data:E});}).catch(function(E){w(E);});});};c.prototype.sWb=function(p){var q;if(p){q={};p=la(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.uYb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};n=l=c;n=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.tEa)),r.__param(1,(0,f.l)(h.zFa)),r.__param(2,(0,f.l)(d.Th)),r.__param(3,(0,f.l)(m.rEa)),r.__param(4,(0,f.l)(a.lMa)),r.__param(5,(0,f.l)(a.jMa)),r.__param(6,(0,f.l)(g.ab))],n);b.uEa=n;},33399:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t){this.sa=q;this.d9b=u;this.performance=t;(0,f.io)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;r=a(5163);f=a(66523);k=a(64274);d=a(72574);g=a(63368);m=a(30869);h=a(22674);n=a(81438);p=a(5021);c.prototype.get=function(q,u,t){var v;v=this;return new Promise(function(w,y){var x,z,A;try{x=v.d9b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.ca(p.pa));z=v.sa.de;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=v.sa.de.qa(z);break;case XMLHttpRequest.DONE:B=v.sa.de.qa(z);B={body:x.responseText,status:x.status,headers:l.Cta(x.getAllResponseHeaders()),Xl:v.Rna(q,(0,d.wa)(x.responseText.length),B,A)};w(B);}};x.send();}catch(B){y(B);}});};c.Cta=function(q){var u,v,w;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){v=q[t];w=v.indexOf(": ");0 < w && (u[v.substring(0,w).toLowerCase()]=v.substring(w + 2));}return u;};c.prototype.Rna=function(q,u,t,v){u={size:u,duration:t,$xa:v};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,k.qM)(u);q.decodedBodySize && (u.size=(0,d.wa)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.nXa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.Rxa=(0,p.timestamp)(q.connectEnd - q.connectStart),u.$xa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.fya=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.fya=(0,p.timestamp)(t),u.Rxa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)),0 < this.performance.timeOrigin && 0 < q.responseStart && (u.hab=(0,p.timestamp)(this.performance.timeOrigin + q.requestStart),u.vab=(0,p.timestamp)(this.performance.timeOrigin + q.responseStart)));return u;};a=l=c;a=l=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(m.bg)),r.__param(1,(0,h.l)(n.YOa)),r.__param(2,(0,h.l)(g.lea)),r.__param(2,(0,h.optional)())],a);b.yFa=a;},76691:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.Ff=h;this.Pra=n;}Object.defineProperty(b,"__esModule",{value:!0});b.iMa=void 0;r=a(5163);f=a(22674);k=a(72574);d=a(5021);g=a(45118);a=a(31850);c.prototype.QW=function(h){h=this.Pra.Rs("ftlProbeError","info",l.Z8b({url:h.url,sc:h.status,pf_err:h.Sta},h));this.Ff.vc(h);};c.Z8b=function(h,n){n.Xl && (n=n.Xl,l.Mn(h,"d",n.duration),l.Mn(h,"dns",n.nXa),l.Mn(h,"tcp",n.Rxa),l.Mn(h,"tls",n.fya),l.Mn(h,"ttfb",n.$xa),l.Mn(h,"client_send_ts",n.hab),l.Mn(h,"client_recv_ts",n.vab),h.sz=n.size.ca(k.Wr));return h;};c.Mn=function(h,n,p){p && (h[n]=p.ca(d.pa));};m=l=c;m=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.pl)),r.__param(1,(0,f.l)(a.Nw))],m);b.iMa=m;},15031:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.Ff=h;this.Pra=n;}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;r=a(5163);f=a(22674);k=a(72574);d=a(5021);g=a(45118);a=a(31850);c.prototype.QW=function(h){var n;n={ctx:h.context,data:h.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.$8b({d:q.Xl.duration.ca(d.pa),sc:q.status,sz:q.Xl.size.ca(k.Wr),via:q.o8b,cip:q.wxb,err:q.gT,server_recv_ts:q.G1b},q);})};})};h=this.Pra.Rs(h.Yqa,"info",n);this.Ff.vc(h);};c.$8b=function(h,n){l.Mn(h,"dns",n.Xl.nXa);l.Mn(h,"tcp",n.Xl.Rxa);l.Mn(h,"tls",n.Xl.fya);l.Mn(h,"ttfb",n.Xl.$xa);l.Lsb(h,n.ZPb);l.Mn(h,"client_send_ts",n.Xl.hab);l.Mn(h,"client_recv_ts",n.Xl.vab);return h;};c.Lsb=function(h,n){n && (h.rtts=n);};c.Mn=function(h,n,p){p && (h[n]=p.ca(d.pa));};m=l=c;m=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.pl)),r.__param(1,(0,f.l)(a.Nw))],m);b.kMa=m;},43367:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Tk=void 0;r=a(22674);c=a(80012);l=a(26971);b.Tk=new r.dd(function(f){f(c.JGa).to(l.IGa);});},80012:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JGa="LicenseBrokerFactorySymbol";},20124:function(r,b,a){var l,f,k,d,g;function c(m,h){this.Kb=m;this.j=h;this.VU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.aP=void 0;r=a(5163);l=a(36129);f=a(22674);k=a(32687);d=a(3887);g=a(31276);c.prototype.b5=function(m){this.VU.forEach(function(h){return h(m);});};c.prototype.pd=function(m,h,n){this.j.pd(m,h,n);};c.prototype.Gsb=function(m){-1 === this.VU.indexOf(m) && this.VU.push(m);};c.prototype.w_b=function(m){m=this.VU.indexOf(m);0 <= m && this.VU.splice(m,1);};c.prototype.h1a=function(m){var h,n;h={};(0,k.Wc)(m.code)?h.Aa=(0,l.dEa)(m.code):h.Aa=l.S.ol;try{n=m.message.match(/\((\d*)\)/)[1];h.De=(0,g.Nia)(n,4);}catch(p){}h.Nb=(0,d.ue)(m);return h;};a=c;a=r.__decorate([(0,f.T)()],a);b.aP=a;},94951:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t;function c(v,w,y,x,z){x=p.aP.call(this,x,z) || this;x.config=v;x.di=w;x.bd=y;x.log=(0,f.Fh)(x.j,"LegacyLicenseBroker");x.Ul=x.config().Ul;x.config().L9a?(0,d.A3a)()?x.Oaa=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:g.DD}):x.Oaa=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;r=a(5163);l=a(36129);f=a(31276);k=a(95162);d=a(52569);g=a(22365);m=a(22674);h=a(99037);n=a(91581);p=a(20124);q=a(24735);u=a(5021);fa(c,p.aP);c.prototype.NVa=function(v){var w;w=void 0 === w?this.j:w;return new this.yr.II(v,function(y){return w.J3.OF(y);},function(y){return w.J3.release(y);},{df:!1,ek:!1});};c.prototype.RA=function(v){var w,y,x,z,A,B;w=this;v=void 0 === v?this.j:v;y=a(24066).On;this.yr.II || this.pd(l.U.SI,l.S.yjb);x=(0,f.Fh)(v,"Eme");z=this.NVa(x);A=f.Ba.get(k.oQ);B=A.L3(v.qc.value.streams);A=A.R3(v.Fg.value.streams);return this.yr.KI(x,function(C){return v.ie(C);},{df:!1,ek:!1,sa:{getTime:y},rd:z,DW:!!this.Oaa,$:this.Kb.$,wz:this.config().WXa,onerror:function(C,D,F){return w.pd(C,D,F);},zsa:function(){},WG:!0,yub:B,t8b:A,Dqa:this.di.B2.ca(u.pa)});};c.prototype.setMediaKeys=function(v){var w;w=this;return this.Oaa?new Promise(function(y,x){if(w.Kb.$)w.Kb.$.setMediaKeys(v).then(function(){y();}).catch(function(z){var A;A=w.h1a(z);x({ia:!1,code:l.U.bJ,ec:A.Aa,Vc:A.De,Nb:A.Nb,message:"Set media keys is a failure",$b:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.tYa=function(v){return {code:v.code,subCode:v.ec,extCode:v.Vc,edgeCode:v.Pm,message:v.message,errorDetails:v.Nb,errorData:v.kB,state:v.state};};c.prototype.Hwa=function(v,w,y){var z,A,B;function x(){A.nH().catch(function(C){z.log.error("Unable to set the license",z.tYa(C));C.$b && C.$b.Nb && (C.Nb=C.Nb?C.Nb + C.$b.Nb:C.$b.Nb);z.pd(C.code,C,C.Vc);});}z=this;y=void 0 === y?this.j:y;A=y.ce;this.log.info("Setting the license");B=w?function(){return Promise.resolve();}:function(){return A.Qg(z.J5(!1),v);};return (w?function(){return A.D2(z.Kb.$);}:function(){return A.create(z.Ul).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.b5(y.P);z.Kb.kgb.then(function(){z.config().SB && (w || z.config().uT) && (z.W$a=ob.setTimeout(x,z.config().SB));});}).catch(function(C){z.log.error("Unable to set the license",z.tYa(C));C.$b && C.$b.Nb && (C.Nb=C.Nb?C.Nb + C.$b.Nb:C.$b.Nb);if(w)throw Error(C && C.message?C.message:"failed to set license");z.pd(C.code,C,C.Vc);});};c.prototype.Yy=function(){return Promise.resolve();};c.prototype.X8=function(){var w;function v(){var y;w.j.ce=w.RA();y=[];w.j.Ot.forEach(function(x){y.push((0,f.Hq)(x));});w.Hwa(y);}w=this;this.WU || (this.WU=!0,this.yr.KI?this.j.Ot?this.config().aT && this.config().Ar?this.bd.e_a(this.j.P).then(function(y){w.j.ce=y;return y.hza.then(function(){var x;x=[];w.j.Ot.forEach(function(z){x.push((0,f.Hq)(z));});return w.Hwa(x,!0).then(function(){var z;if(y.vec)w.pd(l.U.Cjb);else {z=(0,f.Fh)(w.j,"Eme");y.jfb({log:z,hn:function(A){return w.j.ie(A);}},{rd:w.NVa(z),onerror:function(A,B,C){return w.pd(A,B,C);}});w.j.my(y.Xc || ({}));w.j.RE="videopreparer";}});});}).catch(function(y){w.log.warn("eme not in cache",y);v();}):v():(this.log.error("Missing the PSSH on the video track, closing the player"),this.pd(l.U.Imb)):this.pd(l.U.SI,l.S.zjb));};c.prototype.cab=function(v){var w;v=void 0 === v?this.j:v;v.ce=this.RA();w=[];v.Ot.forEach(function(y){w.push((0,f.Hq)(y));});return this.Hwa(w,!1,v);};c.prototype.J5=function(v){return this.config().uT?q.yh.xn:v?q.yh.xn:q.yh.rm;};Ya.Object.defineProperties(c.prototype,{yr:{configurable:!0,enumerable:!0,get:function(){return f.Ba.get(n.s0);}},hC:{configurable:!0,enumerable:!0,get:function(){return this.Oaa?"encrypted":this.Kb.MDa + "needkey";}}});t=c;r.__decorate([h.v7],t.prototype,"yr",null);r.__decorate([h.v7],t.prototype,"hC",null);t=r.__decorate([(0,m.T)()],t);b.EGa=t;},26971:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,v){this.sF=p;this.di=q;this.config=u;this.xM=t;this.bd=v;}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;r=a(5163);l=a(22674);f=a(47737);k=a(128);d=a(94951);g=a(23563);m=a(4203);h=a(92395);a=a(66476);c.prototype.create=function(p,q,u){return p?new k.KGa(this.config(),this.di,this.bd,q,u,this.sF,this.xM()):new d.EGa(this.config,this.di,this.bd,q,u);};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.NZ)),r.__param(1,(0,l.l)(g.oq)),r.__param(2,(0,l.l)(m.Xb)),r.__param(3,(0,l.l)(h.SP)),r.__param(4,(0,l.l)(a.PD))],n);b.IGa=n;},128:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z,A){y=h.aP.call(this,y,x) || this;y.config=t;y.di=v;y.bd=w;y.sF=z;y.W7=A;y.log=(0,f.Fh)(y.j,"LicenseBroker");y.WU=new Set();y.Lra=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;r=a(5163);l=a(36129);f=a(31276);k=a(28289);d=a(5021);g=a(22674);m=a(99037);h=a(20124);n=a(24735);p=a(85001);q=a(82100);u=a(56039);fa(c,h.aP);c.prototype.X8=function(){var t,v;t=this;v=this.j.aa;this.WU.has(v.P) || (this.WU.add(v.P),this.Ntb(v).catch(function(){return t.dab(v);}).then(function(){return t.LSa(v);}).catch(function(w){return t.KSa(v,w);}).catch(function(w){return t.pd(w.code,w,w.Vc);}));};c.prototype.Ntb=function(t){var v;v=this;return Promise.all([this.bd.e_a(t.P),this.sF()]).then(function(w){var y,x;w=la(w);y=w.next().value;x=w.next().value;return y.H$.then(function(z){var A;A=v.W7.mediaKeys;if(A && A !== z.mediaKeys)return (v.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === y.source && (A=v.a0a(t),x.E6a(A,z));return z;}).then(function(z){return v.D2(z,t,y.source);});}).catch(function(w){v.log.warn("eme not in cache",w);throw w;});};c.prototype.D2=function(t,v,w){this.D9a(t,v);v.RE=w;this.W7.WRa(t.mediaKeys);return t.lia();};c.prototype.nHb=function(t){var v;v={};t.forEach(function(w){v[(0,k.BXa)(w.AV)]=w.time.ca(d.pa);});return v;};c.prototype.D9a=function(t,v){var w;w=this;v.ce=t;t.Z1b(function(y){w.pd(y.code,y,y.Vc);});};c.prototype.LSa=function(t){this.log.info("Successfully applied license for xid: " + t.ma + ", viewable: " + t.P + ", segment: " + t.I);this.my(t);this.Lra?this.b5(t.P):this.setMediaKeys(t);};c.prototype.KSa=function(t,v){this.my(t);throw v;};c.prototype.my=function(t){t.ce && t.my(this.nHb(t.ce.Xc));};c.prototype.a0a=function(t){var v,w;v=t.tw[0];w=v.streams[0].Hd;w=(0,q.Mpa)(w);v=(0,u.Mna)(v.streams);return {type:this.J5(!1),initData:t.Ot.map(function(y){return (0,f.Hq)(y);}),O6:w,context:{$:this.Kb.$,i7:v},yi:{P:t.P,ma:t.ma,Dd:t.Dd,Pk:t.Pk,oi:t.W.oi,$f:t.W.Fa.$f}};};c.prototype.dab=function(t){var v;v=this;return this.sF().then(function(w){var y;y=v.a0a(t);v.WU.add(t.P);return w.Qg(y,v.W7).then(function(x){v.D9a(x,t);v.j.fireEvent(p.ha.YU,{P:t.P});return x.lia();});});};c.prototype.setMediaKeys=function(t){var v;v=this;if(this.Lra)this.log.trace("Media Keys already set");else try{this.Kb.$?(this.Lra=!0,this.Kb.$.setMediaKeys(t.ce.mediaKeys).then(function(){v.b5(t.P);}).catch(function(w){w=v.h1a(w);v.pd(l.U.bJ,w,w.De);})):this.b5(t.P);}catch(w){this.pd(l.U.bJ,w,void 0);}};c.prototype.Yy=function(){var t,v;t=this;v=this.j.aa.ce;return v?this.sF().then(function(w){return w.release(v,t.W7).then(function(y){t.log.trace("Successfully released the license");return y.close();}).catch(function(y){t.log.error("Unable to release the license",y);});}):Promise.resolve();};c.prototype.cab=function(t){var v;v=this;t=void 0 === t?this.j:t;return this.dab(t).then(function(){return v.LSa(t);}).catch(function(w){return v.KSa(t,w);});};c.prototype.J5=function(t){return this.di.uT?n.yh.xn:t?n.yh.xn:n.yh.rm;};Ya.Object.defineProperties(c.prototype,{hC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Ul:{configurable:!0,enumerable:!0,get:function(){return this.config.Ul;}}});a=c;r.__decorate([m.v7],a.prototype,"hC",null);a=r.__decorate([(0,g.T)()],a);b.KGa=a;},13847:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kAa="AppLogSinkSymbol";},21009:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.b5a=void 0;r=a(22674);c=a(97996);l=a(31966);f=a(79428);k=a(50723);d=a(33345);g=a(74621);m=a(4203);h=a(41320);n=a(69124);p=a(74031);q=a(53085);u=a(33554);t=a(13847);v=a(53234);w=a(33945);y=a(31850);x=a(81829);z=a(45118);A=a(98326);B=a(52025);C=a(30895);D=a(36792);F=a(74714);G=a(73449);E=a(26158);b.b5a=new r.dd(function(H){H(z.pl).to(f.cHa).ga();H(v.tIa).to(k.sIa).ga();H(w.rHa).to(d.qHa).ga();H(x.nHa).to(g.mHa).ga();H(z.nda).to(h.bHa).ga();H(y.Nw).to(n.jHa).ga();H(x.lHa).to(p.kHa).ga();H(A.KP).to(B.JP).ga();H(A.qda).to(F.oHa).ga();H(G.NP).to(E.MP).ga();H(C.hDa).to(D.gDa).ga();H(t.kAa).to(l.jAa).ga();H(z.dHa).hY(function(M){return function(){return M.kb.get(c.ZP)().then(function(L){return new Promise(function(K){var J,I,N;function O(){I() && N() && L.GV?K(M.kb.get(z.pl)):J.Lj(O);}J=M.kb.get(q.Th);I=M.kb.get(m.Xb);N=M.kb.get(u.Gw);J.Lj(O);});});};});});},30895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hDa="DownloadReportBuilderSymbol";},45118:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nda="LogBatcherConfigSymbol";b.pl="LogBatcherSymbol";b.dHa="LogBatcherProviderSymbol";},33945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rHa="LogblobSenderSymbol";},31850:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nw="LogMessageFactorySymbol";},81829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lHa="LogMessageRulerConfigSymbol";b.nHa="LogMessageRulerSymbol";},98326:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KP="LogblobBuilderFactorySymbol";b.qda="LogblobBuilderCommonSymbol";},18169:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gc=void 0;r=b.Gc || (b.Gc={});r.mvb="bitraterestriction";r.hUa="cdnsel";r.Hx="chgstrm";r.debug="debug";r.tDb="dlreport";r.Yx="endplay";r.CU="intrplay";r.Hy="midplay";r.dN="playbackaborted";r.PW="renderstrmswitch";r.AC="repos";r.Tt="resumeplay";r.J1b="serversel";r.Lr="startplay";r.GX="statechanged";r.transition="transition";r.swa="segmentdropped";r.$tb="asereport";r.MQb="livereport";r.LQb="livepipelinefailover";r.cTa="audioswitch";r.xTa="blockedautoplay";r.config="config";r.Gfc="ftlProbeError";r.J4b="subtitleerror";r.K4b="subtitleqoe";r.L5b="timedtextrebuffer";r.$db="timedtextswitch";r.Bcb="speedchanged";},73449:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NP="LogblobMonitorFactorySymbol";},53234:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tIa="MessageQueueSymbol";},31966:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u){var t;t=this;this.gRb=n;this.zy=p;this.config=u;this.cva=[];this.gRb.U9(l.Kgb,this.hMb.bind(this));q().then(function(v){var w;w=u().Ap.gHb;t.WRb=w?h.dj[w.toUpperCase()]:h.dj.Bk;t.Ff=v;t.z1b();});}Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;r=a(5163);f=a(22674);k=a(4203);d=a(36410);g=a(45118);m=a(31850);h=a(87386);c.prototype.hMb=function(n,p){this.Ff?this.W9a(n,p):this.cva.push([n,p]);};c.prototype.z1b=function(){var n,p;n=this;p=this.cva;this.cva=[];p.forEach(function(q){n.W9a(q[0],q[1]);});};c.prototype.W9a=function(n,p){var q;if(this.Ff && this.R2b(n)){q={debugMessage:n.message,debugCategory:n.Gm};n.Fc.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.zy.Rs("debug",h.dj[n.level].toLowerCase(),q,p);this.Ff.vc(n);}};c.prototype.R2b=function(n){var p;p=this.WRb;return void 0 !== p && n.level <= p && !n.Fc.find(function(q){return q.fT(h.nP);});};a=l=c;a.Kgb="adaptorAll";a=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.UI)),r.__param(1,(0,f.l)(m.Nw)),r.__param(2,(0,f.l)(g.dHa)),r.__param(3,(0,f.l)(k.Xb))],a);b.jAa=a;},36792:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;r=a(5163);l=a(82956);f=a(51344);k=a(3887);d=a(36129);g=a(45146);m=a(22365);h=a(22674);a=a(4203);c.prototype.construct=function(p,q){var u,t,v;u=this;t={};p.forEach(function(w){var y;y=w.url;t[y] || (t[y]=[]);t[y].push(w);});v=[];(0,k.Tf)(t,function(w,y){v.push(u.PLb(y,q));});return {urls:v};};c.prototype.PLb=function(p,q){var u,t,v,w,y;u=this;v=p[0];w={url:v.url,bitrate:v.bitrate,cdnid:null === (t=v.Cc) || void 0 === t?void 0:t.id,dltype:v.vDb,id:v.Ub};y={};p.forEach(function(x){var z;z=u.IOb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,k.Tf)(y,function(x,z){"fail" === x?w.failures=u.kJb(z,q):"success" === x && (w.downloads=u.aJb(z,q));});return w;};c.prototype.aJb=function(p,q){var u,t,v;u=this;t={};p.forEach(function(w){var y;y=w.Nxb;t[y] || (t[y]=[]);t[y].push(w);});v=[];(0,k.Tf)(t,function(w,y){var x;x=[];y.forEach(function(z){x.push(z);u.pOb(z) && (v.push(u.x_a(x,q,w)),x=[]);});0 < x.length && v.push(u.x_a(x,q,w));});return v;};c.prototype.x_a=function(p,q,u){var t,v,w,y,z;t=p.sort(function(A,B){return A.Wl.Wi < B.Wl.Wi?-1:A.Wl.Wi > B.Wl.Wi?1:0;});v=t[0].Wl;w=v.az;y=v.Wi;v=v.cq;for(var x=1;x < p.length;x++){z=p[x].Wl;z.az < w && (w=z.az);z.Wi < y && (y=z.Wi);z.cq > v && (v=z.cq);}x=this.QKb(t);z=t[t.length - 1];return {time:w - q,tcpid:u?parseInt(u):-1,tresp:y - w,first:x,ranges:this.RKb(t,x),dur:v - y,trace:this.vB(p),status:this.HL(z),enctimeinfo:z.Kla};};c.prototype.QKb=function(p){var q;q=0;p.forEach(function(u){u.Zv && (q=(0,m.Pw)(q,u.Zv[0]));});return q;};c.prototype.RKb=function(p,q){var u;u=[];p.forEach(function(t){t.Zv?u.push([t.Zv[0] - q,t.Zv[1] - q]):u.push([0,-1]);});return u;};c.prototype.vB=function(p){var q,u;q=[];p.forEach(function(t){var v;t=t.Wl;if(u){v=t.az - u.cq;0 < v && q.push([v,-2]);v=(0,m.fs)(u.cq,t.az);v=t.Wi - v;0 < v && q.push([v,-3]);}q.push([t.cq - t.Wi,t.H3 || 0]);u=t;});return q;};c.prototype.pOb=function(p){if(p.Aa === d.S.pD || p.Aa === d.S.qD)return !0;};c.prototype.HL=function(p){if(p.ia)return "complete";if(p.Aa === d.S.pD)return "abort";if(p.Aa === d.S.qD)return "stall";(0,g.oa)(!1,"download status should never be: other");return "other";};c.prototype.kJb=function(p,q){var u,t;u=this;t=[];p.forEach(function(v){var w;w=v.Wl;v={time:w.Wi - q,tresp:w.Wi - w.az,dur:w.cq - w.Wi,range:v.Zv,reason:u.TKb(v),httpcode:v.Kl,nwerr:(0,l.p0a)(v.Aa),enctimeinfo:v.Kla};t.push(v);});return t;};c.prototype.TKb=function(p){return p.Kl || p.Aa === d.S.yP?"http":p.Aa === d.S.AP?"timeout":"network";};c.prototype.IOb=function(p){return p.ia || void 0 === p.ia || p.Aa === d.S.pD || p.Aa === d.S.qD?!1:!0;};c.prototype.Hyb=function(p){var q,u,t,v,w,y;q=p.request;u=q.stream;t=q.track;v=q.url;w=this.YIb(t,v);switch(w){case f.Uj.audio:case f.Uj.video:y=q.stream.Ub;break;case f.Uj.bya:case f.Uj.rya:y=t.Ub;}p={bitrate:u && u.bitrate,vDb:w,Ub:y,Wl:p.Wl,Cc:q.Cc,url:v,De:p.De,Kl:p.Kl,Aa:p.Aa,ia:p.ia,Nxb:this.SFb(p),Kla:q.$K};void 0 !== q.offset && void 0 != q.length && (p.Zv=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.YIb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.SFb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,k.Ui)(p):p;};n=c;n=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(a.Xb))],n);b.gDa=n;},41320:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p){n=m.Ne.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.RRb=(0,l.wa)(5E5);n.x1b=(0,f.o8)(1);n.L5a=(0,l.wa)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.bHa=void 0;r=a(5163);l=a(72574);f=a(5021);k=a(22674);d=a(4203);g=a(12501);m=a(64174);a=a(83767);fa(c,m.Ne);Ya.Object.defineProperties(c.prototype,{Hha:{configurable:!0,enumerable:!0,get:function(){return this.config().Hha;}},ecb:{configurable:!0,enumerable:!0,get:function(){return [];}},dcb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});h=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],h.prototype,"ecb",null);r.__decorate([g.config(g.HE("string"),"shedDebugTypes")],h.prototype,"dcb",null);h=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.wl)),r.__param(1,(0,k.l)(d.Xb))],h);b.bHa=h;},79428:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.config=t;this.json=v;this.xc=w;this.ZQb=y;this.yV=z;this.U6=this.GB=!1;this.listeners=[];(0,f.io)(this,"json");this.la=x.$a("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(63368);d=a(33945);g=a(53085);m=a(87386);h=a(45118);n=a(53234);p=a(36129);q=a(15160);a(2762);u=a(18169);c.prototype.Bb=function(){this.GB=!0;};c.prototype.vc=function(t){var v;v=this;this.b3b(t) || (!1,0 < t.size.Lk(this.config.RRb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(w){return w.ESb(t);}),!1,this.yV.Nha(t),this.xc.Lj(function(){v.OGb();})));};c.prototype.flush=function(t){var v;v=this;t=void 0 === t?!1:t;return this.U6?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,y){v.la.trace("Flushing",m.nP);v.Ao();v.xc.Lj(function(){v.wwa(t).then(function(){w();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.wwa=function(t){var v,w;v=this;t=void 0 === t?!1:t;if(!this.GB)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.U6)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.yV.qIb();if(0 === w.length && !t)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Ao();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=la(w),z=x.next();!z.done;(y={hba:y.hba},z=x.next())){y.hba=z.value;t=t.then((function(A){return function(){return v.w1b(A.hba);};})(y));}return t.then(function(){return v.hB();}).catch(function(A){w.filter(function(B){return !B.ry;}).forEach(function(B){return B.Tq();});v.hB();throw Error("Send failure. " + A);});};c.prototype.w1b=function(t){var v;v=this;this.la.trace("Sending batch: " + t.size,m.nP);return Promise.resolve(this.yV.q_b(t)).then(function(){return v.ZQb.send(t.FG);}).then(function(){return t.lO();}).catch(function(w){v.la.warn("Failed to send batch of logblobs.",w,m.nP);t.Tq();v.O2b(w) && v.yV.usb(t);v.c3b(w) && (v.U6=!0);throw w;});};c.prototype.O2b=function(t){return t.Vc === p.Q_.HJa?!1:this.config.Hha;};c.prototype.c3b=function(t){return t.ec === p.S.xEa || t.ec === p.S.xP || t.ec === p.S.BP?!0:!1;};c.prototype.OGb=function(){var t;t=this;0 < this.yV.size.Lk(this.config.L5a)?this.wwa().catch(function(v){return t.la.warn("Failed to send log messages on size threshold. " + v);}):this.hB();};c.prototype.Ao=function(){this.g7 && (!1,this.g7.cancel(),this.g7=void 0);};c.prototype.hB=function(){this.g7 || (!1,this.g7=this.xc.nk(this.config.x1b,this.QM.bind(this)));};c.prototype.QM=function(){var t;t=this;this.U6=!1;this.Ao();this.wwa().catch(function(v){return t.la.warn("Failed to send log messages on timer. " + v);});};c.prototype.stringify=function(t){var v;v="";try{v=this.json.stringify(t.data,void 0,"  ");}catch(w){}return v;};c.prototype.b3b=function(t){return 0 <= this.config.ecb.indexOf(t.type)?!0:t.type === u.Gc.debug?0 <= this.config.dcb.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.nda)),r.__param(1,(0,l.l)(k.tD)),r.__param(2,(0,l.l)(g.Th)),r.__param(3,(0,l.l)(d.rHa)),r.__param(4,(0,l.l)(m.ab)),r.__param(5,(0,l.l)(n.tIa)),r.__param(6,(0,l.l)(q.IZ))],a);b.cHa=a;},69124:function(r,b,a){var f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z,A,B,C,D,F){this.platform=v;this.Eka=w;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Ea=C;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.YA;this.data.clver=this.platform.version;t && t.od && (t.od.os && (this.data.osplatform=t.od.os.name,this.data.osver=y.platformVersion.QU?y.platformVersion.version:t.od.os.version),this.data.browsername=t.od.name,this.data.browserver=t.od.version);t.gqa && (this.data.tester=!0);t.XF && !this.data.groupname && (this.data.groupname=t.XF);t.qK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.qK:t.qK);t.pY && (this.data.uigroupname=t.pY);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.UJb();this.data.uniqueLogId=D.MZa();this.data.appId=this.Ea.id;F && (t=this.Ea.Ib(),this.data.soffms=t.qa(F.Mh).ca(g.pa),this.data.mid=this.data.mid || F.P,this.data.lvpi=F.a5a,this.data.uiLabel=F.zd,this.data.uxLabels=F.Paa,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || F.ma,F.FH && (x=F.FH,(F=F.FH.split(".")) && 1 < F.length && "S" !== F[0][0] && (x="SABTest" + F[0] + ".Cell" + F[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function l(t,v,w,y,x,z,A){this.sa=t;this.Eka=v;this.config=w;this.Ea=y;this.b8b=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;r=a(5163);f=a(72574);k=a(22674);d=a(30869);g=a(5021);m=a(58098);h=a(34231);n=a(81918);p=a(96723);q=a(91581);a=a(75236);l.prototype.Rs=function(t,v,w,y){return new c(this.config,this.platform,this.Eka,this.userAgentData,t,v,this.sa.de,w,this.Ea,this.b8b,y);};u=l;u=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.bg)),r.__param(1,(0,k.l)(m.zCa)),r.__param(2,(0,k.l)(h.wn)),r.__param(3,(0,k.l)(n.Lc)),r.__param(4,(0,k.l)(p.xOa)),r.__param(5,(0,k.l)(q.An)),r.__param(6,(0,k.l)(a.Z0))],u);b.jHa=u;Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.QTa || (this.QTa=(0,f.wa)(this.Eka.encode(this.data).length));return this.QTa;}}});},74031:function(r,b,a){var l,f,k;function c(d){this.Ok=d;}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;r=a(5163);l=a(22674);f=a(72574);a=a(33554);c.prototype.aRb=function(){var d;d=this.Ok()?this.Ok().bk.length:40;return (0,f.wa)(d + 33);};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Gw))],k);b.kHa=k;},74621:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.mHa=void 0;r=a(5163);l=a(22674);f=a(81829);k=a(72574);c.prototype.measure=function(d){var g;g=this;return d.map(function(m){return m.size.add(g.config.aRb());}).reduce(function(m,h){return m.add(h);},(0,k.wa)(0));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.lHa))],a);b.mHa=a;},74714:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y){this.platform=t;this.config=v;this.Ea=w;this.userAgentData=y;this.HOa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.oHa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(36129);d=a(91581);g=a(5021);m=a(4203);h=a(3887);n=a(22365);p=a(82956);q=a(75236);u=a(60328);c.prototype.Ip=function(t,v,w){w && (t.adlid=w.Ub,t.abitrate=w.bitrate);v && (t.vdlid=v.Ub,t.vbitrate=v.bitrate);};c.prototype.n2a=function(t,v,w){w?t=Object.assign(t,(0,p.A0a)(this.platform.Pq,w)):t.errorcode=k.U.Qo;t.errorcode === this.platform.Pq + k.U.uJa && (t.lastSyncWithVideoElement=this.getTime() - v.VX);};c.prototype.s2a=function(t,v){var w;try{Object.assign(t,(0,p.koa)());w=v.getBoundingClientRect();t.rendersize=w.width + "x" + w.height;t.renderpos=w.left + "x" + w.top;}catch(y){}};c.prototype.r2a=function(t,v){var w,y,x;w=v.Cc[u.u.X].value;y=v.Cc[u.u.fa].value;x=v.hf.value;v=v.Wd.value;w && (t.cdnid=w.id,t.cdnname=w.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Ub,t.abitrate=x.stream.bitrate);if(null === v || void 0 === v?0:v.stream)(t.vdlid=v.stream.Ub,t.vbitrate=v.stream.bitrate,t.vheight=v.stream.height,t.vwidth=v.stream.width);};c.prototype.p2a=function(t,v,w){0 <= v.mediaTime.value && (v=w && !v.bb.rg?v.ES:v.mediaTime.value,t.moff=(0,h.Ml)(v),t.moffms=(0,h.Vf)(v));};c.prototype.l2a=function(t,v){v.wf && (t.pbcid=v.wf);v.Dd && (t.playbackcontextid=v.Dd);};c.prototype.ppa=function(t){var v,w;t.browserua=n.DD;t.browseruad=null === (w=null === (v=n.ze.userAgentData) || void 0 === v?void 0:v.brands) || void 0 === w?void 0:w.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.QU?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(v=n.ze && n.ze.connection && n.ze.connection.type) && (t.nettype=v);};c.prototype.SL=function(t){var v,w,y,x,z;if(this.config().JEb){z=null === (v=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === v?void 0:v.effectiveType;v=null === n.ze || void 0 === n.ze?void 0:n.ze.deviceMemory;z && (t.effectiveType=z);v && (t.deviceMemory=v);}(z=null === (w=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === w?void 0:w.type) && (t.connectionType=z);w=null === (y=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === y?void 0:y.downlink;"number" === typeof w && isFinite(w) && (t.downlink=w);y=null === (x=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.z6=function(t,v){if(v=v.bb.cm)(v.isUIAutoPlay && (t.isUIAutoPlay=!0),v.clLogId && (t.cl_log_id=v.clLogId));};c.prototype.TL=function(t,v,w,y){var x,z,A,B,C;x=this;if(w=w && w.streams){A=new Set();B=new Set();C=new Set();w.forEach(function(D){D=D.Hd;A.add(D);B.add(D.replace(x.HOa,""));(D=D.match(x.HOa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(ca(A));t.videoProfile=0 === B.size?"none":[].concat(ca(B))[0];t.videoProfileLevels=[].concat(ca(C));w && w.length && (t.isMcClearen=!!w[0].Di.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}v && (null === (z=y.W) || void 0 === z?0:z.EY) && (t.videoProfilesStatus=this.t5a(y.W.EY));};c.prototype.t5a=function(t){return this.GRb(t.HL(),function(v){return v.supported?!0:v.reason;});};c.prototype.GRb=function(t,v){return Object.entries(t).reduce(function(w,y){var x;x=la(y);y=x.next().value;x=x.next().value;w[y]=v(x);return w;},{});};c.prototype.i2a=function(t,v,w){var y,x;if(v=v && v.streams){x={};v.forEach(function(z){x[z.Hd]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=w.W) || void 0 === y?0:y.aS) && (t.audioProfilesStatus=this.t5a(w.W.aS));};c.prototype.m2a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Ib().ca(g.pa);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.An)),r.__param(1,(0,l.l)(m.Xb)),r.__param(2,(0,l.l)(f.Lc)),r.__param(3,(0,l.l)(q.Z0))],a);b.oHa=a;},52025:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F;function c(G,E,H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab){this.Tdb=G;this.Ff=E;this.Ira=H;this.mma=M;this.Zd=L;this.s4=K;this.Ee=O;this.config=J;this.bd=I;this.sa=N;this.Ea=R;this.platform=U;this.Tp=ja;this.zy=ra;this.zi=ka;this.dt=ua;this.GG=Aa;this.uc=La;this.wM=Xa;this.QB=ab;}Object.defineProperty(b,"__esModule",{value:!0});b.JP=void 0;r=a(5163);l=a(87549);f=a(45118);k=a(74870);d=a(28185);g=a(94800);m=a(22674);h=a(98326);n=a(74098);p=a(30895);q=a(32934);u=a(4203);t=a(30869);v=a(81918);w=a(91581);y=a(31850);x=a(66476);z=a(52531);A=a(63368);B=a(34231);C=a(2160);D=a(21103);a=a(18647);c.prototype.create=function(G,E){return new n.LP(G,E,this.Tdb,this.Ff,this.Ira,this.mma,this.Zd,this.s4,this.Ee,this.config,this.bd,this.sa,this.Ea,this.Tp,this.zy,this.zi,this.dt,this.GG,this.uc,this.wM,this.QB);};F=c;F=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(l.QNa)),r.__param(1,(0,m.l)(f.pl)),r.__param(2,(0,m.l)(d.WHa)),r.__param(3,(0,m.l)(g.Gca)),r.__param(4,(0,m.l)(k.bh)),r.__param(5,(0,m.l)(p.hDa)),r.__param(6,(0,m.l)(q.tu)),r.__param(7,(0,m.l)(u.Xb)),r.__param(8,(0,m.l)(x.PD)),r.__param(9,(0,m.l)(t.bg)),r.__param(10,(0,m.l)(v.Lc)),r.__param(11,(0,m.l)(w.An)),r.__param(12,(0,m.l)(A.r0)),r.__param(13,(0,m.l)(y.Nw)),r.__param(14,(0,m.l)(z.GD)),r.__param(15,(0,m.l)(B.wn)),r.__param(16,(0,m.l)(C.Jda)),r.__param(17,(0,m.l)(h.qda)),r.__param(18,(0,m.l)(D.Qw)),r.__param(19,(0,m.l)(a.gda))],F);b.JP=F;},74098:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H;function c(M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa,na,Ca,Ra){var Q;Q=this;this.j=M;this.Da=L;this.Tdb=K;this.Ff=O;this.Ira=J;this.mma=I;this.Zd=N;this.s4=R;this.Ee=U;this.config=ja;this.bd=ra;this.sa=ka;this.Ea=ua;this.Tp=Aa;this.zy=La;this.zi=Xa;this.dt=ab;this.GG=aa;this.uc=na;this.wM=Ca;this.QB=Ra;this.cY=[];this.Sra=this.JB=this.SW=0;this.NK=[];this.Rha=!1;this.Lr=function(da){var P,Y,sa,Ha,Wa,$a;Y={};try{Y={playdelaysdk:(0,n.Vf)(Q.j.nS()),applicationPlaydelay:(0,n.Vf)(Q.j.kja()),playdelay:(0,n.Vf)(Q.j.lja()),trackid:Q.j.Pj,bookmark:(0,n.Vf)(Q.j.Dl || 0),pbnum:Q.j.index,endianness:(0,g.D_a)()};Q.config().REb && (Y.transitiontime=Q.j.im,Y.uiplaystarttime=Q.j.bb.TC,Y.playbackrequestedat=Q.j.Mh.ca(p.pa),Y.clockgettime=Q.getTime(),Y.clockgetpreciseepoch=Q.sa.de.ca(p.pa),Y.clockgetpreciseappepoch=Q.Ea.wy.ca(p.pa),Y.absolutestarttime=Q.j.EF(),Y.relativetime=Q.j.L0a());Q.p5(Y,"startplay");}catch(fb){Q.log.error("error in startplay log fields",fb);}Q.j.Dh && (Y.blocked=Q.j.Dh);Q.uc.m2a(Y);(0,x.yb)(Q.j.ATa) && (Y.bookmarkact=(0,n.Vf)(Q.j.ATa));sa=Q.j.Xc.at && Q.j.Xc.ats?Q.j.Xc.at - Q.j.Xc.ats:void 0;sa && (Y.nccpat=sa);(sa=Q.j.Xc.lr && Q.j.Xc.lc?Q.j.Xc.lr - Q.j.Xc.lc:void 0) && (Y.nccplt=sa);(sa=Q.j.Xc.lc && Q.j.Xc.lg?Q.j.Xc.lc - Q.j.Xc.lg:void 0) && (Y.lct=sa);(sa=Q.qF()) && (Y.downloadables=sa);ob._cad_global.device && (0,x.Wc)(ob._cad_global.device.K4) && (Y.esnSource=ob._cad_global.device.K4);(0,n.Vd)(Y,Q.Tp,{prefix:"pi_"});Q.j.Nn && Q.j.Nn.initBitrate && (Y.initvbitrate=Q.j.Nn.initBitrate);Q.j.Nn && Q.j.Nn.selector && (Y.selector=Q.j.Nn.selector);Y.fullDlreports=Q.zfb;if(Q.j.state.value >= y.Vb.$d)try{Ha=Q.j.Qs();if(Ha){Q.maxBitrate=(0,g.VO)(Ha.map(function(fb){return fb.bitrate;}));Q.T5a=(0,g.VO)(Ha.map(function(fb){return fb.height;}));Wa=0 < Ha.length?(0,C.p1a)(function(fb,sb){return fb.height === sb.height;},Ha).map(function(fb){return (0,z.xra)(fb,function(sb){return sb.bitrate;});}):void 0;Y.maxbitrate=Q.maxBitrate;Y.maxresheight=Q.T5a;}}catch(fb){Q.log.error("Exception computing max bitrate",fb);}try{$a=(0,g.RF)();$a && (Y.pdltime=$a);}catch(fb){}try{(0,n.Vd)(Y,Q.j.Xc,{prefix:"sm_"});(0,n.Vd)(Y,Q.j.e6(),{prefix:"vd_"});}catch(fb){}da && Q.j.Ot && (Y.pssh=Q.j.Ot);Q.q2a(Q.j,Y);Y.avtp=Q.$H.Xm().Wxa;(null === (P=Q.j.cb) || void 0 === P?0:P.lx) && Q.y6(Y);if(Q.j.Mb.value)try{Y.ttTrackFields=Q.j.Mb.value.tg;}catch(fb){}Q.uc.i2a(Y,Q.j.qc.value,Q.Da);Q.uc.TL(Y,!0,Q.j.Fg.value,Q.Da);Q.j.W && (Y.packageId=Q.j.W.Fa.nn);Q.j.W && Q.j.W.Fa.vp && (Y.hasChoiceMap=!0);Q.OPb(Wa);Q.NPb();da && (Q.qpa(Y),Q.spa(Y));Q.k2a(Q.j,Y);Q.bG(Q.j,Y);Q.cG(Q.j,Y);Q.er(Q.j,Y);Q.EB(Q.j,Y,Q.Rha);Q.uU(Q.j,Y);Q.wNb(Q.j,Y);Q.rpa(Y);Q.upa(Y);Q.uc.SL(Y);Q.j2a(Y);Q.uc.z6(Y,Q.Da);Q.tpa(Y);Q.vc(A.Gc.Lr,da,H.Od | H.tq | H.Fi | H.js | H.gD | H.jZ | H.kD | H.Jo,Y);};this.Tt=function(da,P,Y){P={playdelay:(0,n.Vf)(da),reason:Y,intrplayseq:Q.JB - 1,skipped:P};"repos" === Y && (P.prstate=!0 === Q.j.paused.value?"paused":"playing");Q.RL(P,f.Ph.Tt);Q.cG(Q.j,P);Q.er(Q.j,P);Q.vc(A.Gc.Tt,!1,H.Od | H.tq | H.Fi,P);"rebuffer" !== Y && "force_rebuffer" !== Y || Q.j.Zk.Esb(Number((0,n.Vf)(da)));};this.Hx=function(da,P,Y,sa){da={moff:(0,n.Ml)(Y),moffms:(0,n.Vf)(Y),vbitrate:P.bitrate,vbitrateold:da.bitrate,vdlid:P.Ub,vdlidold:da.Ub,vheight:P.height,vheightold:da.height,vwidth:P.width,vwidthold:da.width,bw:sa};Q.cG(Q.j,da);Q.er(Q.j,da);Q.EB(Q.j,da);Q.RL(da,f.Ph.Hx);Q.vc(A.Gc.Hx,!1,H.Fi,da);};this.ova=function(da,P,Y){da={moff:(0,n.Ml)(Y),moffms:(0,n.Vf)(Y),vdlidold:da.Ub,vbitrateold:da.bitrate};Q.cG(Q.j,da);Q.er(Q.j,da);Q.EB(Q.j,da);Q.uc.Ip(da,P,Q.j.hf.value && Q.j.hf.value.stream);Q.RL(da,f.Ph.PW);Q.vc(A.Gc.PW,!1,H.Fi,da);};this.Vta=function(){var da,P;da={waittime:(0,n.Vf)(Q.j.L0a()),abortedevent:"startplay",trackid:Q.j.Pj,prstate:Q.gy(),paustate:Q.j.paused.value};Q.p5(da,"endplay");Q.RL(da,f.Ph.dN);Q.dt.bT && (da.eventlist_version=1,da.eventlist=Q.GG.y0a(Q.j));Q.j.Nn && Q.j.Nn.initBitrate && (da.initvbitrate=Q.j.Nn.initBitrate);try{P=(0,g.RF)();P && (da.pdltime=P);(0,n.Vd)(da,Q.j.Xc,{prefix:"sm_"});}catch(Y){}Q.npa(da);Q.uc.z6(da,Q.Da);Q.uc.TL(da,!1,Q.j.Fg.value,Q.Da);Q.qpa(da);Q.uc.Ip(da,Q.j.Ke.value,Q.j.Kg.value);Q.q2a(Q.j,da);Q.bG(Q.j,da);Q.uU(Q.j,da);Q.tpa(da);Q.spa(da);Q.er(Q.j,da);Q.vc(A.Gc.dN,!1,H.Od | H.Fi | H.gD | H.js | H.Jo,da);};this.Uta=function(da,P){da={waittime:(0,n.Vf)(da),abortedevent:"resumeplay",resumeplayreason:P};Q.j.Nn && Q.j.Nn.initBitrate && (da.initvbitrate=Q.j.Nn.initBitrate);Q.uc.Ip(da,Q.j.Ke.value,Q.j.Kg.value);Q.uU(Q.j,da);Q.er(Q.j,da);Q.vc(A.Gc.dN,!1,H.Od | H.Fi | H.Jo,da);};this.uxa=function(da,P,Y){da={newstate:P?"Paused":"Playing",oldstate:da?"Paused":"Playing",reason:Y};Q.cG(Q.j,da);Q.er(Q.j,da);Q.EB(Q.j,da);Q.uc.Ip(da,Q.j.Wd.value && Q.j.Wd.value.stream,Q.j.hf.value && Q.j.hf.value.stream);Q.RL(da,f.Ph.GX);Q.vc(A.Gc.GX,!1,H.Od | H.Fi,da);};this.CU=function(da,P,Y){var sa,Ha;da=(0,n.Vd)({vdlid:Q.j.Ke.value.Ub,playingms:da,pausedms:P,intrplayseq:Q.JB++,prstate:Q.gy(),paustate:Q.j.paused.value},Y);Q.p5(da,"intrplay");P=Q.j.Cc[D.u.X].value;Y=Q.j.Cc[D.u.fa].value;da.cdnid=da.vcdnid=P && P.id;da.acdnid=Y && Y.id;da.locid=Q.RU && Q.RU.Qqa;da.loclv=Q.RU && Q.RU.Y4a;da.avtp=Q.$H.Xm().Wxa;da.mediabuffered=null === (sa=Q.j.Td) || void 0 === sa?void 0:sa.r5();if(null === (Ha=Q.j.cb) || void 0 === Ha?0:Ha.lx)(Q.npa(da),Q.y6(da),Q.o2a(da));try{(0,n.Vd)(da,Q.j.e6(),{prefix:"vd_"});}catch(Wa){}Q.cG(Q.j,da);Q.er(Q.j,da);Q.EB(Q.j,da);Q.uc.Ip(da,Q.j.Wd.value && Q.j.Wd.value.stream,Q.j.hf.value && Q.j.hf.value.stream);Q.vc(A.Gc.CU,!1,H.Od | H.Fi,da);};this.AC=function(da,P,Y,sa){da={moffold:(0,n.Ml)(da),reposseq:Q.SW++,prstate:Q.gy(),paustate:Q.j.paused.value};sa === y.Ac.rP && (da.reason="missing_segments");Q.EB(Q.j,da);Q.uc.Ip(da,Y && Y.stream,P && P.stream);Q.RL(da,f.Ph.AC);Q.vc(A.Gc.AC,!1,H.Od | H.Fi,da);};this.Cia=function(){var da,P,Y,sa;P=Q.j.qc.value;Y=Q.j.Kg.value.Ub;P=P?{trackId:P.trackId,bcp47:P.re,downloadableId:Y,rank:P.bc,chan:P.channels}:{};Y=Q.uy;sa=null === (da=Q.qqa) || void 0 === da?void 0:da.Ub;da=Y?{trackId:Y.trackId,bcp47:Y.re,downloadableId:sa,rank:Y.bc,chan:Y.channels}:{};Q.vc(A.Gc.cTa,!1,H.Od | H.Fi,{switchdelay:(0,n.Vf)(Q.getTime() - Q.rqa),track:P,oldtrack:da});};this.BX=function(da){Q.vc(A.Gc.Bcb,!1,H.Od | H.Fi,{speedold:Math.floor(1E3 * da.oldValue),speed:Math.floor(1E3 * da.newValue)});};this.qO=function(){Q.vc(A.Gc.L5b,!1,H.Od | H.Fi,{track:Q.j.Mb.value.tg});};this.mz=function(da){var P,Y;P=Q.j.Mb.value;if(da.newValue || P && P.co() && !P.dn()){Y=(da=null !== (Y=da.newValue) && void 0 !== Y?Y:P)?{trackId:da.trackId,bcp47:da.re,downloadableId:da.Ub,rank:da.bc,isImageBased:da.fk}:{};da=(da=Q.yqa)?{trackId:da.trackId,bcp47:da.re,downloadableId:da.Ub,rank:da.bc,isImageBased:da.fk}:{};Y={switchdelay:(0,n.Vf)(Q.getTime() - Q.xqa),track:Y,oldtrack:da};Q.uc.Ip(Y,Q.j.Wd.value && Q.j.Wd.value.stream,Q.j.hf.value && Q.j.hf.value.stream);Q.vc(A.Gc.$db,!1,H.Od | H.Fi,Y);}};this.rp=function(da){Q.vc(A.Gc.mvb,!1,H.Od | H.Fi,da.newValue);};this.Rwb=function(da,P){var Y,sa;Y=P.serverid;sa={locid:P.location,loclv:P.locationlv,selocaid:Y,selcdnid:Y,selocaname:P.servername};sa.mediatype=P.mediatype;sa.selreason=P.selreason || "unknown";sa.seldetail=P.seldetail;sa.cdnbwdata=JSON.stringify([{id:Y}]);da && (sa.oldlocid=da.Qqa,sa.oldloclv=da.Y4a,sa.oldocaid=da.H1b,sa.oldocaname=da.qX);Q.vc(A.Gc.hUa,!1,H.jZ,sa);};this.lXa=function(){var da,P,Y;if(Q.j.mg)try{da=!1;Q.zfb || (da=!0,Q.NK=Q.NK.filter(function(sa){return !sa.ia;}));if(0 < Q.NK.length){P=Q.s4.construct(Q.NK,Q.j.Mh.ca(p.pa));Q.NK=[];P.erroronly=da;Y={};(0,n.Tf)(P,function(sa,Ha){Y[sa]=JSON.stringify(Ha);});Q.vc(A.Gc.tDb,!1,H.Fi,Y);}}catch(sa){Q.log.error("Exception in dlreport.",sa);}};this.gy=function(){var da;da=Q.j.sb.value;return da === y.gb.ke?"playing":da === y.gb.Rh?"paused":da === y.gb.nq?"ended":"waiting";};this.Hy=function(){var da,P,Y;if(Q.j.state.value == y.Vb.$d){Y=Q.qW();Q.config().uva && (Y.avtp=Q.$H.Xm().Wxa,(null === (da=Q.j.cb) || void 0 === da?0:da.lx) && Q.y6(Y));Y.mediabuffered=null === (P=Q.j.Td) || void 0 === P?void 0:P.r5();Y.midplayseq=Q.Sra++;Y.prstate=Q.gy();Y.paustate=Q.j.paused.value;Q.config().B1b && Q.mdb("midplay");Q.config().Ar && Q.vpa(Y);Q.rpa(Y);Q.upa(Y);Q.er(Q.j,Y);Q.uc.SL(Y);Q.vc(A.Gc.Hy,!1,H.Od | H.Fi | H.gD | H.js,Y);}};this.mdb=function(da){var P,Y;P={};P.trigger=da;try{Y=Q.j.boa();P.subtitleqoescore=Q.j.tn.yLb(Y);P.metrics=JSON.stringify(Q.j.tn.uoa(Y));}catch(sa){Q.log.error("error getting subtitle qoe data",sa);}Q.vc(A.Gc.K4b,!1,H.Od | H.gD | H.tq,P);};this.transition=function(da){Q.EB(Q.j,da);Q.uU(Q.j,da);Q.vc(A.Gc.transition,!1,0,da);};this.swa=function(da,P){Q.vc(A.Gc.swa,P,0,da);};this.Yx=function(da){var P,Y,sa,Ha,Wa,$a,fb;Y=Q.qW();Q.p5(Y,"endplay");Y.prstate=Q.gy();Y.paustate=Q.j.paused.value;Y.muted=Q.j.muted.value;Q.j.nz && "downloaded" === Q.j.nz.HL() && (Y.trickplay_ms=Q.j.nY.offset,Y.trickplay_res=Q.j.nY.kab);Q.config().Ffb && (Y.rtinfo=Q.j.aLb());Q.config().uva && (null === (P=Q.j.cb) || void 0 === P?0:P.lx) && Q.y6(Y);Y.endreason=da?"error":Q.j.sb.value === y.gb.nq?"ended":"stopped";(P=Q.Tp) && (0,n.Vd)(Y,P,{prefix:"pi_"});try{(0,n.Vd)(Y,Q.j.Xc,{prefix:"sm_"});}catch(Ua){}Q.j.mpa && (Y.inactivityTime=Q.j.mpa);Q.npa(Y);Q.o2a(Y);if(Q.j.f3){P=Q.j.f3;sa=Q.config().ETa;Ha=Q.j.loadTime;Wa={iv:sa,seg:[]};$a=function(Ua,bb,kb){return 0 === bb || void 0 === kb[bb - 1]?Ua:Ua - kb[bb - 1];};fb=P.Fub.map($a);$a=P.y8b.map($a);for(var sb,Jb=0;Jb < fb.length;Jb++){if(fb[Jb] || $a[Jb])sb?(sb.ams.push(fb[Jb]),sb.vms.push($a[Jb])):sb={ams:[P.Fub[Jb]],vms:[P.y8b[Jb]],soffms:P.startTime + Jb * sa - Ha};Jb !== fb.length - 1 && fb[Jb] && $a[Jb] || !sb || (Wa.seg.push(sb),sb=void 0);}Y.bt=JSON.stringify(Wa);}da && (Q.qpa(Y),Q.spa(Y));Q.mdb("endplay");Q.config().Ar && Q.vpa(Y);Q.uc.TL(Y,!1,Q.j.Fg.value,Q.Da);Q.k2a(Q.j,Y);Q.bG(Q.j,Y);Q.cG(Q.j,Y);Q.EB(Q.j,Y,Q.Rha);Q.er(Q.j,Y);Q.uU(Q.j,Y);Q.rpa(Y);Q.upa(Y);Q.uc.SL(Y);Q.yNb(Y);Q.j2a(Y);Q.ANb(Y);Q.zNb(Y);Q.CNb(Y);Q.tpa(Y);Q.DNb(Y);Q.vc(A.Gc.Yx,da,H.Od | H.tq | H.Fi | H.gD | H.js | H.kD | H.Jo,Y);};this.ADb=function(da){Q.NK.push(Q.s4.Hyb(da.response));};this.Dh=function(){Q.vc(A.Gc.xTa,!1,H.Od | H.gD | H.Jo,{});};this.$xb=function(da){var P,Y;P=da.response.Wl;da=(0,p.Ob)(P.Wi);Y=(0,p.Ob)(P.cq);P=(0,u.wa)(P.H3 || 0);P.K3a() || P.Wpa() || (da=new t.Pea(da,Y),Q.$H.ysb(new v.fDa(da,P)));};this.j9=function(da){var P,Y,sa;sa=da.newValue;da.Eh && da.Eh.JM && sa && (null === (P=da.Eh) || void 0 === P || !P.reason) || sa == Q.rG || (Q.uxa(Q.rG,sa,null === (Y=da.Eh) || void 0 === Y?void 0:Y.reason),Q.rG=sa);};this.Cx=function(da){function P(Y){var sa;if(Q.j.Kb && Q.j.Kb.sourceBuffers){sa=Q.j.Kb.sourceBuffers.filter(function(Ha){return Ha.type === Y;}).pop();if(sa)return {busy:sa.mh(),updating:sa.updating(),ranges:sa.s5()};}}da={cause:da.$b};da.cause && da.cause === d.qea && (da.mediaTime=Q.j.mediaTime.value,da.buf_audio=P(k.Z_),da.buf_video=P(k.QP));Q.CU(Q.cY[y.gb.ke] || 0,Q.cY[y.gb.Rh] || 0,da);};this.peb=function(da){var P;da=da.oldValue;P=Q.getTime();da === y.gb.zf?Q.cY=[]:Q.cY[da]=(Q.cY[da] || 0) + (P - Q.VPb);Q.VPb=P;};this.Cl=function(da){Q.rqa=Q.getTime();Q.uy=da.oldValue;};this.kl=function(da){Q.xqa=Q.getTime();Q.yqa=da.oldValue;};this.bS=function(da){Q.qqa=da.oldValue;};this.cV=function(da){function P(Y,sa){var Ha;if(!Y || Y.Qqa !== sa.location){Ha={Qqa:sa.location,Y4a:sa.locationlv,H1b:sa.serverid,qX:sa.servername};Q.Rwb(Y,sa);return Ha;}}if("audio" === da.mediatype){if(da=P(Q.RPb,da))Q.RPb=da;}else if(da=P(Q.RU,da))Q.RU=da;};this.pX=function(da){var P,Y;P=da.mediatype;Y=da.reason;"video" === P?"serverswitchaway" === Y?(Q.$i.summary.fgb++,Q.$i.t7=Q.sa.de.ca(p.pa)):"serverswitchback" === Y && (Q.$i.summary.ggb++,Q.$i.t7 && (Q.$i.summary.hgb.push(Q.sa.de.ca(p.pa) - Q.$i.t7),Q.$i.t7=void 0)):"audio" === P && ("serverswitchaway" === Y?(Q.$i.summary.RSa++,Q.$i.l7=Q.sa.de.ca(p.pa)):"serverswitchback" === Y && (Q.$i.summary.SSa++,Q.$i.l7 && (Q.$i.summary.TSa.push(Q.sa.de.ca(p.pa) - Q.$i.l7),Q.$i.l7=void 0)));Q.vc(A.Gc.J1b,!1,H.Od | H.Fi,{mediatype:da.mediatype,server:da.server,selreason:da.reason,location:da.location,bitrate:da.bitrate,confidence:da.confidence,throughput:da.throughput,oldserver:da.oldserver});};this.IE=function(da){Q.vc(A.Gc.$tb,!1,H.Fi,{strmsel:da.strmsel});};this.D7=function(da){da=l.__rest(da,["type"]);Q.er(Q.j,da);Q.vc(A.Gc.MQb,!1,H.Od | H.tq,da);};this.C7=function(da){var P,Y;P=da.mediaType;Y=da.current;da=da.$l;P === D.u.X && (P={mediatype:(0,E.EG)(P),curr:{enc:Y.gB,origin:Y.fB},prev:{enc:da.gB,origin:da.fB}},Q.er(Q.j,P),Q.vc(A.Gc.LQb,!1,H.Od,P));};this.kO=function(da){da=Object.assign({},da);da.details && (da.details=JSON.stringify(da.details));Q.vc(A.Gc.J4b,!0,H.Od | H.tq | H.jZ,da);};this.Rha=Xa.Xya || Xa.Naa || Xa.uZa;this.$H=K();this.log=(0,m.Fh)(M,"LogblobBuilder");this.rG=M.paused.value;this.ma=this.Da.ma;this.$i={summary:{fgb:0,ggb:0,hgb:[],RSa:0,SSa:0,TSa:[]},t7:void 0,l7:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.LP=void 0;l=a(5163);f=a(93161);k=a(33096);d=a(13044);g=a(52569);m=a(31276);h=a(45146);n=a(3887);p=a(5021);q=a(36129);u=a(72574);t=a(74267);v=a(70826);w=a(22365);y=a(85001);x=a(32687);z=a(79342);A=a(18169);B=a(32573);C=a(45266);D=a(60328);F=a(30873);G=a(79542);E=a(93161);c.prototype.q2a=function(M,L){var K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa,na;if(this.config().Ar)try{K={};O=this.bd.getStats(void 0,void 0,M.P);J=M.EF();I=O.YH.kyb || [];K.attempts=O.z9 || 0;K.num_completed_tasks=I.length;N=this.Zd.jGb;R={};U=B.ej.lO;ja=B.ej.Tq;ra=B.ej.rja;O.Qk && (R.scheduled=O.Qk - J);ka=M.W;ka && (0,x.yb)(ka.qH) && (R.preauthsent=ka.qH - M.loadTime,R.preauthreceived=ka.BN - M.loadTime);ua=I.filter(function(Ca){return "manifest" === Ca.type;});K.mf_succ=ua.filter(N("status",U)).length;K.mf_fail=ua.filter(N("status",ja)).length;Aa=M.Xc;(0,x.Wc)(Aa.lg) && 0 > Aa.lg && M.loadTime && (R.ldlsent=Aa.lc,R.ldlreceived=Aa.lr);La=I.filter(function(Ca){return "ldl" === Ca.type;});K.ldl_succ=La.filter(N("status",U)).length;K.ldl_fail=La.filter(N("status",ja)).length;O=!0;J=[];"notcached" === M.SE && (O=!1,J.push("Missing cached manifest"));this.config().aT || (O=!1,J.push("LDL prefetch disabled"));Xa=La.filter(N("status",ra)).length;this.config().aT && 0 === Xa && (!R.ldlreceived || 0 <= R.ldlreceived) && (O=!1,J.push("LDL received after start"));if(this.config().dYa)if(L.isPrefetchItem){ab=L.prefetchedAudioMs / L.bcABufferLevelMs;if(1 > L.prefetchedVideoMs / L.bcVBufferLevelMs || 1 > ab)(O=!1,J.push("Insufficient media fetched"));}else (O=!1,J.push("aseStats not initialized"));aa=I.filter(function(Ca){return "getHeaders" === Ca.type;});K.header_succ=aa.filter(N("status",U)).length;K.header_fail=aa.filter(N("status",ja)).length;na=I.filter(function(Ca){return "getMedia" === Ca.type;});K.media_succ=na.filter(N("status",U)).length;K.media_fail=na.filter(N("status",ja)).length;K.hm_succ=K.header_succ + K.media_succ;K.hm_fail=K.header_fail + K.media_fail;(0,n.Vd)(L,K,{prefix:"pr_"});this.dt.bT && (L.eventlist_version=1,L.eventlist=this.GG.y0a(M));(L.prefetchCompleted=O) || (L.prefetchFailed=J,(0,n.Vd)(L,R,{prefix:"pe_"}));this.vpa(L);}catch(Ca){this.log.warn("error in collecting video prepare data",Ca);}};c.prototype.fLb=function(M,L){if(M=M.ET())if(L=M[L])return L.ta;};c.prototype.k2a=function(M,L){M.bb.rg && (L.isBranching=!0);};c.prototype.bG=function(M,L){var K,O;O=(null === (K=M.W) || void 0 === K?void 0:K.Tpa) || "videopreparer" === M.RE;L.cachedManifest=M.SE;L.cachedLicense=M.RE;L.usedldl=this.config().aT?O.toString():"not_capable";};c.prototype.cG=function(M,L){var K,O;if(this.config().BNb){K=M.coa();O=M.aa.W;K && O && (L.segment=K,O=M.tB(),L.segmenttime=O,M=this.fLb(M,K),null !== O && void 0 !== M && (L.segmentoffset=O - M));}};c.prototype.EB=function(M,L,K){L.pxid=M.u9;(void 0 === K?0:K) && (L.playgraph_trace=M.d9a);};c.prototype.uU=function(M,L){L.hasContentPlaygraph=M.k6();};c.prototype.wNb=function(M,L){var K,O;if(M.k6()){K=M.VA;O=M.W.Fa.Jm.ea;L.auxViewables=Object.keys(O.O).map(function(J){return O.O[J].J;}).filter(function(J,I,N){return J !== K && N.indexOf(J) === I;});}};c.prototype.o2a=function(M){var L,K;L=this.j.bgc;K=L && L.$hc;L && L.cNb && (M.htwbr=L.cNb,M.pbtwbr=L.Khc,M.hptwbr=L.hgc);L && L.F0b && (M.rr=L.F0b,M.ra=L.Xhc);L && K && 0 < (K.length || 0) && (M.qe=JSON.stringify(K));};c.prototype.qpa=function(M){var L,K,O;try{L=this.Zd.createElement("canvas");K=L.getContext("webgl") || L.getContext("experimental-webgl");if(K){O=K.getExtension("WEBGL_debug_renderer_info");O && (M.WebGLRenderer=K.getParameter(O.UNMASKED_RENDERER_WEBGL),M.WebGLVendor=K.getParameter(O.UNMASKED_VENDOR_WEBGL));}}catch(J){}};c.prototype.CNb=function(M){M.switchAwaySummary={vsa:this.$i.summary.fgb,vsb:this.$i.summary.ggb,vsbt:this.$i.summary.hgb,asa:this.$i.summary.RSa,asb:this.$i.summary.SSa,asbt:this.$i.summary.TSa};};c.prototype.ipb=function(M){var L;L=[];return M?Object.keys(M).map(function(K){return +K;}):L;};c.prototype.qF=function(){var M,L;M=this;if(this.j.tw && this.j.ai){L=[];this.j.tw.concat(this.j.ai).forEach(function(K){K.streams.forEach(function(O){L.push({dlid:O.Ub,type:O.type,bitrate:O.bitrate,vmaf:O.Cb,cdn_ids:M.ipb(O.qla)});});});return JSON.stringify(L);}};c.prototype.Qwb=function(){var L,K,O;function M(J,I){var N,R,U;N=J.cdnId + "$" + J.correlationId;R=O[N];R || (R={cdnid:J.cdnId,pbcid:J.correlationId,dls:[]},O[N]=R,K.push(R));(0,h.IK)(J.bitrate);(0,h.IK)(J.duration);N={bitrate:J.bitrate,tm:(0,w.yn)(J.duration)};U=J.vmaf;U && ((0,h.IK)(J.vmaf),N.vf=U);N[I]=(0,n.Ui)(J.downloadableId);R.dls.push(N);}L=this.j.Zk.lIb();K=[];O={};L.audio.forEach(function(J){M(J,"adlid");});L.video.forEach(function(J){M(J,"dlid");});return JSON.stringify(K);};c.prototype.qW=function(){var M,L,K,O,J,I,N,R,U,ja,ra,ka,ua;M=this.j.Zk;L={totaltime:(0,n.Ml)(M.Fp("content")),totalcontenttime:(0,n.Ml)(M.cU("content")),totaladtime:(0,n.Ml)(M.Fp("ads")),totalothertime:(0,n.Ml)(M.Fp("other")),cdndldist:this.Qwb(),reposcount:this.SW,intrplaycount:this.JB};try{K={numskip:0,numlowqual:0};O=this.j.Td;J=O.vv();(0,x.yb)(J) && (L.totfr=J,K.numren=J);J=O.JF();(0,x.yb)(J) && (L.totdfr=J,K.numrendrop=J);J=O.IT();(0,x.yb)(J) && (L.totcfr=J,K.numrenerr=J);L.playqualvideo=JSON.stringify(K);I=this.j.Ke.value;I && (L.videofr=I.framerate.toFixed(3));N=M.jna();N && (L.abrdel=N);R=M.r6() && M.XZa();R && (L.tw_vmaf=R);U=M.VZa();U && (0,n.Vd)(L,U);L.rbfrs=this.JB;L.maxbitrate=this.maxBitrate;L.maxresheight=this.T5a;ja=this.j.wB();for(M=0;M < ja.length;M++){ra=ja[M];ka=this.Da.zM.iz(ra);if(ka){(0,h.oa)(ua);L.maxbitrate=ua?ua.bitrate:0;L.maxresheight=ua?ua.height:0;L.bitratefilters=ka.join("|");break;}ua=ra;}this.j.nz && (L.trickplay=this.j.nz.HL());null !== this.j.tn.kTa && (L.avg_subt_delay=this.j.tn.kTa);}catch(Aa){this.log.error("Exception reading some of the endplay fields",Aa);}(0,n.Vd)(L,this.j.e6(),{prefix:"vd_"});return L;};c.prototype.getTime=function(){return this.Ea.Ib().ca(p.pa);};c.prototype.moa=function(){return this.getTime() - this.Da.Mh.ca(p.pa);};c.prototype.vpa=function(M){var L;try{L=this.bd.getStats();M.pr_cache_size=JSON.stringify(L.cache);M.pr_stats=JSON.stringify(L.MHb);}catch(K){}};c.prototype.rpa=function(M){this.log.debug("httpstats",this.Ee.Kf);(0,n.Vd)(M,this.Ee.Kf,{prefix:"http_"});};c.prototype.er=function(M,L){M=M.gd;M.ba && (L.intenttoplayatedge=M.jU(),M=M.sB(),L.livestage=this.QJb(M));};c.prototype.QJb=function(M){switch(M){case F.cs.mQ:case F.cs.jda:case F.cs.zca:return M.toLowerCase();default:return (0,G.iT)(M);}};c.prototype.npa=function(M){var L,K,O;L=this.config().DWa && !(this.ma % this.config().DWa);K=this.j.cb;O=null === K || void 0 === K?void 0:K.Bh;L && O && (M.ASEstats=JSON.stringify(K.T2a()));};c.prototype.y6=function(M){Object.assign(M,this.j.cb.Jc.GLb());};c.prototype.upa=function(M){var L;try{L=w.yu.memory;(0,x.I3a)(L) && (M.totalJSHeapSize=L.totalJSHeapSize,M.usedJSHeapSize=L.usedJSHeapSize,M.jsHeapSizeLimit=L.jsHeapSizeLimit);}catch(K){}};c.prototype.j2a=function(M){var L;try{if(this.config().rS){L=this.j.sIb();M.battery=L;this.log.trace("batterystatuses",L);}}catch(K){}};c.prototype.yNb=function(M){this.j.Z3 && (M.dqec=this.j.Z3);};c.prototype.tpa=function(M){var L,K,O;(null === (L=this.j.ce) || void 0 === L?0:L.AL)?M.keysys=this.j.ce.AL():(null === (O=null === (K=this.j.ce) || void 0 === K?void 0:K.mediaKeys) || void 0 === O?0:O.keySystem)?M.keysys=this.j.ce.mediaKeys.keySystem:this.wM.$3a && (M.keysys=this.wM.$3a);this.QB.b4a && (M.keySystemRestrictions=this.QB.b4a);this.QB.c4a && (M.keySystemRestrictionsDebug=this.QB.c4a);};c.prototype.spa=function(M){var L;if(null === (L=this.j.ce) || void 0 === L?0:L.W_a)M.keystatus=this.j.ce.pqa;};c.prototype.zNb=function(M){this.lma && (M.externaldisplay=this.lma.hL);};c.prototype.ANb=function(M){var L,K;if(this.bza){L=this.bza.map(function(O){return O.tf;}).filter(function(O){return void 0 !== O;});K=(0,z.xra)(L,function(O){return O.height;});K && (M.media_capabilities_smooth=K.smooth,M.media_capabilities_efficient=K.powerEfficient,M.media_capabilities_bitrate=K.bitrate,M.media_capabilities_height=K.height,M.media_capabilities_width=K.width);M.media_capabilities=L.map(function(O){return {smooth:O.smooth,efficient:O.powerEfficient,bitrate:O.bitrate,height:O.height,width:O.width};});}};c.prototype.DNb=function(M){M.didHydrateTracks=this.j.p4;};c.prototype.NPb=function(){void 0 === this.lma && (this.lma=this.mma.eGb());};c.prototype.OPb=function(M){var L;L=this;void 0 === this.bza && void 0 !== M && (this.bza=M.map(function(K){return L.Ira.tma(K);}));};c.prototype.p5=function(M,L){(L=this.j.CL(L)) && Object.entries(L).forEach(function(K){var O;O=la(K);K=O.next().value;O=O.next().value;M[K]=O;});};c.prototype.RL=function(M,L){var K;(L=null === (K=this.j.cb) || void 0 === K?void 0:K.K5(void 0,L)) && Object.entries(L).forEach(function(O){var J;J=la(O);O=J.next().value;J=J.next().value;M[O]=J;});};c.prototype.vc=function(M,L,K,O){var J,I;I=L?"error":"info";L && this.j.kh && (0,q.RZ)(this.j.kh.errorCode,this.j.kh.Aa,this.moa(),null === (J=this.j.Td) || void 0 === J?void 0:J.vv()) && (I="info");this.Eha(O,this.j,L,K);M=this.zy.Rs(M,I,O,this.Da);this.Ff.vc(M);};c.prototype.xNb=function(M,L){var K,O;O=null === (K=L.cb) || void 0 === K?void 0:K.IBb;O && (null === O || void 0 === O?void 0:O.J) !== L.VA && (M.auxMid || (M.auxMid=O.J),M.auxPlaybackcontextid || (M.auxPlaybackcontextid=L.dk(O.J).Dd));};c.prototype.Eha=function(M,L,K,O){var J,I,N,R,U,ja,ra;this.uc.l2a(M,L);this.xNb(M,L);O & H.Od && ((0,h.oa)(!M || void 0 === M.moff),this.uc.p2a(M,L,L.k6()));O & H.tq && this.uc.r2a(M,L);O & H.Fi && (null === (J=L.cb) || void 0 === J?0:J.Bh) && (M.abuflbytes=null !== (I=M.abuflbytes) && void 0 !== I?I:L.yia(),M.abuflmsec=null !== (N=M.abuflmsec) && void 0 !== N?N:L.ZR(),M.vbuflbytes=null !== (R=M.vbuflbytes) && void 0 !== R?R:L.$ya(),M.vbuflmsec=null !== (U=M.vbuflmsec) && void 0 !== U?U:L.BY(),M.tbuflbytes=null !== (ja=M.tbuflbytes) && void 0 !== ja?ja:L.o5b(),M.tbuflmsec=null !== (ra=M.tbuflmsec) && void 0 !== ra?ra:L.p5b());O & H.js && this.uc.s2a(M,L.mk);O & H.gD && (J=w.ze.hardwareConcurrency,0 <= J && (M.numcores=J),J=this.Da.wla) && (I=J.kna(),M.droppedFrames=JSON.stringify(I),J=J.VT(this.config().RDb),(0,n.Tf)(J,function(ka,ua){M["droppedFramesP" + ka]=JSON.stringify(ua);}));if(O & H.jZ)try{L.mg && (M.cdninfo=JSON.stringify(L.mg.map(function(ka){return {id:ka.id,nm:ka.name,rk:ka.bc,wt:ka.location.weight,lv:ka.location.level};})));}catch(ka){}K && O & H.kD && ((0,h.oa)(L.kh),this.uc.n2a(M,L,L.kh));O & H.Jo && this.uc.ppa(M);};Ya.Object.defineProperties(c.prototype,{zfb:{configurable:!0,enumerable:!0,get:function(){return this.j.dB || this.j.ZS;}}});b.LP=c;(function(M){M[M.Od=1]="MOFF";M[M.tq=2]="PRESENTEDSTREAMS";M[M.Fi=4]="BUFFER";M[M.js=8]="SCREEN";M[M.gD=16]="CPU";M[M.jZ=32]="CDN";M[M.kD=64]="FATALERROR";M[M.Jo=128]="BROWSERINFO";})(H || (H={}));},26158:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t){this.Ff=n;this.config=p;this.sa=q;this.Ea=u;this.Xqa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.MP=void 0;r=a(5163);l=a(45118);f=a(22674);k=a(98326);d=a(4203);g=a(30869);m=a(81918);h=a(99400);c.prototype.create=function(n,p,q,u){var t;t=this.Xqa.create(n,p);return new h.OP(n,p,q,u,this.Ff,this.config,this.Ea,t);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.pl)),r.__param(1,(0,f.l)(d.Xb)),r.__param(2,(0,f.l)(g.bg)),r.__param(3,(0,f.l)(m.Lc)),r.__param(4,(0,f.l)(k.KP))],a);b.MP=a;},99400:function(r,b,a){var l,f,k,d;function c(g,m,h,n,p,q,u,t){var v;v=this;this.j=g;this.Da=m;this.UF=n;this.Ff=p;this.config=q;this.Ea=u;this.hb=t;this.TB=function(w,y){return function(x){var z;z=y(x);if("number" !== typeof z)throw Error("Event " + JSON.stringify(x) + " does not have movie Id");z === v.P && w(x);};};this.r5a=this.TB(function(w){v.$$(w.iG);},function(w){return w.P;});this.o5a=this.TB(function(){v.sS();},function(w){return w.P;});this.TUa=this.TB(function(){v.sS();},function(w){return w.movieId;});this.Cja=this.TB(function(){v.j.sb.value === d.gb.ke && (v.j.sb.removeListener(v.Cja),v.It());},function(){return v.j.P;});this.mz=function(w){v.Up && v.hb.mz(w);};this.YUa=this.TB(this.hb.$xb,function(w){return w.P;});this.tXa=this.TB(this.hb.ADb,function(w){return w.P;});this.V4a=this.TB(this.hb.cV,function(w){return v.j.Ri(w.segmentId).P;});this.lbb=this.TB(this.hb.pX,function(w){return v.j.Ri(w.segmentId).P;});this.Ej=function(w){w.skip && (v.MH=!0);switch(w.$b){case d.Ac.Zw:case d.Ac.GP:case d.Ac.qQ:case d.Ac.rP:v.HN && v.Ho && v.hb.Uta(v.getTime() - v.Ho,v.HN);v.HN="repos";v.hb.AC(w.Jsa,w.hf,w.Wd);v.Ho=v.getTime();(0,k.Df)(v.fv);break;case d.Ac.UZ:(v.HN="force_rebuffer",v.Ho=v.getTime(),(0,k.Df)(v.fv));}};this.Cl=function(w){v.uy=w.oldValue;v.hb.Cl(w);};this.fv=function(){var w;if(v.Ho && v.j.sb.value !== d.gb.zf){w=v.getTime() - v.Ho;v.hb.Tt(w,v.MH,v.HN);v.uy && v.uy != v.j.qc.value && v.hb.Cia();v.Ho=void 0;v.HN=void 0;v.MH=void 0;}};this.It=function(){v.Up || (v.Up=!0,v.hb.Lr(!1),v.ypa(),v.config().G6 && (v.oy=ob.setTimeout(function(){v.Ff.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.oy=void 0;},v.config().G6)));};this.ng=function(){v.oy && (ob.clearTimeout(v.oy),v.oy=void 0);if(v.config().t4 || v.config().YR)(v.pla && (ob.clearInterval(v.pla),v.pla=void 0),v.hb.lXa());v.rY && v.rY();v.Up?v.hb.Yx(!!v.j.kh):v.j.kh?v.hb.Lr(!0):v.Da.background.value || v.hb.Vta();};this.GY=function(w){w.oldValue && w.Eh && w.Eh.WE && v.hb.Hx(w.oldValue,w.newValue,w.Eh.WE,w.Eh.gS);};this.yW=function(w){var y;if(w.newValue){y=w.newValue.stream;v.sG != y && (v.sG && y && v.hb.ova(v.sG,y,v.UF(w.newValue.tK.startTime)),v.sG=y);}};this.P=m.P;this.log=(0,l.Fh)(g,"LogblobBuilder");this.Bb();h && this.$$();}Object.defineProperty(b,"__esModule",{value:!0});b.OP=void 0;l=a(31276);f=a(5021);k=a(32219);d=a(85001);c.prototype.Bb=function(){this.j.addEventListener(d.ha.zG,this.r5a);this.j.addEventListener(d.ha.pra,this.o5a);this.j.addEventListener(d.ha.cV,this.V4a);this.j.addEventListener(d.ha.pX,this.lbb);this.j.addEventListener(d.ha.ng,this.TUa);if(this.config().t4 || this.config().YR)(this.j.addEventListener(d.ha.nF,this.tXa),this.pla=ob.setInterval(this.hb.lXa,this.config().EDb));this.config().uva && this.j.addEventListener(d.ha.nF,this.YUa);};c.prototype.$$=function(g){var m;m=this;this.F6a || (this.j.sb.value !== d.gb.ke || (void 0 === g?0:g)?this.j.sb.addListener(this.Cja):this.It(),this.j.Yh.addListener(this.mz),this.j.Mb.addListener(this.hb.kl),this.j.qc.addListener(this.Cl),this.j.Kg.addListener(this.hb.bS),this.j.paused.addListener(this.hb.j9),this.j.Wd.addListener(this.yW),this.j.sb.addListener(this.fv),this.j.sb.addListener(this.hb.peb),this.j.Ke.addListener(this.GY),this.j.playbackRate.addListener(this.hb.BX),this.j.addEventListener(d.ha.Dh,this.hb.Dh),this.j.addEventListener(d.ha.IE,this.hb.IE),this.j.addEventListener(d.ha.D7,this.hb.D7),this.j.addEventListener(d.ha.C7,this.hb.C7),this.j.addEventListener(d.ha.kO,this.hb.kO),this.j.addEventListener(d.ha.Cx,function(h){m.HN="rebuffer";m.hb.Cx(h);m.Ho=m.getTime();(0,k.Df)(m.fv);}),this.j.addEventListener(d.ha.Ej,this.Ej),this.j.addEventListener(d.ha.qO,this.hb.qO),this.Da.rp && this.Da.rp.addListener(this.hb.rp),this.F6a=!0);};c.prototype.sS=function(){this.ng();this.F6a && (this.j.removeEventListener(d.ha.zG,this.r5a),this.j.removeEventListener(d.ha.pra,this.o5a),this.j.removeEventListener(d.ha.cV,this.V4a),this.j.removeEventListener(d.ha.pX,this.lbb),this.j.Yh.removeListener(this.mz),this.j.Mb.removeListener(this.hb.kl),this.j.qc.removeListener(this.Cl),this.j.Kg.removeListener(this.hb.bS),this.j.paused.removeListener(this.hb.j9),this.j.Wd.removeListener(this.yW),this.j.sb.removeListener(this.fv),this.j.sb.removeListener(this.Cja),this.j.sb.removeListener(this.hb.peb),this.j.Ke.removeListener(this.GY),this.j.playbackRate.removeListener(this.hb.BX),this.j.removeEventListener(d.ha.ng,this.TUa),this.j.removeEventListener(d.ha.Dh,this.hb.Dh),this.j.removeEventListener(d.ha.IE,this.hb.IE),this.j.removeEventListener(d.ha.kO,this.hb.kO),this.j.removeEventListener(d.ha.Cx,this.hb.Cx),this.j.removeEventListener(d.ha.Ej,this.Ej),this.j.removeEventListener(d.ha.qO,this.hb.qO),this.Da.rp && this.Da.rp.removeListener(this.hb.rp),this.j.removeEventListener(d.ha.nF,this.tXa),this.j.removeEventListener(d.ha.nF,this.YUa));};c.prototype.getTime=function(){return this.Ea.Ib().ca(f.pa);};c.prototype.ypa=function(){var g,m,h;g=this;h=[];this.config().k6a && (this.config().l6a.forEach(function(n){h.push(ob.setTimeout(g.hb.Hy,n));}),this.config().d8 && (m=ob.setInterval(this.hb.Hy,this.config().d8)),this.rY=function(){h.forEach(function(n){ob.clearTimeout(n);});m && ob.clearInterval(m);});};b.OP=c;},33345:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t;function c(v,w,y,x,z,A,B,C){this.Ea=v;this.platform=y;this.Ok=x;this.json=z;this.xh=A;this.qh=B;this.eRb=C;(0,k.io)(this,"json");this.la=w.$a("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(63368);g=a(5021);m=a(74870);h=a(81918);n=a(91581);p=a(33554);q=a(87386);u=a(40953);a=a(7605);c.prototype.send=function(v){var w;w=this;return new Promise(function(y,x){var z;try{z=v.reduce(function(A,B){A.entries.push(w.WAb(B));return A;},new l());y(w.QHb(z));}catch(A){w.la.error(A.message);x(A);}}).then(function(y){return w.ywa(y);});};c.prototype.WAb=function(v){return this.xh.dC(this.xh.dC({},v.data),{esn:this.Ok().bk,sev:v.severity,type:v.type,lver:this.platform.Vqa,jssid:this.Ea.id,devmod:this.platform.YA,jsoffms:v.timestamp.qa(this.Ea.wy).ca(g.pa),clienttime:v.timestamp.ca(g.pa),client_utc:v.timestamp.ca(g.sm),uiver:this.qh.ow});};c.prototype.QHb=function(v){var w;w=this;try{return this.json.stringify(v);}catch(z){for(var y={},x=0;x < v.entries.length;(y={SO:y.SO,ku:y.ku},++x)){y.ku=Object.assign({},v.entries[x]);try{this.json.stringify(y.ku);}catch(A){y.SO=void 0;this.xh.jB(y.ku,(function(B){return function(C,D){try{w.json.stringify(D);}catch(F){B.SO=F.message;B.ku[C]=B.SO;}};})(y));y.ku.stringifyException=y.SO;y.ku.originalType=y.ku.type;y.ku.type="debug";y.ku.sev="error";}}return this.json.stringify(v);}};c.prototype.ywa=function(v){var w;w=this;return this.eRb.xf(this.la,{logblobs:v}).then(function(){!1;}).catch(function(y){w.la.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(h.Lc)),r.__param(1,(0,f.l)(q.ab)),r.__param(2,(0,f.l)(n.An)),r.__param(3,(0,f.l)(p.Gw)),r.__param(4,(0,f.l)(d.tD)),r.__param(5,(0,f.l)(m.bh)),r.__param(6,(0,f.l)(a.Xw)),r.__param(7,(0,f.l)(u.eKa))],t);b.qHa=t;},82956:function(r,b,a){var l,f;function c(k){switch(k){case l.S.yP:return "http";case l.S.AP:return "connectiontimeout";case l.S.qD:return "readtimeout";case l.S.hFa:return "corruptcontent";case l.S.pD:return "abort";case l.S.BP:case l.S.Vca:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.koa=b.A0a=b.p0a=void 0;l=a(36129);f=a(22365);b.p0a=c;b.A0a=function(k,d){var g;k={errorcode:k + (d.errorCode || l.U.Qo)};d.Aa && (k.errorsubcode=d.Aa);d.De && (k.errorextcode=d.De);d.Sla && (k.erroredgecode=d.Sla);d.Nb && (k.errordetails=d.Nb);d.Kl && (k.httperr=d.Kl);d.u8 && (k.aseneterr=d.u8);d.kB && (k.errordata=d.kB);d.xV && (k.mediaerrormessage=d.xV);g=c(Number(d.Aa));g && (k.nwerr=g);d.Dd && (k.playbackcontextid=d.Dd);return k;};b.koa=function(){return {screensize:f.zu.width + "x" + f.zu.height,screenavailsize:f.zu.availWidth + "x" + f.zu.availHeight,clientsize:ob.innerWidth + "x" + ob.innerHeight,devicePixelRatio:f.GIa};};},50723:function(r,b,a){var f,k,d,g,m,h,n;function c(p){this.RJ=d.Ga;this.Oga=[];this.XQ=this.A1=!1;p && (this.RJ=p.size,this.Oga=p.FG);}function l(p,q,u,t){this.FSb=p;this.config=q;this.yf=u;this.json=t;(0,k.io)(this,"json");this.la=this.yf.$a("MessageQueue");this.Ms=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sIa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(72574);g=a(81829);m=a(87386);h=a(63368);a=a(45118);l.prototype.Nha=function(p){var q,u;0 === this.Ms.length && this.Ms.push(this.zna());if(p=this.cLb(p)){q=this.FSb.measure([p]);u=this.Ms[this.Ms.length - 1];0 < u.size.add(q).Lk(this.config.L5a) && (u=this.zna(),this.Ms.push(u));u.Nha(p);}};l.prototype.qIb=function(){var p;p=this.Ms.filter(function(q){return q.Kwb;});this.Ms.push(this.zna());p.forEach(function(q){return q.JRb();});return p;};l.prototype.usb=function(p){p.ry || this.Ms.unshift(new c(p));};l.prototype.q_b=function(p){p=this.Ms.indexOf(p);0 <= p && this.Ms.splice(p,1);};l.prototype.cLb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.la.error("JSON.stringify error: " + t.message,q);}};l.prototype.zna=function(){return new c();};Ya.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Ms.reduce(function(p,q){return p.add(q.size);},d.Ga);}}});n=l;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.nHa)),r.__param(1,(0,f.l)(a.nda)),r.__param(2,(0,f.l)(m.ab)),r.__param(3,(0,f.l)(h.tD))],n);b.sIa=n;c.prototype.lO=function(){this.A1=!1;this.XQ=!0;};c.prototype.Tq=function(){this.A1=!1;};c.prototype.Nha=function(p){this.Oga.push(p);this.RJ=this.RJ.add(p.size);};c.prototype.JRb=function(){this.A1=!0;};Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.RJ;}},FG:{configurable:!0,enumerable:!0,get:function(){return this.Oga;}},Kwb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.FG.length && !1 === this.A1;}},ry:{configurable:!0,enumerable:!0,get:function(){return this.XQ;}}});},29670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SAa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.q5a=void 0;r=a(22674);c=a(37104);l=a(83081);f=a(43185);k=a(23176);d=a(17950);g=a(24273);m=a(44236);h=a(17398);n=a(47930);p=a(60042);q=a(97791);b.q5a=new r.dd(function(u){u(f.JHa).to(k.IHa).ga();u(c.Dda).to(l.KHa).ga();u(d.nLa).ll(function(t){for(var v=[],w=0;w < arguments.length;++w){v[w - 0]=arguments[w];}w=a(26159).ND;return new (Function.prototype.bind.apply(w,[null].concat(ca(v))))();});u(g.NHa).Xd(function(){return function(t){return new m.OHa(t);};});u(h.VI).to(n.GHa).ga();u(p.FHa).to(q.EHa).ga();});},43185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JHa="ManifestProviderConfigSymbol";},37104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dda="ManifestParserFactorySymbol";},24273:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NHa="ManifestVerifyErrorFactorySymbol";},17950:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nLa="PlayerTextTrackFactorySymbol";},77939:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q){n=f.UP.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;l=a(29670);f=a(28518);k=a(45266);d=a(51344);g=a(35128);m=a(36129);h=a(31149);fa(c,f.UP);c.prototype.p8a=function(n,p,q){var u,t;u=this;t=this.config.oaa;p=p.filter(function(v){var w,y;w=v.ut || !v.Wf || v.streams && 0 < v.streams.length;w || u.log.warn("Audio track is missing streams",u.Y5(v));y=0 === t.length || 0 <= t.indexOf(v.wh);y || u.log.warn("Audio track is not supported",u.Y5(v));return w && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(v){return u.o8a(n,v,u.eIb(v,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.nWb=function(n,p,q,u){var t,v,w,y;t=this;v=la((0,k.lC)(function(x){return x.ut;},p));p=v.next().value;v=v.next().value;v=la((0,k.lC)(function(x){return x.streams && 0 < x.streams.length;},v));w=v.next().value;v.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.Y5(x));});y=this.config.oaa;v=la((0,k.lC)(function(x){return 0 === y.length || 0 <= y.indexOf(x.wh);},w));w=v.next().value;v.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.Y5(x));});p=[].concat(ca(w),ca(p)).map(function(x){return t.o8a(n,x,t.MJb(x.Xf,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Nub=function(n){var p,q;p=this;q=this.config.Sma;if(q){if(n=la(n.filter(function(u){return u.re == q || u.trackId == q;})).next().value)return n;}else if(this.j.i5 && (n=la(n.filter(function(u){return u.trackId == p.j.i5;})).next().value))return n;};c.prototype.rGb=function(n,p){this.config.iTa.forEach(function(q){var u,t,v;u=p.Ks.filter(function(w){return w.profile === q;}).reduce(function(w,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){w.add(x);});return w;},new Set());t=!1;v=n.Fa.Ks.map(function(w){var y;if(w.profile === q){y=w.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === w.streams.length)return w;t=!0;if(0 === y.length)throw new h.Mc(m.U.vHa,m.S.chb);return Object.assign(Object.assign({},w),{streams:y});}return w;});t && (n.Fa=Object.assign(Object.assign({},n.Fa),{Ks:v}));});return n;};c.prototype.o8a=function(n,p,q){var u,t,v,w;w=p.wh;n=Object.assign(Object.assign({},n),{type:d.Uj.audio,TH:p.TH,variant:p.variant,trackId:p.Xf,fG:p.zO,wh:g.V0[w.toLowerCase()] || g.Oo.dJ,zC:w,re:p.language,displayName:p.RB,bc:null !== (u=p.bc) && void 0 !== u?u:-1,Wf:null !== (t=p.Wf) && void 0 !== t?t:!0,channels:p.channels,rec:p.channels,Wg:q,tg:{Bcp47:p.language,TrackId:p.Xf},streams:[],isNative:p.isNative,co:p.ut,RX:p.RX});n.streams=this.teb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.Wg.length});n.Wxb=l.SAa[null === (v=n.streams[0]) || void 0 === v?void 0:v.Hd];return n;};c.prototype.Y5=function(n){return {language:n.RB,bcp47:n.language,type:n.wh};};c.prototype.eIb=function(n,p){return p.filter(function(q){if(0 <= n.oDb.indexOf(q.fG))return !1;if(n.QWa){if(n.QWa !== q.fG && (q.co() || q.dn()))return !1;}else if(n.DUb){if(q.co() || q.dn())return !1;}else if(q.dn())return !1;return !0;});};c.prototype.MJb=function(n,p,q){return p.filter(function(u){return u.Ed.fa === n;}).map(function(u){return u.Ed.Ha;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.RAa=c;},82409:function(r,b,a){var l,f;function c(k,d){this.log=k;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aCa=void 0;l=a(45266);f=a(64274);c.prototype.q8a=function(k,d){var g,m,h,n;g=this;m=this.config.vja;h=this.config.uja;k=la((0,l.lC)(function(p){return (!m.length || 0 <= m.indexOf(p.id)) && 0 > h.indexOf(p.id);},k || []));n=k.next().value;k.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});k=n.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,bc:p.bc,type:p.type,T4a:p.key,VOb:p.g5a,location:{id:q.key,bc:q.bc,level:q.level,weight:q.weight}};});k.sort(function(p,q){return p.bc - q.bc;});this.log.trace("Transformed cdns",{Count:k.length});if(!k.length)throw Error("no valid cdns");return k;};c.prototype.hNb=function(k,d,g,m){var h;h=k.filter(function(n){return -1 === g.findIndex(function(p){return p.id === n.id;});}).map(function(n){return {T7a:!0,Wb:n};}).concat(g.map(function(n){return {T7a:!1,Wb:n};})).sort(function(n,p){return n.Wb.bc === p.Wb.bc?n.T7a?-1:1:n.Wb.bc - p.Wb.bc;}).map(function(n,p){(0,f.qM)(n.Wb).bc=p + 1;return n.Wb;});k=d.filter(function(n){return -1 === m.findIndex(function(p){return p.key === n.key;});}).concat(m).map(function(n){var p;p=h.findIndex(function(q){return q.key === n.key;});if(-1 !== p)return (p=h[p],(0,f.qM)(n).bc=p.bc,n);}).filter(function(n){return void 0 !== n;});return {F1b:h,WQb:k};};b.aCa=c;},23176:function(r,b,a){var l,f,k,d,g,m;function c(h,n){h=f.Ne.call(this,h,"ManifestParserConfigImpl") || this;h.pg=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5614);m=a(72574);fa(c,f.Ne);Ya.Object.defineProperties(c.prototype,{oaa:{configurable:!0,enumerable:!0,get:function(){return [];}},Sma:{configurable:!0,enumerable:!0,get:function(){return "";}},vja:{configurable:!0,enumerable:!0,get:function(){return [];}},uja:{configurable:!0,enumerable:!0,get:function(){return [];}},Wma:{configurable:!0,enumerable:!0,get:function(){return "";}},hpa:{configurable:!0,enumerable:!0,get:function(){return 0;}},rO:{configurable:!0,enumerable:!0,get:function(){return this.pg.rO.ca(m.Wr);}},au:{configurable:!0,enumerable:!0,get:function(){return this.pg.au;}},iTa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.iO,"supportedAudioTrackTypes")],a.prototype,"oaa",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Sma",null);r.__decorate([d.config(d.xya,"cdnIdWhiteList")],a.prototype,"vja",null);r.__decorate([d.config(d.xya,"cdnIdBlackList")],a.prototype,"uja",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Wma",null);r.__decorate([d.config(d.pz,"imageSubsResolution")],a.prototype,"hpa",null);r.__decorate([d.config(d.pz,"timedTextSimpleFallbackThreshold")],a.prototype,"rO",null);r.__decorate([d.config(d.iO,"timedTextProfiles")],a.prototype,"au",null);r.__decorate([d.config(d.iO,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"iTa",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl)),r.__param(1,(0,l.l)(g.fJ))],a);b.IHa=a;},83081:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y){this.yf=t;this.config=v;this.fua=w;this.pya=y;}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(43185);d=a(82409);g=a(71420);m=a(85696);h=a(6795);n=a(77939);p=a(44858);q=a(17950);a=a(77601);c.prototype.create=function(t){var v,w;v=this.yf.$a("ManifestParser",t);w=new d.aCa(v,this.config);return new m.LHa(w,new g.MNa(v,this.config,t,this.fua),new h.gOa(v,t,this.pya),new n.RAa(v,this.config,t),new p.KOa(v));};u=c;u=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.JHa)),r.__param(2,(0,l.l)(q.nLa)),r.__param(3,(0,l.l)(a.fOa))],u);b.KHa=u;},85696:function(r,b,a){var l;function c(f,k,d,g,m){this.wja=f;this.Sxa=k;this.o6b=d;this.dS=g;this.Zfb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;l=a(64274);c.prototype.s8a=function(f){var k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B;g=f.Fa;m={wf:null !== (d=null === (k=g.NA) || void 0 === k?void 0:k.Sp) && void 0 !== d?d:"",pC:g.Kpa?"ads":"content"};h=!!g.KW;k=this.wja.q8a(g.qk,g.ri);d=this.Sxa.v8a(m,g.dI);f=this.o6b.tWb(g.r6b);n=h?this.dS.p8a(m,g.Ks,d):this.dS.nWb(m,g.Ks,g.media,d);m=this.Zfb.uWb(m,g.hu);p=m[0];q=this.dS.Nub(n) || n.find(function(C){return h?C.trackId === g.KW.op:C.fG === g.d4[0].op;}) || n[0];u=this.Sxa.K5b(q.Wg) || d.find(function(C){return h?C.trackId === g.KW.sO:C.fG === g.d4[0].ndb;}) || q.Wg[0];t=this.Zfb.qWb(g.hu);v=g.Dd;w=g.Mxb;y=g.AB;x=g.Pk;z=g.Ks.findIndex(function(C){return C.Xf == q.trackId;});A=g.hu.findIndex(function(C){return C.Xf == p.trackId;});B=g.dI.findIndex(function(C){return C.Xf == u.trackId;});return {Ot:t,mg:k,ai:n,tw:m,Wg:d,oz:f,Dd:v,K1b:w,mG:y,Pk:x,nCb:z,tCb:A,sCb:B,e4:p,JS:q,KS:u};};c.prototype.iNb=function(f,k,d){var g,m,h,n,p,q;g=this;n=this.wja.hNb(f.Fa.qk,f.Fa.ri,d.Fa.qk,d.Fa.ri);p=n.F1b;n=n.WQb;(0,l.qM)(f.Fa).qk=p;(0,l.qM)(f.Fa).ri=n;k.mg=this.wja.q8a(p,n);q={wf:null !== (h=null === (m=d.Fa.NA) || void 0 === m?void 0:m.Sp) && void 0 !== h?h:"",pC:d.Fa.Kpa?"ads":"content"};d=d.Fa;m=d.Ks;d.dI.forEach(function(u){var t;if(u.Wf){t=g.Y$a(f.Fa.dI,k.Wg,u,function(v){return g.Sxa.v8a(q,[v])[0];});t && k.ai.forEach(function(v){var w;v=v.Wg;w=v.findIndex(function(y){return y.trackId === t.trackId;});-1 !== w && (v[w]=t);});}});m.forEach(function(u){u.Wf && g.Y$a(f.Fa.Ks,k.ai,u,function(t){return g.dS.p8a(q,[t],k.Wg)[0];});});return {W:f,zc:k};};c.prototype.P0b=function(f,k){return this.dS.rGb(f,k);};c.prototype.Y$a=function(f,k,d,g){var m,h,n,p;m=f.findIndex(function(q){return q.Xf === d.Xf;});h=-1 !== m?f[m]:void 0;n=k.findIndex(function(q){return q.trackId === d.Xf;});p=-1 !== n?k[n]:void 0;if(h && !h.Wf && p && !p.Wf)return (g=g(d),f[m]=d,k[n]=g);};b.LHa=c;},44236:function(r,b){function a(c){this.zc=c;this.Nb=JSON.stringify(this.WJb());}Object.defineProperty(b,"__esModule",{value:!0});b.OHa=void 0;a.prototype.WJb=function(){var c;c=[];(!this.zc.mg || 0 >= this.zc.mg.length) && c.push({error:"No CDN."});this.zc.JS || c.push({error:"No default audio track.",foundTracks:this.Bna(this.zc.ai)});this.zc.e4 || c.push({error:"No default video track.",foundTracks:this.Bna(this.zc.tw)});this.zc.KS || c.push({error:"No default subtitle track.",foundTracks:this.Bna(this.zc.Wg)});return c;};a.prototype.Bna=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.OHa=a;},28518:function(r,b,a){var l;function c(f){this.log=f;}Object.defineProperty(b,"__esModule",{value:!0});b.UP=void 0;l=a(6305);c.prototype.teb=function(f,k){var d,g;d=this;if(!f)return (this.log.warn("There are no media streams for " + k.type + " track - " + k.trackId),[]);g=f.map(function(m){var h,n,p,q,u,t,v,w;w=new l.MediaStream(k,k.type,m.Nm,m.bitrate,m.Cb,m.size,d.ZIb(m.urls),m.QA,m.DZa / m.CZa,m.ii,m.Di);w.D2b(m.lab,m.Hva,m.J8a,m.I8a);w.T1b(null !== (h=m.FBb) && void 0 !== h?h:void 0,null !== (n=m.GBb) && void 0 !== n?n:void 0,null !== (p=m.EBb) && void 0 !== p?p:void 0,null !== (q=m.DBb) && void 0 !== q?q:void 0,null !== (u=m.J8a) && void 0 !== u?u:void 0,null !== (t=m.I8a) && void 0 !== t?t:void 0);k.Pk && (w.Pk=k.Pk);m.rF && (w.rF=null !== (v=m.rF) && void 0 !== v?v:void 0);m.QA && (w.Hd=m.QA);return w;});g.sort(function(m,h){return m.bitrate - h.bitrate;});g.forEach(function(m,h){m.lower=g[h - 1];m.agc=g[h + 1];});return g;};c.prototype.ZIb=function(f){return f.reduce(function(k,d){k[d.yg]=d.url;return k;},{});};b.UP=c;},71420:function(r,b,a){var l,f,k,d;function c(g,m,h,n){this.log=g;this.config=m;this.j=h;this.fua=n;}Object.defineProperty(b,"__esModule",{value:!0});b.MNa=void 0;l=a(75568);f=a(22365);k=a(35128);d=a(14423);c.prototype.v8a=function(g,m){var h;h=this;m=m.map(function(n){var p,q,u,t;u=h.e6b(n);n.ut || !n.Wf || u && 0 < u.length || h.log.error("track without downloadables",h.TJb(n));t={};0 < u.length && (t=u[0],t.profile == l.um.YI && (t=h.o1b(u),!1));n=h.fua(h.j,n.Xf,n.id,null !== (p=n.bc) && void 0 !== p?p:-1,null !== (q=n.Wf) && void 0 !== q?q:!0,g,t.Ub,t.urls || [],n.language,n.RB,k.V0[n.wh.toLowerCase()] || k.Oo.dJ,n.TH,n.variant,n.zC.toUpperCase(),t.profile,h.dKb(t) || ({}),n.ut,n.T6,n.V6,n.ot);h.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:m.length});return m;};c.prototype.K5b=function(g){var m,h;m=this;h=this.config.Wma;if(h){if(g=la(g.filter(function(n){return n.re == h || n.trackId == h;})).next().value)return g;}else if(this.j.j5 && (g=la(g.filter(function(n){return n.trackId == m.j.j5;})).next().value))return g;};c.prototype.e6b=function(g){var m,h;m=this;h=g.yXa;g=Object.entries(g.vya || ({})).map(function(n){var p;p=la(n);n=p.next().value;p=p.next().value;return {Ub:h[n],profile:n,size:p.size || 0,priority:m.$Ib(n,p),offset:p.Tra || 0,NWb:p.width,H8a:p.height,urls:p.urls};});g.sort(function(n,p){return n.priority - p.priority;});return g;};c.prototype.$Ib=function(g,m){var h,n;h=this.config.au.indexOf(g);m=m.size;n=this.config.rO;return g === l.um.eca && 0 < n && m > n?this.config.au.length + 1:0 <= h?h:this.config.au.length;};c.prototype.dKb=function(g){if(g.profile === l.um.YI)return {offset:g.offset,length:g.size,lk:{width:g.NWb,height:g.H8a}};};c.prototype.o1b=function(g){var m,h;m=this.config.hpa || d.lfa.G0a();h=la(g.filter(function(n){return n.profile === l.um.YI;}).filter(function(n){return n.H8a === m;})).next().value;if(h)return h;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:f.zu.height,intendedResolution:m});return g[0];};c.prototype.TJb=function(g){return {isNone:g.ut,isForced:g.T6,bcp47:g.language,id:g.Xf};};b.MNa=c;},6795:function(r,b){function a(c,l,f){this.log=c;this.j=l;this.pya=f;}Object.defineProperty(b,"__esModule",{value:!0});b.gOa=void 0;a.prototype.tWb=function(c){var l;l=this;c=(c || []).filter(function(f){return f.urls && 0 < f.urls.length;}).map(function(f){return l.pya(l.j,f.id,f.height,f.width,f.QWb,f.RWb,f.size,f.ot,{unknown:f.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(f,k){return f.size - k.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.gOa=a;},44858:function(r,b,a){var l,f,k,d;function c(g){return f.UP.call(this,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;l=a(45266);f=a(28518);k=a(51344);d=a(35128);fa(c,f.UP);c.prototype.uWb=function(g,m){var h,n;h=this;m=la((0,l.lC)(function(p){return p.streams && 0 < p.streams.length;},m));n=m.next().value;m.next().value.forEach(function(p){return h.log.warn("Video track is missing streams",{trackId:p.Xf});});m=n.map(function(p){var q;q=p.wh;q=Object.assign(Object.assign({},g),{type:k.Uj.video,trackId:p.Xf,fG:p.zO,wh:d.V0[q.toLowerCase()] || d.Oo.dJ,zC:q,streams:[],tg:{},zW:p.zW});q.streams=h.teb(p.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!m.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:m.length});return m;};c.prototype.qWb=function(g){var m;m=g.map(function(h){return h.zW;}).filter(Boolean);m=[].concat.apply([],ca(m)).map(function(h){return h.wa;});g=g.map(function(h){return h.tla;}).filter(Boolean).map(function(h){return h.wa;});return 0 < m.length?m:g;};b.KOa=c;},81737:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.W=void 0;r=a(22674);c=a(99070);l=a(49745);b.W=new r.dd(function(f){f(l.AD).to(c.HHa).ga();});},60042:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FHa="ManifestEnricherSymbol";},17398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VI="ManifestFactorySymbol";},49745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AD="ManifestFetcherSymbol";},91622:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hBa="BookmarkSymbol";},72516:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fBa="BookmarkConfigSymbol";},81364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eBa="BookmarkConfigParserSymbol";},66393:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.iK=void 0;r=a(22674);c=a(91622);l=a(72516);f=a(81364);k=a(63143);d=a(25293);g=a(12563);b.iK=new r.dd(function(m){m(c.hBa).to(k.gBa).ga();m(l.fBa).to(d.cBa).ga();m(f.eBa).to(g.dBa).ga();});},25293:function(r,b,a){var l,f;function c(k){this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;r=a(5163);l=a(22674);a=a(4203);c.prototype.Ena=function(){return this.HF().ovb;};c.prototype.Fna=function(){return this.HF().pvb;};c.prototype.zJb=function(){return this.HF().qvb;};c.prototype.mna=function(){return this.HF().yTa;};c.prototype.HF=function(){return this.config();};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xb))],f);b.cBa=f;},12563:function(r,b,a){var l,f,k;function c(d){this.zb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;r=a(5163);l=a(22674);f=a(42207);k=a(5021);c.prototype.t4b=function(d,g){var m,h;m=parseFloat(d);h=0;"%" === d[d.length - 1] && this.zb.Yj(m)?h=Math.round(m * g.ca(k.pa) / 100):(d=parseInt(d),this.zb.UR(d) && (h=d));return (0,k.Ob)(Math.min(h,g.ca(k.pa)));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Qf))],a);b.dBa=a;},63143:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q){this.c3=n;this.zb=p;this.nvb=q;this.la=h.$a("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;r=a(5163);l=a(22674);f=a(72516);k=a(81364);d=a(87386);g=a(42207);m=a(5021);c.prototype.itb=function(h){var n,p;n=h.bb.playbackState && h.bb.playbackState.currentTime;p=this.HIb(h.P);n=this.zb.hF(n)?(0,m.Ob)(n):p;p=0;this.zb.qg(n)?(this.la.info("Overriding bookmark",{From:h.rz.ca(m.pa),To:n.ca(m.pa)}),n=Object.assign({},h,{rz:n})):n=h;h.gd.ba && (h=h.gd.Nna(h.rz.ca(m.pa)),n=Object.assign({},n,{rz:(0,m.Ob)(h.Dl),qC:(0,m.Ob)(h.qC)}),p=h.NWa);return n.rz.Wpa()?(this.la.trace("Ignoring bookmark because it's negative"),(0,m.Ob)(p)):this.pNb(n)?(this.la.trace("Ignoring bookmark because it's too close to beginning"),(0,m.Ob)(p)):this.oNb(n)?(this.la.trace("Ignoring bookmark because it's too close to end"),(0,m.Ob)(p)):this.nNb(n)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,m.Ob)(p)):n.rz;};c.prototype.pNb=function(h){return 0 > h.rz.Lk(this.Ena(h));};c.prototype.Ena=function(h){return this.zTa(this.c3.Ena(),h.qC);};c.prototype.oNb=function(h){return 0 < h.rz.Lk(this.Fna(h));};c.prototype.Fna=function(h){var n;n=h.bb.rg?this.c3.zJb():this.c3.Fna();return h.qC.qa(this.zTa(n,h.qC));};c.prototype.nNb=function(h){return 0 < h.rz.Lk(this.gJb(h));};c.prototype.gJb=function(h){return h.qC.qa((0,m.Ob)(h.kC));};c.prototype.HIb=function(h){var n;h=this.c3.mna()[h];n=-1;this.zb.jp(h)?n=parseInt(h):this.zb.Yj(h) && (n=h);if(this.zb.UR(n))return (0,m.Ob)(n);};c.prototype.zTa=function(h,n){return this.nvb.t4b(h,n);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.ab)),r.__param(1,(0,l.l)(f.fBa)),r.__param(2,(0,l.l)(g.Qf)),r.__param(3,(0,l.l)(k.eBa))],a);b.gBa=a;},34029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DBa="CDMAttestedDescriptorProvider";},6498:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.RTa=void 0;r=a(22674);c=a(34029);l=a(28419);b.RTa=new r.dd(function(f){f(c.DBa).to(l.CBa).ga();});},28419:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,v,w,y){this.config=q;this.gC=t;this.profile=v;this.Daa=w;this.qS=y;this.log=u.$a("CDMAttestedDescriptor");this.j_a(n.wu.iQ);}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(87386);d=a(97996);g=a(70865);m=a(71501);h=a(2492);n=a(34231);p=a(24735);c.prototype.j_a=function(q){var u;u=this;return this.Daa.R$(q)?this.config().lEb?this.h_a().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.A4a || (!1,u.A4a=u.qS.loa(p.yh.xn));return u.A4a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.fz.close();return null === t || void 0 === t?void 0:t.xja;}).then(function(t){return Promise.all([Promise.resolve(t),u.h_a()]);}).then(function(t){var v;t=la(t);v=t.next().value;if(t.next().value)!1;else return v;}):this.gC().then(function(t){t.GV.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.h_a=function(){var q;q=this;return this.gC().then(function(u){return (u=u.GV.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xb)),r.__param(1,(0,l.l)(k.ab)),r.__param(2,(0,l.l)(d.ZP)),r.__param(3,(0,l.l)(m.iJ)),r.__param(4,(0,l.l)(g.X0)),r.__param(5,(0,l.l)(h.rZ))],a);b.CBa=a;},97791:function(r,b,a){var l,f;function c(k){this.iFb=k;this.n5a={Om:"drmType",cfc:"drmVersion",expiration:"expiration",P:"movieId",nn:"packageId",duration:"duration",Dd:"playbackContextId",d4:["defaultTrackOrderList",{vM:"mediaId",JO:"videoTrackId",ndb:"subtitleTrackId",op:"audioTrackId",Rhc:"preferenceOrder"}],gfc:["eligibleABTestMap",{hj:f.hj}],Zdc:["badgingInfo",{Yec:"dolbyDigitalAudio",Wfc:"hdrVideo",Zec:"dolbyVisionVideo",njc:"ultraHdVideo","3dVideo":"3dVideo",Xec:"dolbyAtmosAudio",Odc:"assistiveAudio",oic:"sdVideo",Vfc:"hdVideo"}],type:"type",Udc:["audioTextShortcuts",{id:"id",op:"audioTrackId",Jdb:"textTrackId"}],Jhc:"partiallyHydrated",R5a:"maxRecommendedAudioRank",S5a:"maxRecommendedTextRank",Pk:"drmContextId",yMb:"hasDrmProfile",wMb:"hasClearProfile",AB:"hasDrmStreams",j6:"hasClearStreams",ri:["locations",{bc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],qk:["servers",{id:"id",name:"name",type:"type",bc:"rank",g5a:"lowgrade",wDb:["dns",{host:"host",nOb:"ipv4",oOb:"ipv6",iHb:"forceLookup"}],key:"key"}],Ks:["audio_tracks",{type:"type",TH:"subType",variant:"variant",wh:"trackType",Xf:"new_track_id",zO:"track_id",MYb:"profileType",e4b:"stereo",profile:"profile",channels:"channels",language:"language",axb:"channelsFormat",RX:"surroundFormatLabel",RB:"languageDescription",oDb:"disallowedSubtitleTracks",QWa:"defaultTimedText",isNative:"isNative",ut:"isNoneTrack",streams:["streams",{Nm:"downloadable_id",size:"size",QA:"content_profile",wh:"trackType",bitrate:"bitrate",ii:"isDrm",urls:["urls",{yg:"cdn_id",url:"url",B7:"liveOcaCapabilities"}],LTb:"new_stream_id",type:"type",channels:"channels",axb:"channelsFormat",RX:"surroundFormatLabel",language:"language",Sdc:"audioKey",nTb:["moov",{size:"size",offset:"offset"}],sk:["sidx",{size:"size",offset:"offset"}],M3b:["ssix",{size:"size",offset:"offset"}],Di:"tags",N_b:"representationId"}],Wxb:"codecName",zC:"rawTrackType",id:"id",bc:"rank",Wf:"hydrated",DUb:"offTrackDisallowed"}],hu:["video_tracks",{wh:"trackType",Xf:"new_track_id",type:"type",zO:"track_id",yMb:"hasDrmProfile",wMb:"hasClearProfile",AB:"hasDrmStreams",j6:"hasClearStreams",XF:"groupName",streams:["streams",{Nm:"downloadable_id",size:"size",QA:"content_profile",wh:"trackType",rF:"drmHeaderId",bitrate:"bitrate",ii:"isDrm",urls:["urls",{yg:"cdn_id",url:"url",B7:"liveOcaCapabilities"}],LTb:"new_stream_id",type:"type",Lhc:"peakBitrate",iDb:"dimensionsCount",jDb:"dimensionsLabel",J8a:"pix_w",I8a:"pix_h",lab:"res_w",Hva:"res_h",FBb:"crop_x",GBb:"crop_y",EBb:"crop_w",DBb:"crop_h",DZa:"framerate_value",CZa:"framerate_scale",Dcb:"startByteOffset",Cb:"vmaf",nTb:["moov",{size:"size",offset:"offset"}],sk:["sidx",{size:"size",offset:"offset"}],M3b:["ssix",{size:"size",offset:"offset"}],AH:["segmentVmaf",{offset:"offset",Cb:"vmaf"}],Di:"tags",N_b:"representationId"}],MYb:"profileType",e4b:"stereo",profile:"profile",iDb:"dimensionsCount",jDb:"dimensionsLabel",Kic:["snippets",{hj:[f.hj,{Jic:"snippetSpec",ta:"startTimeMs",va:"endTimeMs"}]}],tla:["drmHeader",{wa:"bytes",uxb:"checksum",rF:"drmHeaderId",eo:"keyId",lk:["resolution",{height:"height",width:"width"}]}],zW:["prkDrmHeaders",{wa:"bytes",uxb:"checksum",rF:"drmHeaderId",eo:"keyId",lk:["resolution",{height:"height",width:"width"}]}],Uq:"flavor",jgc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",M8a:"pixelAspectX",N8a:"pixelAspectY",Qgc:"maxCroppedWidth",Pgc:"maxCroppedHeight",Rgc:"maxCroppedX",Sgc:"maxCroppedY",Hra:"max_framerate_value",Gra:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",ihc:"minCroppedWidth",hhc:"minCroppedHeight",jhc:"minCroppedX",khc:"minCroppedY",Qg:["license",{bQb:"licenseResponseBase64",Vhc:"providerSessionToken",sic:"secureStopExpected",bfc:"drmSessionId",links:["links",{}]}]}],NA:["cdnResponseData",{FH:"sessionABTestCell",Sp:"pbcid"}],vp:["choiceMap",{ve:"initialSegment",type:"type",J:"viewableId",O:["segments",{hj:[f.hj,{ta:"startTimeMs",va:"endTimeMs",next:["next",{hj:[f.hj,{weight:"weight"}]}],Gb:"defaultNext",Rq:"exitZones"}]}]}],Jm:["contentPlaygraph",{ea:["playgraph",{ve:"initialSegment",O:["segments",{hj:[f.hj,{J:"viewableId",ta:"startTimeMs",va:"endTimeMs",next:["next",{hj:[f.hj,{weight:"weight"}]}],Gb:"defaultNext"}]}]}],Lic:["startIdent",{kgc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Ed:["tracks",{fa:"AUDIO",Ha:"TEXT",X:"VIDEO"}]}],KW:["recommendedMedia",{JO:"videoTrackId",op:"audioTrackId",sO:"timedTextTrackId"}],dI:["timedtexttracks",{wh:"trackType",Xf:"new_track_id",type:"type",TH:"subType",variant:"variant",zC:"rawTrackType",RB:"languageDescription",language:"language",id:"id",ut:"isNoneTrack",T6:"isForcedNarrative",yXa:["downloadableIds",{}],nec:["cdnlist",{id:"id",name:"name",type:"type",bc:"rank",g5a:"lowgrade",wDb:["dns",{host:"host",nOb:"ipv4",oOb:"ipv6",iHb:"forceLookup"}],key:"key"}],vya:["ttDownloadables",{hj:[f.hj,{id:"id",size:"size",$ic:"textKey",Ufc:"hashValue",Tfc:"hashAlgo",sgc:"isImage",Tra:"midxOffset",m6a:"midxSize",height:"height",width:"width",qla:["downloadUrls",{}],urls:["urls",{url:"url",yg:"cdn_id",B7:"liveOcaCapabilities"}]}]}],V6:"isLanguageLeftToRight",ot:"headIdentDuration",bc:"rank",Wf:"hydrated"}],r6b:["trickplays",{Nm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",RWb:"pixelsAspectY",QWb:"pixelsAspectX",width:"width",height:"height",ot:"headIdentDuration"}],ogb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],afc:"dpsid",rg:"isBranching",Bjc:"viewableType",Kpa:"isAd",bM:"isSupplemental",Mxb:"clientIpAddress",qjc:"urlExpirationDuration",Kgc:"manifestExpirationDuration",Nic:["steeringAdditionalInfo",{Oic:"steeringId",Jdc:"additionalGroupNames",Pic:["streamingClientConfig",{}]}],Zb:"auxiliaryManifestToken",Jh:["liveMetadata",{u4:["downloadableIdToSegmentTemplateId",{hj:f.hj}],lX:["segmentTemplateIdToSegmentTemplate",{hj:[f.hj,{Y2:"availabilityStartTime",WNb:"initialization",media:"media",u9a:"presentationTimeOffset",CX:"startNumber",duration:"duration",N:"timescale"}]}],CUb:"ocLiveWindowDurationSeconds",N4:"eventAvailabilityOffsetMs",dma:"eventStartTime",O4:"eventEndTime",lDb:"disableLiveUi"}],$f:"streamingType"};this.zRb=Object.assign(Object.assign({},this.n5a),{pp:["auxiliaryManifests",this.n5a],Bm:["adverts",{ae:["adBreaks",{gk:"locationMs",eh:"adBreakToken",Ve:["ads",{id:"id",ta:"startTimeMs",va:"endTimeMs",waa:["timedAdEvents",{event:"event",Xu:"adEventToken",Zxa:"timeMs"}],xA:["actionAdEvents",{start:["start",{event:"event",Xu:"adEventToken"}],complete:["complete",{event:"event",Xu:"adEventToken"}],stop:["stop",{event:"event",Xu:"adEventToken"}]}],st:"is3pVerificationEnabled",mO:"thirdPartyVerificationToken"}],yha:["actionAdBreakEvents",{complete:["complete",{event:"event",Xu:"adEventToken"}]}],V2:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;r=a(5163);l=a(22674);f=a(90030);c.prototype.bL=function(k){this.iFb.bL(k,this.zRb);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ZDa))],a);b.EHa=a;},47930:function(r,b,a){var l,f,k,d,g;function c(m,h){this.F4a=m;this.yRb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;r=a(5163);l=a(22674);f=a(81025);k=a(60042);d=a(31149);g=a(36129);c.prototype.create=function(m){var h,n,p,q;h=this;if(m && !this.SOb(m)){if(this.YOb(m))throw d.Mc.Y8b(g.U.yD,g.S.Nnb,m);q=this.F4a();q.Jha(m.links);this.yRb.bL(m);return {Fa:m,oi:q,Tpa:!1,Spa:!1,pp:null !== (p=null === (n=m.pp) || void 0 === n?void 0:n.map(function(u){var t;t=h.F4a();t.Jha(u.links);return {Fa:u,oi:t,Tpa:!1,Spa:!1,pp:[]};})) && void 0 !== p?p:[]};}};c.prototype.YOb=function(m){return ("type" in m) && "muxed" === m.type;};c.prototype.SOb=function(m){return ("runtime" in m) && !!m.runtime;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.aKa)),r.__param(1,(0,l.l)(k.FHa))],a);b.GHa=a;},99070:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,v,w,y,x,z){this.Sf=t;this.p5a=w;this.lV=x;this.sa=z;this.MW=new Map();this.log=u.$a("ManifestFetcher");this.kg=v.kg;this.awb=y().BEb;}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(31149);g=a(87386);m=a(5021);h=a(4203);n=a(72639);p=a(18148);a=a(17398);c.prototype.fy=function(u,t,v){var w;w=this;t=void 0 === t?!0:t;v && this.Rsb(u.J,v);return t && this.i6(u.J)?this.t5(u.J).catch(function(){return w.eab(u,t);}):this.eab(u,t);};c.prototype.i6=function(u){return this.kg.iU(u,"manifest");};c.prototype.JX=function(u,t){var v;v=this;this.awb && this.kg.setData(u,"manifest",t,function(){return v.iMb(u,t?Promise.resolve(t):void 0);});};c.prototype.t5=function(u){var t;t=this;return this.kg.getData(u,"manifest").then(function(v){if(!v)throw Error("Manifest not found");if(v.Fa.expiration <= t.sa.de.ca(m.pa))throw (t.kg.clearData(u,"manifest"),Error("Manifest has expired"));return v;});};c.prototype.iMb=function(u,t){var v;null === (v=this.MW.get(u)) || void 0 === v?void 0:v.forEach(function(w){return w(t);});this.MW.delete(u);};c.prototype.Rsb=function(u,t){this.MW.has(u) || this.MW.set(u,[]);this.MW.get(u).push(t);};c.prototype.eab=function(u,t){var v,w,y;v=this;this.log.trace("Requesting a new manifest",u.J);w=this.Sf.Ib().ca(m.pa);y=(u.Bf && !u.Bf.eh?this.B6b(u).catch(function(x){v.log.warn(x.message);return v.p5a.xf(v.log,u);}):this.p5a.xf(this.log,u)).then(function(x){var z,A;if(x.Wx && (null === (z=u.Bf) || void 0 === z || !z.eh)){A=x.Wx;z={H$:Promise.resolve(A),source:"manifest"};delete x.Wx;v.kg.setData(u.J,"ldl",z,function(){A.close().catch(function(B){v.log.info("Unable to cleanup LDL session.",B);});});}u.Uq === n.ql.cJ && (x.qH=w,x.BN=v.Sf.Ib().ca(m.pa));return x;}).catch(function(x){t && v.JX(u.J,void 0);v.log.error("Failed to fetch manifest",d.Mc.ue(x));throw x;});t && this.JX(u.J,y);return y;};c.prototype.B6b=function(u){var t;t=this;return new Promise(function(v,w){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);A=null === (y=u.Bf) || void 0 === y?void 0:y.jW;if(!A)return w(Error("Parent manifest does not exist."));B=null === (x=u.Bf) || void 0 === x?void 0:x.Zb;y=null === (z=A.pp) || void 0 === z?void 0:z.find(function(C){return C.P === u.J && (void 0 === B || C.Zb === B);});if(!y)return w(Error("Auxiliary manifest not found in parent manifest."));v(t.lV.create(y));});};q=c;q=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.ab)),r.__param(1,(0,l.l)(f.Lc)),r.__param(2,(0,l.l)(p.Yba)),r.__param(3,(0,l.l)(n.iea)),r.__param(4,(0,l.l)(h.Xb)),r.__param(5,(0,l.l)(a.VI)),r.__param(6,(0,l.l)(k.bg))],q);b.HHa=q;},16520:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qh=void 0;r=b.Qh || (b.Qh={});r[r.Acb=1]="sourceopen";r[r.Rn=2]="currentTimeChanged";r[r.iX=3]="seeked";r[r.C4a=5]="licenseadded";r[r.ycb=6]="sourceBufferAdded";r[r.X8=7]="onNeedKey";r[r.n$a=8]="readyStateChanged";},12653:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.K6a=void 0;r=a(22674);c=a(21801);l=a(59586);b.K6a=new r.dd(function(f){f(c.Lda).to(l.zIa).ga();});},21801:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lda=b.Clb=void 0;b.Clb=function(){};b.Lda="MseConfigSymbol";},59586:function(r,b,a){var l,f,k,d,g;function c(m){return f.Ne.call(this,m,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);d=a(83767);g=a(5021);fa(c,f.Ne);Ya.Object.defineProperties(c.prototype,{z6a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(5E3);}},R7a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E3);}},S7a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E3);}}});a=c;r.__decorate([l.config(l.ik,"minDecoderBufferMilliseconds")],a.prototype,"z6a",null);r.__decorate([l.config(l.ik,"optimalDecoderBufferMilliseconds")],a.prototype,"R7a",null);r.__decorate([l.config(l.ik,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"S7a",null);a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.wl))],a);b.zIa=a;},7826:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.gC=void 0;r=a(22674);c=a(50681);l=a(63390);f=a(97996);b.gC=new r.dd(function(k){k(c.Mda).to(l.AIa).ga();k(f.ZP).hY(function(d){return function(){return d.kb.get(c.Mda).xTb;};});});},97996:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZP="MslProviderSymbol";},50681:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mda="MslReadyNotifierSymbol";},63390:function(r,b,a){var l;function c(){var f;f=this;this.ready=!1;this.xTb=new Promise(function(k){f.j0b=k;});}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;r=a(5163);a=a(22674);c.prototype.yTb=function(f){this.ready || (this.j0b(f),this.ready=!0);};c.prototype.Bv=function(){return this.ready;};l=c;l=r.__decorate([(0,a.T)()],l);b.AIa=l;},30698:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.S6a=void 0;r=a(22674);c=a(76698);l=a(32934);f=a(81438);k=a(59806);d=a(21941);g=a(55823);m=a(27E3);h=a(2571);n=a(17559);b.S6a=new r.dd(function(p){p(f.YOa).to(c.XOa).ga();p(l.tu).PC(function(){return ob._cad_global.http;});p(d.OIa).to(k.NIa).ga();p(g.PIa).ll(m.default);p(h.wFa).to(n.vFa).ga();});},2571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wFa="HttpDispatcherSymbol";},32934:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tu=b.aQ=b.ResponseType=void 0;b.ResponseType={Text:1,kdc:2,Hhb:3};b.aQ="OPEN_CONNECT_APPLIANCE";b.tu="LegacyHttpSymbol";},55823:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIa="NetworkMonitorSymbol";},48004:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="NetworkMonitorConfigSymbol";},21941:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OIa="NetworkMonitorFactorySymbol";},81438:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YOa="XhrFactorySymbol";},17559:function(r,b,a){var l,f,k;function c(d,g){this.Ee=g;this.la=d.$a("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(32934);c.prototype.download=function(d,g){var m;m=this;g=void 0 === g?{U5a:0}:g;return new Promise(function(h,n){var q;function p(u){if(u.ia)return h(u.content);if(q === g.U5a)return n({Aa:u.Aa,$m:u.Kl});q++;!1;m.Ee.download(d,p);}q=0;m.Ee.download(d,p);});};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.tu))],k);b.vFa=k;},40158:function(r,b,a){var l,f,k,d;function c(g,m){return k.Ne.call(this,g,void 0 === m?"NetworkMonitorConfigImpl":m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);a=a(83767);fa(c,k.Ne);Ya.Object.defineProperties(c.prototype,{Cfb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([f.config(f.ed,"useNetworkMonitor")],d.prototype,"Cfb",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.wl)),r.__param(1,(0,l.l)(a.sZ)),r.__param(1,(0,l.optional)())],d);b.LIa=d;},59806:function(r,b,a){var l,f,k,d;function c(g,m,h){this.config=g;this.UQb=m;this.Jc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=void 0;r=a(5163);l=a(48004);f=a(22674);k=a(48159);a=a(55823);c.prototype.dBb=function(){if(this.config.Cfb)return this.Jc(this.UQb());};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.MIa)),r.__param(1,(0,f.l)(k.IIa)),r.__param(2,(0,f.l)(a.PIa))],d);b.NIa=d;},76698:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XOa=void 0;r=a(5163);a=a(22674);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.T)()],l);b.XOa=l;},10256:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q){this.log=h;this.OF=n;this.Yy=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(36129);f=a(31276);k=a(74870);d=a(84408);g=a(2248);m=a(82100);c.prototype.Qg=function(h){var n,p;n=this;(this.context.df || this.context.ek) && this.log.debug("Requesting a license",h);if(f.Ba.get(k.bh).PA(f.Ba.get(d.xq).decode("certificate"),h.sj[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Uk:[{sessionId:h.sj[0].sessionId,data:f.Ba.get(g.Zg).decode(m.TZ)}]});}else p=f.Ba.get(k.bh).PA(f.Ba.get(d.xq).decode("content"),h.sj[0].data)?Promise.resolve({Uk:[{sessionId:h.sj[0].sessionId,data:h.eo}]}):(function(){n.log.trace("Requesting license",{drmType:h.Om});return n.OF(h).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:l.U.SI,ec:q.ec,Vc:q.Vc,Pm:q.Pm,wj:q.message || q.wj,kB:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.wj),$b:q};});})();return p;};c.prototype.release=function(h){var n;n=this;this.log.trace("Requesting stop data");return this.Yy(h).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.ec,extCode:p.Vc,edgeCode:p.Pm,message:p.message || p.wj});throw {ia:!1,code:l.U.Nea,ec:p.ec,Vc:p.Vc,Pm:p.Pm,wj:p.message || p.wj,message:"Unable to release the FairPlay license. " + (p.message || p.wj),$b:p};});};r.exports=c;},7748:function(r,b,a){var l;function c(f,k,d,g){this.log=f;this.OF=k;this.Yy=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.WOa=void 0;l=a(36129);c.prototype.Qg=function(f){var k;k=this;(this.context.df || this.context.ek) && this.log.trace("Requesting license",{drmType:f.Om});return this.OF(f).catch(function(d){k.log.error("Unable to get the Playready license",d);if(k.context.rjc)throw d;throw {ia:!1,code:l.U.SI,ec:d.ec,Vc:d.Vc,Pm:d.Pm,wj:d.message || d.wj,kB:d.data,message:"Unable to send the Playready license request. " + (d.message || d.wj)};});};c.prototype.release=function(f){var k;k=this;this.log.trace("Requesting stop data");return this.Yy(f).catch(function(d){k.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.ec,extCode:d.Vc,edgeCode:d.Pm,message:d.message || d.wj});throw {ia:!1,code:l.U.Nea,ec:d.ec,Vc:d.Vc,Pm:d.Pm,wj:d.message || d.wj,message:"Unable to release the PlayReady license. " + (d.message || d.wj)};});};b.WOa=c;ob._cad_global.WindowsDrmRequests=c;},71834:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.Afa=void 0;c=a(36129);l=a(83989);f=a(88490);k=a(74870);d=a(6405);g=a(2248);m=a(56800);h=a(63156);(function(){var z;function n(A,B,C){var D;D=this;this.log=A;this.hn=B || x.bind(this);this.context=C;this.lW=this.challenge=this.keySystem=this.j7=this.Db=this.mediaKeys=void 0;this.Xc={};this.Gqa=this.yxa=!1;this.WV=t.bind(this);this.lW=void 0;this.hza=new Promise(function(F,G){D.Kva=F;D.hva=G;});this.hza.catch(function(F){D.log.error("wait for license rejected",F);});l.ac.get(m.Fw).B5().then(function(F){(D.context.df || D.context.ek) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.gn=function(F,G){D.hva(F,G);D.context.onerror(F,G);};this.Usa=function(){D.Kva();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.ac.get(g.Zg);}function q(){return l.ac.get(k.bh);}function u(A){var B,C;B=l.ac.get(f.kfa);C="";A.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.edb(A));(this.context.df || this.context.ek) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Db.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Of.sq,z.Xz.Yr,B);this.Db=void 0;}function v(A,B,C){var F,G,E;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (D+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > D.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function w(A,B,C,D){var F,G;F=A.target && A.target.sessionId;G=p().decode(v(A.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(C.context.df || C.context.ek || C.context.wz) && C.log.debug("LICENSE: License challenge",p().encode(G));C.j7=F;A={ff:B,messageType:"license-request",Om:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",sj:[{data:G,sessionId:F}]};12 === C.state && (C.hn("lc"),G={data:G,Om:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.WG || (C.lW=G));C.context.rd.Qg(A).then(function(E){if(12 === C.state && (C.hn("lr"),C.Usa(),!C.context.WG))(C.mW=E.Uk[0].data,C.state=13,D({ia:!0,state:C.state}));else if(C.Db)return y(C,E.Uk[0].data,C.Db).then(function(){C.state=30;D({ia:!0,state:C.state});});}).catch(function(E){D(q().dC(E,{state:C.state}));});}function y(A,B,C){A.P6() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,F){try{A.Db.update(B);D(void 0);A.P6() && A.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){F({ia:!1,code:z.Of.o0,message:"Unable to update the EME.",Nb:q().ue(G)});}});}function x(A){this.context.sa && (this.Xc[A]=this.context.sa.getTime(),this.log.trace("Milestone: " + A + ", " + this.Xc[A]));}z={Of:c.U,Xz:c.S};n.prototype.AL=function(){return this.keySystem;};n.prototype.jfb=function(A,B){A.log && (this.log=A.log);A.hn && (this.hn=A.hn);B.rd && (this.context.rd=B.rd);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):l.ac.get(m.Fw).MF()).then(function(C){B.hn("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.DW)C=Promise.reject({ia:!1,code:z.Of.oP,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new ob.MSMediaKeys(C);}catch(D){C=Promise.reject({ia:!1,code:z.Of.tJa,message:"create MSMediaKeys(" + C + ") failed",Nb:q().ue(D)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ia:!1,code:z.Of.bJ,message:"set MSMediaKeys failed",Nb:q().ue(D)});break a;}C=Promise.resolve({ia:!0,mediaKeys:B.mediaKeys});}return C;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.Db){this.log.info("Closing the session",{sessionId:this.Db.sessionId});this.Db.removeEventListener("mskeyerror",this.WV);try{this.Db.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Db=void 0;}};n.prototype.Qg=function(A,B,C){var D;if(1 < B.length)return Promise.reject({code:z.Of.xJa});if(0 === B.length)return Promise.reject({code:z.Of.wJa});B=B[0];D=this;D.context.df && D.log.trace("LICENSE: Setting license");return D.context.DW?Promise.reject({ia:!1,code:z.Of.FDa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,H,M,L,K,O,J;try{H=function(I){D.Db && (D.Db.removeEventListener("mskeymessage",L),D.Db.removeEventListener("mskeyadded",K),D.Db.removeEventListener("mskeyerror",O),D.Db.addEventListener("mskeyerror",D.WV));I.state=11;I.ia?F(I):(D.close(),G(I));};M=function(I){var N,R;N=[];R=Array.prototype.map.call(I,function(ja){return ja?String.fromCharCode(ja):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)N.push(R[1]);else {I=v(I,"KIDS");R=/VALUE="(.+?)">/g;for(var U=R.exec(I);null != U;){N.push(U[1]);U=R.exec(I);}}return N;};L=function(I){E && ob.clearTimeout(E);w(I,A,D,H);};K=function(I){(D.context.df || D.context.ek) && D.log.trace("LICENSE: Received " + I.type + " event",{keySystem:I.target.keySystem,sessionId:I.target.sessionId});H({ia:!0});};O=function(I){var N,R;E && ob.clearTimeout(E);if(I.target && I.target.error)(N=I.target.error.systemCode,R=I.target.error.code);N={code:z.Of.sq,ec:z.Xz.Yr,Vc:N?l.ac.get(d.Bw).DF(N,4):R,details:q().ue(I),$b:I.target && I.target.error,qaa:N,P4:R};D.log.error("LICENSE: Received " + I.type + " event",{sessionId:D.Db && D.Db.sessionId,keySystem:I.target.keySystem,systemCode:N.qaa,code:N.P4});D.hn("le");D.gn && D.gn(z.Of.sq,N);H({ia:!1,code:z.Of.sq,ec:z.Xz.Yr,Vc:N.Vc,message:"Received a key error.",Nb:N.details,$b:N.$b});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.df || D.context.ek) && D.log.debug("LICENSE: PSSH",p().encode(B));D.Dv || (D.Dv=M(B));if(C){J=u.call(D,D.Dv);D.Db=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),J);}else D.Db=D.mediaKeys.createSession("video/mp4",B,null);(D.context.df || D.context.ek) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Db.keySystem,sessionId:D.Db.sessionId});D.Db.addEventListener("mskeymessage",L);D.Db.addEventListener("mskeyadded",K);D.Db.addEventListener("mskeyerror",O);D.context.Dqa && (E=ob.setTimeout(function(){H({ia:!1,code:z.Of.dQ,ec:z.Xz.Ijb});},D.context.Dqa));}catch(I){G({code:z.Of.dQ,ec:z.Xz.ol});}});})();};n.prototype.nH=function(){var A;(this.context.df || this.context.ek) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Qg(h.Sj.ida.rm,A,!0);};n.prototype.D2=function(A){this.mW || this.log.error("pending license must exist at this point");this.context.WG=!0;try{A && (this.context.$=A,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ia:!1,code:z.Of.bJ,message:"setMediaKeys failed",Nb:q().ue(B)});}return y(this,this.mW,this.Db);};n.prototype.AYa=function(A){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));C={ma:A.ma,he:A.he};return new Promise(function(D,F){(function(){B.context.rd.release.call(B.context.rd,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ia:!0};B.close();G.ia?D(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.j7,code:G.code,subCode:G.ec,extCode:G.Vc,edgeCode:G.Pm,message:G.wj});B.close();G.ia?D(G):F(G);});})();});};n.prototype.P6=function(){return this.context.df || this.context.ek;};b.Afa=n;ob._cad_global.WindowsEmeSession=b.Afa;})();},99813:function(r,b,a){var w,y,x,z,A,B,C,D,F,G,E,H;function c(M,L,K){var O;O=this;this.log=M;this.hn=L || v.bind(this);this.context=K;this.lW=this.challenge=this.keySystem=this.j7=this.mediaKeys=void 0;this.Xc={};this.mo=void 0;this.url="";this.Gqa=this.yxa=!1;this.WV=h.bind(this);this.mk=this.lW=void 0;this.hza=new Promise(function(J,I){O.Kva=J;O.hva=I;});this.gn=function(J,I){O.hva(J,I);O.context.onerror(J,I);};this.Usa=function(){O.Kva();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return w.Ba.get(A.xq);}function f(){return w.Ba.get(z.Zg);}function k(){return w.Ba.get(y.bh);}function d(M){return (/com.apple.fps/).test(M) && !(/com.apple.fps.2_0/).test(M);}function g(M){var L;M=(function(K){var J,I;function O(N,R,U,ja){var ra,ka;ra=new Uint8Array("piff" == R?88:72);ka=new G.mP(ra);ka.Az(12);ka.zz("frma");ka.zz(N);ka.Az(20);ka.zz("schm");ka.OY(0);ka.OY(0);ka.zz(R);ka.Az(U);"piff" == R?(ka.Az(56),ka.zz("schi"),ka.Az(48),ka.zz("uuid"),ka.NY([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(ka.Az(40),ka.zz("schi"),ka.Az(32),ka.zz("tenc"));ka.OY(0);ka.OY(0);ka.Az(264);ka.NY(ja);return ra;}J=O("avc1","piff",65537,K);J=l().decode(f().encode(J));K=O("avc1",E.pu,65536,K);K=l().decode(f().encode(K));I=new Uint8Array(7 + J.length + 8 + K.length + 5);I.set([91,10,32,32,32,32,34],0);I.set(J,7);I.set([34,44,10,32,32,32,32,34],7 + J.length);I.set(K,7 + J.length + 8);I.set([34,10,32,32,93],7 + J.length + 8 + K.length);return I;})(M);L=new Uint8Array(13 + M.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(M,13);L.set([10,125],13 + M.length);return L;}function m(M){var L;M=M.subarray(14,30);M=String.fromCharCode.apply(null,M);M=f().decode(M);M=M.subarray(4);L=new Uint8Array(16);L.set(M);return L;}function h(M){var L;L=n(M);this.log.error("LICENSE Error: Received event: " + M.type,{sessionId:this.Db?this.Db.sessionId:void 0,keySystem:M.target.keySystem,systemCode:L.qaa,code:L.P4});this.gn && this.gn(H.Of.sq,L);this.Db=void 0;}function n(M){var L,K;if(M.target.error)(L=M.target.error.systemCode,K=M.target.error.code);return {code:H.Of.sq,ec:H.Xz.Yr,Vc:L?w.Ba.get(x.Bw).DF(L,4):K,details:k().ue(M),$b:M.target.error,qaa:L,P4:K};}function p(M,L,K,O){var J,I,N;J=M.target.sessionId;I=M.message;N=k().PA(I,l().decode("certificate"));K.Gqa=L === F.Sj.ida.xn;K.state=N?2:12;K.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:J});(K.context.df || K.context.ek || K.context.wz) && K.log.debug("LICENSE: License challenge",f().encode(I));K.j7=J;M={eo:K.eo,ff:L,messageType:"license-request",Om:(/clearkey/i).test(K.keySystem)?"clearkey":"fps",sj:[{data:I,sessionId:J}]};12 === K.state && (K.hn("lc"),I={data:I,Om:(/clearkey/i).test(K.keySystem)?"clearkey":"fps"},K.context.WG || (K.lW=I));K.context.rd.Qg(M).then(function(R){if(12 === K.state && (K.hn("lr"),K.Usa(),!K.context.WG))(K.mW=R.Uk[0].data,K.state=13,O({ia:!0,state:K.state}));else if(K.Db)return (R=t(K,N,R.Uk[0].data,K.Db),2 === K.state?R:R.then(function(){K.state=30;O({ia:!0,state:K.state});}));}).catch(function(R){O(k().dC(R,{state:K.state}));});}function q(M,L,K){L.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:M.target.sessionId});K({ia:!0});}function u(M,L,K){var O;O=n(M);L.gn && L.gn(H.Of.sq,O);L.log.error("LICENSE Error: Received event: " + M.type,{sessionId:L.Db?L.Db.sessionId:void 0,keySystem:M.target.keySystem,systemCode:O.qaa,code:O.P4});K({ia:!1,code:H.Of.sq,ec:H.Xz.Yr,Vc:O.Vc,message:"Received a key error.",Nb:O.details,$b:O.$b});}function t(M,L,K,O){O={sessionId:O.sessionId};M.P6() && (O.license=f().encode(K));M.log.trace("calling keysession update",O);return new Promise(function(J,I){function N(){M.Db.removeEventListener("webkitkeyadded",N);J(void 0);}try{L || M.Db.addEventListener("webkitkeyadded",N);M.Db.update(K);L && J(void 0);}catch(R){I({ia:!1,code:H.Of.o0,message:"Unable to update the EME.",e:R});}});}function v(M){this.Xc[M]=w.Ba.get(B.Lc).Ib().ca(C.pa);this.log.trace("Milestone: " + M + ", " + this.Xc[M]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(31276);b=a(36129);y=a(74870);x=a(6405);z=a(2248);A=a(84408);B=a(81918);C=a(5021);D=a(22365);F=a(63156);G=a(62082);E=a(82100);H={Of:b.U,Xz:b.S};c.prototype.AL=function(){return this.keySystem;};c.prototype.jfb=function(M,L){M.log && (this.log=M.log);M.hn && (this.hn=M.hn);L.rd && (this.context.rd=L.rd);L.onerror && (this.context.onerror=L.onerror);};c.prototype.create=function(M){var L;L=this;L.hn("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:M});L.keySystem=M;return L.context.DW?Promise.reject({ia:!1,code:H.Of.oP,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function K(){var O,J;O=k().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");J=O.lastChild;L.mk=O;L.context.$=D.Hg.createElement("VIDEO");J?L.mk.insertBefore(L.context.$,J):L.mk.appendChild(L.context.$);}return new Promise(function(O,J){function I(N){(L.context.df || L.context.ek || L.context.wz) && L.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{L.mediaKeys=new ob.WebKitMediaKeys(M);L.context.$.webkitSetMediaKeys(L.mediaKeys);O({ia:!0,mediaKeys:L.mediaKeys});}catch(R){L.log.error("CREATE: Exception on webkitSetMediaKeys",R);J({ia:!1,code:H.Of.dQ,Nb:k().ue(R)});}}if(d(L.keySystem))try{L.mediaKeys=new ob.WebKitMediaKeys(M);L.context.$ && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.$.webkitSetMediaKeys(L.mediaKeys));O({ia:!0,mediaKeys:L.mediaKeys});}catch(N){J({ia:!1,code:H.Of.dQ,Nb:k().ue(N)});}else (L.mediaKeys=new ob.WebKitMediaKeys(M),L.context.$?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.$.webkitSetMediaKeys(L.mediaKeys)):(K(),L.mo=new D.Qz(),L.mo.addEventListener("sourceopen",I),L.url=URL.createObjectURL(L.mo),L.context.$.src=L.url),O({ia:!0,mediaKeys:L.mediaKeys}));});})();};c.prototype.close=function(){this.Db && (this.log.info("Closing the session",{sessionId:this.Db.sessionId}),this.Db.removeEventListener("webkitkeyerror",this.WV),this.Db.close(),this.Db=void 0);};c.prototype.Qg=function(M,L){var K;if(1 < L.length)return Promise.reject({code:H.Of.xJa});if(0 === L.length)return Promise.reject({code:H.Of.wJa});L=L[0];K=this;K.context.df && K.log.trace("LICENSE: Setting license",{initData:f().encode(L)});return K.context.DW?Promise.reject({ia:!1,code:H.Of.FDa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(O,J){var N,R,U;function I(ja){K.Db && (K.Db.removeEventListener("webkitkeymessage",N),K.Db.removeEventListener("webkitkeyadded",R),K.Db.removeEventListener("webkitkeyerror",U),K.Db.addEventListener("webkitkeyerror",K.WV));ja.ia?O(ja):(K.close(),J(ja));}N=function(ja){p(ja,M,K,I);};R=function(ja){q(ja,K,I);};U=function(ja){u(ja,K,I);};d(K.keySystem) && (K.eo=m(L),L=g(K.eo));K.log.trace("LICENSE: Executing prefix based EME");K.context.df | K.context.ek && K.log.debug("LICENSE: PSSH",f().encode(L));K.Db=K.mediaKeys.createSession("video/mp4",L,null);(K.context.df || K.context.ek) && K.log.debug("LICENSE: Created the media keys sessions",{keySystem:K.Db.keySystem,sessionId:K.Db.sessionId});K.Db.addEventListener("webkitkeymessage",N);K.Db.addEventListener("webkitkeyadded",R);K.Db.addEventListener("webkitkeyerror",U);});})();};c.prototype.nH=function(){var M;M=this;return M.yxa?Promise.resolve({ia:!0}):new Promise(function(L,K){var J,I,N;function O(R){M.Db && (M.Db.removeEventListener("webkitkeymessage",J),M.Db.removeEventListener("webkitkeyadded",I),M.Db.removeEventListener("webkitkeyerror",N));R.ia?L(R):(K(R),M.close());}J=function(R){p(R,F.Sj.ida.rm,M,O);};I=function(R){q(R,M,O);L({ia:!0});};N=function(R){u(R,M,O);};M.Gqa=!1;M.Db.addEventListener("webkitkeymessage",J);M.Db.addEventListener("webkitkeyadded",I);M.Db.addEventListener("webkitkeyerror",N);M.Db.update(l().decode("renew"));});};c.prototype.D2=function(M){this.mW || this.log.error("pending license must exist at this point");this.context.WG=!0;try{M && (this.context.$=M,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(K,O){O({ia:!1,code:H.Of.bJ,message:"setMediaKeys failed",Nb:k().ue(L)});});}return t(this,!1,this.mW,this.Db);};c.prototype.AYa=function(M){var L,K;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(M));L.yxa=!0;K={ma:M.ma,he:M.he};return new Promise(function(O,J){(function(){L.context.rd.release.call(L.context.rd,K).then(function(){var I;L.log.trace("successfully released the license",JSON.stringify(M));I={ia:!0};I.ia?O(I):(L.close(),J(I));}).catch(function(I){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.Db?L.Db.sessionId:void 0,code:I.code,subCode:I.ec,extCode:I.Vc,edgeCode:I.Pm,message:I.wj});I.ia?O(I):(L.close(),J(I));});})();});};c.prototype.P6=function(){return this.context.df || this.context.ek;};r.exports=c;},31360:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.z8a=void 0;r=a(22674);c=a(30650);l=a(71976);f=a(7605);k=a(17705);d=a(31071);g=a(91918);m=a(81025);h=a(23632);n=a(15348);p=a(17108);b.z8a=new r.dd(function(q){q(f.Xw).to(k.RJa).ga();q(c.TJa).to(l.SJa).ga();q(m.cKa).to(h.bKa);q(m.aKa).Xd(function(u){return function(){return u.kb.get(m.cKa);};});q(d.yKa).to(g.xKa).ga();q(n.kea).to(p.uKa).ga();});},7605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xw="PboConfigSymbol";},30650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TJa="PboDispatcherSymbol";},81025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cKa="PboLinksManagerSymbol";b.aKa="PboLinksManagerFactorySymbol";},15348:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kea="PboPublisherSymbol";},31071:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yKa="PboRequestFactorySymbol";},49917:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vba="AdEventPboCommandSymbol";b.uba="AdBreakEventPboCommandSymbol";},18880:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra;Object.defineProperty(b,"__esModule",{value:!0});b.cVa=void 0;r=a(22674);c=a(40953);l=a(30543);f=a(72639);k=a(86563);d=a(81378);g=a(13158);m=a(75014);h=a(39832);n=a(16257);p=a(46303);q=a(829);u=a(45830);t=a(87607);v=a(84860);w=a(35329);y=a(31149);x=a(36129);z=a(25546);A=a(69740);B=a(88951);C=a(83998);D=a(54949);F=a(62898);G=a(15153);E=a(70285);H=a(76427);M=a(36642);L=a(15614);K=a(95738);O=a(82306);J=a(7605);I=a(67658);N=a(3035);R=a(46320);U=a(595);ja=a(49917);ra=a(49449);b.cVa=new r.dd(function(ka){ka(C.sl).to(D.QJa);ka(c.eKa).to(l.dKa);ka(F.LJa).to(G.KJa);ka(E.NJa).to(H.MJa);ka(f.iea).to(k.fKa);ka(I.gKa).Xd(function(ua){return function(){var Aa;Aa=ua.kb.get(J.Xw);return Aa && Aa.Hfb?ua.kb.resolve(R.zKa):ua.kb.resolve(N.hKa);};});ka(d.JJa).to(g.IJa);ka(m.wKa).to(h.vKa);ka(n.ZJa).to(p.YJa);ka(q.hea).to(u.$Ja);ka(t.nNa).to(v.mNa);ka(t.uNa).to(w.tNa);ka(t.xGa).to(z.wGa);ka(t.iNa).to(A.hNa);ka(t.WDa).to(B.VDa);ka(L.Wmb).to(M.iKa);ka(K.XJa).to(O.WJa);ka(ja.vba).to(U.Mza);ka(ja.uba).to(ra.Gza);ka(t.Eca).Xd(function(ua){return function(Aa){switch(Aa){case t.Ko.start:return ua.kb.get(t.nNa);case t.Ko.stop:return ua.kb.get(t.uNa);case t.Ko.PU:return ua.kb.get(t.xGa);case t.Ko.splice:return ua.kb.get(t.iNa);case t.Ko.aL:return ua.kb.get(t.WDa);}throw new y.Mc(x.U.hmb,void 0,void 0,void 0,void 0,"The event key was invalid - " + Aa);};});});},87607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ko={start:"start",stop:"stop",PU:"keepAlive",aL:"engage",splice:"splice"};b.Eca="EventPboCommandFactorySymbol";b.nNa="StartEventPboCommandSymbol";b.uNa="StopEventPboCommandSymbol";b.xGa="KeepAliveEventPboCommandSymbol";b.iNa="SpliceEventPboCommandSymbol";b.WDa="EngageEventPboCommandSymbol";},81378:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JJa="PboAcquireLicenseCommandSymbol";},62898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LJa="PboBindCommandSymbol";},70285:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NJa="PboBindDeviceCommandSymbol";},40547:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xg={Wqa:"logblob",W:"manifest",dQb:"licensedmanifest",Qg:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.pnb={pMa:"X-Netflix.Request.Attempt",Sea:"X-Netflix.Client.Request.Name",qBa:"x-netflix.browsername",vBa:"x-netflix.browserversion",dJa:"x-netflix.osname",eJa:"x-xetflix.osversion",gCa:"x-netflix.clienttype",nOa:"x-netflix.uiversion"};b.Vz={pMa:"reqAttempt",Sea:"reqName",qBa:"browsername",vBa:"browserversion",dJa:"osname",eJa:"osversion",gCa:"clienttype",nOa:"uiversion"};},83998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sl="PboCommandContextSymbol";},95738:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XJa="PboGenerateScreenshotsCommandSymbol";},16257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZJa="PboLicenseRequestTransformerSymbol";},829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hea="PboLicenseResponseTransformerSymbol";},40953:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eKa="PboLogblobCommandSymbol";},72639:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iea=b.ql=void 0;r=b.ql || (b.ql={});r.cJ="PRE_FETCH";r.inb="QC";r.rm="STANDARD";r.J0="SUPPLEMENTAL";r.C$b="DOWNLOAD";b.iea="PboManifestCommandSymbol";},67658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gKa="PboManifestRequestTransformerSymbol";},15614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wmb="PboPingCommandSymbol";},75014:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wKa="PboReleaseLicenseCommandSymbol";},49449:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.tza,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Gza=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);g=a(83998);a(2762);fa(c,d.$g);c.prototype.xf=function(m,h){var n,p,q;n=this;p=h.event;q=this.KA(h);!1;!1;return this.send(m,{url:h.href,name:k.xg.events,Fj:k.xg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw n.Nl(u);});};c.prototype.Vn=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.KA=function(m){return {xid:m.ma,event:m.event,adEventToken:m.Xu,adBreakLocationMs:m.CE,position:m.position,clientTime:m.Ix,sessionStartTime:m.dm,appId:m.appId,sessionId:m.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.sl))],a);b.Gza=a;},595:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.tza,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Mza=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);g=a(83998);a(2762);fa(c,d.$g);c.prototype.xf=function(m,h){var n,p,q;n=this;p=h.event;q=this.KA(h);!1;!1;return this.send(m,{url:h.href,name:k.xg.events,Fj:k.xg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw n.Nl(u);});};c.prototype.Vn=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.KA=function(m){return {xid:m.ma,event:m.event,adEventToken:m.Xu,adBreakLocationMs:m.CE,position:m.position,clientTime:m.Ix,sessionStartTime:m.dm,appId:m.appId,sessionId:m.sessionId,playTimes:this.bja(m.Sv),mainManifestPlaybackContextId:m.oRb,thirdPartyAdVerificationMetadata:m.u5b};};c.prototype.bja=function(m){return {total:m.total,audio:m.audio.map(function(h){return {duration:h.duration,downloadableId:h.Ub,cdnId:h.Hm};}),video:m.video.map(function(h){return {duration:h.duration,downloadableId:h.Ub,cdnId:h.Hm};}),text:m.text.map(function(h){return {duration:h.duration,downloadableId:h.Ub,cdnId:h.Hm};})};};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.sl))],a);b.Mza=a;},88496:function(r,b,a){var l,f,k;function c(d,g,m,h){g=k.$g.call(this,d,g,h) || this;g.context=d;g.bma=m;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.mq=void 0;r=a(5163);l=a(22674);f=a(40547);k=a(51658);a(2762);fa(c,k.$g);c.prototype.T5=function(d){return "LIVE" === d.$f?f.xg.events + "/live/" + this.bma:f.xg.events + "/" + this.bma;};c.prototype.xf=function(d,g){var m,h;m=this;h=this.KA(g);!1;!1;return this.send(d,{url:g.href,name:f.xg.events,Fj:this.T5(g)},h).then(function(){return g;}).catch(function(n){throw m.Nl(n);});};c.prototype.Vn=function(d,g,m){var h,n,p;h=this;n=this.KA(m);!1;!1;p={url:g.BL("events").href,name:f.xg.events,Fj:this.T5(m)};return this.send(d,p,n).then(function(q){g.Jha(q.result.links);return m;}).catch(function(q){throw h.Nl(q);});};c.prototype.KA=function(d){return {event:this.bma,xid:d.ma,position:d.position || 0,clientTime:d.Ix,sessionStartTime:d.dm,videoTrackId:d.JO,audioTrackId:d.op,timedTextTrackId:d.sO,mediaId:d.vM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.bja(d.Sv),sessionParams:d.cm};};c.prototype.aja=function(d){return {downloadableId:d.Ub,duration:d.duration};};c.prototype.bja=function(d){var g;g={total:d.total,audio:d.audio.map(this.aja),video:d.video.map(this.aja),text:d.text.map(this.aja)};d.total !== d.gI && (g.totalContentTime=d.gI);0 !== d.QC && (g.totalAdDuration=d.QC);0 !== d.RC && (g.totalOtherDuration=d.RC);if(0 !== d.RC || 0 !== d.QC)g.totalCombinedDuration=d.uO;0 !== d.hI && (g.totalLiveEdgeDuration=d.hI);0 !== d.iI && (g.totalStartSlateDuration=d.iI);return g;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.un)()),r.__param(1,(0,l.un)()),r.__param(2,(0,l.un)()),r.__param(3,(0,l.un)())],a);b.mq=a;},51658:function(r,b,a){var l,f,k,d,g;function c(m,h,n){this.context=m;this.errorCode=h;this.w0b=n;}Object.defineProperty(b,"__esModule",{value:!0});b.$g=void 0;r=a(5163);l=a(22674);f=a(71977);k=a(5021);d=a(31149);g=a(34231);c.prototype.send=function(m,h,n,p,q,u){var t;t=this;u=void 0 === u?g.wu.iQ:u;return this.XIb(m,h,n,u,p,q).then(function(v){return t.context.pDb.send(v.context,v.request);});};c.prototype.XIb=function(m,h,n,p,q,u){var t,v;try{t=this.context.R_b.create(this.context.ly.SA(),h.url,n,q,p);v=this.Ovb(h,m,p,u);return Promise.resolve({context:v,request:t});}catch(w){return Promise.reject(w);}};c.prototype.Ovb=function(m,h,n,p){return {Ee:this.context.Ee,log:h,Im:m.name,url:this.context.L7b((0,f.OTa)(this.context.fh,this.context.qh,m.name,n)),Qva:this.w0b,timeout:(0,k.uh)(59),headers:(0,f.NTa)(this.context.qh,this.context.lF),Fj:m.Fj,kvb:p};};c.prototype.Nl=function(m){return m instanceof d.Mc?m:(0,f.Nl)(this.errorCode,m);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.un)()),r.__param(1,(0,l.un)()),r.__param(2,(0,l.un)())],a);b.$g=a;},88951:function(r,b,a){var l,f,k,d,g;function c(m){return k.mq.call(this,m,f.U.Jjb,d.Ko.aL,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VDa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.mq);c.prototype.KA=function(m){return Object.assign(Object.assign({},k.mq.prototype.KA.call(this,m)),{action:m.action});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.VDa=g;},82306:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.Vjb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.WJa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.xf=function(m,h){var n;n=this;return this.send(m,{url:"/generateScreenshots",name:k.xg.W,Fj:"generateScreenshots"},h).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.Vn=function(m,h,n){var p;p=this;h={url:h.BL("generateScreenshots").href,name:k.xg.W,Fj:"generateScreenshots"};return this.send(m,h,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.WJa=g;},25546:function(r,b,a){var l,f,k,d,g;function c(m){return k.mq.call(this,m,f.U.fda,d.Ko.PU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wGa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.mq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.wGa=g;},13158:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.SI,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.xf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.T5=function(m){var h;h="ldl" === m.E4a?"prefetch/license":"license";"LIVE" === m.$f && (h+="/live");return h;};c.prototype.Vn=function(m,h,n){var p;p=this;h={url:h.BL(n.E4a).href,name:k.xg.Qg,Fj:this.T5(n)};return this.send(m,h,n.inputs,"drmSessionId").then(function(q){q=q.result;p.gxb(q);return q;}).catch(function(q){throw p.Nl(q);});};c.prototype.gxb=function(m){m.forEach(function(h){if(!h.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.IJa=g;},15153:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.rhb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.xf=function(m,h,n){var p;p=this;return this.send(m,{url:"/" + k.xg.bind,name:k.xg.bind,Fj:k.xg.bind},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Vn=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.KJa=g;},76427:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.shb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.xf=function(m,h,n){var p;p=this;return this.send(m,{url:"/bindDevice",name:k.xg.bind,Fj:k.xg.bind},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Vn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.MJa=g;},54949:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,v,w,y,x,z,A){this.fh=q;this.Ee=u;this.qh=t;this.pDb=v;this.ly=w;this.L7b=y;this.R_b=z;this.lF=A;}Object.defineProperty(b,"__esModule",{value:!0});b.QJa=void 0;r=a(5163);l=a(22674);f=a(24747);k=a(7605);d=a(31071);g=a(30650);m=a(62665);h=a(32934);n=a(77687);p=a(15160);a=a(33554);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.aZ)),r.__param(1,(0,l.l)(h.tu)),r.__param(2,(0,l.l)(k.Xw)),r.__param(3,(0,l.l)(g.TJa)),r.__param(4,(0,l.l)(m.Mw)),r.__param(5,(0,l.l)(n.qOa)),r.__param(6,(0,l.l)(p.IZ)),r.__param(7,(0,l.l)(d.yKa)),r.__param(8,(0,l.l)(a.Gw))],c);b.QJa=c;},71977:function(r,b,a){var m,h;function c(n){return !(!n || !n.mC && !n.pboc || !n.code && !n.code);}function l(n){return !(!n || !n.ec);}function f(n){return !!(n instanceof Error);}function k(n){switch(n){case "ACCOUNT_ON_HOLD":return h.S.Ylb;case "STREAM_QUOTA_EXCEEDED":return h.S.gmb;case "INSUFFICICENT_MATURITY":return h.S.lmb;case "TITLE_OUT_OF_WINDOW":return h.S.umb;case "CHOICE_MAP_ERROR":return h.S.fmb;case "BadRequest":return h.S.pmb;case "Invalid_SemVer_Format":return h.S.mmb;case "RESTRICTED_TO_TESTERS":return h.S.smb;case "AGE_VERIFICATION_REQUIRED":return h.S.dmb;case "BLACKLISTED_IP":return h.S.emb;case "DEVICE_EOL_WARNING":return h.S.Xda;case "DEVICE_EOL_FINAL":return h.S.lJa;case "INCORRECT_PIN":return h.S.pJa;case "MOBILE_ONLY":return h.S.rmb;case "MDX_CONTROLLER_CTICKET_INVALID":return h.S.qmb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return h.S.vmb;case "RESET_DEVICE":return h.S.oJa;case "RELOAD_DEVICE":return h.S.nJa;case "EXIT_DEVICE":return h.S.mJa;case "FREE_PREVIEW_ENDED":return h.S.kmb;case "STREAMING_LOCATION_DISALLOWED":return h.S.tmb;case "EXTRA_MEMBER_STREAM_HOLD":return h.S.jmb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return h.S.imb;case "ADS_UNAVAILABLE_VIEWABLE":return h.S.Zlb;case "ADS_UNSUPPORTED_DEVICE":return h.S.bmb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return h.S.$lb;case "ADS_UNSUPPORTED_COUNTRY":return h.S.amb;case "ADS_VPN_USE_DETECTED":return h.S.cmb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return h.S.omb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return h.S.nmb;default:return h.S.xEa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new m.Mc(n,k(p.code),"BadRequest" === p.code?h.Q_.Ghb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag,p.playbackContextId);}function g(n,p){return new m.Mc(n,p.ec,p.Vc,void 0,p.Ky,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.NTa=b.OTa=b.AHb=b.EHb=b.Nl=b.DHb=b.IU=b.zOb=b.t3a=void 0;m=a(31149);h=a(36129);b.t3a=c;b.zOb=l;b.IU=f;b.DHb=k;b.Nl=function(n,p){return l(p)?g(n,p):c(p)?d(n,p):f(p)?m.Mc.ana(n,p):new m.Mc(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.EHb=d;b.AHb=g;b.OTa=function(n,p,q,u,t){var v,w,y,x;t=void 0 === t?"router":t;v=p.nbb[q];if(void 0 === v)throw {mC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=v.version;if(void 0 === w)throw {mC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=v.service;if(void 0 === y)throw {mC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=v.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {mC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return v.isPlayApiDirect?n.CKb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(w):n.qKb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(w) + "/" + t;};b.NTa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.iSa && p && (q["X-Esn"]=p.bk);return q;};},46303:function(r,b,a){var l,f,k,d,g;function c(m,h,n){this.sa=m;this.platform=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.YJa=void 0;r=a(5163);l=a(22674);f=a(30869);k=a(5021);d=a(91581);a=a(4203);c.prototype.d6b=function(m){var h,n;h=this;n=this.sa.de.ca(k.sm);return {inputs:m.sj.map(function(p){var q,u,t,v,w;return {drmSessionId:p.sessionId,clientTime:n,challengeBase64:p.dataBase64,xid:m.ma.toString(),clientVersion:h.platform.version,platform:null === (q=h.config().od) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=h.config().od) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (w=null === (v=h.config().od) || void 0 === v?void 0:v.os) || void 0 === w?void 0:w.name};}),E4a:"standard" === m.ff.toLowerCase()?"license":"ldl",$f:m.$f};};c.prototype.g6b=function(m){var h,n;h=this;n=[];return m.he.map(function(p){n.push(p.id);return {url:h.Qvb(p.vG,p.XU),echo:"drmSessionId",params:{drmSessionId:p.id,xid:m.ma.toString()}};});};c.prototype.Qvb=function(m,h){return "/releaseLicense?drmLicenseContextId=" + m + (h?"&licenseId=" + h:"");};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.bg)),r.__param(1,(0,l.l)(d.An)),r.__param(2,(0,l.l)(a.Xb))],g);b.YJa=g;},45830:function(r,b,a){var l,f,k;function c(d,g){this.xh=d;this.HA=g;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ja=void 0;r=a(5163);l=a(22674);f=a(74870);a=a(2248);c.prototype.seb=function(d){var g,m;g=this;m=d.map(function(h){return h.links.releaseLicense.href;}).map(function(h){return g.xh.kW(h.substring(h.indexOf("?") + 1));});return {ia:!0,he:d.map(function(h,n){return {id:h.drmSessionId,vG:m[n].drmlicensecontextid,XU:m[n].licenseid};}),Uk:d.map(function(h){return {data:g.HA.decode(h.licenseResponseBase64),sessionId:h.drmSessionId};})};};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.bh)),r.__param(1,(0,l.l)(a.Zg))],k);b.$Ja=k;},30543:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.Zkb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.xf=function(m,h){var n;n=this;return this.send(m,{url:"/" + k.xg.Wqa,name:k.xg.Wqa,Fj:k.xg.Wqa},h).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.Vn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.dKa=g;},86563:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x){t=d.$g.call(this,t,f.U.yD,3) || this;t.platform=v;t.lV=w;t.cQb=y;t.ARb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.fKa=void 0;r=a(5163);l=a(72639);f=a(36129);k=a(40547);a(2762);d=a(51658);g=a(83998);m=a(91581);h=a(34231);n=a(17398);p=a(829);q=a(22674);a=a(67658);fa(c,d.$g);c.prototype.XKb=function(t,v){var w,y;y=v?k.xg.dQb:k.xg.W;v=v?"licensedManifest":"manifest";t.Uq === l.ql.cJ && (v="prefetch/" + v);"live" === t.bb.zd && (v+="/live");if(null === (w=t.Bf) || void 0 === w?0:w.eh)v="adBreakHydration";return {Fj:v,dyb:y};};c.prototype.xf=function(t,v){var w,y;w=this;y=v.Uq === l.ql.J0?h.wu.KLa:h.wu.iQ;return this.ARb().transform(v,y).then(function(x){var z,A;z=la(x);x=z.next().value;A=z.next().value;!1;z=w.XKb(v,"licensedManifest" === A.Im);return w.send(t,{url:A.Im,name:z.dyb,Fj:z.Fj},x,void 0,void 0,y).then(function(B){var C;B=w.lV.create(B.result);C=B.Fa;A.Wx && (C=C.hu.map(function(D){return D.Qg;}).filter(Boolean),0 < C.length?(C=w.cQb.seb(C),A.Wx.URa(C),B.Wx=A.Wx,B.Tpa=v.Uq === l.ql.cJ,B.Spa=!0):A.Wx.close());B.aS=A.aS;B.EY=A.EY;!1;return B;});}).catch(function(x){!1;throw w.Nl(x);});};c.prototype.Vn=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.T)(),r.__param(0,(0,q.l)(g.sl)),r.__param(1,(0,q.l)(m.An)),r.__param(2,(0,q.l)(n.VI)),r.__param(3,(0,q.l)(p.hea)),r.__param(4,(0,q.l)(a.gKa))],u);b.fKa=u;},3035:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,C,D,F,G,E,H){this.qh=x;this.platform=z;this.config=A;this.Owb=B;this.YWb=C;this.lo=D;this.qS=F;this.sa=G;this.V7=E;this.Mm=H;}Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;r=a(5163);l=a(22674);f=a(72639);k=a(4203);d=a(14423);g=a(34029);m=a(67650);h=a(21103);n=a(91581);p=a(30869);q=a(5021);u=a(2492);t=a(7605);v=a(36582);w=a(56800);y=a(24735);c.prototype.transform=function(x,z){var A,B,C,D,F,G,E,H;A=this;B=x.bb;C=Object.assign({},B.W2,B.cm);D={};F=x.J;G=this.config();D[F]={unletterboxed:!!C.preferUnletterboxed || G.HXb};E=G.U7b?30:25;G=G.Rr?this.lo.cJb():Promise.resolve(this.V7.ft());H={zd:null === B || void 0 === B?void 0:B.zd};return Promise.all([this.Mm.Z0a(H),this.Mm.a1a(H),this.Mm.WT(),this.Mm.P5(),this.yIb(x.ma,z),this.eJb(x),G]).then(function(M){var L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa;L=la(M);K=L.next().value;O=L.next().value;J=L.next().value;I=L.next().value;N=L.next().value;M=L.next().value;R=L.next().value;L=K.X5().concat(O.X5()).concat(A.config().au).concat(["BIF240","BIF320"]).filter(Boolean);I=I?I.DEVICE_SECURITY_LEVEL:void 0;aa="postplay" === B.zd?!0:!!C.isUIAutoPlay;J={type:"standard",manifestVersion:A.qh.iYa?"v2":"v1",viewableId:F,profiles:L,flavor:x.Uq,drmType:R,drmVersion:E,usePsshBox:!0,isBranching:!!x.bb.rg,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().Y4b,imageSubtitleHeight:d.lfa.G0a(),uiVersion:A.qh.ow,uiPlatform:A.qh.Haa,clientVersion:A.platform.version,platform:null === (U=A.config().od) || void 0 === U?void 0:U.version,osVersion:null === (ra=null === (ja=A.config().od) || void 0 === ja?void 0:ja.os) || void 0 === ra?void 0:ra.version,osName:null === (ua=null === (ka=A.config().od) || void 0 === ka?void 0:ka.os) || void 0 === ua?void 0:ua.name,supportsPreReleasePin:A.config().Ap.P4b,supportsWatermark:A.config().Ap.Q4b,packageId:A.zKb(B),deviceSecurityLevel:I,videoOutputInfo:J,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:aa,challenge:N,isNonMember:A.qh.r3a,pin:B.G8a,desiredVmaf:A.config().Bfb?A.config().bXa:A.config().cXa,desiredSegmentVmaf:A.config().Bfb?A.config().bXa:A.config().cXa,requestSegmentVmaf:A.config().X_b,supportsPartialHydration:A.qh.WK,contentPlaygraph:x.bb.rg?[]:A.qh.dF,supportsAdBreakHydration:!0,auxiliaryManifestToken:x.bb.rg?void 0:null === (Aa=x.Bf) || void 0 === Aa?void 0:Aa.Zb,adBreakToken:x.bb.rg?void 0:null === (La=x.Bf) || void 0 === La?void 0:La.eh,originalPlaybackContextId:!x.bb.rg && (null === (Xa=x.Bf) || void 0 === Xa?0:Xa.Zb)?null === (ab=x.Bf) || void 0 === ab?void 0:ab.eW:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.DYa && (J.extraParams=B.DYa);B.$Wa && (J.desiredDownloadables=B.$Wa);B.Bva && (J.requestReference=B.Bva);U={Im:J.adBreakToken?"adBreakHydration":M?"licensedManifest":"manifest",Wx:null === M || void 0 === M?void 0:M.fz,aS:K,EY:O};M && (M={drmSessionId:M.fz.dy() || "session",clientTime:A.sa.DH.ca(q.sm),challengeBase64:M.xja},J.challenges={"default":[M]},J.profileGroups=[{name:"default",profiles:L}],J.licenseType=x.ff == y.yh.xn?"limited":"standard",x.ma && (J.xid=x.ma.toString()));A.qh.WK || (J.showAllSubDubTracks=A.config().Ap.g3b || !!C.showAllSubDubTracks);A.qh.bYa && x.Uq === f.ql.J0 && (J.maxSupportedLanguages=2);x.xO && (J.originalPlaybackContextId=x.xO.eW,J.requiredAudioTrackId=x.xO.a0b,J.requiredTextTrackId=x.xO.d0b);return [J,U];});};c.prototype.zKb=function(x){if(this.config().K9.enabled){if(void 0 !== x.nn)return x.nn;if(void 0 !== this.config().K9.nn)return Number(this.config().K9.nn);}};c.prototype.yIb=function(x,z){var A;A=this;return this.Owb.j_a(z).then(function(B){var C;C=x && A.YWb.EKb(x);C && C.kp("cad");return B;});};c.prototype.eJb=function(x){var z;if(void 0 === x.ff || !this.config().Rr)return Promise.resolve(void 0);z=x.ff === y.yh.rm && this.qh.hv;return x.ff === y.yh.xn && this.qh.eB || z?this.qS.loa(x.ff):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(t.Xw)),r.__param(1,(0,l.l)(n.An)),r.__param(2,(0,l.l)(k.Xb)),r.__param(3,(0,l.l)(g.DBa)),r.__param(4,(0,l.l)(m.xea)),r.__param(5,(0,l.l)(h.Qw)),r.__param(6,(0,l.l)(u.rZ)),r.__param(7,(0,l.l)(p.bg)),r.__param(8,(0,l.l)(v.Fda)),r.__param(9,(0,l.l)(w.Fw))],a);b.hKa=a;},36642:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.wmb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.xf=function(m,h,n){var p;p=this;return this.send(m,{url:"/" + k.xg.ping,name:k.xg.ping,Fj:k.xg.ping},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Vn=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.iKa=g;},39832:function(r,b,a){var l,f,k,d,g;function c(m){return d.$g.call(this,m,f.U.Nea,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.xf=function(m,h){var n;n=this;return this.send(m,{url:"/bundle",name:k.xg.Qg,Fj:"release/license"},h).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.Vn=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.vKa=g;},46320:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q){this.platform=h;this.config=n;this.qS=p;this.Mm=q;}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(91581);d=a(2492);g=a(56800);m=a(24735);c.prototype.transform=function(h){var n,p,q;n=this;p=h.bb;q={zd:void 0};return Promise.all([this.Mm.Z0a(q),this.Mm.a1a(q),this.qS.loa(m.yh.rm)]).then(function(u){var t,v;t=la(u);u=t.next().value;v=t.next().value;t=t.next().value;return [{viewableId:h.J,packageId:p.nn,assetId:p.wia,challenge:t.xja,audioProfiles:u.X5(),textProfiles:n.config().au,trickplayProfiles:["BIF240","BIF320"],videoProfiles:v.X5(),audioLanguages:p.zub,textLanguages:p.r5b,videoLanguages:p.Ufb?[p.Ufb]:void 0,requestReference:p.Bva,additionalAudioAssets:p.atb,additionalTextAssets:p.dtb,useBetterTextUrls:!0},{Wx:null === t || void 0 === t?void 0:t.fz,Im:"studioManifest",aS:u,EY:v}];});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.An)),r.__param(1,(0,l.l)(f.Xb)),r.__param(2,(0,l.l)(d.rZ)),r.__param(3,(0,l.l)(g.Fw))],a);b.zKa=a;},69740:function(r,b,a){var l,f,k,d,g;function c(m){return k.mq.call(this,m,f.U.BMa,d.Ko.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hNa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.mq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.hNa=g;},84860:function(r,b,a){var l,f,k,d,g;function c(m){return k.mq.call(this,m,f.U.Gnb,d.Ko.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mNa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.mq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.mNa=g;},35329:function(r,b,a){var l,f,k,d,g;function c(m){return k.mq.call(this,m,f.U.Hnb,d.Ko.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tNa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.mq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.sl))],g);b.tNa=g;},17705:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u){n=f.Ne.call(this,n,"PboConfigImpl") || this;n.config=p;n.Atb=q;n.pg=u;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.RJa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(4203);m=a(24747);a=a(5614);fa(c,f.Ne);Ya.Object.defineProperties(c.prototype,{ow:{configurable:!0,enumerable:!0,get:function(){return this.config().Ap.ow || "";}},Haa:{configurable:!0,enumerable:!0,get:function(){return this.config().Ap.Haa || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Ap.nua;}},r3a:{configurable:!0,enumerable:!0,get:function(){return !1;}},nbb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Atb.uTa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.obb);}},obb:{configurable:!0,enumerable:!0,get:function(){return {};}},z$a:{configurable:!0,enumerable:!0,get:function(){return !1;}},$oa:{configurable:!0,enumerable:!0,get:function(){return 10;}},iSa:{configurable:!0,enumerable:!0,get:function(){return !1;}},hv:{configurable:!0,enumerable:!0,get:function(){return this.pg.hv;}},eB:{configurable:!0,enumerable:!0,get:function(){return this.pg.eB;}},pI:{configurable:!0,enumerable:!0,get:function(){return this.pg.pI;}},Hfb:{configurable:!0,enumerable:!0,get:function(){return !1;}},bYa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Afb:{configurable:!0,enumerable:!0,get:function(){return [];}},iYa:{configurable:!0,enumerable:!0,get:function(){return !0;}},WK:{configurable:!0,enumerable:!0,get:function(){return this.pg.WK;}},dF:{configurable:!0,enumerable:!0,get:function(){return this.pg.dF;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"ow",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"Haa",null);r.__decorate([d.config(d.pz,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.iO,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.ed,"hasLimitedPlaybackFunctionality")],h.prototype,"r3a",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"nbb",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"obb",null);r.__decorate([d.config(d.ed,"pboRecordHistory")],h.prototype,"z$a",null);r.__decorate([d.config(d.pz,"pboHistorySize")],h.prototype,"$oa",null);r.__decorate([d.config(d.ed,"pboAddXEsnHeader")],h.prototype,"iSa",null);r.__decorate([d.config(d.ed,"combineManifestAndLicense")],h.prototype,"hv",null);r.__decorate([d.config(d.ed,"enableLicensedManifestForPrefetch")],h.prototype,"eB",null);r.__decorate([d.config(d.ed,"useLdlForPrefetchLicensedManifest")],h.prototype,"pI",null);r.__decorate([d.config(d.ed,"pboUseStudioManifest")],h.prototype,"Hfb",null);r.__decorate([d.config(d.ed,"pboEnableLeanManifest")],h.prototype,"bYa",null);r.__decorate([d.config(d.ed,"useHeaderForRequestNames")],h.prototype,"Afb",null);r.__decorate([d.config(d.ed,"pboEnableV2OptimizedManifest")],h.prototype,"iYa",null);r.__decorate([d.config(d.ed,"pboEnableManifestPartialHydrationSupport")],h.prototype,"WK",null);r.__decorate([d.config(d.iO,"pboContentPlaygraphTypes")],h.prototype,"dF",null);h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl)),r.__param(1,(0,l.l)(g.Xb)),r.__param(2,(0,l.l)(m.aZ)),r.__param(3,(0,l.l)(a.fJ))],h);b.RJa=h;},71976:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B;function c(C){this.config=C;this.Jx=[];}function l(C,D,F){this.Ea=C;this.AO=D;this.context=F;this.startTime=this.Ea.Ib();}function f(C,D,F,G,E,H,M,L,K,O){this.yeb=D;this.json=F;this.Ea=G;this.dt=E;this.Qua=H;this.xc=M;this.config=L;this.Hb=K;this.receiver=O;this.log=C.$a("Pbo");L.z$a && (this.Jx=new c(L));this.AO=this.yeb();}Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;r=a(5163);k=a(22674);d=a(5021);g=a(14543);m=a(87386);h=a(63368);n=a(81918);p=a(34231);q=a(10306);u=a(53085);t=a(71977);v=a(7605);w=a(15160);y=a(85001);x=a(40547);z=a(45385);a=a(15348);A={"shakti-":"akira"};f.prototype.send=function(C,D){var F;F=new l(this.Ea,this.AO,C);this.Jx && this.Jx.append(F);return this.ywa(C,D,F);};f.prototype.ywa=function(C,D,F){var G;G=this;return new Promise(function(E,H){G.retry(C,D).then(function(M){var L,K;G.A1b(M);L=la(G.j8b(M));K=L.next().value;L=L.next().value;K && (G.receiver.Lua({command:C.Im,inputs:D,outputs:K}),G.Uxb(F),E(M));L && (G.receiver.Lua({command:C.Im,inputs:D,outputs:L}),G.UUa(F,L),H(L));}).catch(function(M){var L;G.receiver.Lua({command:C.Im,inputs:D,outputs:M});L=G.UUa(F,M);M.Nb && (M.Nb=[M.Nb," ",L].join(""));H(M);});});};f.prototype.A1b=function(C){(C=C.serverTime) && this.Hb.Dc(y.bda.mbb,(0,d.Ob)(C));};f.prototype.j8b=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{mC:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};f.prototype.tub=function(C,D,F){var G;G=this;this.E7b(D,C);this.AO=this.yeb(F);return this.AO.send(D,F).then(function(E){return {retry:!1,result:z.p0.rWb(G.json,E.body)};}).catch(function(E){var H,M;H=z.p0.YJb(E);M=void 0 !== H?Math.min(H,D.Qva):D.Qva;return G.Q$(D,E,C,M)?(H=G.vwb(E,C,M),G.log.warn("Method failed, retrying",Object.assign({Method:D.Im,Attempt:C + 1,WaitTime:H,MaxRetries:M},G.Rka(E))),Promise.resolve({retry:!0,delay:H,error:E})):Promise.resolve({retry:!1,error:E});});};f.prototype.VHb=function(C){var D,F;if(!this.wha || this.wha.NVb !== C){D="";F=C;Object.entries(A).find(function(G){var E;E=la(G);G=E.next().value;E=E.next().value;if(0 === C.indexOf(G))return (D=E,C=C.slice(G.length),!0);});this.wha={QUa:D,ow:C,NVb:F};}return this.wha;};f.prototype.E7b=function(C,D){var F,G,E,H;H=C.url.searchParams;H.set(x.Vz.pMa,(D + 1).toString());this.config.Afb.includes(C.Fj)?C.headers[x.pnb.Sea]=C.Fj:H.set(x.Vz.Sea,C.Fj);C=this.VHb(null !== (F=this.config.ow) && void 0 !== F?F:"");C.QUa && (H.set(x.Vz.gCa,C.QUa),C.ow && H.set(x.Vz.nOa,encodeURIComponent(C.ow)),F=this.dt.od,(null === F || void 0 === F?0:F.name) && H.set(x.Vz.qBa,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && H.set(x.Vz.vBa,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && H.set(x.Vz.dJa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && H.set(x.Vz.eJa,encodeURIComponent(F.os.version)));};f.prototype.retry=function(C,D,F){var G;G=this;F=void 0 === F?0:F;return this.tub(F++,C,D).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(C,D,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};f.prototype.Q$=function(C,D,F,G){var E;E=z.p0.gPb(D);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.Im,Attempt:F + 1,MaxRetries:G},this.Rka(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.Im},this.Rka(D)));return !1;};f.prototype.vwb=function(C,D,F){if(C && C.CC && void 0 !== C.CC.retryAfterSeconds)return (0,d.uh)(C.CC.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.Ob)(this.Qua.a$a(C,D));};f.prototype.wait=function(C){var D;D=this;return new Promise(function(F){D.xc.nk(C || d.Ga,F);});};f.prototype.Rka=function(C){return (0,t.t3a)(C)?C:{message:C.message,subCode:C.ec,extCode:C.Vc,mslCode:C.Ky,data:C.data};};f.prototype.Uxb=function(C){C.lO();};f.prototype.UUa=function(C,D){var F;C.Tq(D);if(this.Jx)try{F=this.json.stringify(this.Jx);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=f;B=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.ab)),r.__param(1,(0,k.l)(g.eOa)),r.__param(2,(0,k.l)(h.tD)),r.__param(3,(0,k.l)(n.Lc)),r.__param(4,(0,k.l)(p.wn)),r.__param(5,(0,k.l)(q.D0)),r.__param(6,(0,k.l)(u.Th)),r.__param(7,(0,k.l)(v.Xw)),r.__param(8,(0,k.l)(w.Jca)),r.__param(9,(0,k.l)(a.kea))],B);b.SJa=B;l.prototype.lO=function(){this.ia=!0;this.elapsedTime=this.Ea.Ib().qa(this.startTime);};l.prototype.Tq=function(C){this.ia=!1;this.elapsedTime=this.Ea.Ib().qa(this.startTime);this.y4b=C.ec || C.subCode;this.OFb=C.Vc || C.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var C;C=Object.assign({success:this.ia,method:this.context.Im,startTime:this.startTime.ca(d.pa),elapsedTime:this.elapsedTime?this.elapsedTime.ca(d.pa):"in progress"},this.AO.lka());return this.ia?C:Object.assign(Object.assign(Object.assign({},C),this.AO.lka()),{subcode:this.y4b,extcode:this.OFb});};c.prototype.append=function(C){this.Jx.push(C);0 < this.config.$oa && this.Jx.length > this.config.$oa && this.Jx.shift();};c.prototype.toJSON=function(){return this.Jx;};},45385:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.p0=void 0;l=a(36129);c.gPb=function(f){var k,d;k=f && f.code;d=f && (f.Aa || f.ec);f=f.Vc !== l.Q_.HJa;d=!!d && d >= l.S.BP && d <= l.S.zP && f;return !("RETRY" !== k && "FAIL" !== k) || d;};c.YJb=function(f){var k,d;d=null === (k=null === f || void 0 === f?void 0:f.CC) || void 0 === k?void 0:k.maxRetries;return "number" === typeof d?d:"FAIL" === (null === f || void 0 === f?void 0:f.code)?1:void 0;};c.rWb=function(f,k){var d;if(k){try{d=f.parse(k);}catch(g){throw {mC:!0,code:"FAIL",message:"Unable to parse the response body",data:k};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (f=d.result.find(function(g){return g.error;})))throw f.error;return d;}throw {mC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {mC:!0,code:"FAIL",message:"There is no body property on the response"};};b.p0=c;},23632:function(r,b,a){var l,f,k;function c(d,g){this.lF=g;this.log=d.$a("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(33554);c.prototype.Jha=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.BL=function(d){!1;return this.links[d];};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.Gw))],k);b.bKa=k;},17108:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;r=a(5163);a=a(22674);c.prototype.h2b=function(f){this.listener=f;};c.prototype.Lua=function(f){var k;null === (k=this.listener) || void 0 === k?void 0:k.call(this,f);};l=c;l=r.__decorate([(0,a.T)()],l);b.uKa=l;},91918:function(r,b,a){var f,k;function c(d,g,m,h,n,p,q){this.version=d;this.url=g;this.id=m;this.languages=h;this.ub=n;this.SDb=p;this.vTb=q;}function l(d){this.qh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;r=a(5163);f=a(22674);a=a(7605);l.prototype.create=function(d,g,m,h,n){return new c(this.qh.version,g,d,this.qh.languages,m,h,n);};k=l;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.Xw))],k);b.xKa=k;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.ub,echo:this.SDb};};},5652:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(22674);c=a(70865);l=a(14543);f=a(60204);k=a(89146);d=a(74429);g=a(34231);b.transports=new r.dd(function(m){m(c.X0).to(d.dOa).ga();m(l.CIa).to(f.BIa);m(l.kNa).to(k.jNa);m(l.eOa).Xd(function(h){return function(n){var p;return h.kb.get(c.X0).R$(null !== (p=null === n || void 0 === n?void 0:n.vTb) && void 0 !== p?p:g.wu.iQ)?h.kb.get(l.CIa):h.kb.get(l.kNa);};});});},14543:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eOa="TransportFactorySymbol";b.CIa="MslTransportSymbol";b.kNa="SslTransportSymbol";},70865:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.X0="TransportConfigSymbol";},60204:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){var q;q=this;this.gC=n;this.profile=p;this.log=h.$a("MslTransport");this.gC().then(function(u){return q.s8=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.BIa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(97996);d=a(5021);a=a(71501);g={license:!0};c.prototype.send=function(h,n){var p,q;p=this;q={gsa:Object.assign({Ee:h.Ee,log:h.log,profile:this.profile},h.kvb),method:h.Im,url:h.url.href,body:JSON.stringify(n),timeout:h.timeout.ca(d.pa),Jfb:this.profile,G_b:!g[h.Im],f7a:!!g[h.Im],tF:!0,hw:h.Qva,headers:h.headers};!1;return this.gC().then(function(u){return u.send(q).catch(function(t){var v;if(!t.error)throw (t.ec=t.Aa || t.ec,t);v=t.error;v.CC=t.CC;p.log.error("Error sending MSL request",{mslCode:v.Ky,subCode:v.ec,data:v.data,message:v.message});throw v;});});};c.prototype.lka=function(){var h;return {userTokens:null === (h=this.s8) || void 0 === h?void 0:h.GV.getUserIdTokenKeys()};};m=c;m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.ZP)),r.__param(2,(0,l.l)(a.iJ))],m);b.BIa=m;},89146:function(r,b,a){var l,f,k,d;function c(g,m){this.Ee=m;this.log=g.$a("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.jNa=void 0;r=a(5163);l=a(22674);f=a(5021);k=a(87386);a=a(32934);c.prototype.send=function(g,m){var h,n;h=this;n={url:g.url.href,ZA:"nq-" + g.Im,h9a:JSON.stringify(m),F3:g.timeout.ca(f.pa),headers:g.headers,withCredentials:!0,Gr:"pbo"};!1;return new Promise(function(p,q){h.Ee.download(n,function(u){u.ia?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.ec=p.Aa || p.ec,p);q=p.error;q.CC=p.CC;h.log.error("Error sending SSL request",{subCode:q.ec,data:q.content,message:q.message});throw q;});};c.prototype.lka=function(){return {};};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(a.tu))],d);b.jNa=d;},74429:function(r,b,a){var l,f,k,d,g;function c(m){return f.Ne.call(this,m,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(34231);fa(c,f.Ne);c.prototype.R$=function(m){var h,n;h=this.FO;n=this.rSa;switch(m){case g.wu.iQ:return h;case g.wu.KLa:return h && !n;case g.wu.Qlb:return !1;}};Ya.Object.defineProperties(c.prototype,{FO:{configurable:!0,enumerable:!0,get:function(){return !0;}},rSa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.ed,"usesMsl")],a.prototype,"FO",null);r.__decorate([d.config(d.ed,"allowRequestsWithoutMsl")],a.prototype,"rSa",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl))],a);b.dOa=a;},21892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oea="PlatformEmeSymbol";},75236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z0="UserAgentDataPlatformVersionProviderSymbol";},92623:function(r,b,a){var g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C;function c(D,F,G){this.Gm=D;this.groups=F;this.prefix=G;D=w(D,F,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function l(){}function f(){}function k(){return v?v:"0.0.0.0";}function d(D){D({Ghc:0,Wic:0,Xfc:0,tfc:0});}g=a(57055);l.prototype.set=function(D,F){n[D]=F;p.save(D,F);};l.prototype.get=function(D,F){if(n.hasOwnProperty(D))return n[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ia?(n[D]=G.data,F && F(G.data)):n[D]=void 0;});};l.prototype.remove=function(D){p.remove(D);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};f.prototype.now=function(){return q();};f.prototype.xa=function(){return u();};f.prototype.esa=function(D){return D + q() - u();};f.prototype.Esa=function(D){return D + u() - q();};c.prototype.gWa=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ca(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Gm,this.groups,F);};y=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){m=D.o9;w=D.Qi;p=D.storage;n=D.kM;q=D.pKb;u=D.getTime;t=D.Vtb;x=D.Mo;C=D.fj;z=D.GI;A=D.SourceBuffer;B=D.MediaSource;v=D.pgc;h=D.Qs;return {name:"cadmium",Qs:h,o9:m,storage:new l(),Storage:l,time:new f(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,Mo:x,GI:z,dbc:A,MediaSource:B,fj:C,Yk:{name:k},memory:{Jfc:d},PT:D.PT,W3:D.W3,Tka:D.Tka,ping:function(F){fetch(F).catch(function(){});}};};},87141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Bt,minHCInitVideoBitrate:a.WSb,maxInitVideoBitrate:a.Fy,minInitAudioBitrate:a.DV,maxInitAudioBitrate:a.qV,minHCInitAudioBitrate:a.i8,minAcceptableVideoBitrate:a.e8,minRequiredBuffer:a.cC,minPrebufSize:a.ur,minCheckBufferingCompleteInterval:a.Xra,rebufferingFactor:a.Yua,useMaxPrebufSize:a.Wya,maxPrebufSize:a.$B,maxRebufSize:a.Dra,maxBufferingTime:a.qr,minAudioMediaRequestSizeBytes:a.Wra,minVideoMediaRequestSizeBytes:a.$ra,initialBitrateSelectionCurve:a.E6,initSelectionLowerBound:a.z2a,initSelectionUpperBound:a.B2a,throughputPercentForAudio:a.aY,bandwidthMargin:a.Kia,bandwidthMarginContinuous:a.Lia,bandwidthMarginCurve:a.Mia,conservBandwidthMargin:a.hka,switchConfigBasedOnInSessionTput:a.Nxa,conservBandwidthMarginTputThreshold:a.jka,conservBandwidthMarginCurve:a.ika,switchAlgoBasedOnHistIQR:a.zdb,switchConfigBasedOnThroughputHistory:a.Oxa,maxPlayerStateToSwitchConfig:a.Q5a,lowEndMarkingCriteria:a.d5a,IQRThreshold:a.aGa,histIQRCalcToUse:a.U1a,maxTotalBufferLevelPerSession:a.tV,highWatermarkLevel:a.P1a,toStableThreshold:a.geb,toUnstableThreshold:a.Aaa,skipBitrateInUpswitch:a.jxa,watermarkLevelForSkipStart:a.lza,highStreamRetentionWindow:a.Woa,lowStreamTransitionWindow:a.bra,highStreamRetentionWindowUp:a.Yoa,lowStreamTransitionWindowUp:a.dra,highStreamRetentionWindowDown:a.Xoa,lowStreamTransitionWindowDown:a.cra,highStreamInfeasibleBitrateFactor:a.Voa,lowestBufForUpswitch:a.Ay,lockPeriodAfterDownswitch:a.dV,lowWatermarkLevel:a.hra,lowestWaterMarkLevel:a.By,lowestWaterMarkLevelBufferRelaxed:a.jra,mediaRate:a.X7,maxTrailingBufferLen:a.tM,audioBufferTargetAvailableSize:a.zia,videoBufferTargetAvailableSize:a.aza,maxVideoTrailingBufferSize:a.Y5a,maxAudioTrailingBufferSize:a.C5a,fastUpswitchFactor:a.U4,fastDownswitchFactor:a.sma,maxMediaBufferAllowed:a.CG,simulatePartialBlocks:a.pcb,simulateBufferFull:a.ocb,considerConnectTime:a.kka,connectTimeMultiplier:a.gka,lowGradeModeEnterThreshold:a.jRb,lowGradeModeExitThreshold:a.kRb,maxDomainFailureWaitDuration:a.F5a,maxAttemptsOnFailure:a.K7,enableMaxAttemptsOnFailure:a.Ila,exhaustAllLocationsForFailure:a.zYa,maxNetworkErrorsDuringBuffering:a.M5a,maxBufferingTimeAllowedWithNetworkError:a.L7,fastDomainSelectionBwThreshold:a.MYa,throughputProbingEnterThreshold:a.Qdb,throughputProbingExitThreshold:a.Rdb,locationProbingTimeout:a.U4a,finalLocationSelectionBwThreshold:a.TYa,throughputHighConfidenceLevel:a.Odb,throughputLowConfidenceLevel:a.Pdb,locationStatisticsUpdateInterval:a.Oqa,enablePerfBasedLocationSwitch:a.fYa,probeServerWhenError:a.hH,probeRequestTimeoutMilliseconds:a.wua,allowSwitchback:a.SR,probeDetailDenominator:a.A9a,maxDelayToReportFailure:a.M7,countGapInBuffer:a.Pyb,bufferThresholdForAbort:a.Fvb,allowCallToStreamSelector:a.qtb,pipelineScheduleTimeoutMs:a.MWb,maxPartialBuffersAtBufferingStart:a.sM,maxActiveRequestsSABCell100:a.z5a,maxStreamingSkew:a.gSb,maxPendingBufferPercentage:a.$Rb,headerRequestSize:a.s6,estimateHeaderSize:a.Xla,minBufferLenForHeaderDownloading:a.g8,numExtraFragmentsAllowed:a.oUb,pipelineEnabled:a.so,maxParallelConnections:a.Bra,socketReceiveBufferSize:a.wcb,audioSocketReceiveBufferSize:a.S2,videoSocketReceiveBufferSize:a.Yaa,headersSocketReceiveBufferSize:a.Toa,updatePtsIntervalMs:a.s7b,bufferTraceDenominator:a.Ivb,bufferLevelNotifyIntervalMs:a.ETa,aseReportDenominator:a.YR,aseReportIntervalMs:a.tia,enableAbortTesting:a.gEb,abortRequestFrequency:a.Wrb,streamingStatusIntervalMs:a.r4b,prebufferTimeLimit:a.uW,minBufferLevelForTrackSwitch:a.o6a,penaltyFactorForLongConnectTime:a.Lta,longConnectTimeThreshold:a.Zqa,additionalBufferingLongConnectTime:a.Vha,additionalBufferingPerFailure:a.Wha,rebufferCheckDuration:a.IW,enableLookaheadHints:a.AEb,lookaheadFragments:a.hRb,enableOCSideChannel:a.YK,OCSCBufferQuantizationConfig:a.j0,updateDrmRequestOnNetworkFailure:a.Zeb,deferAseScheduling:a.FCb,maxDiffAudioVideoEndPtsMs:a.QRb,defaultHeaderCacheSize:a.$ka,defaultHeaderCacheDataPrefetchMs:a.Zka,neverWipeHeaderCache:a.T6a,networkFailureResetWaitMs:a.ksa,networkFailureAbandonMs:a.jsa,maxThrottledNetworkFailures:a.P7,throttledNetworkFailureThresholdMs:a.saa,lowThroughputThreshold:a.gra,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.fma,mp4ParsingInNative:a.rTb,sourceBufferInOrderAppend:a.G3b,requireAudioStreamToEncompassVideo:a.CN,allowAudioToStreamPastVideo:a.ptb,enableManagerDebugTraces:a.cYa,managerDebugMessageInterval:a.m5a,managerDebugMessageCount:a.l5a,bufferThresholdToSwitchToSingleConnMs:a.Hvb,bufferThresholdToSwitchToParallelConnMs:a.Gvb,netIntrStoreWindow:a.BTb,minNetIntrDuration:a.YSb,fastHistoricBandwidthExpirationTime:a.YFb,bandwidthExpirationTime:a.Yub,failureExpirationTime:a.XFb,historyTimeOfDayGranularity:a.SMb,expandDownloadTime:a.GFb,minimumMeasurementTime:a.gTb,minimumMeasurementBytes:a.fTb,throughputMeasurementTimeout:a.z5b,initThroughputMeasureDataSize:a.SNb,throughputMeasureWindow:a.y5b,throughputIQRMeasureWindow:a.x5b,IQRBucketizerWindow:a.Rkb,connectTimeHalflife:a.syb,responseTimeHalflife:a.n0b,historicBandwidthUpdateInterval:a.RMb,throughputWarmupTime:a.E5b,minimumBufferToStopProbing:a.eTb,throughputPredictor:a.A5b,ase_stream_selector:a.Ztb,liveStreamSelectorAlgorithm:a.Kqa,enableFilters:a.rEb,filterDefinitionOverrides:a.nGb,defaultFilter:a.pCb,secondaryFilter:a.c1b,defaultFilterDefinitions:a.OWa,initBitrateSelectorAlgorithm:a.xpa,bufferingSelectorAlgorithm:a.Yia,ase_ls_failure_simulation:a.WBb,ase_dump_fragments:a.Pka,ase_location_history:a.Qka,ase_throughput:a.FWa,ase_simulate_verbose:a.XBb,secondThroughputEstimator:a.owa,secondThroughputMeasureWindowInMs:a.Uab,marginPredictor:a.tra,networkMeasurementGranularity:a.lsa,HistoricalTDigestConfig:a.sFa,maxIQRSamples:a.K5a,minIQRSamples:a.r6a,periodicHistoryPersistMs:a.l9,saveVideoBitrateMs:a.s$,needMinimumNetworkConfidence:a.isa,biasTowardHistoricalThroughput:a.Pia,maxFastPlayBufferInMs:a.yra,maxFastPlayBitThreshold:a.H5a,minAudioMediaRequestDuration:a.Kv,minVideoMediaRequestDuration:a.Iy,minAudioMediaRequestDurationCache:a.Kv,minVideoMediaRequestDurationCache:a.Iy,addHeaderDataToNetworkMonitor:a.Iha,hindsightDenominator:a.S1a,hindsightDebugDenominator:a.R1a,hindsightParam:a.T1a,minimumTimeBeforeBranchDecision:a.n8,minimumTimeBeforeDelayedSeekToQueuedSegment:a.A6a,enableSessionHistoryReport:a.gYa,earlyStageEstimatePeriod:a.FXa,lateStageEstimatePeriod:a.w4a,maxNumSessionHistoryStored:a.N5a,minSessionHistoryDuration:a.v6a,appendMediaRequestOnComplete:a.DSa,waitForDrmToAppendMedia:a.gza,forceAppendHeadersAfterDrm:a.Rma,startMonitorOnLoadStart:a.qxa,reportFailedRequestsToNetworkMonitor:a.tva,reappendRequestsOnSkip:a.vZb,maxActiveRequestsPerSession:a.pV,limitAudioDiscountByMaxAudioBitrate:a.Fqa,appendFirstHeaderOnComplete:a.gia,maxAudioFragmentOverlapMs:0,editVideoFragments:a.YDb,declareBufferingCompleteAtSegmentEnd:a.HWa,applyProfileTimestampOffset:a.XR,profileTimestampOffsets:a.H9,applyProfileStreamingOffset:a.Cm,mediaSourceSupportsNegativePts:a.Z7,requireDownloadDataAtBuffering:a.Dva,requireSetupConnectionDuringBuffering:a.Eva,recordFirstFragmentOnSubBranchCreate:a.y$a,earlyAppendSingleChildBranch:a.EXa,selectStartingVMAFMethod:a.QN,activateSelectStartingVMAF:a.HR,minStartingVideoVMAF:a.Ct,minAcceptableVMAF:a.BV,minAllowedVmaf:a.HG,alwaysNotifyEOSForPlaygraph:a.xtb,enableNewAse:a.EEb,useNewApi:a.P7b,enableCombinedPlaygraphs:a.$S,enableAdPlaygraphs:a.UK,retainSbrOnFade:a.h$,excludedContentPlaygraphIds:a.gma,enableDiscontiguousBuffering:a.D4,forceImmediateTransitionTypeForTitles:a.Uma,forceImmediateTransitionExitZone:a.Tma,useBufferSizeLimiter:a.vY,useLegacyFragmentRounding:a.O7b,maxAllowedOutstandingRequests:a.J7,alwaysRunUnderflowTimer:a.cK,minStreamableConcurrencyWindow:a.Yra,streamableConcurrencyFactor:a.Cxa,bufferingConcurrencyWindow:a.lS,singleStreamablePerBranch:a.o3b,enableResolutionVMAFStreamFilter:a.G4,resolutionVMAFCappingRuleList:a.f$,percentCapTitlesForResolutionVMAFStreamFilter:a.Ota,useExitZones:a.Vya,perFragmentVMAFConfig:a.aN,enableInitialTputLogging:a.$Xa,maxResponsesInitialTput:a.bSb,paddingDurationMs:a.wta,paddingMediaType:a.xta,supportsPtsChanged:a.xdb,ciPredictorSource:a.Jja,experimentalFilter:a.HFb,simulationDurationStrategy:a.hxa,liveTargetBufferDuration:a.wG,liveEdgeCushion:a.z7,liveSwitchStreamsOnErrorInPipeline:a.mM,liveAccurateFragmentTimestamps:a.y7,enableMissingSegmentsDetection:a.XK,enableMissingSegmentsReplacement:a.cT,liveMaxTemporaryRequestErrorRetries:a.A7,lowerStreamLiveMaxTemporaryRequestErrorRetries:a.ira,explorationPhaseLiveMaxTemporaryRequestErrorRetries:a.hma};};},31594:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N;Object.defineProperty(b,"__esModule",{value:!0});b.N4a=void 0;c=a(28131);l=a(38385);f=a(56371);k=a(33194);d=a(36149);g=a(75950);m=a(40076);h=a(51259);n=a(62945);p=a(66393);q=a(6498);u=a(51770);t=a(7826);v=a(82656);w=a(21009);y=a(30698);x=a(63341);z=a(32754);A=a(72614);B=a(1891);C=a(49594);D=a(28838);F=a(99584);G=a(92692);E=a(12653);H=a(31360);M=a(65945);L=a(18880);K=a(5652);O=a(43367);J=a(87886);I=a(87284);N=a(81737);b.N4a=function(R){R.load(c.Lx,m.$H,l.c5a,h.Mm,f.D6a,k.O,d.Xfb,g.V1a,n.storage,p.iK,q.RTa,u.q5a,t.gC,v.Ok,w.b5a,y.S6a,x.GZa,z.R9a,A.ZG,B.CXa,C.LXa,D.Zd,F.bd,G.cb,E.K6a,H.z8a,M.j,L.cVa,K.transports,O.Tk,J.Dg,I.YSa,N.W);};},83989:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.ac=void 0;r=a(22674);c=a(71501);l=a(88351);f=a(49594);k=a(83810);d=a(51120);g=a(31594);a=a(99198);b.ac=new r.tZ({KH:!0});(0,g.N4a)(b.ac);b.ac.load(l.platform);b.ac.load(k.config);f.RK.load(d.MXa);b.ac.load(a.zSa);b.ac.load(a.profile);b.ac.bind(c.nGa).ll(b.ac);},76892:function(r,b,a){var l,f,k,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.sOa=void 0;r=a(5163);k=a(22674);a=a(22365);d={QU:!1,reason:"uninitialized"};null === (f=null === (l=null === a.ze || void 0 === a.ze?void 0:a.ze.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === f?void 0:f.call(l,["platformVersion"]).then(function(g){d=(g=g.platformVersion)?{QU:!0,version:g}:{QU:!1,reason:"undefined"};}).catch(function(){d={QU:!1,reason:"exception"};});Ya.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,k.T)()],l);b.sOa=l;},25066:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.l_a=b.k_a=b.m_a=void 0;c=a(56800);l=a(17612);f=a(75568);k=a(88195);d=a(64232);b.m_a=function(g){return Object.assign(Object.assign({},(0,d.uL)()),{Pq:g.E3a?"T":g.FU?"C":"M",Tn:g.E3a?"NFCDTS-01-":g.ty?"NFCDCH-02-":g.MB?"NFCDCH-MC-":g.FU?"NFCDCH-01-":g.M6?"NFCDCH-AP-":g.DU?"NFCDCH-AT-":g.YL?"NFCDCH-PH-":"NFCDCH-LX-",YA:g.FU?"chromeos-cadmium":"chrome-cadmium"});};b.k_a=function(g){var m,h,n,p,q;m=(0,d.tL)();h=Object.assign(Object.assign({},m),{TK:!0,hv:!0,eB:!0,pI:!0});n=[f.H.c_,f.H.a_,f.H.xQ];p=[f.H.b_];if(g.ty){q={minimumCores:5};h.yk=[].concat(ca((0,k.SV).apply(null,[m.yk].concat(ca(n)))),ca((0,k.sh)([f.H.Bz,f.H.Cz].concat(ca(n),[f.H.yI,f.H.zI]),q)));h.mr=[].concat(ca((0,k.SV).apply(null,[m.mr].concat(ca(p)))),ca((0,k.sh)([].concat(ca(p)),q)));115 <= g.Em && (h.yk=[].concat(ca(h.yk),ca((0,k.sh)([].concat(ca(f.Bc.pZ),ca(f.Bc.oZ),ca(f.Bc.nZ),ca(f.Bc.mZ),ca(f.Bc.lZ))))));}g.MB && (q={minimumCores:3},h.yk=[].concat(ca((0,k.SV).apply(null,[m.yk].concat(ca(n)))),ca((0,k.sh)([f.H.Bz,f.H.Cz].concat(ca(n),[f.H.yI,f.H.zI]),q))),h.mr=[].concat(ca((0,k.SV).apply(null,[m.mr].concat(ca(p)))),ca((0,k.sh)([].concat(ca(p)),q))));g.FU && (h.yk=(0,k.sh)([].concat(ca(f.Bc.kZ),ca(f.Bc.UY),ca(f.Bc.lba),ca(f.Bc.pZ),ca(f.Bc.nZ),ca(f.Bc.oZ),ca(f.Bc.lZ),ca(f.Bc.mZ))),h.mr=(0,k.sh)([].concat(ca(f.Bc.TY),ca(f.Bc.Wba),ca(f.Bc.Vba))));return h;};b.l_a=function(g){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.xl.EI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= g.Em && (m=Object.assign(Object.assign({},m),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));g.DU && (m=Object.assign(Object.assign({},m),{enableFullHdForWidevineL1:!0}));g.FU && (m=Object.assign(Object.assign({},m),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= g.Em && (m=Object.assign(Object.assign({},m),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= g.Em && g.ty && (m=Object.assign(Object.assign({},m),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableFullHdForWidevineL1:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[l.eb.ROa,l.eb.zQ]}));if(g.ty || g.MB)m=Object.assign(Object.assign({},m),{enableFullHdForWidevineL3:!0});g.ty && 99 <= g.Em && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));g.MB && 113 <= g.Em && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},30837:function(r,b,a){var l,f,k,d,g,m;function c(){var h,n,p;p=null === (h=ob.MSMediaKeys) || void 0 === h?void 0:h.isTypeSupported(f.eb.vd,g.cd.Ura);h=p || (null === (n=ob.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(f.eb.FD,g.cd.Ura));return {w3a:p,v3a:h};}Object.defineProperty(b,"__esModule",{value:!0});b.A_a=b.bJb=b.z_a=b.B_a=void 0;l=a(56800);f=a(17612);k=a(75568);d=a(64232);g=a(73796);m=a(88195);b.B_a=function(h){return Object.assign(Object.assign({},(0,d.uL)()),{Pq:h.sy?"D":"H",Tn:h.sy?h.MB?"NFCDIE-04-":h.TOb?"NFCDIE-LX-":h.M6?"NFCDIE-AP-":h.DU?"NFCDIE-AT-":h.YL?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",YA:"edge-cadmium",w2:!1});};b.z_a=function(){var h,n,p;h=Object.assign(Object.assign({},(0,d.tL)()),{JE:(0,m.sh)([k.Bd.nD,k.Bd.oD,k.Bd.jP,k.Bd.kP]),yk:(0,m.sh)([].concat(ca(k.Bc.kZ),ca(k.Bc.UY),ca(k.Bc.lba),ca(k.Bc.pZ),ca(k.Bc.nZ),ca(k.Bc.oZ),ca(k.Bc.lZ),ca(k.Bc.mZ),ca(k.Bc.EBa),ca(k.Bc.FBa),ca(k.Bc.GBa))),mr:(0,m.sh)([].concat(ca(k.Bc.TY),ca(k.Bc.Wba),ca(k.Bc.Vba))),Ul:void 0,qU:!1});n=c();p=n.w3a;n.v3a || (h.hv=!0,h.eB=!0,h.pI=!0);h.dF=p?[]:["start"];return h;};b.bJb=c;b.A_a=function(h){var n,p,q,u,t,v,w;n=h.HU;p=h.sy;q=h.ty;u=c();t=u.v3a;v=u.w3a;u={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.ou.Rw,videoCapabilityDetectorType:l.xl.Rw,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:v?!1:!0,enableAdPlaygraphs:v?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};v={prepareCadmium:!0,enableLdlPrefetch:!t || v,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};w={audioCapabilityDetectorType:l.ou.Ew,videoCapabilityDetectorType:l.xl.EI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.eb.zQ],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,m.sh)([k.Bd.nD,k.Bd.oD]),videoProfiles:(0,m.sh)([k.H.lD,k.H.mD,k.H.XZ,k.H.ZZ]),liveVideoProfiles:(0,m.sh)([k.H.YZ,k.H.$Z]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= h.Em && (u=Object.assign(Object.assign(Object.assign({},u),v),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= h.Em && (u=Object.assign(Object.assign({},u),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= h.Em && (u=Object.assign(Object.assign({},u),{microsoftHwdrmRequiresHevc:!1})),17 <= h.Em && (u=Object.assign(Object.assign({},u),{enableDDPlusAtmos:!0})));p && (u=Object.assign(Object.assign(Object.assign({},u),v),{useEncryptedEvent:!1}),q && (u=Object.assign(Object.assign({},u),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(u=Object.assign(Object.assign({},u),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.eb.pea,f.eb.LKa]}),94 === h.Em && (u=Object.assign(Object.assign({},u),{enableHWDRM:!1})),102 <= h.Em && (u=Object.assign(Object.assign({},u),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):u=Object.assign(Object.assign({},u),w));return u;};},54534:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.H_a=b.G_a=b.I_a=void 0;c=a(56800);l=a(75568);f=a(88195);k=a(64232);b.I_a=function(d){return Object.assign(Object.assign({},(0,k.uL)()),{Pq:"F",Tn:d.MB?"NFCDFF-MC-":d.ty?"NFCDFF-02-":d.M6?"NFCDFF-AP-":d.DU?"NFCDFF-AT-":d.YL?"NFCDFF-PH-":"NFCDFF-LX-",YA:"firefox-cadmium"});};b.G_a=function(d){var g,m;g=(0,k.tL)();m=Object.assign(Object.assign({},g),{TK:!0,hv:!0,eB:!0,pI:!0});d.ty && (m.yk=[].concat(ca(g.yk),ca((0,f.sh)([l.H.Bz,l.H.Cz],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.MB && (m.yk=[].concat(ca(g.yk),ca((0,f.sh)([l.H.Bz,l.H.Cz],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return m;};b.H_a=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.xl.EI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};(d.ty || d.MB) && 95 <= d.Em && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},64232:function(r,b,a){var l,f,k,d;function c(g,m){var h,n,p,q,u,t;h=g.Dy;n=g.BM;g=g.YM;p=m.Dy;q=m.BM;m=m.YM;u=void 0 === h || void 0 === p;t=u || void 0 === n || void 0 === q;return u || h > p || h === p && (t || n > q) || h === p && n === q && (t || void 0 === g || void 0 === m || g >= m);}Object.defineProperty(b,"__esModule",{value:!0});b.tL=b.uL=b.vPb=b.EU=b.KU=void 0;l=a(5021);f=a(17612);k=a(75568);d=a(88195);b.KU=function(g,m,h,n){return c({Dy:g.OVb,BM:g.PVb,YM:g.QVb},{Dy:m,BM:h,YM:n});};b.EU=function(g,m){return c({Dy:g.Em},{Dy:m});};b.vPb=c;b.uL=function(){return {version:"6.0042.952.911",s8:!0,qL:!0,ila:"browser",PWa:["en-US"],Vqa:"",NS:"cadmium",Mfb:!0,w2:!0};};b.tL=function(){return {JE:(0,d.sh)([k.Bd.nD,k.Bd.oD]),yk:(0,d.sh)([].concat(ca(k.Bc.kZ),ca(k.Bc.UY),ca(k.Bc.lba))),mr:(0,d.sh)([].concat(ca(k.Bc.TY))),Ul:f.eb.zQ,Ey:(0,l.Ob)(31E3)};};},20447:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.s0a=b.r0a=b.t0a=void 0;c=a(56800);l=a(64232);b.t0a=function(f){return Object.assign(Object.assign({},(0,l.uL)()),{Pq:"O",Tn:f.M6?"NFCDOP-AP-":f.DU?"NFCDOP-AT-":f.YL?"NFCDOP-PH-":"NFCDOP-01-",YA:"opera-cadmium"});};b.r0a=function(){return Object.assign(Object.assign({},(0,l.tL)()),{TK:!0,hv:!0,eB:!0,pI:!0});};b.s0a=function(f){var k;k={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.xl.EI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= f.Em && (k=Object.assign(Object.assign({},k),{enableVP9:!0}));return k;};},22224:function(r,b,a){var l,f,k,d,g,m;function c(h){var n;n=Object.assign(Object.assign({},(0,m.tL)()),{JE:(0,g.sh)([d.Bd.nD,d.Bd.oD,d.Bd.ex]),yk:(0,g.sh)([].concat(ca(d.Bc.kZ),ca(d.Bc.UY),ca(d.Bc.pZ),ca(d.Bc.nZ),ca(d.Bc.oZ),ca(d.Bc.lZ),ca(d.Bc.mZ),ca(d.Bc.EBa),ca(d.Bc.FBa),ca(d.Bc.GBa))),mr:(0,g.sh)([].concat(ca(d.Bc.TY),ca(d.Bc.Wba),ca(d.Bc.Vba))),Ul:k.eb.Sjb,Ey:(0,l.Ob)(7E3),dF:[]});(0,m.EU)(h,14) && (n.dF=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.O0a=b.N0a=b.R_a=b.P0a=void 0;l=a(5021);f=a(56800);k=a(17612);d=a(75568);g=a(88195);m=a(64232);b.P0a=function(h){return Object.assign(Object.assign({},(0,m.uL)()),{Pq:"S",Tn:h.YL?"NFCDSF-PH-":"NFCDSF-01-",YA:"safari-cadmium"});};b.R_a=function(h){return Object.assign(Object.assign({},c(h)),{Maa:!0,WK:!1,au:[d.um.c1]});};b.N0a=c;b.O0a=function(h){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.xl.Ew,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,m.EU)(h,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,m.KU)(h,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,m.KU)(h,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,m.KU)(h,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,m.KU)(h,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,m.EU)(h,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));(0,m.EU)(h,16) && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},89397:function(r,b,a){var d,g,m,h,n,p,q,u;function c(){}function l(t){this.od=t;}function f(t){var v;v=g.nea.call(this) || this;t.YL?Object.assign(v,(0,u.R_a)(t)):t.S6?Object.assign(v,(0,q.G_a)(t)):t.Xpa?Object.assign(v,(0,p.r0a)()):t.sy || t.HU?Object.assign(v,(0,n.z_a)()):t.MU?Object.assign(v,(0,u.N0a)(t)):Object.assign(v,(0,h.k_a)(t));return v;}function k(t){this.data=t.S6?(0,q.I_a)(t):t.Xpa?(0,p.t0a)(t):t.sy || t.HU?(0,n.B_a)(t):t.MU?(0,u.P0a)(t):(0,h.m_a)(t);}Object.defineProperty(b,"__esModule",{value:!0});b.uBa=b.tBa=b.sBa=b.rBa=void 0;r=a(5163);d=a(22674);g=a(27081);m=a(22816);h=a(25066);n=a(30837);p=a(20447);q=a(54534);u=a(22224);Ya.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},s8:{configurable:!0,enumerable:!0,get:function(){return this.data.s8;}},Pq:{configurable:!0,enumerable:!0,get:function(){return this.data.Pq;}},Tn:{configurable:!0,enumerable:!0,get:function(){return this.data.Tn;}},qL:{configurable:!0,enumerable:!0,get:function(){return this.data.qL;}},YA:{configurable:!0,enumerable:!0,get:function(){return this.data.YA;}},ila:{configurable:!0,enumerable:!0,get:function(){return this.data.ila;}},PWa:{configurable:!0,enumerable:!0,get:function(){return this.data.PWa;}},Vqa:{configurable:!0,enumerable:!0,get:function(){return this.data.Vqa;}},NS:{configurable:!0,enumerable:!0,get:function(){return this.data.NS;}},Mfb:{configurable:!0,enumerable:!0,get:function(){return this.data.Mfb;}},w2:{configurable:!0,enumerable:!0,get:function(){return this.data.w2;}}});a=k;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.fD))],a);b.rBa=a;fa(f,g.nea);a=f;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.fD))],a);b.sBa=a;l.prototype.apply=function(){this.od.S6?Object.assign(this,(0,q.H_a)(this.od)):this.od.Xpa?Object.assign(this,(0,p.s0a)(this.od)):this.od.sy || this.od.HU?Object.assign(this,(0,n.A_a)(this.od)):this.od.MU?Object.assign(this,(0,u.O0a)(this.od)):Object.assign(this,(0,h.l_a)(this.od));return this;};a=l;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.fD))],a);b.tBa=a;c=r.__decorate([(0,d.T)()],c);b.uBa=c;},88351:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(22674);c=a(22816);l=a(91581);f=a(5614);k=a(52033);d=a(7748);g=a(71834);m=a(89397);h=a(21892);b.platform=new r.dd(function(n){n(l.An).to(m.rBa).ga();n(f.fJ).to(m.sBa).ga();n(k.EKa).to(m.tBa).ga();n(l.s0).to(m.uBa).ga();n(h.oea).Xd(function(p){return function(){var q;q=p.kb.get(c.fD);return q.sy || q.HU?{fz:function(u,t,v){return new g.Afa(u,t,v);},request:d.WOa}:q.MU?{fz:function(u,t,v){return new (a(99813))(u,t,v);},request:a(10256)}:{};};});});},80966:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wba={ssb:"adStart",JRa:"adProgress",Idc:"adComplete",tsb:"adStop"};b.Hza={yA:"adBreakComplete"};b.xba={error:"error",FFb:"exit",Oeb:"unload"};b.Pza="AdImpressionLoggerrFactorySymbol";},70068:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uza="AdManagerFactorySymbol";},1200:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UO="AdTrackerBaseSymbol";},25540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dAa="AdFocusMonitorSymbol";},12826:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZAa="BandwidthMeterFactorySymbol";},65945:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa,na,Ca,Ra,Q,da,P,Y,sa,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(22674);c=a(77601);l=a(78388);f=a(18181);k=a(12826);d=a(31085);g=a(41106);m=a(51038);h=a(24722);n=a(27104);p=a(4203);q=a(81918);u=a(90597);t=a(42207);v=a(87386);w=a(65090);y=a(61861);x=a(37025);z=a(5021);A=a(89561);B=a(25837);C=a(65106);D=a(13889);F=a(15160);G=a(92205);E=a(52200);H=a(45842);M=a(74870);L=a(95162);K=a(33554);O=a(2160);J=a(67650);I=a(25138);N=a(77134);R=a(34231);U=a(93367);ja=a(82557);ra=a(85405);ka=a(56800);ua=a(39551);Aa=a(69334);La=a(70068);Xa=a(89540);ab=a(30869);aa=a(49917);na=a(80966);Ca=a(72160);Ra=a(54952);Q=a(97635);da=a(74834);P=a(25540);Y=a(38508);sa=a(30873);Ha=a(78312);Wa=a(53085);$a=a(63013);fb=a(14177);sb=a(56386);Jb=a(1200);Ua=a(24711);bb=a(13673);kb=a(31099);rb=a(67590);b.j=new r.dd(function(qb){qb(J.xea).to(I.ZKa).ga();qb(ra.vAa).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb,Sb){return new (a(92720).vda)(Lb,Sb,Ab.get(u.Dw),Ab.get(F.IZ),Ab.get(rb.Iba));};});qb(c.fOa).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac){return new (a(37517).z)(Ab.get(A.kOa),Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac);};});qb(A.kOa).to(B.jOa).ga();qb(l.iOa).to(f.hOa).ga();qb(m.UKa).to(h.TKa).ga();qb(Q.TMa).to(da.SMa).ga();qb(U.oMa).to(ja.nMa);qb(U.mMa).deb(U.oMa);qb(g.dDa).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb){return new (a(11372).Ica)(Ab.get(F.cDa),Ab.get(u.Dw),Ab.get(q.Lc),Lb);};});qb(k.ZAa).Xd(function(){return function(yb){return new d.$Aa(yb);};});qb(ua.Aea).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb){return new Aa.eLa(Lb,Ab.get(v.ab),Ab.get(t.Qf));};});qb(na.Pza).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb){return new Ca.Qza(Lb,Ab.get(v.ab).$a("AdImpressionLogger"),Ab.get(ab.bg),Ab.get(p.Xb),Ab.get(q.Lc),Ab.get(aa.vba),Ab.get(aa.uba));};});qb(P.dAa).to(Y.cAa);qb(Jb.UO).to($a.Wza);qb(Jb.UO).to(sb.aAa);qb(Jb.UO).to(Ua.eAa);qb(Jb.UO).to(fb.fAa);qb(La.Uza).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb,Sb){return new Xa.Vza(Lb,Sb,Ab.get(v.ab).$a("AdManager"),Ab.get(p.Xb),Ab.get(Q.TMa),Ab.getAll(Jb.UO),Ab.get(na.Pza),function(Xb){return new Ra.Tza(Xb);},Ab.get(P.dAa));};});qb(w.MKa).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb){return new n.NKa(Lb,Ab.get(v.ab),Ab.get(p.Xb),Ab.get(t.Qf),Ab.get(u.Dw),Ab.get(ua.Aea));};});qb(sa.NGa).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb,Sb){return new Ha.OGa(Ab.get(p.Xb),Ab.get(bb.PGa),Ab.get(Wa.Th),Ab.get(v.ab),Lb,Sb);};});qb(bb.PGa).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb){return new kb.QGa(Ab.get(p.Xb),Ab.get(v.ab),Ab.get(H.MD),Lb);};});qb(y.zea).Xd(function(yb){var Ab;Ab=yb.kb;return function(Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac,Pc,Yd){return new x.aLa(Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac,Ab.get(w.MKa),Ab.get(J.xea),Ab.get(sa.NGa),Pc,Yd);};});qb(C.NMa).Xd(function(yb){return function(Ab){var Lb,Sb;Lb=yb.kb.get(p.Xb);Sb=yb.kb.get(v.ab);return new D.OMa(Lb,Ab,Sb);};});qb(G.WKa).Xd(function(yb){return function(Ab){var Lb,Sb,Xb,Ib,Nb;Lb=yb.kb.get(K.Gw);Sb=yb.kb.get(H.MD);Xb=yb.kb.get(M.bh);Ib=yb.kb.get(L.oQ);Nb=yb.kb.get(ka.Fw);return new E.XKa(Ab,Lb,Sb((0,z.uh)(1)),Xb,Ib,Nb);};});qb(O.Jda).PC(function(yb){return new (a(51149).vIa)(yb.kb.get(N.YP),yb.kb.get(R.wn));}).ga();});},41106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dDa="DiagnosticsFactorySymbol";},30873:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cs={mQ:"START_SLATE",jda:"LIVE_EVENT",zca:"END_SLATE"};b.NGa="LivePlaybackManagerFactorySymbol";},13673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PGa="LivePlaybackRateControllerFactorySymbol";},45526:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jda="MilestonesEventBuilderSymbol";},65090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MKa="PlayTimeTrackerFactorySymbol";},51038:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UKa="PlaybackFactorySymbol";},92205:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WKa="PlaybackInfoPanelFactorySymbol";},67650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xea="PlaybackMilestoneStoreSymbol";},61861:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zea="PlaybackSegmentDataFactorySymbol";},39551:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aea="PlayedSegmentsTrackerFactorySymbol";},93367:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oMa="RepositionTraceSymbol";b.mMa="RepositionTraceFactorySymbol";},65106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NMa="SeekManagerFactorySymbol";},97635:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TMa="SegmentDroppedLoggerSymbol";},94025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Po=void 0;r=b.Po || (b.Po={});r[r.i0=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.uD=2]="LOADED";r[r.HP=3]="LOAD_FAILED";r[r.kJa=4]="PARSE_FAILED";},77601:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fOa="TrickPlayFactorySymbol";},78388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iOa="TrickPlayManagerSymbol";},89561:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kOa="TrickPlayParserSymbol";},72160:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t,v,w){this.context=n;this.log=p;this.sa=q;this.config=u;this.Ea=t;this.qsb=v;this.jsb=w;this.Ewa={};}Object.defineProperty(b,"__esModule",{value:!0});b.Qza=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(5021);g=a(4203);m=a(49917);h=a(80966);c.prototype.t1b=function(n,p){var q,u,t;q=this;u=n.event;if(Object.values(h.Hza).includes(u)){t=p.py?p.py.ca(d.pa):-1;n={href:p.W.oi.BL("events").href,ma:this.context.ma.toString(),event:u,Xu:n.Xu,CE:n.CE,position:n.Og.offset.G,dm:t,Sv:{},Ix:this.sa.DH.ca(d.pa),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.jsb.xf(this.log,n).catch(function(v){q.log.error("Failed to send event",{eventKey:u,xid:p.ma,error:v});});}else this.log.debug("Ignoring unsupported event " + n.event);};c.prototype.u1b=function(n,p,q){var u,t,v;u=this;t=n.event;if(Object.values(h.wba).includes(t)){v=n.W.links.events.href;this.Ewa[n.dm] || (this.Ewa[n.dm]=this.sa.htb((0,d.Ob)(n.dm)).ca(d.pa));n={href:v,ma:this.context.ma.toString(),event:t,Xu:n.Xu,CE:n.CE,position:n.Og.offset.G,dm:this.Ewa[n.dm],Sv:n.Sv,Ix:this.sa.DH.ca(d.pa),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id,oRb:p,u5b:null !== q && void 0 !== q?q:void 0};this.qsb.xf(this.log,n).catch(function(w){u.log.error("Failed to send event",{eventKey:t,xid:u.context.ma,error:w});});}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(k.bg)),r.__param(3,(0,l.l)(g.Xb)),r.__param(4,(0,l.l)(f.Lc)),r.__param(5,(0,l.l)(m.vba)),r.__param(6,(0,l.l)(m.uba))],a);b.Qza=a;},54952:function(r,b){function a(p){this.$e=p;}function c(p){this.padding=p;}function l(p){this.YJ=p;}function f(p){this.Og=p;}function k(p){this.D9=p;}function d(p){this.qua=p;}function g(p){this.pua=p;}function m(p){this.XJ=p;}function h(p){this.Ry=p;}function n(p){this.Uc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.hhb=b.Umb=b.ghb=b.Xjb=b.dnb=b.enb=b.cnb=b.fhb=b.bnb=b.Tza=void 0;n.prototype.getPresentingAdBreak=function(){var p;p=this.Uc.FL();if(p)return new h(p);};n.prototype.getAds=function(){return this.Uc.ena();};n.prototype.getLogInfo=function(){return this.Uc.SJb();};b.Tza=n;Ya.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new m(this.Ry.Tc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Ry.zA;if(p)return new g(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Ry.l8a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new k(this.Ry.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new f(this.Ry.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Ry.index;}}});b.bnb=h;Ya.Object.defineProperties(m.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.XJ.YJ);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.XJ.aaa);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.XJ.dT);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.XJ.GMb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.XJ.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.XJ.e9.G};}}});b.fhb=m;Ya.Object.defineProperties(g.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.pua.$e);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.pua.JRa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.pua.index;}}});b.cnb=g;Ya.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.qua.yta;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.qua.dWb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.qua.e9.G};}}});b.enb=d;Ya.Object.defineProperties(k.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.D9.msb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.D9.ksb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.D9.osb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.D9.nsb.G};}}});b.dnb=k;Ya.Object.defineProperties(f.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Og.I;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Og.offset.G};}}});b.Xjb=f;Ya.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.YJ.Ve.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.YJ.duration.G};}}});b.ghb=l;Ya.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.Umb=c;Ya.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.$e.ar;}},id:{configurable:!0,enumerable:!0,get:function(){return this.$e.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.$e.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.$e.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.$e.st;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.$e.mO;}}});b.hhb=a;},89540:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u,t,v,w,y){var x;x=this;this.cb=h;this.j=n;this.log=p;this.config=q;this.g1b=u;this.Ldb=t;this.Bl=new l.Eb(!1);this.Hb=new g.Tj();this.sTa=!1;this.TV=function(){x.sTa=!0;m.fe.removeListener(m.Rk,x.TV);};this.ZEb=w(this);h=h.Xn();this.Yu=v({ma:n.ma.toString()});v=null === h || void 0 === h?void 0:h.W8a.events;null === v || void 0 === v?void 0:v.addListener("adPresenting",function(){!1;x.NYa();});null === v || void 0 === v?void 0:v.addListener("adBreakPresenting",function(){!1;y.DM(n);x.Bl.set(!0);});null === v || void 0 === v?void 0:v.addListener("adBreakEnded",function(){!1;x.Bl.set(!1);});null === v || void 0 === v?void 0:v.addListener("adPlaygraphUpdated",function(){!1;});null === v || void 0 === v?void 0:v.addListener("segmentDropped",function(z){var A;!1;A=x.j.Ri(z.segmentId);x.g1b.HYb(z,A);});this.Up=new k.v0();this.j.addEventListener("playbackStart",function(){x.Up.resolve();});v=null === h || void 0 === h?void 0:h.jpa.events;null === v || void 0 === v?void 0:v.addListener("adEvent",function(z){x.Up.promise.then(function(){var A,B,C;z.event === f.wba.ssb && z.st && x.Ldb.forEach(function(D){return D.start(x.j);});B=null === (A=n.W) || void 0 === A?void 0:A.Fa.Dd;A=x.FLb(z);if(z.event === f.wba.tsb && A){C=x.sTa?f.xba.Oeb:n.kh?f.xba.error:f.xba.FFb;A=Object.assign(Object.assign({},A),{reason:C});}x.Yu.u1b(z,B,A);});});m.fe.addListener(m.Rk,this.TV);null === v || void 0 === v?void 0:v.addListener("adBreakEvent",function(z){z.event === f.Hza.yA && x.Hb.Dc(d.$Y.yA);x.Up.promise.then(function(){x.Yu.t1b(z,n);});});}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;l=a(81734);f=a(80966);k=a(94293);d=a(85001);g=a(94886);m=a(37509);c.prototype.addEventListener=function(h,n,p){this.Hb.addListener(h,n,p);};c.prototype.removeEventListener=function(h,n){this.Hb.removeListener(h,n);};c.prototype.FL=function(){var h,n;return null === (n=null === (h=this.cb) || void 0 === h?void 0:h.Xn()) || void 0 === n?void 0:n.gN.Ry;};c.prototype.SJb=function(){var h,n,p,q;p=this.FL();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (h=null === p || void 0 === p?void 0:p.zA) || void 0 === h?void 0:h.$e.endTime.G,adIndex:null === (n=p.zA) || void 0 === n?void 0:n.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Tc.duration.G};(h=p.l8a) && (q.padding={type:h.yta,duration:h.e9.G});return q;}};c.prototype.ena=function(){var h,n,p,q,u;q=this.j.aa.P.toString();u=null === (n=null === (h=this.cb) || void 0 === h?void 0:h.Xn()) || void 0 === n?void 0:n.W8a.ena({dgb:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.NYa=function(){};c.prototype.FLb=function(h){var n;if(h.st){n=this.Ldb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.Z5(h));},{});return Object.assign(Object.assign({},n),{thirdPartyVerificationToken:h.mO});}};b.Vza=c;},63013:function(r,b,a){var l,f,k,d,g;function c(m,h){var n;n=g.zk.call(this) || this;n.Ea=m;n.paused=!1;n.Lq=function(){var p,q,u;u=n.Uc.FL();n.Uc.Bl.value && null !== (p=null === u || void 0 === u?void 0:u.zA) && void 0 !== p && p.$e.st?(p=null === (q=u.zA) || void 0 === q?void 0:q.$e.id,q=n.paused,n.paused=n.j.paused.value,q !== n.paused && (n.paused?(n.i9=n.Ea.Ib(),n.KR=u.position.offset.G,n.la.debug("Ad " + p + " paused at " + n.KR + " ms into the ad")):void 0 !== n.i9 && void 0 !== n.KR && (u=n.Ea.Ib().qa(n.i9).ca(d.pa),n.la.debug("Ad " + p + " resumed. Pause duration: " + u),n.trace.push([n.KR,u]),n.KR=void 0,n.i9=void 0))):n.unsubscribe();};n.la=h.$a("AdPauseStateTracker");return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Wza=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(5021);g=a(87144);fa(c,g.zk);c.prototype.start=function(m){g.zk.prototype.start.call(this,m);this.Cv || (this.j.paused.addListener(this.Lq),this.Cv=!0);};c.prototype.Z5=function(){return {pauseTrace:this.trace};};c.prototype.ZW=function(){this.KR=void 0;this.paused=this.j.paused.value;this.i9=void 0;this.trace=[];};c.prototype.unsubscribe=function(){g.zk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.Lq);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.ab))],a);b.Wza=a;},56386:function(r,b,a){var l,f,k,d,g;function c(m,h){var n;n=g.zk.call(this) || this;n.Nka=h;n.g0b=function(){0 === n.trace.length?n.Lq():n.$la.Lj(function(){n.Lq();});};n.Lq=function(){var p,q,u,t;q=n.Uc.FL();if(n.Uc.Bl.value && null !== (p=null === q || void 0 === q?void 0:q.zA) && void 0 !== p && p.$e.st){(p=n.trace[n.trace.length - 1]) && p[0] === q.position.offset.G && n.trace.pop();p=n.trace[n.trace.length - 1];u=n.j.mk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && n.trace.push([q.position.offset.G,u,t]);}else n.unsubscribe();};n.la=m.$a("AdResizeTracker");n.$la=h((0,d.uh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;r=a(5163);l=a(22674);f=a(34043);k=a(87386);d=a(5021);g=a(87144);fa(c,g.zk);c.prototype.start=function(m){g.zk.prototype.start.call(this,m);this.Cv || (this.z7a=new ResizeObserver(this.g0b),this.z7a.observe(this.j.mk),this.Cv=!0);};c.prototype.Z5=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.ZW=function(){this.trace=[];};c.prototype.unsubscribe=function(){var m;g.zk.prototype.unsubscribe.call(this);null === (m=this.z7a) || void 0 === m?void 0:m.disconnect();};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(f.HZ))],a);b.aAa=a;},87144:function(r,b){function a(){var c;c=this;this.Cv=!1;this.trace=[];this.V3=function(){c.$la.Lj(function(){c.Lq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.zk=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.Uc=this.j.Xn();this.Cv || (this.Uc.Bl.addListener(this.Lq),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.ZW();};a.prototype.unsubscribe=function(){this.Uc.Bl.removeListener(this.Lq);this.Cv=!1;this.ZW();};b.zk=a;},38508:function(r,b,a){var l,f;function c(k){var d;d=this;this.VE=function(){var g,m,h;m=!document.hidden;h=null === (g=d.j.Xn()) || void 0 === g?void 0:g.Bl.value;g=d.j.paused.value;m || !h || g || (d.la.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{JM:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.VE);d.j.Xn().Bl.removeListener(d.VE);d.j.paused.removeListener(d.VE);};this.la=k.$a("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.cAa=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.DM=function(k){this.mTb || (this.la.debug("Starting to monitor playback for visibility"),this.j=k,this.mTb=!0,document.addEventListener("visibilitychange",this.VE),this.j.Xn().Bl.addListener(this.VE),this.j.paused.addListener(this.VE),this.j.addEventListener("closing",this.unsubscribe),this.VE());};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ab))],f);b.cAa=f;},24711:function(r,b,a){var l,f,k;function c(d){var g;g=k.zk.call(this) || this;g.Fra=0;g.rWa=[0];g.BG=[0];g.visibility=0;g.Lq=function(){var m,h;h=g.Uc.FL();g.Uc.Bl.value && null !== (m=null === h || void 0 === h?void 0:h.zA) && void 0 !== m && m.$e.st?(m=g.visibility,g.visibility=document.hidden?0:1,m !== g.visibility && (1 === g.visibility?(g.Fra=g.visibility,g.Q7=h.position.offset.G):(h=h.position.offset.G - (g.Q7 || 0),h > g.BG[0] && (g.BG[0]=h),g.Q7=void 0))):g.unsubscribe();};g.la=d.$a("AdVisibilityTracker");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(87144);fa(c,k.zk);c.prototype.start=function(d){k.zk.prototype.start.call(this,d);this.Cv || (document.addEventListener("visibilitychange",this.Lq),this.Cv=!0);};c.prototype.Z5=function(d){var g,m,h;m=this.j.mk.getBoundingClientRect();h=m.height;m=m.width;"adStart" === d.event && (h=0 === h?document.documentElement.clientHeight:h,m=0 === m?document.documentElement.clientWidth:m);d=d.Og.offset.G - (null !== (g=this.Q7) && void 0 !== g?g:0);d > this.BG[0] && (this.BG[0]=d);g=document.fullscreenElement?!0:screen.height === ob.outerHeight && screen.width === ob.outerWidth;this.rWa=this.BG;return {cumulativeTimeByVisibilityMs:this.rWa,maxContinuousTimeByVisibilityMs:this.BG,visibility:this.visibility,maxVisibility:this.Fra,screenHeight:screen.height,screenWidth:screen.width,adHeight:h,adWidth:m,fullScreen:g};};c.prototype.ZW=function(){this.Q7=void 0;this.BG=[0];this.Fra=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){k.zk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.Lq);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab))],a);b.eAa=a;},14177:function(r,b,a){var l,f,k,d,g;function c(m,h){var n;n=g.zk.call(this) || this;n.yf=m;n.Nka=h;n.Lq=function(){var p,q;q=n.Uc.FL();n.Uc.Bl.value && null !== (p=null === q || void 0 === q?void 0:q.zA) && void 0 !== p && p.$e.st?(p=n.trace[n.trace.length - 1],q=q.position.offset.G,p && p[0] === q && n.trace.pop(),(p=n.trace[n.trace.length - 1]) && p[1] === n.j.Jka || n.trace.push([q,n.j.Jka])):n.unsubscribe();};n.la=m.$a("AdVolumeTracker");n.$la=h((0,d.uh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.fAa=void 0;r=a(5163);l=a(22674);f=a(34043);k=a(87386);d=a(5021);g=a(87144);fa(c,g.zk);c.prototype.start=function(m){g.zk.prototype.start.call(this,m);this.Cv || (this.j.volume.addListener(this.V3),this.j.muted.addListener(this.V3),this.Cv=!0);};c.prototype.Z5=function(){return {volumeChangeTrace:this.trace,volume:this.j.Jka};};c.prototype.ZW=function(){this.trace=[];};c.prototype.unsubscribe=function(){g.zk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.V3);this.j.muted.removeListener(this.V3);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(f.HZ))],a);b.fAa=a;},31085:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;a.prototype.mfb=function(){var c;c=this.j.cb;if(null !== c && void 0 !== c && c.lx){c=c.Jc.get();if(null === c || void 0 === c?0:c.th)this.j.th=c.th.Ca;if(null === c || void 0 === c?0:c.mb)this.j.mb=c.mb.Ca;}};a.prototype.Xm=function(){-1 === this.j.mb && this.mfb();return this.j.mb;};a.prototype.lwb=function(c){-1 !== this.j.th && -1 !== this.j.mb || this.mfb();return -1 === this.j.th || -1 === this.j.mb?Number.MAX_VALUE:this.j.th + 8 * c / this.j.mb;};b.$Aa=a;},43422:function(r,b,a){var f,k,d,g,m,h,n,p;function c(q){this.j=q;this.D4a=!1;this.log=(0,k.Fh)(this.j,"Playback");this.lM=k.Ba.get(n.IP);(0,d.oa)(f.config);f.config.Rr || (this.JDb=k.Ba.get(g.lDa));}function l(q,u){var v;function t(w){return w && 0 < w.length && w[0].vG;}v=k.Ba.get(n.IP);return q.ma && t(q.he)?v.release({ma:q.ma,he:q.he}).then(function(){}):u.ma && t(u.he)?v.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.Yy=b.vCa=void 0;f=a(29204);k=a(31276);d=a(45146);g=a(58120);m=a(63156);h=a(32687);n=a(98166);p=a(85001);c.prototype.OF=function(q){var u;u=this;return new Promise(function(t,v){var w,y,x;w=m.Sj.EVa(q.ff);y=q.sj.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,k.Ax)(z.data)};});x=u.j.FKb(q.sj[0].sessionId);u.lM.Gs({Dd:x.Dd,ff:h.is.Am(q.ff)?q.ff:w,w4:[x.Pk],sj:y,ma:x.ma,Om:q.Om,oi:x.W.oi,$f:x.W.Fa.$f}).then(function(z){u.j.he=z.he;t(z);u.NGb(x);}).catch(v);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.MVa=function(){var q;q=this.JDb.create();q.he=this.j.he;q.ma=this.j.ma;q.P=this.j.P;return q;};c.prototype.NGb=function(q){this.D4a || (this.D4a=!0,this.j.fireEvent(p.ha.YU,{P:q.P}));};b.vCa=c;b.Yy=l;},11372:function(r,b,a){var l;function c(f,k,d,g){this.jla=f;this.debug=k;this.Ea=d;this.j=g;this.f9=[];this.p8={};this.kla={};this.Fma=!1;this.Fdb=1;this.VAa=7.8125;}b.Ica=void 0;l=a(5021);a(85001);a(32687);a(61726);c.prototype.register=function(f,k){this.debug.assert(!(0 <= this.f9.indexOf(f)),"panel already registered");this.p8[f]=k;this.f9.push(f);};c.prototype.p7a=function(f){var k;k=this;this.kla[f]=!0;this.Fma || (this.Fma=!0,setTimeout(function(){return k.QGb();},0));};c.prototype.fKb=function(f){return (f=this.p8[f])?f():void 0;};c.prototype.MT=function(){var f;f=this.j.n9;return f?f.MT():[];};c.prototype.addEventListener=function(f,k){this.jla.addListener(f,k);this.p8[f] && this.p7a(f);};c.prototype.removeEventListener=function(f,k){this.jla.removeListener(f,k);};c.prototype.getTime=function(){return this.Ea.Ib().ca(l.pa);};c.prototype.QGb=function(){this.Fma=!1;for(var f=this.f9.length,k;f--;){k=this.f9[f];this.kla[k] && (this.kla[k]=!1,this.jla.Dc(k + "changed",{getModel:this.p8[k]}));}};b.Ica=c;},78312:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u,t){var v,w,y,x;v=this;this.config=h;this.xc=p;this.v=u;this.j=t;this.UL=new m.Eb(!1);this.xia=new m.Eb(!1);this.Ll=this.fi=void 0;this.axa=!1;this.AF=void 0;this.log=q.$a("LivePlaybackManager");this.AF=this.config().fHb;w=this.config().Y3b;y=this.config().IQb;this.axa=(0,k.yb)(w) && (0,k.yb)(y);null === t || void 0 === t?void 0:t.addEventListener(d.ha.$k,function(){var z;if(v.ba && ((0,f.oa)(v.j && v.j.aa === v.v,"Unexpected playback segment on playbackReady"),v.config().yEb && (v.S8a=n(function(A){(0,f.oa)(v.ba && v.j && v.j.aa === v.v,"Unexpected playback segment on playback rate update");v.v.playbackRate.value !== A && (v.v.playbackRate.set(A),v.j.fireEvent(d.ha.VB));})),v.axa)){z=v.Wq();x=v.xc.xH((0,l.Ob)(500),function(){var A,B,C,D;A=v.Wq();C=z + w;A >= C - 500 && (B=v.qka(C));C=z + w + y;if(A >= C - 500){D=v.qka(C);null === x || void 0 === x?void 0:x.cancel();}v.Iwa(B,D,!0);});}});null === t || void 0 === t?void 0:t.addEventListener(d.ha.ng,function(){var z;v.ba && ((0,f.oa)(v.j && v.j.aa === v.v,"Unexpected playback segment on closing"),v.S8a=void 0,null === (z=v.ZU) || void 0 === z?void 0:z.cancel(),v.ZU=void 0,null === x || void 0 === x?void 0:x.cancel());});null === t || void 0 === t?void 0:t.addEventListener(d.ha.BC,function(z){v.ba && ((0,f.oa)(v.j && v.j.aa === v.v,"Unexpected playback segment on repositioning"),z.$b !== d.Ac.$r && v.UL.set(z.$b === d.Ac.GP && !v.x3a()));});null === t || void 0 === t?void 0:t.addEventListener(d.ha.Kfb,function(){v.ba && ((0,f.oa)(v.j && v.j.aa === v.v,"Unexpected playback segment on userInitiatedPause"),v.UL.set(!1));});null === t || void 0 === t?void 0:t.background.addListener(function(){var z;v.ba && ((0,f.oa)(v.j && v.j.aa === v.v,"Unexpected playback segment on background update"),!v.j.background.value && v.jU() && void 0 === v.AF && (v.W6()?null === (z=v.j.Td) || void 0 === z?void 0:z.seek(v.fi,d.Ac.Zw):v.y$()));});this.v.mediaTime.addListener(function(z){var A,B,C,D;if(v.ba){(0,f.oa)(v.j && v.j.aa === v.v,"Unexpected playback segment on mediaTime update");C=v.j;v.m3();D=v.sB(z.oldValue);z=v.sB(z.newValue);D !== z && (!1,C.fireEvent(d.ha.VB));v.W6()?(null === (A=v.ZU) || void 0 === A?void 0:A.cancel(),v.ZU=void 0):v.ZU || (v.ZU=v.xc.xH((0,l.Ob)(1E3),function(){v.m3();C.fireEvent(d.ha.VB);}));null === (B=v.S8a) || void 0 === B?void 0:B.BO(v.j.Ai.value && v.jU(),v.v.mediaTime.value,v.Wq());v.config().sEb && v.j.Ai.value && v.sB() === g.cs.mQ && v.UOb() && !v.LB() && void 0 === v.AF && v.y$();}});this.UL.addListener(function(){(0,f.oa)(v.ba,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.ba);(0,f.oa)(v.j && v.j.aa === v.v,"Playback is required for live.");v.m3();});this.xia.addListener(function(){(0,f.oa)(v.ba,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.ba);(0,f.oa)(v.j && v.j.aa === v.v,"Playback is required for live.");!1;v.j.fireEvent(d.ha.VB);});}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;l=a(5021);f=a(45146);k=a(32687);d=a(85001);g=a(30873);m=a(81734);c.prototype.W2b=function(){var h,n,p;(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");return null !== (p=null === (n=null === (h=this.v.W) || void 0 === h?void 0:h.Fa.Jh) || void 0 === n?void 0:n.lDb) && void 0 !== p?p:!1;};c.prototype.yYb=function(){var h;(0,f.oa)(this.ba,"Unexpected call to processManifest(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");(0,f.oa)(null === (h=this.v.W) || void 0 === h?void 0:h.Fa.Jh,"Live manifest is unavailable.");h=this.v.W.Fa.Jh;this.Iwa(h.dma,h.O4);h=this.config().hHb;void 0 !== h && void 0 !== this.fi && (this.AF=this.fi + h);};c.prototype.Iwa=function(h,n,p){var q,u,t,v,w;(0,f.oa)(this.ba,"Unexpected call to setLiveEventTimes(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");if(!this.axa || p){p=this.j;t=this.fi;v=this.Ll;w=null !== (q=this.DVa(h)) && void 0 !== q?q:t;q=null !== (u=this.DVa(n)) && void 0 !== u?u:v;if(void 0 === w && void 0 === q || void 0 !== w && 0 <= w && void 0 === q || void 0 !== w && 0 <= w && void 0 !== q && q > w){if((this.fi=w,this.Ll=q,t !== this.fi || v !== this.Ll))(!1,p.fireEvent(d.ha.VB));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (w + ", endTime:") + (n + ", endPts:") + q);}};c.prototype.iJb=function(){var h;(0,f.oa)(this.ba,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");h=this.v.mediaTime.value;if(void 0 !== h)return this.qka(h);};c.prototype.b6=function(){var h;(0,f.oa)(this.ba,"Unexpected call to getUIAdjustedTime(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");h=this.v.mediaTime.value;if(void 0 !== h)switch(this.sB(h)){case g.cs.mQ:return 0;case g.cs.jda:return ((0,f.oa)(void 0 !== this.fi,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.fi);case g.cs.zca:return ((0,f.oa)(void 0 !== this.fi && void 0 !== this.Ll,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Ll - this.fi);}};c.prototype.Aab=function(h){var n,p;(0,f.oa)(this.ba,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");return void 0 === this.fi?null !== (p=null !== (n=this.Wq()) && void 0 !== n?n:this.v.mediaTime.value) && void 0 !== p?p:h:this.fi + h;};c.prototype.J3a=function(h){var n;(0,f.oa)(this.ba,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");n=this.Wq();return void 0 !== n && h >= n - this.config().yQb;};c.prototype.Nna=function(h,n){var p,q;(0,f.oa)(this.ba,"Unexpected call to getLiveBookmark(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");if(void 0 !== this.AF)return {Dl:this.AF,qC:Number.MAX_SAFE_INTEGER,NWa:this.AF};n || void 0 === this.fi || void 0 === this.Ll && 0 === h?(this.UL.set(!0),h=36E7):(h=this.fi + h,void 0 !== this.Ll && h > this.Ll && (h=this.fi));return {Dl:h,qC:null !== (p=this.Ll) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,NWa:null !== (q=this.fi) && void 0 !== q?q:36E7};};c.prototype.b0a=function(){var h;(0,f.oa)(this.ba,"Unexpected call to getLiveContentDuration(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");h=this.LB()?this.v.mediaTime.value:this.Wq();h=void 0 !== this.Ll && void 0 !== h?Math.min(this.Ll,h):h;h=void 0 !== h && void 0 !== this.fi?h - this.fi:0;!1;return h;};c.prototype.ZJb=function(){var h;(0,f.oa)(this.ba,"Unexpected call to getMaxSeekPts(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");h=this.Wq();h=void 0 !== this.Ll && void 0 !== h?Math.min(this.Ll,h):h;!1;return null !== h && void 0 !== h?h:0;};c.prototype.Wq=function(){var h,n;(0,f.oa)(this.ba,"Unexpected call to getLiveEdge(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");return null === (n=null === (h=this.j.cb) || void 0 === h?void 0:h.rB(this.v.I)) || void 0 === n?void 0:n.G;};c.prototype.y$=function(){var h;(0,f.oa)(this.ba,"Unexpected call to seekToLiveEdge(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");this.UL.set(!this.x3a());if(this.j.Td){h=this.Wq();void 0 !== h?this.j.Td.seek(h,d.Ac.GP,this.v.I):!1;}else this.v.Dl=this.Nna(0,!0).Dl;};c.prototype.LB=function(){(0,f.oa)(this.ba,"Unexpected call to isAtLiveEdge(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");this.m3();return this.xia.value;};c.prototype.jU=function(){(0,f.oa)(this.ba,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");return this.UL.value;};c.prototype.sB=function(h){var n,p,q;(0,f.oa)(this.ba,"Unexpected call to getLiveEventState(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");h=null !== (n=null !== h && void 0 !== h?h:this.v.mediaTime.value) && void 0 !== n?n:0;n=null !== (p=this.fi) && void 0 !== p?p:Infinity;p=null !== (q=this.Ll) && void 0 !== q?q:Infinity;return h < n?g.cs.mQ:h > p?g.cs.zca:g.cs.jda;};c.prototype.W6=function(){var h;(0,f.oa)(this.ba,"Unexpected call to isLiveEventEnded(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");h=this.Wq();return void 0 !== this.Ll && void 0 !== h && this.Ll < h;};c.prototype.UOb=function(){var h;(0,f.oa)(this.ba,"Unexpected call to isLiveEventStarted(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");h=this.Wq();return void 0 !== this.fi && void 0 !== h && this.fi < h;};c.prototype.x3a=function(){var h;(0,f.oa)(this.ba,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.Eh) || void 0 === h?0:h.JM);};c.prototype.m3=function(){var h;(0,f.oa)(this.ba,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");this.xia.set(this.jU() && this.J3a(null !== (h=this.v.mediaTime.value) && void 0 !== h?h:0));};c.prototype.qka=function(h){var n,p;(0,f.oa)(this.ba,"Unexpected call to convertPtsToEventTime(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");(0,f.oa)(null === (n=this.v.W) || void 0 === n?void 0:n.Fa.Jh,"Live manifest is unavailable.");n=this.v.W.Fa.Jh;p=new Date(n.lX[n.u4[this.v.W.Fa.hu[0].streams[0].Nm]].Y2).getTime();return new Date(p - n.N4 + h).toISOString();};c.prototype.DVa=function(h){var n,p,q;(0,f.oa)(this.ba,"Unexpected call to convertEventTimeToPts(). isLive:" + this.ba);(0,f.oa)(this.j && this.j.aa === this.v,"Playback is required for live.");(0,f.oa)(null === (n=this.v.W) || void 0 === n?void 0:n.Fa.Jh,"Live manifest is unavailable.");if(h){n=this.v.W.Fa.Jh;p=n.lX[n.u4[this.v.W.Fa.hu[0].streams[0].Nm]];q=new Date(h).getTime() + n.N4 - new Date(p.Y2).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (n.N4 + ", availabilityStartTime:") + p.Y2);else return q;}};Ya.Object.defineProperties(c.prototype,{ba:{configurable:!0,enumerable:!0,get:function(){var h,n;h=this.v;n=h.W;return n?(h=n.Fa,n=h.Jh,"LIVE" === h.$f && !!n):"live" === h.zd;}}});b.OGa=c;},31099:function(r,b,a){var l,f;function c(k,d,g,m){this.config=k;this.L$=m;this.log=d.$a("LivePlaybackRateController");this.v5b=g((0,l.Ob)(this.config().DQb));}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;l=a(5021);f=a(8825);c.prototype.BO=function(k,d,g){var m,h;m=this;if(!k || void 0 === d || void 0 === g || Math.abs(d - g) < this.config().EQb)h=1;else (k=g - d,k=1 + this.config().CQb / 1E3 * k,h=(0,f.Vw)(k,this.config().GQb,this.config().FQb));this.v5b.Lj(function(){!1;m.L$(h);});};b.QGa=c;},11953:function(r,b,a){var d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O;function c(){this.Baa=[];this.Z5b=50;}function l(J){var I;I=this;this.j=J;this.kgb=Promise.resolve();this.MDa=ob.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.tE=[];this.kj=new h.Tj();this.qPa=0;this.k1=[];this.Hi=(0,q.Fh)(this.j,"MediaElementASE");this.YQa=g.Tw;this.Yfa=!1;this.Tb=new c();this.Re=new K.Eb(E.Sj.Lz.HAVE_NOTHING);this.Jn={};this.KPa={};this.A5=this.l1(function(){var N;if(I.$)return null !== (N=I.$.webkitDecodedFrameCount) && void 0 !== N?N:0;});this.vv=this.l1(function(){var N;if(I.$){N=I.nga();return N?N.totalVideoFrames:I.$.webkitDecodedFrameCount;}});this.JF=this.l1(function(){var N;if(I.$){N=I.nga();return N?N.droppedVideoFrames:I.$.webkitDroppedFrameCount;}});this.IT=this.l1(function(){var N;if(I.$){N=I.nga();return N && N.corruptedVideoFrames;}});this.dQa=function(N){!1;I.kj.Dc(C.Qh.C4a,{J:N});};this.Tk=q.Ba.get(B.JGa).create(m.config.Rr,this,this.j);this.xc=q.Ba.get(L.Th);m.config.SB && (this.kgb=new Promise(function(N){I.YQa=N;I.j.addEventListener(G.ha.ng,N);}));this.Hi.trace("Created Media Element");this.addEventListener=this.kj.addListener;this.removeEventListener=this.kj.removeListener;}function f(J){var I,N;I=q.Ba.get(D.VOa).VKb();J=J.width / J.height * I.height;N=(I.width - J) / 2;return m.config.C2b?(0,p.createElement)("VIDEO","position:absolute;width:" + J + "px;height:" + I.height + "px;left:" + N + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function k(J){J.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;d=a(90762);g=a(33096);m=a(29204);h=a(94886);n=a(37509);p=a(52569);q=a(31276);u=a(36129);t=a(45146);v=a(8825);w=a(67572);y=a(3887);x=a(77705);z=a(22365);A=a(32687);B=a(80012);C=a(16520);D=a(45613);F=a(5021);G=a(85001);E=a(63156);H=a(82100);M=a(60328);L=a(53085);K=a(81734);O=!!(z.Qz && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.wL=function(J){try{this.$ && (this.qPa=this.$.currentTime);}catch(I){this.Hi.error("Exception while getting VIDEO.currentTime",I);J && this.KQ(u.U.Kmb,I);}return (0,z.yn)(this.qPa * g.ds);};l.prototype.seek=function(J){var I;(0,t.oa)(!this.fp);this.QQa();I=this.wL(!0);if(!m.config.utb && (0,z.$_)(I - J) <= this.Yab)(this.Hi.trace("Seek delta too small",{currentTime:I,seekTime:J,min:this.Yab}),this.Tb.trace("smallseek",J));else {this.Tb.trace("seek",J);try{this.Hi.trace("Setting video elements currentTime",{From:(0,v.ah)(I),To:(0,v.ah)(J)});this.fp={};this.$.currentTime=J / g.ds;this.kj.Dc(C.Qh.Rn);}catch(N){this.Hi.error("Exception while setting VIDEO.currentTime",N);this.KQ(u.U.Lmb,N);}}};l.prototype.R0a=function(){return !!this.fp;};l.prototype.addSourceBuffer=function(J){var I;try{I=new d.Gda(this.j,J,this.ig,this.Hi);this.tE.push(I);J == g.QP && I.Jma && I.Jma.addListener(this.YQa);this.kj.Dc(C.Qh.ycb);return I;}catch(N){I=(0,y.ue)(N);this.Hi.error("Unable to add source buffer.",{error:I});this.j.pd(u.U.bea,{Aa:J === M.u.fa?u.S.Bda:u.S.Cda,Nb:I});}};l.prototype.QR=function(J){var I;I=this;J.forEach(function(N){return I.addSourceBuffer(N);});return !0;};l.prototype.removeSourceBuffer=function(J){this.tE=this.tE.filter(function(I){return !(0,p.dVa)(J,I);});this.ig.removeSourceBuffer(J);};l.prototype.endOfStream=function(){this.Tb.trace("endofstream");!1;m.config.pja && this.ig.endOfStream();};l.prototype.Vs=function(J){!1;this.tE=[];J && J.Dhc();return !0;};l.prototype.j0a=function(){if(this.ig)return (0,F.l9a)(this.ig.duration);};l.prototype.eDb=function(){var J;if(!this.Yfa && this.$ && this.$.readyState >= E.Sj.Lz.HAVE_CURRENT_DATA){J=this.$.webkitDecodedFrameCount;if(void 0 === J || 0 < J || m.config.R8b)this.Yfa=!0;}return this.Yfa;};l.prototype.open=function(){var J,I,N;J=this;this.$=f(this.j.XC.value);this.uZb=this.xc.xH((0,F.Ob)(500),function(){J.Re.set(J.$.readyState);});this.sourceBuffers=this.tE;this.j.addEventListener(G.ha.jcb,function(R){return J.Fqb(R);});if(O){this.j.mG && !m.config.yfb && this.Tk.X8();try{this.ig=new z.Qz();}catch(R){this.KQ(u.U.Bmb,R);return;}try{this.Rf=URL.createObjectURL(this.ig);}catch(R){this.KQ(u.U.Cmb,R);return;}try{this.Tk.Gsb(this.dQa);this.ig.addEventListener("sourceopen",function(R){return J.yQa(R);});this.ig.addEventListener(this.MDa + "sourceopen",function(R){return J.yQa(R);});this.$.addEventListener("error",this.Jn.error=function(R){return J.Rga(R);});this.$.addEventListener("seeking",this.Jn.seeking=function(){return J.Eqb();});this.$.addEventListener("seeked",this.Jn.seeked=function(){return J.Dqb();});this.$.addEventListener("timeupdate",this.Jn.timeupdate=function(){return J.Hqb();});this.$.addEventListener("loadstart",this.Jn.loadstart=function(){return J.Aqb();});this.$.addEventListener("volumechange",this.Jn.volumechange=function(R){return J.Iqb(R);});this.Re.addListener(function(){return J.Cqb();});this.$.addEventListener(this.Tk.hC,this.Jn[this.Tk.hC]=function(){J.Hi.trace(J.Tk.hC);J.Bqb();});I=this.j.mk;N=I.lastChild;N?I.insertBefore(this.$,N):I.appendChild(this.$);m.config.jXa && this.$.addEventListener("contextmenu",k);this.$.src=this.Rf;n.fe.addListener(n.Zq,this.KPa[n.Zq]=function(){return J.xQa();});this.xQa();}catch(R){this.KQ(u.U.Dmb,R);}}else this.g1(u.U.zJa);};l.prototype.close=function(){var I;function J(){I.Rf && (I.QQa(),n.fe.removeListener(n.Zq,I.KPa[n.Zq]),I.Iob());}I=this;this.Tb.trace("close");this.$.removeEventListener(this.Tk.hC,this.Jn[this.Tk.hC]);this.$.removeEventListener("error",this.Jn.error);this.$.removeEventListener("seeking",this.Jn.seeking);this.$.removeEventListener("seeked",this.Jn.seeked);this.$.removeEventListener("timeupdate",this.Jn.timeupdate);this.$.removeEventListener("loadstart",this.Jn.loadstart);this.$.removeEventListener("volumechange",this.Jn.volumechange);this.Tk.w_b(this.dQa);m.config.Rr?this.Tk.Yy().then(function(){return J();}):J();this.Tk.W$a && clearTimeout(this.Tk.W$a);};l.prototype.vB=function(){return this.Tb.vB();};l.prototype.Bqb=function(){m.config.yfb && this.Tk.X8();};l.prototype.nga=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};l.prototype.srb=function(){var J;J=this.j.kh;return (J=J && J.errorCode) && 0 <= [u.U.n0,u.U.S_].indexOf(J);};l.prototype.Iob=function(){var J,I;I=!1;m.config.gYb && this.srb() && (I=!0);m.config.Lxb && !I && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.Rf);m.config.jXa && this.$.removeEventListener("contextmenu",k);!I && this.$ && this.j.mk.removeChild(this.$);this.ig=void 0;null === (J=this.uZb) || void 0 === J?void 0:J.cancel();this.Re.set(E.Sj.Lz.HAVE_NOTHING);this.$=void 0;this.Rf="";};l.prototype.xQa=function(){!0 === z.Hg.hidden?this.k1.forEach(function(J){J.refresh();J.O3b();}):this.k1.forEach(function(J){J.refresh();J.f4b();});};l.prototype.l1=function(J){var I;I=q.Ba.get(w.gJa)(J);this.k1.push(I);return function(){I.refresh();return I.MIb();};};l.prototype.KQ=function(J,I){var N,R;N={Aa:u.S.ol,Nb:(0,y.ue)(I)};try{(R=I.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == R.length && (N.De=R);}catch(U){}this.j.pd(J,N);};l.prototype.QQa=function(){this.k1.forEach(function(J){J.refresh();});};l.prototype.spb=function(){return this.$ && this.$.msGraphicsTrustStatus;};l.prototype.g1=function(J,I){this.j.pd(J,I,void 0);};l.prototype.Fqb=function(J){var I,R,U,ja,ra,ka,ua;if(this.$){J=J.Waa;I=this.spb();I && (J.ConstrictionActive=I.constrictionActive,J.Status=I.status);try{J.readyState="" + this.$.readyState;J.currentTime="" + this.$.currentTime;J.pbRate="" + this.$.playbackRate;}catch(Aa){}I=this.tE.length;for(var N;I--;){N=this.tE[I];R="";N.type == g.Z_?R="audio":N.type == g.QP && (R="video");(0,y.Vd)(J,N.s5(),{prefix:R});}this.ig && (I=this.ig.duration) && !isNaN(I) && (J.duration=I.toFixed(4));if(m.config.$Qb)try{U=this.j.ce;ja=U && U.Db;if(ja){ra=ja.expiration;isNaN(ra) || (J.exp=ra);ka=ja.keyStatuses.entries();if(ka.next){ua=ka.next().value;ua && (J.keyStatus=ua[1]);}}}catch(Aa){}}};l.prototype.yQa=function(J){!1;this.urb || (this.urb=!0,this.kj.Dc(C.Qh.Acb,J));};l.prototype.Eqb=function(){this.Tb.trace("seeking");this.Hi.trace("Video element event: seeking");this.fp?this.fp.vUb=!0:(this.Hi.error("unexpected seeking event"),m.config.dGb && this.g1(u.U.Qmb,{Nb:{Trace:this.vB()}}));};l.prototype.Dqb=function(){this.Tb.trace("seeked");this.Hi.trace("Video element event: seeked");this.fp?((0,t.oa)(this.fp.vUb),this.fp.uUb=!0,this.sRa()):(this.Hi.error("unexpected seeked event"),m.config.cGb && this.g1(u.U.Pmb,{Nb:{Trace:this.vB()}}));};l.prototype.Hqb=function(){var J;this.Tb.trace("timeupdate",null === (J=this.$) || void 0 === J?void 0:J.currentTime);!1;this.fp && (this.fp.xUb=!0,this.sRa());this.kj.Dc(C.Qh.Rn);};l.prototype.Aqb=function(){this.Hi.trace("Video element event: loadstart");};l.prototype.Iqb=function(J){this.Hi.trace("Video element event:",J.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(I){this.Hi.error("error updating volume",I);}};l.prototype.Cqb=function(){this.kj.Dc(C.Qh.n$a);};l.prototype.Rga=function(J){var I,N,R,U,ja,ra,ka,ua;I=this.g1;N=u.U.yJa;R=u.cEa;U=this.vB();ja=J.target;ra=ja && ja.error;ka=J.errorCode;ja=ra && ra.code;(0,A.Wc)(ja) || (ja=ka && ka.code);ka=ra && ra.message;ua=ra && ra.msExtendedCode;(0,A.Wc)(ua) || (ua=ra && ra.systemCode);(0,A.Wc)(ua) || (ua=J.systemCode);(0,A.Wc)(ua) || (ua=(0,H.Zna)(ka));J=(0,y.Vd)({},{code:ja,systemCode:ua,trace:JSON.stringify(U)},{b9:!0});R={Aa:R(ja),Nb:(0,x.mra)(J)};try{ka && (R.xV=ka);}catch(Aa){}ua=(0,y.Ui)(ua);(0,A.yb)(ua) && (R.De=(0,q.Nia)(ua,4));I.call(this,N,R);};l.prototype.sRa=function(){this.fp && this.fp.uUb && this.fp.xUb && (this.Tb.trace("seekcomplete"),this.fp=void 0,this.kj.Dc(C.Qh.iX));};Ya.Object.defineProperties(l.prototype,{Yab:{configurable:!0,enumerable:!0,get:function(){return m.config.w3b;}}});b.ZHa=l;c.prototype.trace=function(J,I){this.Baa.push([J,I]);this.Baa.length > this.Z5b && this.Baa.shift();};c.prototype.vB=function(){return this.Baa;};},51149:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q){var u;u=this;this.Yl=p;this.dt=q;this.neb=function(t){var v,w,y,x,z,A;v=u.Fdb++;w=t.request.ZA || "dl";y=u.f1a(w,"start");if(y){x=t.request.aC.I;if(x && !u.Ncb.has(x)){z=u.x0a(x);A=t.Zv;u.Yl.mark(y,z,A?w + "-" + A + "-" + v:w);t.p2(function(){var B,C;B=u.f1a(w,"end");C=A?w + "-" + A + "-" + v:w;B && u.Yl.mark(B,z,C);});}}};this.Fdb=0;this.Ncb=new Set();this.twa=new Map();q.bT && this.V8b();}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;r=a(5163);l=a(22674);f=a(63156);k=a(77134);d=a(5021);g=a(61726);m=a(34231);h=a(79542);n={start:{video:f.Pa.hP,audio:f.Pa.dP},end:{video:f.Pa.gP,audio:f.Pa.cP}};c.prototype.y0a=function(p){var u,t,v,w,y,x,z,A;function q(B){return (0,d.timestamp)(u.nSa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();v=p.Xc;w=p.ma;y=void 0 === p.Icb?null:p.Icb;x=p.I;z=this.Yl.g0a(w);A=x && this.x0a(x);A && z.push.apply(z,ca(this.Yl.g0a(A)));this.Yl.M$a(p.ma);A && this.Yl.M$a(A);x && this.Ncb.add(x);x=[];("pr_ats" in v) && x.push({name:f.Pa.B0,Mr:q(v.pr_ats),ma:w,wf:"request-pre-manifest"});("ats" in v) && x.push({name:f.Pa.z0,Mr:q(v.ats),ma:w,wf:"request-manifest"});("pr_at" in v) && x.push({name:f.Pa.A0,Mr:q(v.pr_at),ma:w,wf:"request-pre-manifest"});("at" in v) && x.push({name:f.Pa.y0,Mr:q(v.at),ma:w,wf:"request-manifest"});("lg" in v) && x.push({name:f.Pa.x0,Mr:q(v.lg),ma:w,wf:"request-license"});("lr" in v) && (x.push({name:f.Pa.w0,Mr:q(v.lr),ma:w,wf:"request-license"}),x.push({name:f.Pa.WY,Mr:q(v.lr),ma:w,wf:"apply-license"}));("ld" in v) && x.push({name:f.Pa.VY,Mr:q(v.ld),ma:w,wf:"apply-license"});("tt_start" in v) && x.push({name:f.Pa.fP,Mr:q(v.tt_start),ma:w,wf:"request-timed-text"});("tt_comp" in v) && x.push({name:f.Pa.eP,Mr:q(v.tt_comp),ma:w,wf:"request-timed-text"});return x.concat(z).map(function(B){return u.M5b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,C){return B.ts - C.ts;}).reduce(function(B,C){var D;D=C.eventName;delete C.eventName;D && (B[D]=C);return B;},{});};c.prototype.gtb=function(p,q,u){return (void 0 === u?0:u)?p.ca(d.pa) + q.Mh.ca(d.pa):p.ca(d.pa) - q.Mh.ca(d.pa);};c.prototype.nSa=function(p,q,u){u=void 0 === u?!1:u;if(q.im)if(u)p.ca(d.pa) + q.im;else return p.ca(d.pa) - q.im;return this.gtb(p,q,u);};c.prototype.M5b=function(p,q){var u,t;u=p.wf;t=p.name;return {eventName:this.UTb(t,u),eventId:u || t,ts:this.nSa(p.Mr,q),comp:this.GT(t),cat:this.xIb(t),step:this.rLb(t)};};c.prototype.UTb=function(p,q){switch(p){case f.Pa.fP:case f.Pa.eP:case f.Pa.dP:case f.Pa.cP:case f.Pa.hP:case f.Pa.gP:return p + "-" + q;default:return p;}};c.prototype.GT=function(p){switch(p){case f.Pa.B0:case f.Pa.A0:case f.Pa.z0:case f.Pa.y0:return "manifest";case f.Pa.x0:case f.Pa.w0:case f.Pa.Vea:case f.Pa.Uea:case f.Pa.WZ:case f.Pa.VZ:case f.Pa.WY:case f.Pa.VY:return "license";case f.Pa.fP:case f.Pa.eP:case f.Pa.dP:case f.Pa.cP:case f.Pa.hP:case f.Pa.gP:case f.Pa.nba:case f.Pa.mba:return "buffering";case f.Pa.Zda:case f.Pa.Yda:return "playback";default:return (0,h.iT)(p);}};c.prototype.xIb=function(p){switch(p){case f.Pa.B0:case f.Pa.A0:case f.Pa.z0:case f.Pa.y0:return "aws";case f.Pa.x0:case f.Pa.w0:return "mixed";case f.Pa.Zda:case f.Pa.Yda:case f.Pa.Vea:case f.Pa.Uea:case f.Pa.WZ:case f.Pa.VZ:case f.Pa.WY:case f.Pa.VY:case f.Pa.nba:case f.Pa.mba:return "device";case f.Pa.fP:case f.Pa.eP:case f.Pa.dP:case f.Pa.cP:case f.Pa.hP:case f.Pa.gP:return "cdn";default:return (0,h.iT)(p);}};c.prototype.rLb=function(p){switch(p){case f.Pa.B0:case f.Pa.Zda:case f.Pa.z0:case f.Pa.x0:case f.Pa.nba:case f.Pa.fP:case f.Pa.dP:case f.Pa.hP:case f.Pa.Vea:case f.Pa.WZ:case f.Pa.WY:return "start";case f.Pa.A0:case f.Pa.Yda:case f.Pa.y0:case f.Pa.w0:case f.Pa.Uea:case f.Pa.VZ:case f.Pa.VY:case f.Pa.mba:case f.Pa.eP:case f.Pa.cP:case f.Pa.gP:return "end";default:return (0,h.iT)(p);}};c.prototype.f1a=function(p,q){if((p in n[q]))return n[q][p];};c.prototype.Q6b=function(){g.Ee.removeEventListener(g.t6,this.neb);};c.prototype.V8b=function(){this.Q6b();g.Ee.addEventListener(g.t6,this.neb);};c.prototype.x0a=function(p){var q;if(this.twa.has(p))return this.twa.get(p);q=Date.now();this.twa.set(p,q);return q;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.YP)),r.__param(1,(0,l.l)(m.wn))],a);b.vIa=a;},27104:function(r,b,a){var f,k,d,g,m,h,n,p,q,u;function c(t,v,w,y,x,z){var A;A=this;this.Sg=t;this.config=w;this.zb=y;this.debug=x;this.NE={};this.qXa=!1;this.fS={};this.Jpa=0;this.D5=function(B){var C,D,F;C=B.stream;if(C){B=C.Ub;D=C.bitrate;F=C.Cb;}else B=B.track.Ub;return {key:B + "$" + D + "$" + F,Ub:B,bitrate:D,Cb:F};};this.y_a=function(B){var C,D,F;D=A.D5(B);F=null === (C=B.Cc) || void 0 === C?void 0:C.id;B=B.track.wf;return Object.assign({},D,{key:D.key + "$" + F + "$" + B,Hm:F,wf:B});};this.uIb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Ub;C=null === C || void 0 === C?void 0:C.bitrate;return {key:B + "$" + C,Ub:null !== B && void 0 !== B?B:"",AM:C};};this.XLb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Ub;C=null === C || void 0 === C?void 0:C.Cb;return {key:B + "$" + C,Ub:null !== B && void 0 !== B?B:"",AM:C};};this.log=v.$a("PlayTimeTracker");this.s9=z(t);this.Lt=z(t);this.Zta=z(t);this.startTime=this.Sg.mediaTime.value;this.H7=this.config().Yrb;this.uI();this.NE.abrdel=0;this.H7.forEach(function(B){B="abrdel" + B;A.fS[B]=0;A.NE[B]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.NKa=void 0;r=a(5163);f=a(22674);k=a(87386);d=a(4203);g=a(71501);a(5021);m=a(42207);h=a(90597);n=a(33096);p=a(3887);q=a(39551);u=a(30873);l.prototype.encode=function(t){return {downloadableId:t.Ub,correlationId:t.wf,bitrate:t.bitrate,vmaf:t.Cb,duration:t.duration,metric:t.AM,cdnId:t.Hm};};l.prototype.decode=function(t){return {Ub:t.downloadableId,wf:t.correlationId,bitrate:t.bitrate,Cb:t.vmaf,duration:t.duration,AM:t.metric,Hm:t.cdnId};};c.prototype.Fp=function(t){t=void 0 === t?"content":t;this.IC(this.Sg.mediaTime.value);return Math.floor(this.Lt.Fp(function(v){return v.track.pC === t;}));};c.prototype.F_a=function(t){this.IC(this.Sg.mediaTime.value);return Math.floor(this.Lt.Fp(t));};c.prototype.cU=function(t){var v;t=void 0 === t?"content":t;this.IC(this.Sg.mediaTime.value);v=this.Lt.cU(function(w){return w.track.pC === t;});this.debug.assert(v === Math.floor(v),"Value of totalContentPlayTime is not an integer.");return Math.floor(v);};c.prototype.lIb=function(){this.IC(this.Sg.mediaTime.value);return {audio:this.KT(this.s9,this.y_a),video:this.KT(this.Lt,this.y_a)};};c.prototype.DKb=function(){var t,v,w;t=this.Fp("content");v=this.Fp("ads");w=this.Fp("other");t={total:t,totalAdDuration:v,totalOtherDuration:w,totalCombinedDuration:t + v + w,totalContentTime:this.cU("content"),totalStartSlateDuration:this.F_a(function(y){return !0 === y.Rpa;}),totalLiveEdgeDuration:this.F_a(function(y){return !0 === y.LB;}),audio:this.KT(this.s9,this.D5),video:this.KT(this.Lt,this.D5),timedtext:this.KT(this.Zta,this.D5)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.jna=function(){var t,v;this.IC(this.Sg.mediaTime.value);t=this.Lt.fna(this.uIb);try{v=this.WZa(t);}catch(w){return (this.log.warn("Failed to calc average bitrate."),null);}this.NE.abrdel=Math.round(v);return this.NE.abrdel;};c.prototype.XZa=function(){var t,v;this.IC(this.Sg.mediaTime.value);t=this.Lt.fna(this.XLb);try{v=this.WZa(t);}catch(w){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.VZa=function(){var t,v;t=this;if(!this.qXa){v=this.Fp();this.H7.forEach(function(w){var y,x,z;if(0 === t.fS["abrdel" + w] && v > w * n.ds){y=0;x=0;z=0;t.Lt.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > w * n.ds;});y && (t.fS["abrdel" + w]=Math.round((y - z * (x - w * n.ds)) / (w * n.ds)));}});0 !== this.fS["abrdel" + this.H7[this.H7.length - 1]] && (this.qXa=!0);(0,p.Tf)(this.fS,function(w,y){t.NE[w]=0 === y?t.NE.abrdel:y;});}return this.NE;};c.prototype.Esb=function(t){this.Jpa+=t;};c.prototype.r6=function(){return this.Lt.r6();};c.prototype.uI=function(){var t;t=this;this.Sg.hf.addListener(function(v){t.EK=t.lUa(t.EK,t.s9,v.newValue);});this.Sg.Wd.addListener(function(v){t.HK=t.lUa(t.HK,t.Lt,v.newValue);});this.Sg.playbackRate.addListener(function(v){t.IC(t.Sg.mediaTime.value,v.oldValue);});this.Sg.Yh.addListener(this.KUb.bind(this));};c.prototype.Csa=function(t,v){this.IC(t);this.startTime=v;this.HK=this.EK=void 0;this.GK && (this.GK.startTime=this.startTime);!1;};c.prototype.KUb=function(t){this.Zta.Ce(this.GK,this.Sg.mediaTime.value);this.GK=(t=t.newValue)?{track:t,startTime:this.Sg.mediaTime.value,endTime:g.Ow}:void 0;};c.prototype.IC=function(t,v){v=void 0 === v?this.Sg.playbackRate.value:v;t && this.EK && this.HK && (t=Math.min(t,this.EK.endTime,this.HK.endTime),this.s9.Ce(this.EK,t,v),this.EK.startTime=t,this.Lt.Ce(this.HK,t,v),this.HK.startTime=t,this.GK && (this.Zta.Ce(this.GK,t,v),this.GK.startTime=t),this.startTime=t,!1);};c.prototype.lUa=function(t,v,w){var y;t && v.Ce(t,Math.min(t.endTime,this.Sg.mediaTime.value));if(w && w.stream){t=w.tK;v=w.stream;y=this.Sg.gd;return {Cc:w.Cc,track:v.track,stream:v,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Rpa:y.ba?y.sB(t.endTime) === u.cs.mQ:void 0,LB:y.ba?y.jU():void 0};}};c.prototype.KT=function(t,v){return t.fna(v,"content").map(function(w){return new l().encode(w);});};c.prototype.WZa=function(t){var v,w,y;v=this;w=0;t.forEach(function(x){if(v.zb.qg(x.duration) && v.zb.qg(x.AM))w+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!w)return 0;y=0;t.forEach(function(x){y+=x.AM * x.duration / w;});return y;};a=c;a=r.__decorate([(0,f.T)(),r.__param(1,(0,f.l)(k.ab)),r.__param(2,(0,f.l)(d.Xb)),r.__param(3,(0,f.l)(m.Qf)),r.__param(4,(0,f.l)(h.Dw)),r.__param(5,(0,f.l)(q.Aea))],a);b.NKa=a;},24722:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O;function c(J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa,na,Ca,Ra,Q,da,P,Y,sa,Ha,Wa,$a,fb,sb){this.ly=J;this.EA=I;this.Ea=N;this.sa=R;this.avb=U;this.Txa=ja;this.nV=ra;this.qra=ka;this.pM=ua;this.bd=Aa;this.rh=La;this.zi=Xa;this.iK=ab;this.sW=aa;this.Lh=na;this.qya=Ca;this.Ff=Ra;this.Yl=Q;this.Zd=da;this.Xta=P;this.M_b=Y;this.ria=sa;this.GG=Ha;this.Jta=Wa;this.Cha=$a;this.ewb=fb;this.eK=sb;}Object.defineProperty(b,"__esModule",{value:!0});b.TKa=void 0;r=a(5163);l=a(62665);f=a(22674);k=a(45842);d=a(11479);g=a(81918);m=a(30869);h=a(12826);n=a(37104);p=a(24273);q=a(73449);u=a(66476);t=a(79274);v=a(52531);w=a(24550);y=a(91622);x=a(61861);z=a(78388);A=a(45118);B=a(74870);C=a(92205);D=a(77134);F=a(93367);G=a(85405);E=a(2160);H=a(49745);M=a(50889);L=a(70068);K=a(33258);c.prototype.create=function(J,I,N,R,U,ja,ra,ka){return new (a(18128).VKa)(J,I,ja,ra,R,U,this.ly,N,this.Ea,this.EA,this.sa,this.nV,this.avb,this.Txa,this.qra,this.pM,this.bd,this.rh,this.zi,this.iK,this.sW,this.Lh,this.qya,this.Ff,this.Zd,this.Xta,this.Yl,this.M_b(),this.ria,this.GG,this.Jta,this.Cha,this.ewb,void 0,ka);};O=c;O=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Mw)),r.__param(1,(0,f.l)(d.Oh)),r.__param(2,(0,f.l)(g.Lc)),r.__param(3,(0,f.l)(m.bg)),r.__param(4,(0,f.l)(h.ZAa)),r.__param(5,(0,f.l)(k.MD)),r.__param(6,(0,f.l)(n.Dda)),r.__param(7,(0,f.l)(p.NHa)),r.__param(8,(0,f.l)(q.NP)),r.__param(9,(0,f.l)(u.PD)),r.__param(10,(0,f.l)(t.hQ)),r.__param(11,(0,f.l)(v.GD)),r.__param(12,(0,f.l)(y.hBa)),r.__param(13,(0,f.l)(x.zea)),r.__param(14,(0,f.l)(H.AD)),r.__param(15,(0,f.l)(z.iOa)),r.__param(16,(0,f.l)(A.pl)),r.__param(17,(0,f.l)(D.YP)),r.__param(18,(0,f.l)(B.bh)),r.__param(19,(0,f.l)(C.WKa)),r.__param(20,(0,f.l)(F.mMa)),r.__param(21,(0,f.l)(G.vAa)),r.__param(22,(0,f.l)(E.Jda)),r.__param(23,(0,f.l)(M.pKa)),r.__param(24,(0,f.l)(L.Uza)),r.__param(25,(0,f.l)(K.aca)),r.__param(26,(0,f.l)(w.WO)),r.__param(26,(0,f.optional)())],O);b.TKa=O;},18128:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab;function c(aa,na,Ca,Ra,Q,da,P,Y,sa,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb,Ab,Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac,Pc,Yd,Lf,Zd){var Cb,Mf;function gf(wb){wb.newValue && wb.newValue.stream && (Cb.Wd.removeListener(gf),Cb.I6=wb.newValue.stream.bitrate);}function hf(wb){wb.newValue !== R.gb.zf && wb.newValue !== R.gb.Rh && (Cb.sb.removeListener(hf),Cb.py=Cb.sa.DH,Cb.Hb.Dc(R.ha.It));}function jf(wb){wb.newValue !== R.gb.zf && (Cb.sb.removeListener(jf),Cb.$k=!0,Cb.rW=Cb.sa.de.ca(D.pa),Cb.Hb.Dc(R.ha.$k));}Cb=this;this.rb=Q;this.Rj=da;this.ly=P;this.Ea=sa;this.EA=Ha;this.sa=Wa;this.nV=$a;this.qra=Jb;this.pM=Ua;this.bd=bb;this.rh=kb;this.zi=rb;this.iK=qb;this.sW=yb;this.Lh=Ab;this.qya=Lb;this.Ff=Sb;this.Zd=Xb;this.Xta=Ib;this.Yl=Nb;this.bab=Pb;this.ria=cc;this.GG=nc;this.Jta=Ac;this.Cha=Pc;this.ija=Yd;this.eK=Lf;this.d9a=[];this.Vp=new Map();this.a2a=new Map();this.qc=new q.Eb(null);this.Fg=new q.Eb(null);this.Mb=new q.Eb(null);this.Yh=new q.Eb(null);this.$t=new q.Eb(void 0);this.Ke=new q.Eb(null);this.Kg=new q.Eb(null);this.mediaTime=new q.Eb(void 0);this.playbackRate=new Aa.$Ka(1,u.config.Cra);this.background=new q.Eb(!0);this.U6b=function(wb){return Cb.qc.set(wb.newValue);};this.D7b=function(wb){return Cb.Fg.set(wb.newValue);};this.A7b=function(wb){return Cb.Mb.set(wb.newValue);};this.S6b=function(wb){return Cb.Yh.set(wb.newValue);};this.z7b=function(wb){return Cb.$t.set(wb.newValue);};this.C7b=function(wb){return Cb.Ke.set(wb.newValue);};this.T6b=function(wb){return Cb.Kg.set(wb.newValue);};this.r7b=function(wb){return Cb.Wd.set(wb.newValue);};this.q7b=function(wb){return Cb.hf.set(wb.newValue);};this.n7b=function(wb){return Cb.mediaTime.set(wb.newValue);};this.V6b=function(wb){return Cb.background.set(wb.newValue);};this.BO=function(wb){return Cb.playbackRate.set(wb.newValue);};this.ho={};this.Mva=this.hya=0;this.Hb=new t.Tj();this.Waa={};this.EX=this.U8a=this.$k=!1;this.XC=new q.Eb(void 0);this.state=new q.Eb(R.Vb.ZI);this.Ai=new q.Eb(!1);this.paused=new q.Eb(!1);this.muted=new q.Eb(!1);this.volume=new q.Eb(u.config.uCb / 100);this.sb=new q.Eb(R.gb.zf);this.Pd=new q.Eb(R.nf.Me);this.Gq=new q.Eb(R.nf.Me);this.gm=new q.Eb(R.nf.Me);this.hf=new q.Eb(null);this.Wd=new q.Eb(null);this.cja=new q.Eb(null);this.u6=(0,n.xFa)(this);this.Cc=[new q.Eb(null),new q.Eb(null)];this.Oia={};this.ZS=!1;this.mb=this.th=-1;this.UF=function(wb,Zb){var Qc;wb=void 0 === wb?null:wb;return (0,L.yb)(wb)?Zb && !Cb.Ri(Zb).W?wb:(null === (Qc=Cb.cb) || void 0 === Qc?0:Qc.Bh)?Cb.cb.pka(wb):wb:null;};this.TV=function(){Cb.oxa();};this.nRb=this.VA=aa;this.addEventListener=this.Hb.addListener;this.removeEventListener=this.Hb.removeListener;this.fireEvent=this.Hb.Dc;this.Oha({J:aa,I:Ra,bb:Ca || ({})},u.config.Ar?this.bd.kt(aa):void 0,na);this.log=(0,C.Fh)(this);this.gXa=Y(this);this.$ub=fb(this);this.mk=(0,I.createElement)("DIV",p.Oea,void 0,{id:this.P});this.ONb();this.Ec=this.log.O3("Playback");(0,k.GKa)(this);y.Tz.I6a=this;y.Tz.Mma || (y.Tz.Mma=this);this.Ec.info("Playback created",this.tg);this.a5a?this.Ec.info("Playback selected for trace playback info logging"):this.Ec.trace("Playback not selected for trace playback info logging");u.config.Ar && (this.bd.mMb(this.P),this.addEventListener(R.ha.It,function(){Cb.bd.oMb(Cb.P);Cb.Mb.addListener(function(){Cb.bd.r1a();});Cb.qc.addListener(function(){Cb.bd.r1a();});}),this.addEventListener(R.ha.ng,function(){Cb.bd.lMb(Cb.P);}));this.state.addListener(function(wb){Cb.Ec.info("Playback state changed",{From:wb.oldValue,To:wb.newValue});(0,G.oa)(wb.newValue > wb.oldValue);});w.fe.addListener(w.Rk,this.TV,p.Tda);Mf=sb((0,D.uh)(1));this.mediaTime.addListener(function(){Cb.PGb();Mf.Lj(function(){return Cb.hZa();});});this.sb.addListener(function(wb){Cb.Ec.info("PresentingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.ah)(Cb.mediaTime.value)},Cb.zt());});this.sb.addListener(function(){Cb.Ai.set(Cb.sb.value === R.gb.ke);});this.Pd.addListener(function(wb){Cb.Ec.info("BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.ah)(Cb.mediaTime.value)},Cb.zt());});this.Gq.addListener(function(wb){Cb.Ec.info("AV BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.ah)(Cb.mediaTime.value)},Cb.zt());});this.gm.addListener(function(wb){Cb.Ec.info("Text BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.ah)(Cb.mediaTime.value)},Cb.zt());});this.qc.addListener(function(wb){(0,G.oa)(wb.newValue && wb.newValue.Wf);Cb.Ec.info("AudioTrack changed",wb.newValue && ({ToBcp47:wb.newValue.re,To:wb.newValue.trackId}),wb.oldValue && ({FromBcp47:wb.oldValue.re,From:wb.oldValue.trackId}),{MediaTime:(0,E.ah)(Cb.mediaTime.value)});});this.Mb.addListener(function(wb){(0,G.oa)(!wb.newValue || wb.newValue.Wf);Cb.Ec.info("TimedTextTrack changed",wb.newValue?{ToBcp47:wb.newValue.re,To:wb.newValue.trackId}:{To:"none"},wb.oldValue?{FromBcp47:wb.oldValue.re,From:wb.oldValue.trackId}:{From:"none"},{MediaTime:(0,E.ah)(Cb.mediaTime.value)});});this.sb.addListener(jf,p.aJ);this.sb.addListener(hf);this.addEventListener(R.ha.It,function(){Cb.EX=!0;Cb.Icb=Cb.nS();Cb.ie("start");});this.Wd.addListener(gf);(0,B.RKa)(this);y.Bn.push(this);u.config.OW && (this.n9=this.Xta(this),this.q9=new z.bLa(this));y.uea.forEach(function(wb){wb(Cb);});this.Nsb=function(){Cb.addEventListener(R.ha.BC,function(wb){var Zb;wb=wb.$b;wb !== R.Ac.$r && wb !== R.Ac.kJ && (null === (Zb=Cb.cb) || void 0 === Zb?void 0:Zb.stop());});Cb.addEventListener(R.ha.Ej,function(wb){var Zb,Qc,kf,Nf,Hc,$d,Of,ae,lf,Pf;Cb.bab.Ej(wb);kf=wb.$b;Nf=wb.skip;Hc=wb.x8;$d=wb.Jsa;Of=wb.P;ae=wb.Ps;Cb.aa.Zk.Csa($d,Hc);if(kf !== R.Ac.kJ && kf !== R.Ac.$r)if(Nf){if(null !== (Zb=Cb.cb) && void 0 !== Zb && Zb.bi(Hc)){Cb.Ec.trace("Repositioned. Skipping from " + $d + " to " + Hc);wb=function($b){Cb.log.error("streamingSession.skipped threw an exception",$b);$b=U.Mc.ana(F.U.Rgb,$b);Cb.Cr($b.code,$b);};try{Cb.cb.MH(Hc).then(function($b){var Rc;$b.WL || (null === (Rc=Cb.cb) || void 0 === Rc?void 0:Rc.play());}).catch(wb);}catch($b){wb($b);}}else Cb.log.error("can skip returned false");}else {Cb.Ec.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=Cb.rb.Q5(Cb.aa);Pf=Object.keys(lf.O).find(function($b){var Rc;$b=lf.O[$b];return $b.J === Of && $b.ta <= ae && (null !== (Rc=$b.va) && void 0 !== Rc?Rc:Infinity) > ae;});null === (Qc=Cb.cb) || void 0 === Qc?void 0:Qc.d1b(ae,Pf);}catch($b){Cb.log.error("streamingSession.seekByContentPts threw an exception",$b);Hc=U.Mc.ana(F.U.Pgb,$b);Cb.Cr(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var wb,Zb;if(null === (wb=Cb.cb) || void 0 === wb?0:wb.Bh)null === (Zb=Cb.cb) || void 0 === Zb?void 0:Zb.ZWb();});this.addEventListener(R.ha.Cx,function(wb){var Zb;wb.$b == y.rea && (Cb.Pd.set(R.nf.Me),null === (Zb=Cb.cb) || void 0 === Zb?void 0:Zb.km(Cb.Td.C_a()));});Zd && (this.aa.W=Zd,this.Lh.JX(aa,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.VKa=void 0;l=a(5163);f=a(50040);k=a(86258);d=a(20318);g=a(66093);m=a(11953);h=a(73585);n=a(24427);p=a(33096);q=a(81734);u=a(29204);t=a(94886);v=a(42654);w=a(37509);y=a(13044);x=a(59032);z=a(62439);A=a(79014);B=a(39480);C=a(31276);D=a(5021);F=a(36129);G=a(45146);E=a(8825);H=a(3887);M=a(32219);L=a(32687);K=a(73056);O=a(45266);J=a(16520);I=a(52569);N=a(72639);R=a(85001);U=a(31149);ja=a(43422);ra=a(78719);ka=a(35128);ua=a(13494);Aa=a(65361);La=a(50954);Xa=a(24066);ab=a(60328);c.prototype.ie=function(aa,na){var Ca;na=void 0 === na?this.VA:na;null === (Ca=this.Vp.get(na)) || void 0 === Ca?void 0:Ca.ie(aa);};c.prototype.my=function(aa){this.aa.my(aa);};c.prototype.k6=function(){var aa;return !(null === (aa=this.W) || void 0 === aa || !aa.Fa.Jm);};c.prototype.NL=function(){var aa,na,Ca;return !(null === (Ca=null === (na=null === (aa=this.W) || void 0 === aa?void 0:aa.Fa.Bm) || void 0 === na?void 0:na.ae.length) || void 0 === Ca || !Ca);};c.prototype.ONb=function(){var aa;aa=this;this.qc.addListener(function(na){return aa.aa.qc.set(na.newValue);});this.Fg.addListener(function(na){return aa.aa.Fg.set(na.newValue);});this.Mb.addListener(function(na){return aa.aa.Mb.set(na.newValue);});this.Yh.addListener(function(na){return aa.aa.Yh.set(na.newValue);});this.$t.addListener(function(na){return aa.aa.$t.set(na.newValue);});this.Ke.addListener(function(na){return aa.aa.Ke.set(na.newValue);});this.Kg.addListener(function(na){return aa.aa.Kg.set(na.newValue);});this.Wd.addListener(function(na){return aa.aa.Wd.set(na.newValue);});this.hf.addListener(function(na){return aa.aa.hf.set(na.newValue);});this.Cc[ab.u.fa].addListener(function(na){return aa.aa.Cc[ab.u.fa].set(na.newValue);});this.Cc[ab.u.X].addListener(function(na){return aa.aa.Cc[ab.u.X].set(na.newValue);});this.mediaTime.addListener(function(na){return aa.aa.mediaTime.set(na.newValue);});this.background.addListener(function(na){return aa.aa.background.set(na.newValue);});this.playbackRate.addListener(function(na){return aa.aa.playbackRate.set(na.newValue);});this.Cab();};c.prototype.Cab=function(){var aa;aa=this;this.aa !== this.uwa && (this.aa.mediaTime.set(this.mediaTime.value),this.aa.background.set(this.background.value),this.aa.playbackRate.set(this.playbackRate.value),this.Io(function(na){return na.qc;},this.U6b),this.Io(function(na){return na.Fg;},this.D7b),this.Io(function(na){return na.$t;},this.z7b),this.Io(function(na){return na.Mb;},this.A7b),this.Io(function(na){return na.Yh;},this.S6b),this.Io(function(na){return na.Ke;},this.C7b),this.Io(function(na){return na.Kg;},this.T6b),this.Io(function(na){return na.hf;},this.q7b),this.Io(function(na){return na.Wd;},this.r7b),this.Io(function(na){return na.Cc[ab.u.fa];},function(na){return aa.Cc[ab.u.fa].set(na.newValue);}),this.Io(function(na){return na.Cc[ab.u.X];},function(na){return aa.Cc[ab.u.X].set(na.newValue);}),this.Io(function(na){return na.mediaTime;},this.n7b),this.Io(function(na){return na.background;},this.V6b),this.Io(function(na){return na.playbackRate;},this.BO),this.Mb.set(this.aa.Mb.value),this.qc.set(this.aa.qc.value,{y2:!0}),this.Fg.set(this.aa.Fg.value),this.Yh.set(this.aa.Yh.value),this.$t.set(this.aa.$t.value),this.Ke.set(this.aa.Ke.value),this.Kg.set(this.aa.Kg.value),this.uwa=this.aa);};c.prototype.Io=function(aa,na){this.uwa && aa(this.uwa).removeListener(na);aa(this.aa).addListener(na);};c.prototype.Jwb=function(){var aa;return !(null === (aa=this.Uc) || void 0 === aa?0:aa.Bl.value);};c.prototype.load=function(aa){var na,Ca;na=this;this.load=function(){};this.g9a=aa;if(this.state.value == R.Vb.ZI){this.Ec.info("Playback loading",this);this.bUb();this.ie("asl_load_start");Ca=this.EA;aa=Ca.startTime;Ca=Ca.endTime;(0,L.Wc)(aa)?(0,L.Wc)(Ca)?this.ie("asl_ended"):this.ie("asl_in_progress"):this.ie("asl_not_started");this.EA.aV(function(Ra){na.ie("asl_load_complete");Ra.ia?na.CAb():na.Cr(Ra.errorCode || F.U.Xca,Ra);});}};c.prototype.zXb=function(){!1;try{this.state.value === R.Vb.LOADING && (this.pfb(),this.Dl=this.iK.itb({rz:(0,D.Ob)(this.fb),P:this.P,qC:this.Ox,bb:this.bb,kC:this.bb.rg?u.config.pta:u.config.kC,gd:this.gd}).ca(D.pa),this.mia(),this.BBb());}catch(aa){this.Cr(F.U.zkb,{Aa:F.S.ol,Nb:(0,H.ue)(aa)});}};c.prototype.pfb=function(){var aa,na,Ca;Ca={width:1,height:1};this.wB({xfb:!0}).forEach(function(Ra){Ca.width * Ca.height < Ra.width * Ra.height && (Ca={width:Ra.width,height:Ra.height});});Ca.height === (null === (aa=this.XC.value) || void 0 === aa?void 0:aa.height) && Ca.width === (null === (na=this.XC.value) || void 0 === na?void 0:na.width) || this.XC.set(Ca);};c.prototype.Ov=function(){var aa,na;!1;na=this.rb.Q5(this);this.WVa(na);null === (aa=this.cb) || void 0 === aa?void 0:aa.gu(na);};c.prototype.MG=function(aa){var na,Ca;!1;(0,G.oa)(this.cb,"ASE should be initialized");Ca=this.rb.QT(aa);Ca?aa === this.rb.hh?this.cb.s3(Ca,!0) || this.gU(Ca,{}):null === (na=this.cb) || void 0 === na?void 0:na.Nj(aa,Ca,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.gU=function(aa,na,Ca){var Ra,Q,da,P,Y;Ra=this;Ca=void 0 === Ca?!0:Ca;!1;P=this.rb.ee(aa);if(this.zi.Naa && this.rb.aa.J === P.J)return Promise.resolve(this.Td.seek(P.ta,R.Ac.Zw,void 0));P=this.Rj.LL(P.J);na=(0,O.c8)(P.ub,na);if(null === (Q=this.cb) || void 0 === Q || !Q.Bh)throw (!1,Error("No streaming session"));!1;this.EE("Transition " + this.rb.hh + "->" + aa);Y=this.Ri(aa);Y.im=this.Ea.Ib().ca(D.pa);Y.bb=na;return "seamless" !== (null !== (da=this.rb.ee(aa).Yd) && void 0 !== da?da:"seamless") || Ca?(this.cb.RT(aa).kS?this.YLb(aa,Y.P):this.hX(aa,Y.P)).then(function(){Ra.lHb(Y.P);}):Promise.resolve();};c.prototype.hX=function(aa,na){var Ca;Ca=this.rb.kk.O[aa].ta;!1;this.EE("NO DATA " + aa + ", SEEKING " + Ca + ", viewableId: " + na);return Promise.resolve(this.Td.seek(Ca,R.Ac.Zw,aa,!0));};c.prototype.YLb=function(aa,na){var Ca,Ra,Q,da,P;Ca=this;!1;Ra=this.cb;if(null === Ra || void 0 === Ra || !Ra.Bh)throw Error("No streaming session");Q=new Promise(function(Y){function sa(){!1;Ra.removeEventListener("stop",sa);Y();}Ra.addEventListener("stop",sa);});da=!1;P=new Promise(function(Y){function sa(Wa){!1;Ca.removeEventListener(R.ha.Ej,sa);da=Wa.skip;Y();}function Ha(){!1;Ca.removeEventListener(R.ha.BC,Ha);Ra.stop();}Ca.addEventListener(R.ha.BC,Ha);Ca.addEventListener(R.ha.Ej,sa);});Q=Promise.all([Q,P]).then(function(){var Y;Y=!1;da && (Y=Ra.s3(aa,!1));if(!Y)return (Ca.EE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Ca.hX(aa,na));});P=Ra.rka(aa,this.rb.kk.O[aa].ta);!1;this.Td.seek(P,R.Ac.kJ,aa,!0);return Q;};c.prototype.Oha=function(aa,na,Ca){var Ra,Q,da,P,Y,sa,Ha,Wa;na=void 0 === na?this.ly.SA():na;Ca=void 0 === Ca?this.Ea.Ib():Ca;da=!!u.config.Rfb && !(na % u.config.Rfb);P=aa.J;Y=aa.I;sa=aa.bb;Ha=aa.Bf;if(this.Vp.has(P))na=this.Vp.get(P);else {na=this.sW(y.Tz.index++,P,Y,sa,na,Ca,da,this.aa,this.UF,Ha,this);this.Vp.set(P,na);1 < this.Vp.size && (na.oM=this.pM.create(this,na,!1,this.UF));na.zM=new x.nIa(this,na);Wa=null === Ha || void 0 === Ha?void 0:Ha.Zb;(aa=aa.Uub) || (aa=null === (Q=null === (Ra=this.aa.W) || void 0 === Ra?void 0:Ra.pp) || void 0 === Q?void 0:Q.find(function($a){return $a.Fa.P === P && (void 0 === Wa || $a.Fa.Zb === Wa);}));aa && this.G9(aa,na);1 < this.Vp.size && this.Lh.i6(na.P) && this.M9(na);}};c.prototype.VVa=function(aa,na,Ca,Ra){var Q,da,P,Y,sa,Ha,Wa,$a,fb,sb;Q=this;!1;$a={ZL:!0,rg:!1,TC:Date.now()};(0,G.oa)(na.Af,"Auxiliary viewable config request options must have auxiliary options");fb=na.Af;na=fb.Zb;fb=fb.xd;if(this.p6(fb)){sb=null === (da=this.dk(fb).W) || void 0 === da?void 0:da.Fa;da={Zb:na,eW:this.Dd,xd:fb,jW:sb};(0,G.oa)(null === (P=this.cb) || void 0 === P?void 0:P.uj,"If we have auxiliary viewables combined playgraph must exist");if(null === (sa=null === (Y=this.cb) || void 0 === Y?void 0:Y.uj) || void 0 === sa?0:sa.O)(P=Object.keys(null === (Wa=null === (Ha=this.cb) || void 0 === Ha?void 0:Ha.uj) || void 0 === Wa?void 0:Wa.O).find(function(Jb){var Ua,bb;return (null === (bb=null === (Ua=Q.cb) || void 0 === Ua?void 0:Ua.uj) || void 0 === bb?void 0:bb.O[Jb].J) === aa;}),(0,G.oa)(!!P,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.Oha({Uub:Ra,Bf:da,bb:$a,I:P,J:aa},Ca));}};c.prototype.p6=function(aa){return !!this.Vp.has(aa);};c.prototype.C1a=function(aa){try{return (this.Ri(aa),!0);}catch(na){return !1;}};c.prototype.dk=function(aa){if(aa === La.rq)return this.aa;if(!this.Vp.has(aa))throw Error("Playback segment not found: " + aa);return this.Vp.get(aa);};c.prototype.Ri=function(aa){var na,Ca,Ra;a:{for(var Q=la(this.XG),da=Q.next();!da.done;da=Q.next()){if((da=da.value,da.I === aa)){Q=da;break a;}}Q=void 0;}return Q?Q:(null === (Ca=null === (na=this.cb) || void 0 === na?void 0:na.uj) || void 0 === Ca?0:Ca.O[aa])?(aa=null === (Ra=this.cb) || void 0 === Ra?void 0:Ra.uj.O[aa].J,this.lra.P === aa && (Q=this.lra),null !== Q && void 0 !== Q?Q:this.dk(aa)):this.aa;};c.prototype.FKb=function(aa){for(var na,Ca,Ra=la(this.XG),Q=Ra.next();!Q.done;Q=Ra.next()){if((Q=Q.value,(null === (Ca=null === (na=Q.ce) || void 0 === na?void 0:na.Db) || void 0 === Ca?void 0:Ca.sessionId) === aa))return Q;}return this.aa;};c.prototype.Q_a=function(aa){return this.a2a.get(aa);};c.prototype.M9=function(aa){var na,Ca;na=this;!1;Ca=aa.P;this.Rj.a2b(Ca);return this.oX(aa).then(function(Ra){na.G9(Ra,aa);Ra=aa.mG?na.Kb.Tk.cab(aa):Promise.resolve();na.LXb(aa);return Ra.then(function(){return na.Rj.xbb(Ca);});}).catch(function(Ra){na.log.error("queueManifest failed",Ra);na.Rj.$1b(Ca,Ra);throw na.rh(Ra.code,Ra);});};c.prototype.fw=function(aa,na){var Ca,Ra,Q,da,P;Ca=this;(0,G.oa)(na.Af,"auxiliaryOptions must exist if an adBreak hydration was requested");Ra=na.Af;Q=Ra.Zb;da=Ra.xd;(0,G.oa)(!!Q,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;na=this.dk(na.Af.xd);Ra=N.ql.rm;P={ZL:!0,rg:!1,TC:Date.now()};return this.Lh.fy({ma:na.ma,bb:P,J:na.P,Uq:Ra,ff:void 0,xO:void 0,Bf:{eh:aa,Zb:Q,xd:da,eW:na.Dd}},!1).then(function(Y){var sa,Ha;Y.pp.forEach(function(Wa){Ca.a2a.set(Wa.Fa.P,Wa);});if(null === (sa=Y.Fa.Bm) || void 0 === sa || !sa.ae.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (da + ", adBreakToken: " + aa));return null === (Ha=Y.Fa.Bm) || void 0 === Ha?void 0:Ha.ae[0];});};c.prototype.mIb=function(){if((0,L.yb)(this.Xc.ats) && (0,L.yb)(this.Xc.at))return this.Xc.at - this.Xc.ats;};c.prototype.b_a=function(){var aa,na;aa=this.BY();na=this.ZR();return Math.min(aa,na);};c.prototype.bO=function(){this.background.value || (this.Ec.info("Starting inactivity monitor for movie " + this.P),new v.eGa(this));};c.prototype.close=function(aa){aa && (this.state.value == R.Vb.CLOSED?aa():this.addEventListener(R.ha.closed,function(){aa();}));this.oxa();};c.prototype.pd=function(aa,na,Ca){aa=this.rh(aa,na,Ca);this.YE(aa,void 0);};c.prototype.YE=function(aa,na){var Ca,Ra,Q,da;Ca=this;!1;(0,F.RZ)(aa.errorCode,aa.Aa,this.Ea.Ib().qa(this.Mh).ca(D.pa),null === (Ra=this.Td) || void 0 === Ra?void 0:Ra.vv()) || this.ija.add(this.sa.de,null === (Q=this.ce) || void 0 === Q?void 0:Q.AL(),aa.errorCode,aa.Aa,aa.De);aa.Kbb(this.$k);if(this.state.value == R.Vb.ZI)this.kh || (this.kh=aa,this.load());else {na && (this.state.value == R.Vb.CLOSED?na():this.addEventListener(R.ha.closed,function(){na();}));Ra=function(){Ca.oxa(aa);};Q=u.config.UWa && aa && u.config.UWa[aa.errorCode];da=-1;(0,L.eM)(Q) && (da=(0,H.Ui)(Q));this.Ec.error("Fatal playback error",{Error:"" + aa,HandleDelay:"" + Q});0 <= da?setTimeout(Ra,da):Ra();}};c.prototype.EE=function(aa){var na;na=void 0 === na?this.I:na;aa=this.Ea.Ib().ca(D.pa) + "-" + na + "-" + aa;!1;this.d9a.push(aa);};c.prototype.aHb=function(){this.hZa();};c.prototype.coa=function(){var aa;if(null === (aa=this.cb) || void 0 === aa?0:aa.Bh)if((aa=this.cb.$n().id,void 0 !== aa))return aa;return null;};c.prototype.tB=function(){var aa,na;na=null === (aa=this.cb) || void 0 === aa?void 0:aa.Bh;return void 0 === this.aa.AS || na?this.UF(this.mediaTime.value):this.aa.AS;};c.prototype.boa=function(){var aa;aa=this.UF(this.Td.C_a());return null === aa?null:Math.min(this.Ox.ca(D.pa),Math.max(0,aa));};c.prototype.ET=function(){var aa,na;return null === (na=null === (aa=this.W) || void 0 === aa?void 0:aa.Fa.vp) || void 0 === na?void 0:na.O;};c.prototype.Kaa=function(aa){!1;this.bb=(0,O.c8)(this.bb,aa);this.mia();};c.prototype.Eoa=function(aa){return (null === aa || void 0 === aa?0:aa.J)?aa.J:(null === aa || void 0 === aa?0:aa.xfb) && this.ZE?this.ZE.J === La.rq?(aa=this.ZE.Gb) && this.cb && this.cb.uj?this.cb.uj.O[aa].J:this.P:this.ZE.J:this.P;};c.prototype.iIb=function(){var aa;aa=this.dk(this.Eoa(void 0)).qc;return aa.value?aa.value.streams:[];};c.prototype.wB=function(aa){return (aa=this.dk(this.Eoa(aa)).Fg) && aa.value?aa.value.streams:[];};c.prototype.w1a=function(aa){for(var na=la(this.XG),Ca=na.next();!Ca.done;Ca=na.next()){if(Ca=(Ca=Ca.value.mg) && Ca.find(function(Ra){return Ra.id === aa;}))return Ca;}!1;};c.prototype.LXb=function(aa){aa=void 0 === aa?this.aa:aa;!1;aa.Mb.value?this.tn.IXb(aa.Mb.value):Promise.resolve();};c.prototype.s1a=function(aa){for(var na=la(this.XG),Ca=na.next();!Ca.done;Ca=na.next()){Ca=la(Ca.value.ai);for(var Ra=Ca.next();!Ra.done;Ra=Ca.next()){if(Ra=Ra.value.streams.find(function(Q){return Q.Ub === aa;}))return Ra;}}!1;};c.prototype.H1a=function(aa){for(var na=la(this.XG),Ca=na.next();!Ca.done;Ca=na.next()){Ca=la(Ca.value.tw);for(var Ra=Ca.next();!Ra.done;Ra=Ca.next()){if(Ra=(Ra=Ra.value) && Ra.streams.find(function(Q){return Q.Ub === aa;}))return Ra;}}!1;};c.prototype.HMb=function(aa){for(var na=la(this.XG),Ca=na.next();!Ca.done;Ca=na.next()){if(Ca.value.Dd === aa)return !0;}return !1;};c.prototype.Qs=function(){var aa,na,Ca;return null !== (Ca=null === (na=null === (aa=this.q9) || void 0 === aa?void 0:aa.CS) || void 0 === na?void 0:na.call(aa)) && void 0 !== Ca?Ca:this.LAb().SYa;};c.prototype.Vbb=function(aa){var na,Ca;null !== (na=this.cb) && void 0 !== na && na.Bh && this.Vp.has(aa) && ((null === (Ca=this.q9) || void 0 === Ca?0:Ca.CS)?this.q9.Veb():(na=this.Cka(aa),this.cb.O$(na,aa)));};c.prototype.pPb=function(){return "trailer" === this.zd;};c.prototype.vOb=function(){return !!this.zd && 0 <= this.zd.indexOf("billboard");};c.prototype.wPb=function(){return !!this.zd && 0 <= this.zd.indexOf("video-merch");};c.prototype.WOb=function(){return !!this.zd && 0 <= this.zd.indexOf("mini-modal");};c.prototype.bM=function(){return this.pPb() || this.vOb() || this.wPb() || this.WOb();};c.prototype.x5=function(){var aa,na,Ca;na={xfb:!0};if((null === (aa=this.dk(this.Eoa(na)).W) || void 0 === aa || !aa.Fa.Kpa) && this.tw){this.wB(na).forEach(function(Ra){var Q,da;if((0,L.yb)(Ra.Dka) && (0,L.yb)(Ra.oWa) && (0,L.yb)(Ra.nWa) && (0,L.yb)(Ra.mWa) && (0 < Ra.Dka || 0 < Ra.oWa)){Q=1;da=1;(0,L.yb)(Ra.K8a) && (0,L.yb)(Ra.L8a) && (Q=Ra.K8a,da=Ra.L8a);Q=Ra.mWa * da / (Ra.nWa * Q);Ca=(0,L.yb)(Ca)?0 < Ra.Dka?Math.max(Ca,Q):Math.min(Ca,Q):Q;}});return Ca;}};c.prototype.aLb=function(){return {tr:this.hya,rt:this.Mva};};c.prototype.CL=function(aa){return this.ho[aa];};c.prototype.kja=function(){return this.im?this.Ea.Ib().ca(D.pa) - this.im:this.sa.de.ca(D.pa) - this.EF();};c.prototype.nS=function(){var aa;if(this.im)return this.Ea.Ib().ca(D.pa) - this.im;aa=this.Ea.wy;return this.rW - (this.Mh.ca(D.pa) + aa.ca(D.pa));};c.prototype.lja=function(){return this.im?this.Ea.Ib().ca(D.pa) - this.im:this.rW - this.EF();};c.prototype.sIb=function(){var aa,na;aa=this.loadTime;na={};(0,H.Tf)(this.Oia,function(Ca,Ra){na[Ca]=Ra.map(function(Q){return Q - aa;});});return g.ev?{level:g.ev.Z_a(),charging:g.ev.pna(),statuses:na}:null;};c.prototype.e6=function(){this.gZa();return this.Waa;};c.prototype.EF=function(){var aa;aa=this.bb.TC;aa=(0,L.yb)(aa)?aa:this.Mh.ca(D.pa) + this.Ea.wy.ca(D.pa);(0,G.oa)((0,L.OB)(aa));return aa;};c.prototype.L0a=function(){return this.Ea.Ib().ca(D.pa) - this.Mh.ca(D.pa);};c.prototype.I8b=function(){this.f3b=!0;};c.prototype.F8=function(){this.D$a();};c.prototype.BY=function(){var aa;aa=this.fK();return aa && aa.vbuflmsec || 0;};c.prototype.ZR=function(){var aa;aa=this.fK();return aa && aa.abuflmsec || 0;};c.prototype.p5b=function(){var aa;aa=this.fK();return aa && aa.tbuflmsec || 0;};c.prototype.$ya=function(){var aa;aa=this.fK();return aa && aa.vbuflbytes || 0;};c.prototype.yia=function(){var aa;aa=this.fK();return aa && aa.abuflbytes || 0;};c.prototype.o5b=function(){var aa;aa=this.fK();return aa && aa.tbuflbytes || 0;};c.prototype.oX=function(aa,na,Ca){var Ra,Q,da,P;Ra=this;aa=void 0 === aa?this.aa:aa;Ca=void 0 === Ca?!0:Ca;!1;Q=!!na;da=!Q && aa !== this.aa;P=u.config.K9.enabled?N.ql.inb:da?N.ql.cJ:this.bM()?N.ql.J0:N.ql.rm;Q=this.bM() || Q || da?void 0:this.Kb.Tk.J5(da);return this.Lh.fy({ma:aa.ma,bb:aa.bb,J:aa.P,Uq:P,ff:Q,xO:na,Bf:aa.Bf},aa.Bf?!1:Ca).then(function(Y){Y.Spa && Ra.fireEvent(R.ha.YU,{P:aa.P});return Y;});};c.prototype.G9=function(aa,na,Ca){var Ra,Q,da;na=void 0 === na?this.aa:na;Ca=void 0 === Ca?!1:Ca;!1;if(na.bb.rg && !aa.Fa.vp)this.pd(F.U.zhb);else {Ra=this.nV.create(this);Q=!!(na.Bf && na.Bf.Zb && na.Bf.jW);if(Ca){da=Ra.iNb(na.W,na.zc,aa);aa=da.W;da=da.zc;}else (aa=Q?Ra.P0b(aa,null === (da=na.Bf) || void 0 === da?void 0:da.jW):aa,da=Ra.s8a(aa));na.W=aa;na.zc=da;Ca || (na.Fg.set(da.e4),na.qc.set(da.JS),na.Mb.set(da.KS));na.gd.ba && na.gd.yYb();}};c.prototype.lHb=function(aa){var na;na=void 0 === na?!1:na;!1;this.zH({J:aa,iG:na});};c.prototype.x1a=function(aa,na){if(!this.zi.Xya)return !0;aa=this.Wp.ca(D.pa) - aa;return 0 > aa || aa > na;};c.prototype.q0b=function(){!1;this.Td.seek(this.tB() || 0,R.Ac.UZ);};c.prototype.Z1a=function(aa,na){var Ca,Ra;Ca=this;!1;Ra=this.aa;Ra.p4=!0;return this.oX(Ra,{eW:Ra.Dd,a0b:aa,d0b:na},!1).then(function(Q){var da;Ca.G9(Q,Ra,!0);Ca.Lh.JX(Ra.P,Ra.W);return null === (da=Ca.cb) || void 0 === da?void 0:da.CO(Ca.c9a);}).then(function(){var Q,da;Q=Ra.ai.find(function(P){return P.trackId === aa;});da=Ra.Wg.find(function(P){return P.trackId === na;});if(!(Q && Q.Wf && da && da.Wf))throw Error("Track hydration failed: requiredAudioTrackId=" + aa + " requiredTextTrackId=" + na);Ca.fireEvent(R.ha.reb);return {qc:Q,$X:da};});};c.prototype.Xn=function(){return this.Uc;};c.prototype.zH=function(aa){var na,Ca,Ra;na=aa.J;Ca=aa.iG;aa=aa.ZE;!1;aa !== this.ZE && (this.ZE=aa,this.pfb());if(this.iN){if(na === this.VA){this.iN=na;return;}aa=this.dk(na);Ra=aa.W;Ra && (0,L.Wc)(Ra.qH) && (0,L.Wc)(Ra.BN) && aa.my({pr_ats:Ra.qH,pr_at:Ra.BN});this.fireEvent(R.ha.pra,{P:this.VA});this.VA=na;this.mia();Ca || this.Cab();this.py=this.sa.DH;this.aa.im || (this.aa.im=this.Ea.Ib().ca(D.pa));}("boolean" === typeof this.bb.ZK?this.bb.ZK:u.config.ZK) && !Ca && this.qya.ZK(this);Ca={P:na,iG:Ca,iN:this.iN};this.iN=na;this.fireEvent(R.ha.zG,Ca);};c.prototype.CAb=function(){!1;try{this.Kb=new m.ZHa(this);this.J3=new ja.vCa(this);this.oM=this.pM.create(this,this.aa,!0,this.UF);u.config.Mwb && new ra.gEa(this,this.Ff,this.log);u.config.rS && this.rS(this);this.g8b();}catch(aa){this.Cr(F.U.ykb,{Aa:F.S.ol,Nb:(0,H.ue)(aa)});}};c.prototype.g8b=function(){!1;this.kh?this.YE(this.kh):(0,L.$pa)(this.P)?this.oxb():this.Cr(F.U.vkb,{Nb:"" + this.P});};c.prototype.oxb=function(){var aa;!1;aa=f.RH.pbb;aa?aa.ia?this.Tja():this.Cr(F.U.YFa,aa):((0,G.oa)(!u.config.H4),this.xha());};c.prototype.Tja=function(){var aa;aa=this;!this.background.value && u.config.Tja?(0,y.tea)(function(){aa.xha();},this):this.xha();};c.prototype.xha=function(){var aa;aa=this;!1;this.state.value == R.Vb.LOADING && (u.config.Pla && !this.bM()?f.RH.Gs(y.QKa,function(na){na.ia?(aa.F7=na.F7,aa.eTa()):aa.Cr(F.U.XFa);},!0):this.eTa());};c.prototype.eTa=function(){var aa,na,Ca;aa=this;if(this.state.value == R.Vb.LOADING){this.log.info("Authorizing",this);na=this.Ea.Ib().ca(D.pa);this.ie("ats");(0,G.IK)(this.P);(0,G.IK)(this.Pj);Ca=this.EYb.bind(this,na);Promise.all([this.W,u.config.Ar && this.Lh.i6(this.P)?this.Lh.t5(this.P).catch(function(){}):void 0]).then(function(Ra){var Q,da;Q=la(Ra);Ra=Q.next().value;Q=Q.next().value;Ra && Q?da=Q.Fa.expiration > Ra.Fa.expiration?Q:Ra:Ra?da=Ra:Q && (da=Q);da && 18E5 > da.Fa.expiration - (0,Xa.Sja)() && (da=void 0);return da?(aa.SE=da === Ra?"ui":"videopreparer",da):aa.oX();}).then(function(Ra){try{aa.G9(Ra);Ca(p.cg);aa.U8a || (aa.U8a=!0,aa.Jta.Oj(aa));}catch(Q){aa.log.error("Exception processing authorization response",Q);Ca({ia:!1,Aa:F.S.Tmb});}}).catch(Ca);}};c.prototype.EYb=function(aa,na){var Ca,Ra;Ca=this;!1;if(this.state.value == R.Vb.LOADING){this.ie("at");Ra=this.W;this.my({pr_ats:Ra && (0,L.Wc)(Ra.qH)?Ra.qH:aa,pr_at:Ra && (0,L.Wc)(Ra.BN)?Ra.BN:this.Ea.Ib().ca(D.pa)});na.ia?0 < this.zc.mg.length && this.zc.JS && this.zc.e4 && this.zc.KS?this.g9a?(this.log.info("Processing post-authorize",this),this.g9a(this,function(Q){Q.ia?Ca.Yeb():Ca.Cr(F.U.Ckb,Q);})):this.Yeb():this.Cr(F.U.vHa,this.qra(this.zc)):this.Cr(F.U.yD,na);}};c.prototype.Yeb=function(){var aa,na;l.__awaiter(this,void 0,void 0,function Ra(){var Q;Q=this;return Ja(Ra,function(da){!1;if(Q.state.value != R.Vb.LOADING)return da.return();(null === (aa=Q.aa.W) || void 0 === aa?0:aa.Fa.vp) && Q.rb.reset((0,La.r3)(null === (na=Q.aa.W) || void 0 === na?void 0:na.Fa.vp,{config:u.config}));Q.cb=Q.ria(Q.rb,Q);Q.cb.G2b({mp:d.mp,config:u.config,Zd:Q.Zd,Ec:Q.Ec,zt:Q.zt.bind(Q),Qi:C.Qi,sX:Q.sX.bind(Q),zH:Q.zH.bind(Q)});Q.zXb();da.Lv=0;});});};c.prototype.BBb=function(){var aa,na,Ca,Ra,Q,da,P;aa=this;!1;try{if(this.state.value === R.Vb.LOADING){this.Kb.open();na=new Promise(function(Y){aa.Kb.addEventListener(J.Qh.Acb,Y);});this.Td=new K.gIa(this);Ca=this.zc.JS.wh === ka.Oo.NONE;Ra={Wfb:this.zc.JS.co || Ca};Q={ma:this.ma,Sp:this.wf,dB:this.dB};try{if(this.state.value !== R.Vb.LOADING)return;da=this.cb;da.yU({flags:Ra,qWa:Q,I:this.c9a,Cka:this.Cka.bind(this)});P=this.rb.Q5(this);this.WVa(P);da.gu(P);this.Nsb();da.lvb({ho:this.ho,loadTime:this.loadTime});this.Uc=this.Cha(da,this);this.Uc.Bl.addListener(function(Y){Y.newValue?(aa.tn.QMb(),u.config.Ar && aa.bd.q1a()):aa.tn.h3b();});this.Uc.addEventListener(R.$Y.yA,function(){aa.bd.q1a();});}catch(Y){throw (this.log.error("Failed to initialize ASE streaming",{error:Y,startPts:this.fb,flags:Ra}),Y);}na.then(function(){var Y;aa.state.value !== R.Vb.CLOSING && aa.state.value !== R.Vb.CLOSED && (null === (Y=aa.cb) || void 0 === Y?void 0:Y.open());});this.mediaTime.set(this.fb);this.tn=new h.VNa(this);if("boolean" === typeof this.bb.X9?this.bb.X9:u.config.X9)this.dY=new A.WNa(this);this.bO();y.vea.forEach(function(Y){Y(aa);});this.aUb();}}catch(Y){this.Cr(F.U.Akb,{Aa:F.S.ol,Nb:(0,H.ue)(Y)});}};c.prototype.bUb=function(){(0,G.oa)(this.state.value == R.Vb.ZI);this.loadTime=this.Ea.Ib().ca(D.pa);this.state.set(R.Vb.LOADING);};c.prototype.Cr=function(aa,na){this.done || (this.done=!0,na instanceof U.Mc?this.pd(na.code,na):this.pd(aa,na));};c.prototype.rS=function(aa){var Ca,Ra;function na(){var Q,da;Q=g.ev.pna() + "";da=aa.Oia[Q];da || (da=aa.Oia[Q]=[]);da.push(Ca.Ea.Ib().ca(D.pa));Ca.log.trace("charging change event",{level:g.ev.Z_a(),charging:g.ev.pna()});}Ca=this;Ra=g.ev.bib;g.ev.addEventListener(Ra,na);aa.addEventListener(R.ha.ng,function(){g.ev.removeEventListener(Ra,na);});};c.prototype.oxa=function(aa){var na,Ca;na=this;if(this.state.value == R.Vb.ZI || this.state.value == R.Vb.LOADING || this.state.value == R.Vb.$d){this.Ec.info("Playback closing",this,aa?{ErrorCode:aa.r4}:void 0);this.EE("Closing");w.fe.removeListener(w.Rk,this.TV);this.kh=aa;this.aa.AS=this.tB();this.gZa();(null === (Ca=this.cb) || void 0 === Ca?0:Ca.Bh) && this.cb.flush();try{this.Hb.Dc(R.ha.ng,{movieId:this.VA});}catch(Ra){this.Ec.error("Unable to fire playback closing event",Ra);}this.state.set(R.Vb.CLOSING);this.Ogb();this.f3b || (0,M.Df)(function(){return na.D$a();});}};c.prototype.PGb=function(){this.Hb.Dc(R.ha.Teb);};c.prototype.hZa=function(){var aa;aa=this.mediaTime.value;this.XPb != aa && (!1,this.XPb=aa,this.Hb.Dc(R.ha.Uxa));};c.prototype.D$a=function(){var aa,na;aa=this;(0,G.oa)(this.state.value == R.Vb.CLOSING);na=this.F7;this.F7=void 0;na?f.RH.release(na,function(Ca){(0,G.oa)(Ca.ia);aa.$ja();}):this.$ja();};c.prototype.Ogb=function(){var aa;null === (aa=this.cb) || void 0 === aa?void 0:aa.We();delete this.cb;};c.prototype.$ja=function(){var aa;this.$ja=p.Tw;(0,G.oa)(this.state.value == R.Vb.CLOSING);aa=y.Bn.indexOf(this);(0,G.oa)(0 <= aa);y.Bn.splice(aa,1);this.state.set(R.Vb.CLOSED);this.Hb.Dc(R.ha.closed,void 0,!0);this.Hb.Ag();delete this.ce;this.aa.F8();};c.prototype.mia=function(){this.bb.playbackState && ("number" === typeof this.bb.playbackState.volume && this.volume.set((0,E.Vw)(this.bb.playbackState.volume,0,1)),"boolean" === typeof this.bb.playbackState.muted && this.muted.set(this.bb.playbackState.muted),"number" === typeof this.bb.playbackState.playbackRate && this.playbackRate.set(this.bb.playbackState.playbackRate));};c.prototype.gZa=function(){this.Hb.Dc(R.ha.jcb,{Waa:this.Waa});};c.prototype.sX=function(aa,na,Ca){na=this.w1a(na);aa=this.Ri(aa);na && aa.Cc[Ca].set(na);};c.prototype.zt=function(){return {AudioBufferLength:this.ZR(),VideoBufferLength:this.BY()};};c.prototype.fK=function(){var aa;if(null === (aa=this.cb) || void 0 === aa?0:aa.Bh)return this.cb.T2a();};c.prototype.aUb=function(){this.state.value == R.Vb.LOADING && this.state.set(R.Vb.$d);};c.prototype.LAb=function(){var aa,na,Ca;aa=void 0 === aa?this.P:aa;na=this.wB({J:aa});Ca=this.dk(aa);return (0,ua.Qs)(na,function(Ra){return Ca.zM.iz(Ra);});};c.prototype.Cka=function(aa){var na,Ca;aa=void 0 === aa?this.P:aa;na=this.wB({J:aa});Ca=this.dk(aa);return (0,ua.i1a)(na,function(Ra){return Ca.zM.iz(Ra);});};c.prototype.WVa=function(aa){var na;na=this;Object.keys(aa.O).filter(function(Ca){return !na.Vp.has(aa.O[Ca].J);}).forEach(function(Ca){var Ra,Q,da;Q=aa.O[Ca];da=Q.J;Q=Object.assign(null !== (Ra=na.Rj.LL(da).ub) && void 0 !== Ra?Ra:{},{fb:Q.ta,cf:Q.va,rg:!1,TC:Date.now(),ZL:!0});na.Oha({J:da,I:Ca,bb:Q});});};Ya.Object.defineProperties(c.prototype,{XG:{configurable:!0,enumerable:!0,get:function(){return this.Vp.values();}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Vp.get(this.VA);}},lra:{configurable:!0,enumerable:!0,get:function(){return this.dk(this.nRb);}},fb:{configurable:!0,enumerable:!0,get:function(){var aa,na;return void 0 !== this.Dl?this.Dl:null !== (na=null === (aa=this.XG.next()) || void 0 === aa?void 0:aa.value.bb.fb) && void 0 !== na?na:0;}},zc:{configurable:!0,enumerable:!0,get:function(){return this.aa.zc;},set:function(aa){this.aa.zc=aa;}},i5:{configurable:!0,enumerable:!0,get:function(){return this.aa.bb.i5;}},j5:{configurable:!0,enumerable:!0,get:function(){return this.aa.bb.j5;}},index:{configurable:!0,enumerable:!0,get:function(){return this.aa.index;}},I:{configurable:!0,enumerable:!0,get:function(){return this.aa.I;}},c9a:{configurable:!0,enumerable:!0,get:function(){return this.rb.Yya?this.rb.hh:this.aa.I;}},ce:{configurable:!0,enumerable:!0,get:function(){return this.aa.ce;},set:function(aa){this.aa.ce=aa;}},im:{configurable:!0,enumerable:!0,get:function(){return this.aa.im;},set:function(aa){this.aa.im=aa;}},SE:{configurable:!0,enumerable:!0,get:function(){return this.aa.SE;},set:function(aa){this.aa.SE=aa;}},RE:{configurable:!0,enumerable:!0,get:function(){return this.aa.RE;},set:function(aa){this.aa.RE=aa;}},I6:{configurable:!0,enumerable:!0,get:function(){return this.aa.I6;},set:function(aa){this.aa.I6=aa;}},W:{configurable:!0,enumerable:!0,get:function(){return this.aa.W;},set:function(aa){this.aa.W=aa;}},Dl:{configurable:!0,enumerable:!0,get:function(){return this.aa.Dl;},set:function(aa){this.aa.Dl=aa;}},VX:{configurable:!0,enumerable:!0,get:function(){return this.aa.VX;},set:function(aa){this.aa.VX=aa;}},bb:{configurable:!0,enumerable:!0,get:function(){return this.aa.bb;},set:function(aa){this.aa.bb=aa;}},oM:{configurable:!0,enumerable:!0,get:function(){return this.aa.oM;},set:function(aa){this.aa.oM=aa;}},Zk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Zk;}},P:{configurable:!0,enumerable:!0,get:function(){return this.aa.P;}},zd:{configurable:!0,enumerable:!0,get:function(){return this.aa.zd;}},ai:{configurable:!0,enumerable:!0,get:function(){return this.aa.ai;}},tw:{configurable:!0,enumerable:!0,get:function(){return this.aa.tw;}},oz:{configurable:!0,enumerable:!0,get:function(){return this.aa.oz;}},Wg:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wg;}},Dd:{configurable:!0,enumerable:!0,get:function(){return this.aa.Dd;}},mG:{configurable:!0,enumerable:!0,get:function(){return this.aa.mG;}},Ot:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ot;}},Pk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Pk;}},mg:{configurable:!0,enumerable:!0,get:function(){return this.aa.mg;}},Ox:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ox;},set:function(aa){this.aa.Ox=aa;}},ma:{configurable:!0,enumerable:!0,get:function(){return this.aa.ma;}},Pj:{configurable:!0,enumerable:!0,get:function(){return this.aa.Pj;}},Mh:{configurable:!0,enumerable:!0,get:function(){return this.aa.Mh;}},py:{configurable:!0,enumerable:!0,get:function(){return this.aa.py;},set:function(aa){this.aa.py=aa;}},wf:{configurable:!0,enumerable:!0,get:function(){return this.aa.wf;}},FH:{configurable:!0,enumerable:!0,get:function(){return this.aa.FH;}},ES:{configurable:!0,enumerable:!0,get:function(){return this.aa.ES;}},Xc:{configurable:!0,enumerable:!0,get:function(){return this.aa.Xc;}},rp:{configurable:!0,enumerable:!0,get:function(){return this.aa.rp;}},wla:{configurable:!0,enumerable:!0,get:function(){return this.aa.wla;}},zM:{configurable:!0,enumerable:!0,get:function(){return this.aa.zM;}},dB:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.t4 && 0 === this.aa.ma % u.config.t4;}},p4:{configurable:!0,enumerable:!0,get:function(){return this.aa.p4;}},gd:{configurable:!0,enumerable:!0,get:function(){return this.aa.gd;}},Jka:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},tg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.P,TrackingId:this.Pj,Xid:this.ma};}},u9:{configurable:!0,enumerable:!0,get:function(){return this.rb.u9;}}});b.VKa=c;},52200:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,C,D){var F;F=this;this.j=x;this.Ok=z;this.uY=A;this.xh=B;this.zX=C;this.Mm=D;this.yWa={};this.update=function(){var G;if(F.Bo.selectionStart == F.Bo.selectionEnd){G="";F.MT().forEach(function(E){G=G?G + "\n":"";Object.entries(E).forEach(function(H){var M;M=la(H);H=M.next().value;M=M.next().value;G+=H + ": " + M + "\n";});});F.Bo.style.fontSize=(0,k.Vw)((0,g.WI)(F.element.clientHeight / 60),8,18) + "px";F.Bo.value=G;}};this.bVb=function(){var G,E;if(F.j.Td){E=F.j.Td.JF();E && (F.Fka=E - (null !== (G=F.jeb) && void 0 !== G?G:0),F.jeb=E,F.OM());}};this.OM=function(){F.uY.Lj(F.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == n.Nz.vib || G.keyCode == n.Nz.Q) && F.toggle();};this.R8a=[x.mediaTime,x.Cc[q.u.fa],x.Cc[q.u.X],x.hf,x.Wd,x.Kg,x.Ke,x.Yh,x.state,x.Gq,x.sb,x.volume,x.muted];this.element=this.xh.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Bo=this.xh.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Bo);this.controls=this.xh.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.xh.createElement("button",void 0,"X");z.addEventListener("click",function(){return F.yv();},!1);this.controls.appendChild(z);f.fe.addListener(f.xB,this.onkeydown);x.addEventListener(h.ha.ng,function(){f.fe.removeListener(f.xB,F.onkeydown);F.yv();});}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;l=a(13044);f=a(37509);k=a(8825);d=a(77705);g=a(22365);m=a(32687);h=a(85001);n=a(43193);p=a(5021);q=a(60328);u=a(93161);r={};t=(r[h.Vb.ZI]="Not Loaded",r[h.Vb.LOADING]="Loading",r[h.Vb.$d]="Normal",r[h.Vb.CLOSING]="Closing",r[h.Vb.CLOSED]="Closed",r);r={};v=(r[h.nf.$d]="Normal",r[h.nf.Me]="Pre-buffering",r[h.nf.CMa]="Network stalled",r);r={};w=(r[h.gb.zf]="Waiting for decoder",r[h.gb.ke]="Playing",r[h.gb.Rh]="Paused",r[h.gb.nq]="Media ended",r);y=[h.ha.T7];c.prototype.V1b=function(x){this.yWa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.BU=ob.setInterval(this.bVb,1E3),document.body.appendChild(this.element),this.R8a.forEach(function(z){z.addListener(x.OM);}),y.forEach(function(z){x.j.addEventListener(z,x.OM);}),this.visible=!0,this.Mm.PX().then(function(z){x.Soa=z;x.OM();}));this.update();};c.prototype.yv=function(){var x;x=this;this.visible && (clearInterval(this.BU),this.jeb=this.Fka=void 0,document.body.removeChild(this.element),this.R8a.forEach(function(z){z.removeListener(x.OM);}),y.forEach(function(z){x.j.removeEventListener(z,x.OM);}),this.uY.Lj(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.yv():this.show();};c.prototype.MT=function(){var x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa,na,Ca,Ra,Q,da,P,Y,sa,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb,Ab,Lb,Sb,Xb,Ib,Nb;x=this;U=[];ja=this.Ok();U.push({Version:"6.0042.952.911",Esn:ja?ja.bk:"UNKNOWN",PBCID:this.j.wf,UserAgent:g.DD});try{ra=this.j.mediaTime.value;ka={MovieId:this.j.P,PackageId:null === (A=null === (z=this.j.W) || void 0 === z?void 0:z.Fa) || void 0 === A?void 0:A.nn,Xid:this.j.ma + " (" + l.Bn.map(function(Pb){return Pb.ma;}).join(", ") + ")",Position:(0,k.ah)(ra),Duration:(0,k.ah)(this.j.Ox.ca(p.pa)),PlayerDuration:(0,k.ah)(this.j.Wp.ca(p.pa)),Volume:(0,g.yn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.coa()};if(this.j.bb.rg || this.j.bb.ZL)ka["Segment Position"]=(0,k.ah)(this.j.tB());if(this.j.gd.ba){ka["Is Live"]="true";ka["Live Event Slate"]=this.j.gd.sB();ka["Is At Live Edge"]="" + this.j.gd.LB();ka["Adjusted Live Edge Target"]=(0,k.ah)(this.j.gd.Wq());ka["Live Adjusted Duration"]=(0,k.ah)(this.j.gd.b0a());ka["Live Adjusted Playback Position"]=(0,k.ah)(this.j.gd.b6());ka["Live Event Time Playback Position"]=this.j.gd.iJb();ua=[q.u.X,q.u.fa,q.u.Ha].reduce(function(Pb,cc){var nc,Ac,Pc;Pc=null === (Ac=null === (nc=x.j.cb) || void 0 === nc?void 0:nc.Ev) || void 0 === Ac?void 0:Ac[cc];Pb[(0,u.EG)(cc)]=Pc?{encoderRegion:Pc.fB,encoderTag:Pc.gB}:void 0;return Pb;},{});ka["Live Logging Info"]=JSON.stringify(ua);}U.push(ka);}catch(Pb){}try{U.push({"Player state":t[this.j.state.value],"Buffering state":v[this.j.Gq.value],"Rendering state":w[this.j.sb.value]});}catch(Pb){}try{Aa=this.j.$ya() + this.j.yia();La=this.j.hf.value;Xa=null === La || void 0 === La?void 0:La.stream;ab=this.j.Wd.value;aa=null === ab || void 0 === ab?void 0:ab.stream;na=null !== (B=null === Xa || void 0 === Xa?void 0:Xa.bitrate) && void 0 !== B?B:"?";Ca=aa?aa.bitrate + " (" + aa.width + "x" + aa.height + ")":"?";Ra=null !== (C=null === Xa || void 0 === Xa?void 0:Xa.Ub) && void 0 !== C?C:"?";Q=null !== (D=null === aa || void 0 === aa?void 0:aa.Ub) && void 0 !== D?D:"?";da=null !== (F=null === aa || void 0 === aa?void 0:aa.Cb) && void 0 !== F?F:"?";P=null !== (E=null === (G=this.j.Ke.value) || void 0 === G?void 0:G.Cb) && void 0 !== E?E:"?";Y=null !== (M=null === (H=this.j.Kg.value) || void 0 === H?void 0:H.bitrate) && void 0 !== M?M:"?";sa=null !== (K=null === (L=this.j.Ke.value) || void 0 === L?void 0:L.bitrate) && void 0 !== K?K:"?";Ha=this.j.Cc[q.u.X].value;Wa=this.j.Cc[q.u.fa].value;U.push({"Playing bitrate (a/v)":na + " / " + Ca,"Playing/Buffering vmaf":da + "/" + P,"Buffering bitrate (a/v)":Y + " / " + sa,"Buffer size in Bytes (a/v)":this.j.yia() + " / " + this.j.$ya(),"Buffer size in Bytes":"" + Aa,"Buffer size in Seconds (a/v)":(0,k.ah)(this.j.ZR()) + " / " + (0,k.ah)(this.j.BY()),"Downloadables (a/v)":Ra + " / " + Q,"Current CDN (a/v)":(Wa?Wa.name + ", Id: " + Wa.id:"?") + " / " + (Ha?Ha.name + ", Id: " + Ha.id:"?")});}catch(Pb){}try{$a=this.j.hf.value;z={};if($a && $a.stream){fb=$a.stream;sb=fb.track;Jb=this.zX.L3(sb.streams);Ua=fb.Hd;bb=(/xheaac/).test(Ua)?"xhe-aac":(/heaac/).test(Ua)?"he-aac":(/ddplus/).test(Ua)?"ddplus":"unknown";(/atmos/).test(Ua) && (bb+=", atmos");z["Audio Track"]=sb.re + ", Id: " + sb.trackId + ", Channels: " + sb.channels + ", Codec: " + Jb + " (" + bb + ")";z["Audio Tags"]=null === (O=$a.stream) || void 0 === O?void 0:O.Di.toString();}kb=this.j.Wd.value;if(kb && kb.stream){rb=kb.stream;qb=this.zX.R3(this.j.Fg.value?this.j.Fg.value.streams:[]);yb=rb.Hd;Ab=(/hevc/).test(yb)?"hevc":(/vp9/).test(yb)?"vp9":(/h264hpl/).test(yb)?"avchigh":(/av1/).test(yb)?"av1":"avc";(/hdr/).test(yb) && (Ab+=", hdr");(/dv/).test(yb) && (Ab+=", dv");(/prk/).test(yb) && (Ab+=", prk");z["Video Track"]="Codec: " + qb + " (" + Ab + ")";z["Video Tags"]=null === (J=kb.stream) || void 0 === J?void 0:J.Di.toString();}Lb=this.j.Yh.value;z["Timed Text Track"]=Lb?Lb.re + ", Profile: " + Lb.profile + ", Id: " + Lb.trackId + ", DownloadableId: " + Lb.Ub:"none";U.push(z);}catch(Pb){}try{Sb=this.j.Td;Xb=this.j.Ke.value?this.j.Ke.value.framerate:0;Ib=a(99732).i5a;U.push({Framerate:Xb.toFixed(3),"Current Dropped Frames":(0,m.yb)(this.Fka)?this.Fka:"","Total Frames":Sb.vv(),"Total Dropped Frames":Sb.JF(),"Total Corrupted Frames":Sb.IT(),"Main Thread stall/sec":Ib?Ib.I5().join(" "):"DISABLED",KeySystem:null === (I=this.j.ce) || void 0 === I?void 0:I.AL(),KeyStatus:null === (R=null === (N=this.j.ce) || void 0 === N?void 0:N.W_a) || void 0 === R?void 0:R.call(N),VideoDiag:(0,d.mra)(this.j.e6()),"HDR support":this.Soa?this.Soa.result + " (" + this.Soa.reason + ")":"unknown"});}catch(Pb){}try{U.push({Throughput:this.j.mb + " kbps"});}catch(Pb){}Nb=void 0;try{Object.entries(this.yWa).forEach(function(Pb){var cc;cc=la(Pb);Pb=cc.next().value;cc=cc.next().value;Nb=Nb || ({});Nb[Pb]=JSON.stringify(cc);});Nb && U.push(Nb);}catch(Pb){}return U;};b.XKa=c;},25138:function(r,b,a){var f,k,d,g;function c(m,h,n,p){this.ma=m;this.Y_b=h;this.la=n;this.Sf=p;this.Xc={};}function l(m,h){this.yf=m;this.Sf=h;this.Ud={};this.la=m.$a("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$mb=b.ZKa=void 0;r=a(5163);f=a(22674);k=a(87386);d=a(81918);g=a(5021);l.prototype.e_b=function(m,h){this.Ud[m] && this.la.warn("registerPlayback: xid " + m + " already registered, overriding");h=(h?h:this.Sf.Ib()).ca(g.pa);this.la.trace("registerPlayback: xid " + m + " at " + h);this.Ud[m]=new c(m,h,this.la,this.Sf);return this.Ud[m];};l.prototype.EKb=function(m){this.Ud[m] || this.la.warn("getPlaybackMilestones: xid " + m + " is not registered");return this.Ud[m];};l.prototype.z_b=function(m){this.la.trace("removePlayback: xid " + m);delete this.Ud[m];};a=l;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ab)),r.__param(1,(0,f.l)(d.Lc))],a);b.ZKa=a;c.prototype.kp=function(m,h){h=h?h.ca(g.pa):this.Sf.Ib().ca(g.pa) - this.Y_b;this.la.trace("addMilestone: xid " + this.ma + " " + m + " at " + h);this.Xc[m]=h;};b.$mb=c;},81889:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yea=void 0;a.prototype.rra=function(c){c=void 0 === c?{}:c;return {Pj:c.trackingId,W2:c.authParams,cm:c.sessionParams,zd:c.uiLabel,Paa:c.uxLabels,mla:c.disableTrackStickiness,TC:c.uiPlayStartTime,i5:c.forceAudioTrackId,j5:c.forceTimedTextTrackId,rg:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,ZK:c.enableTrickPlay,Uoa:c.heartbeatCooldown,ZL:c.isPlaygraph,E7:c.loadImmediately || !1,G8a:c.pin,vW:c.preciseSeeking,fb:c.startPts,cf:c.endPts,Si:c.logicalEnd,X9:c.renderTimedText,DYa:c.extraManifestParams,wia:c.assetId,zub:c.audioLanguages,r5b:c.textLanguages,Ufb:c.videoLanguage,nn:c.packageId,$Wa:c.desiredDownloadables,Bva:c.requestReference,atb:c.additionalAudioAssets,dtb:c.additionalTextAssets};};b.yea=a;},65361:function(r,b,a){var l,f;function c(k,d){k=l.Eb.call(this,k) || this;k.Cra=d;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ka=void 0;l=a(81734);f=a(8825);fa(c,l.Eb);c.prototype.set=function(k){l.Eb.prototype.set.call(this,(0,f.Vw)(k,0,this.Cra));};b.$Ka=c;},37025:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p,q,u,t,v,w,y,x,z){this.index=d;this.P=g;this.I=m;this.bb=h;this.ma=n;this.Mh=p;this.a5a=q;this.Dyb=t;this.n6a=w;this.Bf=x;this.qc=new l.Eb(null);this.Fg=new l.Eb(null);this.Mb=new l.Eb(null);this.Yh=new l.Eb(null);this.$t=new l.Eb(void 0);this.Ke=new l.Eb(null);this.Kg=new l.Eb(null);this.hf=new l.Eb(null);this.Wd=new l.Eb(null);this.Cc=[new l.Eb(null),new l.Eb(null)];this.mediaTime=new l.Eb(void 0);this.playbackRate=new l.Eb(1);this.rp=new l.Eb(null);this.background=new l.Eb(!1);this.SE=this.RE="notcached";this.p4=!1;u && (this.Ke.set(u.Ke.value),this.Kg.set(u.Kg.value));this.Zk=v(this);this.Yl=this.n6a.e_b(this.ma,this.Mh);this.gd=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.aLa=void 0;l=a(81734);f=a(5021);k=a(45146);c.prototype.ie=function(d){this.Yl.kp(d);};c.prototype.my=function(d){var g;g=this;Object.entries(d).forEach(function(m){var h;h=la(m);m=h.next().value;h=h.next().value;g.Yl.kp(m,(0,f.Ob)(h - g.Mh.ca(f.pa)));});};c.prototype.F8=function(){this.n6a.z_b(this.ma);};Ya.Object.defineProperties(c.prototype,{zd:{configurable:!0,enumerable:!0,get:function(){return this.bb.zd;}},Paa:{configurable:!0,enumerable:!0,get:function(){return this.bb.Paa;}},Pk:{configurable:!0,enumerable:!0,get:function(){return this.zc && this.zc.Pk;}},ai:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.ai) && void 0 !== d?d:[];}},tw:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.tw) && void 0 !== d?d:[];}},oz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.oz) && void 0 !== d?d:[];}},Wg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.Wg) && void 0 !== d?d:[];}},Dd:{configurable:!0,enumerable:!0,get:function(){return this.zc && this.zc.Dd;}},mG:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.mG) && void 0 !== d?d:!1;}},Ot:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.Ot) && void 0 !== d?d:[];}},mg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.mg) && void 0 !== d?d:[];}},Ox:{configurable:!0,enumerable:!0,get:function(){var d,g,m,h,n;return this.gd.ba?((0,k.oa)(void 0 === this.BJ || Infinity === this.BJ.ca(f.pa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.gd.ba + ", contentDuration:" + (null === (d=this.BJ) || void 0 === d?void 0:d.display)),(0,f.Ob)(Math.max(null !== (g=this.gd.Wq()) && void 0 !== g?g:0,null !== (m=this.mediaTime.value) && void 0 !== m?m:0))):this.BJ && 0 < this.BJ.ca(f.pa)?this.BJ:(0,f.Ob)(null !== (n=null === (h=this.W) || void 0 === h?void 0:h.Fa.duration) && void 0 !== n?n:0);},set:function(d){this.BJ=d;}},V5a:{configurable:!0,enumerable:!0,get:function(){var d;return this.gd.ba?((0,k.oa)(void 0 === this.J1 || Infinity === this.J1.ca(f.pa),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.gd.ba + ", maxSeekPts:" + (null === (d=this.J1) || void 0 === d?void 0:d.display)),(0,f.Ob)(this.gd.ZJb())):this.J1;},set:function(d){this.J1=d;}},Pj:{configurable:!0,enumerable:!0,get:function(){return this.bb.Pj || 0;}},ES:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.AS?this.AS:void 0 === this.mediaTime.value?null:this.Dyb(this.mediaTime.value,this.I);}},wf:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Fa.NA) || void 0 === g?void 0:g.Sp;}},FH:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Fa.NA) || void 0 === g?void 0:g.FH;}},Xc:{configurable:!0,enumerable:!0,get:function(){return this.Yl.Xc;}}});b.aLa=c;},69334:function(r,b,a){var l,f,k;function c(d,g,m){this.Sg=d;this.zb=m;this.O=[];this.log=g.$a("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;l=a(5163);r=a(22674);f=a(42207);k=a(87386);a(5021);c.prototype.some=function(d){return this.O.some(d);};c.prototype.r6=function(){return !!(this.O[0] && this.O[0].stream && this.zb.qg(this.O[0].stream.Cb));};c.prototype.Fp=function(d){return this.O.filter(d).reduce(function(g,m){return g + (m.endTime - m.startTime) / m.rate;},0);};c.prototype.cU=function(d){return this.O.filter(d).reduce(function(g,m){return g + m.endTime - m.startTime;},0);};c.prototype.fna=function(d,g){var m,h;m=this;h={};return this.O.filter(function(n){return !g || n.track.pC === g;}).reduce(function(n,p){var q,u,t;q=d.bind(m,p)();u=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=h[u];t?t.duration+=p:(t=q,t.duration=p,n.push(t),h[u]=t);return n;},[]);};c.prototype.Ce=function(d,g,m){var h;m=void 0 === m?this.Sg.playbackRate.value:m;h=this.O;d && g && g >= d.startTime && (d={Cc:d.Cc,track:d.track,stream:d.stream,startTime:d.startTime,LB:d.LB,Rpa:d.Rpa,endTime:g,rate:m},(g=h[h.length - 1]) && g.track === d.track && g.stream === d.stream && g.Cc === d.Cc && g.endTime === d.startTime && g.rate === d.rate?g.endTime=d.endTime:h.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(k.ab)),l.__param(2,(0,r.l)(f.Qf))],a);b.eLa=a;},82557:function(r,b,a){var l,f,k,d;function c(g){this.Ea=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.nMa=void 0;r=a(5163);l=a(85001);f=a(22674);k=a(81918);d=a(5021);c.prototype.Ej=function(g){g.$b !== l.Ac.$r && (this.trace.unshift({time:this.Ea.Ib(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.Y0a=function(){var g,m;g=this;if(0 === this.trace.length)return {};m=this.trace[0];return {timeSinceLastRepositionMs:this.Ydb(m.time),lastRepositionCause:this.i_a(m.event.$b),repositionTrace:this.trace.map(function(h){return {timeSince:g.Ydb(h.time),cause:g.i_a(h.event.$b),newMediaTime:h.event.x8,oldMediaTime:h.event.Jsa,contentPts:h.event.Ps,skip:h.event.skip};})};};c.prototype.Ydb=function(g){return this.Ea.Ib().qa(g).ca(d.pa);};c.prototype.i_a=function(g){switch(g){case l.Ac.$r:return "initial";case l.Ac.Zw:return "seek";case l.Ac.GP:return "live_edge";case l.Ac.kJ:return "segment_changed";case l.Ac.qQ:return "track_changed";case l.Ac.UZ:return "force_rebuffer";case l.Ac.rP:return "fragments_missing";}};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Lc))],a);b.nMa=a;},13889:function(r,b,a){var l,f,k,d;function c(g,m,h){this.config=g;this.j=m;this.yf=h;this.Py=void 0;this.k9=!1;this.n4a=0;this.log=this.yf.$a();}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;l=a(85001);f=a(5021);k=a(8825);d=a(32687);c.prototype.iKb=function(g,m,h,n,p){var q,u,t,v;h=void 0 === h?this.j.I:h;n=void 0 === n?!1:n;q=m === l.Ac.kJ;u=this.xwb(q?g:this.Bxb(g,h),m,n,h);n=this.j.cb;q?(g=u,u=n.pka(u)):g=n.rka(h,u);m === l.Ac.$r && (this.j.ATa=u);p=this.bi(g,m,p);t=(q=q || p)?g:u;if(this.j.Wp){v=this.j.bb.rg?this.config().pta:this.config().kC;this.j.x1a(t,v) || m !== l.Ac.Zw && m !== l.Ac.GP || (t=this.j.Wp.ca(f.pa) - v - 1E3,q?(g=t,u=n.pka(t)):(g=n.rka(h,t),u=t));}return {x8:t,Ps:u,hXb:g,bi:p};};c.prototype.xwb=function(g,m,h,n){this.dPb() || h?g=Math.round(g):(h=this.j.cb.zwb(g,n),g=(0,d.yb)(h)?h:Math.round(g));this.j.bb.rg && (g=this.kHb(g));this.config().Xab && 0 !== g && m !== l.Ac.$r && (g+=this.config().Xab);return g;};c.prototype.bi=function(g,m,h){if(this.config().mDb || m === l.Ac.$r || m === l.Ac.qQ || m === l.Ac.UZ || !h || g < h.start.ca(f.pa) || g >= h.end.ca(f.pa))return !1;m=this.j.cb;return (null === m || void 0 === m?void 0:m.Bh) && m.bi(g) || !1;};c.prototype.dPb=function(){return this.j.bb.rg?!0:"boolean" === typeof this.j.bb.vW?this.j.bb.vW:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().vW && this.config().EXb:this.config().vW;};c.prototype.Bxb=function(g,m){var h;h=this.j.Ri(m);m=h.Ox;h=h.V5a;!1;m=h || m;h=this.j.gd.ba && !this.j.gd.W6()?0:this.config().a9b;m=Math.max(0,m.ca(f.pa) - h);return (0,k.Vw)(g,0,m);};c.prototype.kHb=function(g){var m,h,n;m=this.j.ET();if(Object.values(m).find(function(p){var q;q=p.va;q=g < (null !== q && void 0 !== q?q:Infinity);return p.ta <= g && q;}))return (!1,g);n=g;Object.entries(m).forEach(function(p){var q;p=la(p);p.next();p=p.next().value.ta;q=p - g;0 < q && (void 0 === h || q < h) && (h=q,n=p);});!1;return n;};Ya.Object.defineProperties(c.prototype,{Y6:{configurable:!0,enumerable:!0,get:function(){return this.k9 || !!this.Py;}}});b.OMa=c;},74834:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;r=a(5163);a=a(22674);c.prototype.HYb=function(f,k){k.oM.hb.swa({xid:k.ma,auxPlaybackcontextid:k.Dd,auxMid:f.auxMid,auxMidType:f.auxMidType,reason:f.reason,adBreakLocationMs:f.adBreakLocationMs},"error" === f.sev);};l=c;l=r.__decorate([(0,a.T)()],l);b.SMa=l;},37517:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t,v,w,y,x,z){var A;A=this;this.p6b=n;this.j=p;this.id=q;this.height=u;this.width=t;this.OWb=v;this.PWb=w;this.size=y;this.ot=x;this.urls=z;this.type=l.Uj.rya;this.retry=!0;this.state=g.Po.i0;this.tg={};this.P2={};this.FYb=function(B){if(B.ia)try{A.data=A.p6b.parse(B.content);A.state=g.Po.uD;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.tg);A.j.fireEvent(m.ha.mY);}catch(C){A.state=g.Po.kJa;A.log.error("TrickPlay parse failed.",C);}else (A.state=g.Po.i0,A.log.error("TrickPlay download failed.",(0,h.Kw)(B),A.tg));};this.log=(0,k.Fh)(p,"TrickPlay");}b.z=void 0;l=a(51344);f=a(29204);k=a(31276);d=a(61726);g=a(94025);m=a(85001);h=a(36129);c.prototype.qJb=function(n){if(this.data && (this.ot && (n+=this.ot),n=Math.floor(n / this.data.header.aeb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.aeb,height:this.height,width:this.width,pixelAspectHeight:this.OWb,pixelAspectWidth:this.PWb};};c.prototype.HL=function(){switch(this.state){case g.Po.uD:return "downloaded";case g.Po.LOADING:return "loading";case g.Po.HP:return "downloadfailed";case g.Po.kJa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.OLb();n?(this.state=g.Po.LOADING,this.CDb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.OLb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(u){return (n.P2[n.urls[u]] || 0) <= f.config.l6b;});if(p){q=this.urls[p];(q in this.P2)?this.P2[q]++:this.P2[q]=1;return {url:q,Hm:p};}};c.prototype.CDb=function(n){var p,q;this.log.trace("Downloading",n.url,this.tg);q=this.u5(n.Hm);n={responseType:d.oU,Cc:q,url:n.url,track:this,Gr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",ZA:"trickplay"};this.j.u6.download(n,this.FYb);};c.prototype.u5=function(n){return this.j.mg.find(function(p){return p && p.id === n;});};b.z=c;},18181:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.Sf=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.hOa=void 0;r=a(5163);l=a(85001);f=a(94025);k=a(81918);d=a(22674);g=a(5021);a=a(4203);c.prototype.ZK=function(h){var n;h.nY={};if(!h.bM() && h.oz && 0 < h.oz.length && (h.nz=this.P_a(h),h.nz)){n=this.H2b(h);n() || (h.sb.addListener(n),h.Ke.addListener(n));}};c.prototype.H2b=function(h){var p;function n(){var q,u;if(!h.Ke.value || h.sb.value === l.gb.zf)return !1;q=h.nz;u=q.getState();return u === f.Po.LOADING?!1:u !== f.Po.uD && q.retry?(q=p.JLb(h))?(h.nY.offset=p.Sf.Ib().ca(g.pa),h.nz=q,q.download(),!0):!1:(h.sb.removeListener(n),h.Ke.removeListener(n),!1);}p=this;return n;};c.prototype.JLb=function(h){var n,p;n=this.config();p=h.Zk.Fp() < n.n6b;n=(h.Ke.value?h.Ke.value.bitrate:0) > n.m6b;return this.dLb(h,p && n);};c.prototype.dLb=function(h,n){if(n && (n=this.P_a(h),this.Q0a(h,n.size)))return (h.nY.kab="h",n);n=this.VJb(h);if(this.Q0a(h,n.size))return (h.nY.kab="l",n);};c.prototype.Q0a=function(h,n){var p,q;p=this.config();q=Math.min(h.ZR(),h.BY());return h.$ub.lwb(n) * (1 + .01 * p.ctb[2]) < q * p.q6b;};c.prototype.P_a=function(h){return h.oz[h.oz.length - 1];};c.prototype.VJb=function(h){return h.oz[0];};m=c;m=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(k.Lc)),r.__param(1,(0,d.l)(a.Xb))],m);b.hOa=m;},25837:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jOa=void 0;r=a(5163);f=a(62082);a=a(22674);c.prototype.parse=function(d){var g,m;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);m=new f.mP(g);d=this.kWb(m);g=this.lWb(m,g,d);return {header:d,images:g};};c.prototype.kWb=function(d){var g,m,h,n;if(d.hoa() < this.b0b())throw Error("array buffer too short");l.uHa.forEach(function(p){if(p != d.Wy())throw Error("BIF has invalid magic.");});g=d.rN();if(g > l.VERSION)throw Error("BIF version in unsupported");m=d.rN();if(0 == m)throw Error("BIF has no frames.");h=d.rN();n=d.Dj(l.aMa);return {version:g,tUb:m,aeb:h,mab:n};};c.prototype.lWb=function(d,g,m){var p,q;for(var h=[],n=0;n <= m.tUb;n++){p={timestamp:d.rN(),offset:d.rN()};void 0 != q && h.push(g.subarray(q.offset,p.offset));q=p;}return h;};c.prototype.b0b=function(){return l.uHa.length + 4 + 4 + 4 + l.aMa;};k=l=c;k.uHa=[137,66,73,70,13,10,26,10];k.VERSION=0;k.aMa=44;k=l=r.__decorate([(0,a.T)()],k);b.jOa=k;},72614:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w;function c(y){return function(){return y.kb.get(l.rKa).Bb();};}Object.defineProperty(b,"__esModule",{value:!0});b.ZG=void 0;r=a(22674);l=a(96687);f=a(32979);k=a(23048);d=a(62278);g=a(95480);m=a(91859);h=a(95398);n=a(77334);p=a(10469);q=a(44698);u=a(36258);t=a(78339);v=a(50889);w=a(18477);b.ZG=new r.dd(function(y){y(h.dLa).to(n.cLa).ga();y(f.jea).to(k.nKa).ga();y(d.PJa).to(g.OJa).ga();y(l.rKa).to(m.qKa).ga();y(l.gQ).hY(c);y(v.pKa).to(w.oKa).ga();y(p.VJa).to(q.UJa).ga().KY();y(u.tKa).to(t.sKa).ga();y(u.kKa).to(t.jKa).ga();y(u.mKa).to(t.lKa).ga();});},62278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PJa="PboCachedPlaydataSymbol";},10469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gea={PU:"keepAlive",splice:"splice"};b.VJa="PboEventSenderSymbol";},32979:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jea="PboPlaydataFactorySymbol";},50889:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pKa="PboPlaydataPlaybackMonitorSymbol";},96687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rKa="PboPlaydataServicesSymbol";b.gQ="PboPlaydataServicesProviderSymbol";},95398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dLa="PlaydataConfigSymbol";},95480:function(r,b,a){var k,d,g,m,h,n,p,q,u,t;function c(){}function l(){}function f(v,w,y,x,z){var A;A=this;this.is=v;this.fl=w;this.config=y;this.lF=x;this.AWb=z;this.du=function(){return new c().encode({version:A.version,data:A.ZG});};this.G7b=function(B){B=A.upgrade(B);A.AWb.validate(B);return B;};this.upgrade=function(B){var C;if(A.is.Am(B))return A.H7b(B);C=B.version;if(void 0 != C && A.is.Yj(C) && 1 == C)return A.I7b(B);C=B.version;if(void 0 != C && A.is.Yj(C) && 2 == C)return new c().decode(B);if(B.version && A.is.Yj(B.version))throw new h.Mc(g.U.Mz,g.S.zBa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new h.Mc(g.U.Mz,g.S.Hz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.pk=new n.$ca(2,this.config().V8a,"" !== this.config().V8a && 0 < this.config().bXb,this.fl,this.du);}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=void 0;r=a(5163);k=a(22674);d=a(4203);g=a(36129);m=a(42207);h=a(31149);n=a(52657);p=a(17892);q=a(33554);u=a(23048);a=a(36258);f.prototype.qZb=function(){return this.pk.load(this.G7b).catch(function(v){throw new h.Mc(g.U.Mz,v.Aa || v.ec,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v);});};f.prototype.Psb=function(v){return this.pk.add(v);};f.prototype.O$a=function(v){return this.pk.remove(v,function(w,y){return w.ma === y.ma;});};f.prototype.Lya=function(v){return this.pk.update(v,function(w,y){return w.ma === y.ma;});};f.prototype.toString=function(){return JSON.stringify(this.du(),null,"  ");};f.prototype.tfb=function(v){return v?"/events?playbackContextId=" + v + "&esn=" + this.lF().bk:"";};f.prototype.Sya=function(v){return v.map(function(w){return {Ub:w.downloadableId,duration:w.duration};});};f.prototype.ufb=function(v){var w;return v?{total:v.playTimes.total,gI:null !== (w=v.playTimes.totalContentTime) && void 0 !== w?w:v.playTimes.total,uO:v.playTimes.total,QC:0,RC:0,hI:0,iI:0,audio:this.Sya(v.playTimes.audio || []),video:this.Sya(v.playTimes.video || []),text:this.Sya(v.playTimes.timedtext || [])}:{total:0,gI:0,uO:0,QC:0,RC:0,hI:0,iI:0,audio:[],video:[],text:[]};};f.prototype.H7b=function(v){var w,y,x;w=this;v=JSON.parse(v);y={$f:"VOD",href:this.tfb(v.playbackContextId),ma:v.xid?v.xid.toString():"",P:v.movieId,position:v.position,Ix:v.timestamp,dm:v.playback?1E3 * v.playback.startEpoch:-1,vM:v.mediaId,Sv:this.ufb(v.playback),trackId:"",cm:{},mN:v.accountKey};x=JSON.stringify({keySessionIds:v.keySessionIds,movieId:v.movieId,xid:v.xid,licenseContextId:v.licenseContextId,profileId:v.profileId});this.fl.create().then(function(z){z.save(w.config().US,x,!1);});if("" === y.href || "" === y.ma)throw new h.Mc(g.U.Mz,g.S.Hz);return {version:2,data:[y]};};f.prototype.I7b=function(v){var w;w=this;if(!v.playdata || !this.is.DA(v.playdata))throw new h.Mc(g.U.Mz,g.S.Hz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,v);return {version:2,data:(function(y){return y.map(function(x){var z;return {$f:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:w.tfb(x.playbackContextId),ma:x.xid?x.xid.toString():"",P:x.movieId,position:x.position,Ix:x.timestamp,dm:x.playback?1E3 * x.playback.startEpoch:-1,vM:x.mediaId,Sv:w.ufb(x.playback),trackId:"",cm:{},mN:x.profileId};});})(v.playdata)};};Ya.Object.defineProperties(f.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.pk.version;}},ZG:{configurable:!0,enumerable:!0,get:function(){return this.pk.El;}}});t=f;t=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.Qf)),r.__param(1,(0,k.l)(p.zw)),r.__param(2,(0,k.l)(d.Xb)),r.__param(3,(0,k.l)(q.Gw)),r.__param(4,(0,k.l)(a.mKa))],t);b.OJa=t;l.prototype.encode=function(v){var w;w=new u.q0();return v.map(w.encode);};l.prototype.decode=function(v){var w;w=new u.q0();return v.map(w.decode);};c.prototype.encode=function(v){return {version:v.version,data:new l().encode(v.data)};};c.prototype.decode=function(v){return {version:v.version,data:new l().decode(v.data)};};},44698:function(r,b,a){var l,f,k;function c(d,g){this.wS=g;this.log=d.$a("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(5163);l=a(87607);f=a(87386);a=a(22674);c.prototype.zwa=function(d,g){var m;m=this.wS(l.Ko.start);return this.yYa(m,d,g);};c.prototype.hbb=function(d){var g;g=this;return this.wS(l.Ko.stop).xf(this.log,d).then(function(){}).catch(function(m){g.log.error("PBO stop event failed",m);throw m;});};c.prototype.nX=function(d,g,m){d=this.wS(d);return this.yYa(d,g,m);};c.prototype.yYa=function(d,g,m){var h;h=this;return d.Vn(this.log,g.W.oi,m).then(function(){}).catch(function(n){h.log.error("PBO event failed",n);throw n;});};k=c;k=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(f.ab)),r.__param(1,(0,a.l)(l.Eca))],k);b.UJa=k;},23048:function(r,b,a){var d,g,m,h,n,p;function c(q,u,t,v){this.sa=q;this.eU=u;this.Ea=t;this.profile=v;}function l(){}function f(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=b.q0=void 0;r=a(5163);d=a(22674);g=a(30869);m=a(5021);h=a(4203);n=a(81918);a=a(71501);k.prototype.encode=function(q){return {downloadableId:q.Ub,duration:q.duration};};k.prototype.decode=function(q){return {Ub:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.gI,totalAdDuration:q.QC,totalCombinedDuration:q.uO,totalOtherDuration:q.RC,totalStartSlateDuration:q.iI,totalLiveEdgeDuration:q.hI,audio:q.audio.map(new k().encode),video:q.video.map(new k().encode),text:q.text.map(new k().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,gI:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,QC:q.totalAdDuration,uO:q.totalCombinedDuration,RC:q.totalOtherDuration,iI:q.totalStartSlateDuration,hI:q.totalLiveEdgeDuration,audio:q.audio.map(new k().decode),video:q.video.map(new k().decode),text:q.text.map(new k().decode)};};l.prototype.encode=function(q){return {streamingType:q.$f,href:q.href,xid:q.ma,movieId:q.P,position:q.position,clientTime:q.Ix,sessionStartTime:q.dm,videoTrackId:q.JO,audioTrackId:q.op,timedTextTrackId:q.sO,mediaId:q.vM,playTimes:new f().encode(q.Sv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.cm,profileId:q.mN};};l.prototype.decode=function(q){return {$f:q.streamingType,href:q.href,ma:q.xid,P:q.movieId,position:q.position,Ix:q.clientTime,dm:q.sessionStartTime,JO:q.videoTrackId,op:q.audioTrackId,sO:q.timedTextTrackId,vM:q.mediaId,Sv:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,cm:q.sessionParams,mN:q.profileId};};b.q0=l;c.prototype.create=function(q){var u,t,v,w,y,x,z,A;A=Object.assign(Object.assign({},null !== (u=q.bb.cm) && void 0 !== u?u:{}),{uiVersion:this.eU().Ap.ow});u=null !== (t=q.gd.ba?q.gd.b6():q.ES) && void 0 !== t?t:0;return {href:q.W && q.W.oi?q.W.oi.BL("events").href:"",$f:null !== (w=null === (v=q.W) || void 0 === v?void 0:v.Fa.$f) && void 0 !== w?w:"VOD",ma:q.ma.toString(),P:q.P,position:Math.floor(u),Ix:this.sa.DH.ca(m.pa),dm:q.py?q.py.ca(m.pa):-1,JO:null === (y=q.Fg.value) || void 0 === y?void 0:y.trackId,op:null === (x=q.qc.value) || void 0 === x?void 0:x.trackId,sO:null === (z=q.Mb.value) || void 0 === z?void 0:z.trackId,vM:void 0,Sv:this.$na(q),trackId:void 0 !== q.Pj?q.Pj.toString():"",sessionId:this.eU().sessionId || this.Ea.id,appId:this.eU().appId || this.Ea.id,cm:A,mN:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.doa=function(q){return q.map(function(u){return {Ub:u.downloadableId,duration:u.duration};});};c.prototype.$na=function(q){return (q=q.Zk)?(q=q.DKb(),{total:q.total,gI:q.totalContentTime,QC:q.totalAdDuration,RC:q.totalOtherDuration,uO:q.totalCombinedDuration,hI:q.totalLiveEdgeDuration,iI:q.totalStartSlateDuration,audio:this.doa(q.audio),video:this.doa(q.video),text:this.doa(q.timedtext)}):{total:0,gI:0,QC:0,uO:0,RC:0,hI:0,iI:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.bg)),r.__param(1,(0,d.l)(h.Xb)),r.__param(2,(0,d.l)(n.Lc)),r.__param(3,(0,d.l)(a.iJ))],p);b.nKa=p;},18477:function(r,b,a){var l,f,k,d;function c(g,m){this.A8a=m;this.log=g.$a("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.oKa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(85001);a=a(96687);c.prototype.Oj=function(g){var m;m=this;this.A8a().then(function(h){g.addEventListener(k.ha.zG,function(n){var p;if(void 0 !== n.iN){p=g.dk(n.iN);h.IX(p);n.iG || new Promise(function(q){var u;if(g.Ai.value)q();else {u=function(t){t.newValue && (q(),g.Ai.removeListener(u));};g.Ai.addListener(u);}}).then(function(){return h.Oj(g,m.icb(g),function(q){return g.YE(q);});});}});g.addEventListener(k.ha.It,function(){h.Oj(g.aa,m.icb(g),function(n){return g.YE(n);});});g.background.value || g.addEventListener(k.ha.YU,function(n){var p;n=g.dk(n.P);if(n.Bf){p=g.dk(n.Bf.xd);m.log.trace("Auxiliary viewable segment (viewableId: " + n.P + "). Starting playdata monitor for parent viewable " + p.P);n=p;}h.sxa(n);});g.addEventListener(k.ha.ng,function(){h.Qcb();});g.addEventListener(k.ha.Lfb,function(){h.fbb(g.aa).catch(function(n){(n=n.eN) && g.YE(n);});});g.Mb.addListener(function(){g.bb.mla?m.log.trace("stickiness is disabled for timedtext"):h.F$(g.aa);});g.qc.addListener(function(){g.bb.mla?m.log.trace("stickiness is disabled for audio"):h.F$(g.aa).catch(function(n){(n=n.eN) && g.YE(n);});});});};c.prototype.icb=function(g){return g.state.value == k.Vb.$d;};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.gQ))],d);b.oKa=d;},91859:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,C,D,F,G){this.config=x;this.xc=A;this.pw=B;this.Kt=C;this.r9=D;this.rh=F;this.qG=Promise.resolve();this.closed=!1;this.log=z.$a("PlaydataServices");this.YG=[];this.active=new Set();this.u0b=new l(x,G);}function l(x,z){this.config=x;this.sa=z;}function f(x,z,A,B,C,D){this.log=x;this.xc=z;this.Sg=A;this.Kt=B;this.pw=C;this.VWb=D;this.KYa=this.Qd=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.qKa=b.Vmb=void 0;r=a(5163);k=a(22674);d=a(5021);g=a(87386);m=a(53085);h=a(32979);n=a(62278);p=a(95398);q=a(36129);u=a(23048);t=a(10469);v=a(45266);w=a(30869);a=a(79274);f.prototype.DM=function(x,z){var B;function A(){var C;C=B.Kt.create(B.Sg);B.pw.Lya(C).catch(function(D){var F;F=B.KYa?g.dj.yfa:g.dj.Bk;B.KYa=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.pw.Psb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.Fr=B.xc.xH(x,A);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new u.q0().encode(z)});B.Fr=B.xc.xH(x,A);});};f.prototype.stop=function(x){var z,A;z=this;if(this.Qd)return Promise.resolve();this.Fr && this.Fr.cancel();A=this.Kt.create(this.Sg);return this.pw.Lya(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.Sg.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.VWb.hbb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.pw.O$a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.P);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};f.prototype.cancel=function(){this.Qd=!0;this.Fr && this.Fr.cancel();this.pw.Lya(this.Kt.create(this.Sg));};Ya.Object.defineProperties(l.prototype,{Gwb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.sa.de;return !this.qG || 0 <= x.qa(this.qG).Lk(this.config.X3a)?(this.qG=x,!0):!1;}}});b.Vmb=l;c.prototype.Bb=function(){var x;x=this;this.FB || (this.log.trace("Starting playdata services"),this.FB=this.pw.qZb().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.FB;};c.prototype.close=function(){this.closed=!0;this.YG.forEach(function(x){x.DM.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.VG && z.xwa?this.v1b(x):Promise.resolve();};c.prototype.Oj=function(x,z,A){var B;B=this;this.closed || (this.sxa(x),this.zwa(x).catch(function(C){B.log.error("Start command failed",{playdata:C.ZG,error:C.gT});}),z && this.pxa(this.HJb(x),x,A));};c.prototype.IX=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Kt.create(x);this.active.delete(A.ma);x=la((0,v.lC)(function(C){return C.key === A.ma;},this.YG));B=x.next().value;this.YG=x.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.DM.stop(z.config.xwa);})).then(function(){});};c.prototype.sxa=function(x){var z,A;x.ie("pdb");if(this.config.Qta.z3a()){z=this.Kt.create(x);A=z.ma;this.YG.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.YG.push({key:A,DM:this.gKb(x,z),kw:!1,stopped:!1}));}};c.prototype.v1b=function(x){var z,A,B,C;z=this;A=this.pw.ZG.filter(function(D){return !z.active.has(D.ma);});B=void 0;C=void 0;x && Infinity === x?B=A:(A=la((0,v.lC)(function(D){return D.P === x;},A)),B=A.next().value,C=A.next().value);C && 0 < C.length && this.xc.nk(this.config.ebb,function(){z.gbb(C).catch(function(){});});return B && 0 !== B.length?this.gbb(B):Promise.resolve();};c.prototype.gbb=function(x){var A;function z(B){return A.r9.hbb(B).then(function(){return A.y_b(B);});}A=this;return x.reduce(function(B,C){return B.then(function(){return z(C);});},Promise.resolve());};c.prototype.y_b=function(x){var z;z=this;return this.pw.O$a(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.gKb=function(x,z){x=new f(this.log,this.xc,x,this.Kt,this.pw,this.r9);x.DM(this.config.Qta,z);return x;};c.prototype.zwa=function(x){var z,A;z=this;A=this.Kt.create(x);return this.r9.zwa(x,A).then(function(){!1;z.y5a(x);}).catch(function(B){z.y5a(x);throw {ZG:A,gT:B};});};c.prototype.y5a=function(x){this.YG.filter(function(z){return z.key === x.ma.toString();}).forEach(function(z){z.kw=!0;});};c.prototype.fbb=function(x){return this.u0b.Gwb?this.nX(t.gea.PU,x,q.U.fda):Promise.resolve();};c.prototype.F$=function(x){return this.nX(t.gea.splice,x,q.U.BMa);};c.prototype.nX=function(x,z,A){var C;function B(D){var F;F=C.YG.filter(function(G){return G.key === D.ma.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.kw;},!1);}C=this;return B(z)?this.qG:this.qG=this.qG.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=C.Kt.create(z);return C.r9.nX(x,z,D);}).then(function(D){!1;return D;}).catch(function(D){var F;C.log.error("Failed to send event",{eventKey:x,xid:z.ma,error:D});D.wj?F=C.rh(A,D):D.Ky === q.c0.tfa && (F=C.rh(A,D));throw {gT:D,eN:F};});};c.prototype.pxa=function(x,z,A){var B;B=this;!1;this.Nja();this.mqa=this.xc.nk(x,function(){B.Nja();B.nX(t.gea.PU,z,q.U.fda).then(function(){B.pxa(x,z,A);}).catch(function(C){var D;D=C.gT;(C=C.eN) && A(C);D.Ky !== q.c0.tfa && B.pxa(x,z,A);});});};c.prototype.Qcb=function(){this.Nja();};c.prototype.Nja=function(){this.mqa && (this.mqa.cancel(),this.mqa=void 0);};c.prototype.HJb=function(x){return x.bb.Uoa?(0,d.Ob)(x.bb.Uoa):this.config.W3a;};y=c;y=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(p.dLa)),r.__param(1,(0,k.l)(g.ab)),r.__param(2,(0,k.l)(m.Th)),r.__param(3,(0,k.l)(n.PJa)),r.__param(4,(0,k.l)(h.jea)),r.__param(5,(0,k.l)(t.VJa)),r.__param(6,(0,k.l)(a.hQ)),r.__param(7,(0,k.l)(w.bg))],y);b.qKa=y;},78339:function(r,b,a){var k,d,g,m;function c(){}function l(h){this.zWb=h;}function f(h){this.BWb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.sKa=b.lKa=b.jKa=void 0;r=a(5163);k=a(22674);d=a(36258);g=a(31149);m=a(36129);f.prototype.validate=function(h){h.map(this.BWb.validate);};a=f;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.tKa))],a);b.jKa=a;l.prototype.validate=function(h){this.zWb.validate(h.data);};a=l;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.kKa))],a);b.lKa=a;c.prototype.validate=function(h){var n;h.ma && "string" === typeof h.ma?h.href && "string" === typeof h.href?h.mN && "string" === typeof h.mN || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.Mc(m.U.Mz,m.S.Hz,void 0,void 0,void 0,n,void 0,h.ma);};d=c;d=r.__decorate([(0,k.T)()],d);b.sKa=d;},77334:function(r,b,a){var l,f,k,d,g,m;function c(h,n){h=f.Ne.call(this,h,"PlaydataConfigImpl") || this;h.config=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.cLa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5021);a=a(34231);fa(c,f.Ne);Ya.Object.defineProperties(c.prototype,{VG:{configurable:!0,enumerable:!0,get:function(){return this.config.$x?"unsentplaydatatest":"unsentplaydata";}},xwa:{configurable:!0,enumerable:!0,get:function(){return !0;}},ebb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E4);}},Qta:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(4E3);}},W3a:{configurable:!0,enumerable:!0,get:function(){return (0,g.o8)(1);}},X3a:{configurable:!0,enumerable:!0,get:function(){return (0,g.uh)(30);}}});m=c;r.__decorate([d.config(d.string,"playdataPersistKey")],m.prototype,"VG",null);r.__decorate([d.config(d.ed,"sendPersistedPlaydata")],m.prototype,"xwa",null);r.__decorate([d.config(d.ik,"playdataSendDelayMilliseconds")],m.prototype,"ebb",null);r.__decorate([d.config(d.ik,"playdataPersistIntervalMilliseconds")],m.prototype,"Qta",null);r.__decorate([d.config(d.ik,"heartbeatCooldown")],m.prototype,"W3a",null);r.__decorate([d.config(d.ik,"keepAliveWindow")],m.prototype,"X3a",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl)),r.__param(1,(0,l.l)(a.wn))],m);b.cLa=m;},58343:function(r,b,a){var l,f;function c(k,d){var g;g=this;this.Mh=k;this.Dg=d;this.addEventListener=function(m,h,n){return g.Dg.addListener(m,g.JWa(m,h),n);};this.removeEventListener=function(m,h){return g.Dg.removeListener(m,g.JWa(m,h));};this.getReady=function(){return g.Dg.Bv();};this.getXid=function(){return g.xb().kt();};this.getMovieId=function(){return g.xb().o0a();};this.getPlaygraphId=function(){return g.Dg.GKb();};this.getElement=function(){return g.Dg.Um();};this.isPlaying=function(){return g.xb().NB();};this.isPaused=function(){return g.xb().xt();};this.isMuted=function(){return g.xb().Upa();};this.isReady=function(){return g.xb().Bv();};this.isBackground=function(){return g.xb().a3a();};this.setBackground=function(m){return g.xb().Fwa(m);};this.startInactivityMonitor=function(){return g.xb().bO();};this.setTransitionTime=function(m){return g.xb().Vwa(m);};this.getDiagnostics=function(){return g.xb().w_a();};this.getTextTrackList=function(m){return g.xb().xoa(m);};this.getMaxRecommendedTextIndex=function(m){return g.xb().Pna(m);};this.getTextTrack=function(){return g.xb().woa();};this.setTextTrack=function(m){return g.xb().Rwa(m);};this.getVolume=function(){return g.xb().l1a();};this.isEnded=function(){return g.xb().Ppa();};this.getBusy=function(){return g.xb().mh();};this.getError=function(){return g.xb().getError();};this.getCurrentTime=function(){return g.xb().wL();};this.getAdManager=function(){return g.xb().Xn();};this.getLivePlaybackManager=function(){var m;m=g.xb().Pl();(0,f.oa)(m,"Unexpected call to getLivePlaybackManager()");if(m.ba && !m.W2b())return {seekToLiveEdge:function(){return m.y$();},isAtLiveEdge:function(){return m.LB();},getLiveEventState:function(){return m.sB();},isLiveEventEnded:function(){return m.W6();}};};this.getBufferedTime=function(){return g.xb().c_a();};this.getSegmentTime=function(){return g.xb().w5();};this.getDuration=function(){return g.xb().sna();};this.getVideoSize=function(){return g.xb().j1a();};this.getAudioTrackList=function(){return g.xb().UZa();};this.getMaxRecommendedAudioIndex=function(){return g.xb().i0a();};this.getAudioTrack=function(){return g.xb().TZa();};this.getTimedTextTrackList=function(m){return g.xb().xoa(m);};this.getMaxRecommendedTimedTextIndex=function(m){return g.xb().Pna(m);};this.getTimedTextTrack=function(){return g.xb().woa();};this.getAdditionalLogInfo=function(){return g.xb().RZa();};this.getTrickPlayFrame=function(m){return g.xb().g1a(m);};this.getSessionSummary=function(){return g.xb().noa();};this.getTimedTextSettings=function(){return g.xb().bU();};this.setMuted=function(m){return g.xb().Ibb(m);};this.setVolume=function(m){return g.xb().Wbb(m);};this.getPlaybackRate=function(){return g.xb().EL();};this.setPlaybackRate=function(m){return g.xb().L$(m);};this.setAudioTrack=function(m){return g.xb().rbb(m);};this.setTimedTextTrack=function(m){return g.xb().Rwa(m);};this.setTimedTextSettings=function(m){return g.xb().VN(m);};this.prepare=function(){return g.xb().bH();};this.load=function(){return g.xb().load();};this.close=function(m){return g.ISa(g.Dg.close(),m);};this.play=function(){return g.xb().play();};this.pause=function(){return g.xb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(m,h){return g.ISa(g.xb().aL(m),h);};this.induceError=function(m){return g.xb().v2a(m);};this.loadCustomTimedTextTrack=function(m,h,n,p){return g.xb().O4a(m,h,n,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return g.xb().x5();};this.generateScreenshots=function(m){return g.xb().KZa(m);};this.getCurrentSegmentId=function(){return g.Dg.r_a();};this.getPlaygraphMap=function(){return g.Dg.SF();};this.updatePlaygraphMap=function(m){return g.Dg.gu(m);};this.ama=new Map();this.log=(0,l.Qi)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.b1=void 0;l=a(31276);a(24550);f=a(45146);c.prototype.xb=function(){return this.Dg.xb();};c.prototype.JWa=function(k,d){var g;this.ama.has(k) || this.ama.set(k,new Map());g=this.ama.get(k);g.has(d) || g.set(d,this.jCb(k,d));return g.get(d);};c.prototype.jCb=function(k,d){var g;g=this;return function(m){return d(Object.assign({},m,{type:k,target:g}));};};c.prototype.ISa=function(k,d){return d?k.then(d,d):k;};b.b1=c;},64059:function(r,b,a){var l;function c(f,k,d){var g;g=l.b1.call(this,f,k) || this;g.seek=function(m){return g.xb().seek(m);};g.addEpisode=function(m){return g.Cqa.zsb(m);};g.playNextEpisode=function(m){m=void 0 === m?{}:m;return g.Cqa.WWb(m);};g.watchCredits=function(m){return g.Cqa.O8b(m);};g.playSegment=function(m){return g.xb().Q8a(m);};g.queueSegment=function(m){return g.xb().X9a(m);};g.updateNextSegmentWeights=function(m,h){return g.xb().bj(m,h);};g.setNextSegment=function(m){for(var h=[],n=0;n < arguments.length;++n){h[n - 0]=arguments[n];}h=h.map(function(p){return {I:p.segmentId,HM:p.nextSegmentId};});g.Dg.Nj.apply(g.Dg,ca(h));};g.clearNextSegment=function(m){for(var h=[],n=0;n < arguments.length;++n){h[n - 0]=arguments[n];}return g.Dg.Fxb.apply(g.Dg,ca(h));};g.goToNextSegment=function(m,h){return g.Dg.Foa(m,h);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return !!g.xb().bU().visibility;};g.setTimedTextVisibility=function(m){return g.setTimedTextVisible(m);};g.setTimedTextSize=function(m){return g.xb().VN({size:m});};g.setTimedTextBounds=function(m){return g.xb().VN({bounds:m});};g.setTimedTextMargins=function(m){return g.xb().VN({margins:m});};g.setTimedTextVisible=function(m){return g.xb().VN({visibility:m});};g.getCongestionInfo=function(m){m && m({success:!1,name:null,isCongested:null});};g.Cqa=d(f,k,g.log);return g;}b.eZ=void 0;l=a(58343);fa(c,l.b1);b.eZ=c;},59219:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x;function c(z){var A,B;A=this;this.p9=new x.yea();this.createPlaygraphPlayer=function(C,D,F){var G;C=t.Cea.encode(C);G=d.Ba.get(v.VI);F=F?G.create(F):void 0;G=d.Ba.get(p.Eea).create(C);return G.kBb(C.ve,A.p9.rra(A.dTa(D,G.tna())),F);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,k.tea)(C);};this.init=function(C){A.EA.aV(function(D){D.ia?A.y1b().then(function(){(0,l.HKa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.gK);C(Object.assign({success:!0},c.gK));}):C({success:!1,error:(0,d.hLa)(D.errorCode || m.U.Xca,D)});});};this.applyConfig=function(C){A.cfb(C);(0,f.fka)(C);};this.prepare=function(C,D){var F;C=A.o9a.XCb(C) || [];F=new Set();C=C.filter(function(G){var E;E=F.has(G.P);F.add(G.P);return !E;});if(f.config.Ar && A.bd)try{A.bd.bH(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){ob._cad_global.playerPredictionModel?(C=A.o9a.ZCb(C)) && ob._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.xL)().PX().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.xL)().QX().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.xL)().NX().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.xL)().paa().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return f.config.MEb;};this.cfb(z);d.Ba.get(y.kAa);this.o9a=d.Ba.get(g.JKa);this.EA=d.Ba.get(u.Oh);B=d.Ba.get(w.EKa).apply();(0,f.pVa)([z],B);this.bd=d.Ba.get(q.PD);(0,d.xL)().QX();}Object.defineProperty(b,"__esModule",{value:!0});b.QD=void 0;l=a(86258);f=a(29204);k=a(13044);d=a(31276);g=a(68976);m=a(36129);h=a(83767);n=a(96687);p=a(58252);q=a(66476);u=a(11479);t=a(50954);v=a(17398);w=a(52033);y=a(13847);x=a(81889);c.prototype.dTa=function(z,A){var B,C,D,F;z=void 0 === z?{}:z;F=null !== (C=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:A.ta;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=A.va) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.cfb=function(z){d.Ba.get(h.DP).DSb(z);};c.prototype.y1b=function(){d.Ba.get(n.gQ)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.QD=c;c.gK={};},17925:function(r,b,a){var l,f,k,d,g,m;function c(h){var n;n=k.QD.call(this,h) || this;n.createPlayer=function(p,q){var u,t,v;q=void 0 === q?{}:q;q="number" === typeof q?{Pj:q}:q;u=l.Ba.get(f.gJ);t=l.Ba.get(g.VI).create(q.manifest);v=l.Ba.get(d.Gea);p=u.hBb(p);u=l.Ba.get(m.Eea).create(p);p=u.tna();v=v.dWa(u);v.addEpisode({movieId:p.J,playbackParams:n.dTa(q,p),manifest:t});return v;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.JOa=void 0;l=a(31276);f=a(75864);k=a(59219);d=a(32050);g=a(17398);m=a(58252);fa(c,k.QD);b.JOa=c;},41325:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(17925);c=a(29204);l=a(13044);b=a(87386);f=a(31276);k=a(45118);d=a(36410);g=a(45146);m=a(32687);ob.netflix=ob.netflix || ({});(0,g.oa)(!ob.netflix.player);ob.netflix.player={VideoSession:r.JOa,diag:{togglePanel:function(h,n){var p;p=[];if(!c.config || c.config.OW){switch(h){case "info":p=l.Bn.map(function(q){return q.n9;});break;case "streams":p=l.Bn.map(function(q){return q.q9;});break;case "log":p=[];}p.forEach(function(q){(0,m.Wc)(n)?n?q.show():q.yv():q.toggle();});}},addLogMessageSink:function(h){f.Ba.get(k.pl).addListener({Aic:function(){},ESb:function(n){h({data:n.data});}});}},log:(0,f.Qi)("Ext"),LogLevel:b.dj,addLogSink:function(h,n){f.Ba.get(d.UI).U9(h,n);},getVersion:function(){return "6.0042.952.911";},getMostRecentPlaybackDiagnosticGroups:function(){var h;return null === (h=l.Tz.I6a) || void 0 === h?void 0:h.gXa.MT();}};},61524:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(1481);l=a(59219);f=a(33096);k=a(29204);r=a(36129);d=a(31276);g=a(45146);m=a(3887);h=a(32687);n=a(45118);p=a(31850);a=a(11479);d.Ba.get(a.Oh).register(r.U.SFa,function(q){var u,t;u=(0,d.Qi)("NccpApi");t=(0,m.QSa)(["info","warn","trace","error"]);l.QD.gK.nccp={getEsn:function(){return c.Ok.bk;},getPreferredLanguages:function(){return k.config.Ap.nua;},setPreferredLanguages:function(v){(0,g.oa)((0,h.isArray)(v) && (0,h.eM)(v[0]));k.config.Ap.nua=v;},queueLogblob:function(v,w,y){var x;if(v && w)if((w=w.toLowerCase(),t[w])){x=d.Ba.get(n.pl);v=d.Ba.get(p.Nw).Rs(v,w,y);x.vc(v);}else u.warn("Invalid severity",{severity:w});},flushLogblobs:function(){d.Ba.get(n.pl).flush(!0);}};q(f.cg);});},42433:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(59219);l=a(1481);f=a(33096);k=a(52569);r=a(36129);d=a(31276);g=a(62082);m=a(45146);h=a(32687);n=a(22365);b=a(11479);p=a(24066);q=a(71501);u=a(97996);t=a(22816);d.Ba.get(b.Oh).register(r.U.TFa,function(v){var B;function w(){return l.Ok.bk;}function y(C){var D;D=d.Ba.get(q.iJ);d.Ba.get(u.ZP)().then(function(F){var G,E;G=F.GV.getStateForMdx(D);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,m.oa)(E),F=["1",(0,d.Ax)(JSON.stringify(F.toJSON())),(0,d.Ax)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(H,M){H=(0,h.sg)(H)?(0,d.GO)(H):H;E.encrypt(H,{result:function(L){L=(0,d.Ax)(L);M({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Encrypt error: " + L);M({success:!1});}});},decrypt:function(H,M){H=(0,d.Hq)(H);E.decrypt(H,{result:function(L){M({success:!0,text:(0,d.xY)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Decrypt error: " + L);M({success:!1});}});},hmac:function(H,M){H=(0,h.sg)(H)?(0,d.GO)(H):H;E.sign(H,{result:function(L){M({success:!0,hmacBase64:(0,d.Ax)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Hmac error: " + L);M({success:!1});}});}}})):((0,m.oa)(!1,"Must login first"),C({success:!1}));});}function x(C,D){var F;F=(0,d.Hq)(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,k.OG)(n.yp.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,k.OG)(n.yp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function F(G){G=new g.mP((0,d.Hq)(G));G.Wy();return {iv:G.c$a(),$Eb:G.c$a()};}return {encrypt:function(G,E){var H;G=(0,h.sg)(G)?(0,d.GO)(G):G;H=n.Rz.getRandomValues(new Uint8Array(16));(0,k.OG)(n.yp.encrypt({name:"AES-CBC",iv:H},C,G)).then(function(M){var L,K;M=new Uint8Array(M);L=[];K=new g.mP(L);K.gba(2);K.wgb(H);K.wgb(M);M=(0,d.Ax)(L);E({success:!0,encryptedDataAsn1Base64:M});},function(M){(0,m.oa)(!1,"Encrypt error: " + M);E({success:!1});});},decrypt:function(G,E){var H;H=F(G);G=H.iv;H=H.$Eb;(0,k.OG)(n.yp.decrypt({name:"AES-CBC",iv:G},C,H)).then(function(M){M=new Uint8Array(M);E({success:!0,text:(0,d.xY)(M)});},function(M){(0,m.oa)(!1,"Decrypt error: " + M);E({success:!1});});},hmac:function(G,E){G=(0,h.sg)(G)?(0,d.GO)(G):G;(0,k.OG)(n.yp.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(H){H=new Uint8Array(H);E({success:!0,hmacBase64:(0,d.Ax)(H)});},function(H){(0,m.oa)(!1,"Hmac error: " + H);E({success:!1});});}};}function A(){return (0,p.Sja)();}B=d.Ba.get(t.fD);if(B.f3a || B.sy)c.QD.gK.mdx={getEsn:w,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};v(f.cg);});},13777:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(11479);b=a(36129);c=a(87386);l=a(91581);f=a(15348);k=a(33096);d=a(29204);g=a(31276);m=a(13044);h=a(59219);n=a(62898);p=a(66476);q=a(45118);g.Ba.get(r.Oh).register(b.U.UFa,function(u){var w,y,x,z;function t(A,B){return void 0 === A || void 0 === B?Promise.reject("Invalid email and/or password"):g.Ba.get(n.LJa).xf(this.log,{},{email:A,password:B}).then(function(){});}function v(A){var B;B=g.Ba.get(p.PD);return B.RYa.fetch(A,B);}if(d.config.MFb){w=g.Ba.get(f.kea);y=g.Ba.get(l.An);x=g.Ba.get(c.ab).$a("Test");z=g.Ba.get(q.pl);h.QD.gK.test={setPboRequestsListener:function(A){return w.h2b(A);},playbacks:m.Bn,getPlayback:function(A){return m.Bn.find(function(B){return B.ma === A;});},playgraphManager:{isNextSegmentReady:function(A){var B,C;return void 0 !== (null === (C=null === (B=m.Bn.find(function(D){return D.ma === A;})) || void 0 === B?void 0:B.cb) || void 0 === C?void 0:{Via:0});},isNextSegmentBuffering:function(A,B){var C,D;return null === (D=null === (C=m.Bn.find(function(F){return F.ma === A;})) || void 0 === C?void 0:C.cb) || void 0 === D?void 0:D.RT(B).kS;}},device:{esn:ob._cad_global.device.bk,esnPrefix:y.Tn,errorPrefix:y.Pq},log:{info:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.info(A,C);},error:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.error(A,C);},warn:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.warn(A,C);},trace:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.trace(A,C);},log:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.log(A,C);},debug:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.debug(A,C);},flush:function(){return z.flush();}},login:t,getManifest:v};}u(k.cg);});},66093:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.ev=void 0;c=a(33096);l=a(29204);r=a(36129);f=a(31276);k=a(22365);d=a(11479);g=a(32687);m=a(59818);h=a(5021);a=f.Ba.get(d.Oh);n=f.Ba.get(m.Uz);a.register(r.U.JFa,function(p){var v,w;function q(){p(c.cg);q=c.Tw;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,g.Kp)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=k.ze.getBattery();if(!(0,g.Kp)(y.then))throw "getBattery did not return a promise";return y;});}v=(0,f.Qi)("BatteryManager");b.ev={bib:"chargingchange",Z_a:function(){return w?w.level:null;},pna:function(){return w?w.charging:null;},addEventListener:function(y,x){w && w.addEventListener(y,x);},removeEventListener:function(y,x){w && w.removeEventListener(y,x);}};l.config.rS && (0,g.Kp)(k.ze.getBattery)?n.bq((0,h.Ob)(l.config.rIb),t()).then(function(y){u(y);w=y;}).catch(function(y){v.error("getBattery failed",y);}).then(q):q();});},94886:function(r,b,a){var l,f;function c(){var k,d;k=this;this.ws={};this.on=function(g,m,h){k.addListener(g,m,h);};this.addListener=function(g,m,h){k.ws && (k.ws[g]=k.ws[g] || new f.Iea(!0)).add(m,h);};this.removeListener=function(g,m){k.ws && k.ws[g] && k.ws[g].removeAll(m);};this.Ana=function(g){return k.ws && k.ws[g]?k.ws[g].flatten():[];};d=this;this.Dc=function(g,m,h){var n;if(d.ws){n=d.Ana(g);for(g={wI:0};g.wI < n.length;(g={wI:g.wI},g.wI++)){h?(function(p){return function(){var q;q=n[p.wI];(0,l.Df)(function(){q(m);});};})(g)():n[g.wI].call(this,m);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Tj=void 0;l=a(32219);f=a(20483);c.prototype.Ag=function(){this.ws=void 0;};b.Tj=c;},31298:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p,q){this.debug=d;this.config=g;this.platform=m;this.V7=h;this.debug.assert(n && n != f.U.Qo,"There should always be a specific error code");this.errorCode=n || f.U.Qo;p && "object" === typeof p?(this.Aa=p.Aa || p.ec,this.De=p.De || p.Vc,this.Sla=p.Sla || p.Pm,this.Nb=p.Nb || p.details,this.QS=p.wj,this.J4=p.J4 || p.shc || p.Ky,this.kB=p.kB || p.data,p.xV && (this.xV=p.xV),this.Kl=p.Kl,this.method=p.method,this.u8=p.u8,this.alert=p.alert,this.Zha=p.Zha,this.$F=p.$F,!this.Nb && this.$F && (this.Nb=JSON.stringify(this.$F)),this.Dd=p.Dd,this.debug.assert(!this.Kl || this.Kl == this.De)):(this.Aa=p,this.De=q);this.stack=[this.errorCode];this.Aa?this.stack.push(this.Aa):this.De && this.stack.push(f.S.Qo);this.De && this.stack.push(this.De);this.r4=this.platform.Pq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.iLa=void 0;l=a(33096);f=a(36129);k=a(32687);a(3887);c.prototype.Kbb=function(d){this.gXb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.r4 + "]";this.Nb && (d+=" " + this.Nb);this.QS && (d+=" (CustomMessage: " + this.QS + ")");return d;};c.prototype.iY=function(){var d,g,m,h;this.QS && (m=["streaming_error"]);m || this.V7.ft() !== l.OZ || ("80080017" == this.De && (m=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.De && (m=["pause_timeout"]));m || this.V7.ft() !== l.vca || this.errorCode !== f.U.ADa && this.errorCode !== f.U.oP || (m=["no_cdm","platform_error","plugin_error"]);m || this.errorCode !== f.U.yca || this.Aa !== f.S.wca || (m=["pause_timeout"]);this.J4 === f.c0.tfa && (this.Aja("2018") || this.Aja("2020")?m=["received_soad"]:this.Aja("5000") && (m=["should_reset_device"]));h=this.zIb();h && (m=[h],this.QS=void 0);if(!m)switch(this.errorCode){case f.U.n0:case f.U.S_:case f.U.$gb:case f.U.$da:this.gXb && (m=["pause_timeout"]);break;case f.U.XFa:case f.U.YFa:m=this.Aa?["platform_error"]:["multiple_tabs"];break;case f.U.Yca:case f.U.zJa:case f.U.bea:case f.U.tJa:m=["platform_error","plugin_error"];break;case f.U.dQ:m=["no_cdm","platform_error","plugin_error"];break;case f.U.HDa:case f.U.sq:case f.U.o0:switch(this.De){case "FFFFD000":m=["device_needs_service","platform_error"];break;case "48444350":m=["unsupported_output","platform_error"];break;case "00000024":m=["private_mode"];}break;case f.U.vJa:case f.U.aea:m=["unsupported_output"];}!m && (0,f.bEa)(this.Aa) && (m=this.Aa == f.S.zP?["geo"]:["internet_connection_problem"]);m || this.errorCode !== f.U.oP || this.Aa !== f.S.ol || "S" !== this.platform.Pq || (m=["private_mode"]);if(!m)switch(this.jdb(this.Aa)){case f.S.zfa:m=["should_upgrade"];break;case f.S.oJa:m=["should_reset_device"];break;case f.S.nJa:m=["should_reload_device"];break;case f.S.mJa:m=["should_exit_device"];break;case f.S.Dlb:case f.S.BHa:m=["should_signout_and_signin"];break;case f.S.Elb:m=["internet_connection_problem"];break;case f.S.ECa:m=["platform_error","plugin_error"];break;case f.S.Fib:case f.S.GFa:case f.S.HFa:m=["private_mode"];break;case f.S.xda:m=["should_reload_with_preferred_locales"];}m=m || [];m.push(this.platform.Pq + this.errorCode);if(this.Aa)switch(this.jdb(this.Aa)){case f.S.pJa:m.push("incorrect_pin");break;default:m.push("" + this.Aa);}m={display:{code:this.r4,text:this.QS},messageIdList:m,alert:this.alert,alertTag:this.Zha,preferredAudioLocale:null === (d=this.$F) || void 0 === d?void 0:d.b2a,preferredTextLocale:null === (g=this.$F) || void 0 === g?void 0:g.c2a};this.config().LFb && (m.debugData=this.kB);return m;};c.prototype.jdb=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.Aja=function(d){return ((0,k.yb)(this.De)?this.De.toString():(0,k.sg)(this.De)?this.De:"").endsWith(d);};c.prototype.zIb=function(){if(this.errorCode === f.U.SI && (this.Aa === f.S.Xda || this.Aa === f.S.lJa))return this.AIb(this.Aa === f.S.Xda);};c.prototype.AIb=function(d){var g,m,h,n;h=this.config().browserInfo || ({});n=null === (g=h.os) || void 0 === g?void 0:g.name;g=((null === (m=h.os) || void 0 === m?void 0:m.version) || "").split(".");m=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > m || 6 === m && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > m || 10 === m && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.iLa=c;},981:function(r,b){function a(c,l){this.cya=c;this.xv=l;}Object.defineProperty(b,"__esModule",{value:!0});b.gMa=void 0;a.prototype.z2b=function(){this.c2 || (this.c2=setInterval(this.xv,this.cya));};a.prototype.NUa=function(){this.c2 && (clearInterval(this.c2),this.c2=void 0);};b.gMa=a;},35128:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V0=void 0;b.Oo={dJ:"PRIMARY",oba:"ASSISTIVE",JBa:"COMMENTARY",NONE:"NONE"};b.V0={assistive:b.Oo.oba,closedcaptions:b.Oo.oba,directorscommentary:b.Oo.JBa,commentary:b.Oo.JBa,subtitles:b.Oo.dJ,primary:b.Oo.dJ,none:b.Oo.NONE};},24066:function(r,b,a){var l,f,k,d,g;function c(){return l.ac.get(k.Lc).wy.ca(g.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.Qxb=b.Sja=b.RUa=b.Oxb=b.Pxb=b.Rja=b.On=void 0;l=a(83989);f=a(30869);k=a(81918);d=a(62665);g=a(5021);b.On=function(){return l.ac.get(k.Lc).Ib().ca(g.pa);};b.Rja=function(){return l.ac.get(f.bg).de.ca(g.sm);};b.Pxb=function(){return l.ac.get(k.Lc).wy.ca(g.sm);};b.Oxb=function(){return l.ac.get(d.Mw).SA();};b.RUa=c;b.Sja=function(){return l.ac.get(f.bg).de.ca(g.pa);};b.Qxb=function(){return c();};},33096:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QP=b.Z_=b.Rhb=b.Mhb=b.Ohb=b.Phb=b.jBa=b.Lhb=b.Nhb=b.iBa=b.Qhb=b.Xhb=b.Vhb=b.Whb=b.Uhb=b.tjb=b.sjb=b.rjb=b.flb=b.hlb=b.glb=b.yHa=b.AHa=b.zHa=b.rDa=b.ujb=b.vca=b.OZ=b.Rlb=b.Cnb=b.xHa=b.Fhb=b.BCa=b.Tda=b.aJ=b.l0=b.wHa=b.Ow=b.Ehb=b.VAa=b.Ukb=b.fob=b.elb=b.dlb=b.vnb=b.unb=b.ds=b.cg=b.bMa=b.Tw=void 0;b.TAa=b.Oea=void 0;b.Tw=function(){};b.bMa=function(){return !0;};b.cg={ia:!0};b.ds=1E3;b.unb=86400;b.vnb=604800;b.dlb=1E4;b.elb=1E7;b.fob=1.5;b.Ukb=.128;b.VAa=7.8125;b.Ehb=128;b.Ow=145152E5;b.wHa=1E5;b.l0="$netflix$player$order";b.aJ=-1;b.Tda=1;b.BCa=["en-US"];b.Fhb=8;b.xHa=65535;b.Cnb=65536;b.Rlb=Number.MAX_VALUE;b.OZ="playready";b.vca="widevine";b.ujb="fps";b.rDa="clearkey";b.zHa='audio/mp4; codecs="mp4a.40.5"';b.AHa='audio/mp4; codecs="mp4a.40.42"';b.yHa='audio/mp4; codecs="ec-3"';b.glb='video/mp4; codecs="avc1.640028"';b.hlb='video/mp4; codecs="hev1.2.6.L153.B0"';b.flb='video/mp4; codecs="dvhe.01000000"';b.rjb="9A04F079-9840-4286-AB92-E65BE0885F95";b.sjb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.tjb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Uhb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Whb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Vhb="4E657466-6C69-7846-7261-6D6552617465";b.Xhb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Qhb="mp4a";b.iBa="enca";b.Nhb="ec-3";b.Lhb="avc1";b.jBa="encv";b.Phb="hvcC";b.Ohb="hev1";b.Mhb="dvhe";b.Rhb="vp09";b.Z_=0;b.QP=1;b.Oea="position:relative;width:100%;height:100%;overflow:hidden";b.TAa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},77705:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.pWa=b.mra=void 0;c=a(45146);l=a(3887);f=a(32687);(function(){var d,g,m;function k(h){(0,c.oa)(void 0 !== d[h]);return d[h];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;m=/[", ]/;b.pWa=function(h){return (0,f.Wc)(h)?(0,f.yb)(h)?h:(0,f.sg)(h)?h.replace(g,k):(0,f.b3a)(h)?h:isNaN(h)?"NaN":"":"";};b.mra=function(h){var n,p;n=b.pWa;p="";(0,l.Tf)(h,function(q,u){q=n(q) + "=" + n(u);m.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},45146:function(r,b,a){var f,k,d;function c(){d || (d=f.Ba.get(k.Dw));return d;}function l(g,m){return c().assert(g,m);}Object.defineProperty(b,"__esModule",{value:!0});b.VBb=b.Oka=b.OBb=b.SBb=b.IK=b.HS=b.RBb=b.TBb=b.IS=b.CWa=b.QBb=b.PBb=b.oa=b.UBb=b.phb=void 0;f=a(31276);k=a(90597);b.phb=function(){l(!1);};b.UBb=!0;d=void 0;b.oa=l;b.PBb=function(g,m){return c().cub(g,m);};b.QBb=function(g,m){return c().dub(g,m);};b.CWa=function(g,m){return c().L2(g,m);};b.IS=function(g,m){return c().jub(g,m);};b.TBb=function(g,m){return c().hub(g,m);};b.RBb=function(g,m){return c().K2(g,m);};b.HS=function(g,m){return c().fub(g,m);};b.IK=function(g,m){return c().iub(g,m);};b.SBb=function(g,m){return c().gub(g,m);};b.OBb=function(g,m){return c().bub(g,m);};b.Oka=function(g,m){return c().eub(g,m);};b.VBb=function(){return c().mOb();};},32219:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Df=void 0;b.Df=function(a){return setTimeout(a,0);};},22894:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;b.wEa=function(a){var f,k,d,g;function c(){if(d)for(var m;m=f.pop();){m(g);}}function l(m){d=!0;g=m;c();}f=[];return function(m){f.push(m);k || (k=!0,a(l));c();};};},37509:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.f6=b.Zq=b.g6=b.xB=b.Rk=b.fe=void 0;r=a(94886);c=a(32219);l=a(22365);b.fe=new r.Tj();b.Rk=1;b.xB=2;b.g6=3;b.Zq=4;b.f6=5;(0,c.Df)(function(){var k,d,g;function f(m,h){if(d)d.on(m,h);else ob.addEventListener(m,h);}k=ob.jQuery;d=k && k(ob);k=(k=ob.netflix) && k.cadmium && k.cadmium.addBeforeUnloadHandler;g=l.Hg.hidden;k?k(function(m){b.fe.Dc(b.Rk,m);}):f("beforeunload",function(m){b.fe.Dc(b.Rk,m);});f("keydown",function(m){b.fe.Dc(b.xB,m);});f("resize",function(){b.fe.Dc(b.g6);});l.Hg.addEventListener("visibilitychange",function(){g !== l.Hg.hidden && (g=l.Hg.hidden,b.fe.Dc(b.Zq));});});(function(){ob.addEventListener("error",function(f){b.fe.Dc(b.f6,f);return !0;});})();},52828:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(36129);c=a(31276);l=a(31701);a=a(11479);c.Ba.get(a.Oh).register(r.U.LFa,function(f){c.Ba.get(l.vDa)().then(function(){f({ia:!0});}).catch(function(k){c.log.error("error in initializing indexedDb debug tool",k);f({ia:!0});});});},15208:function(r,b,a){var m,h,n,p,q;function c(u){var t,w;(0,h.IS)(u);if((0,p.sg)(u) && b.ZFa.test(u)){t=u.split(".");if(4 === t.length){for(var v=0;v < t.length;v++){w=(0,q.Ui)(t[v]);if(0 > w || !(0,p.OB)(w,0,255) || 1 !== t[v].length && 0 === t[v].indexOf("0"))return;}return u;}}}function l(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.Ui)(u[0]) << 24,t+=(0,q.Ui)(u[1]) << 16,t+=(0,q.Ui)(u[2]) << 8,t + (0,q.Ui)(u[3]));}function f(u){var t,v;(0,h.IS)(u);if((0,p.sg)(u) && u.match(b.$Fa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=k(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){v=parseInt(t[u],16);if(!(0,p.OB)(v,0,m.xHa))return;}return t.join(":");}}}function k(u){var t;u=l(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,v,w;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);v=8 - (t.length + u.length);if(1 > v)return [];for(w=0;w < v;w++){t.push("0");}for(w=0;w < u.length;w++){t.push(u[w]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.Lkb=b.Qkb=b.Nkb=b.Mkb=b.Pkb=b.Kkb=b.Okb=b.rD=b.$Fa=b.ZFa=void 0;m=a(33096);h=a(45146);n=a(22365);p=a(32687);q=a(3887);b.ZFa=/^[0-9.]*$/;b.$Fa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.rD="0000000000000000";b.Okb=c;b.Kkb=l;b.Pkb=f;b.Mkb=k;b.Nkb=d;b.Qkb=function(u,t,v){var w,y,x,z;w=c(u);y=f(u);x=c(t);z=f(t);if(!w && !y || !x && !z || w && !x || y && !z)return !1;if(u === w)return (v=g(v),(l(u) & v) !== (l(t) & v)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(w=(0,n.WI)(v / b.rD.length);w--;){if(u[w] !== t[w])return !1;}v%=b.rD.length;if(0 !== v)for((u=parseInt(u[w],16).toString(2),t=parseInt(t[w],16).toString(2),u=b.rD.substring(0,b.rD.length - u.length) + u,t=b.rD.substring(0,b.rD.length - t.length) + t,w=0);w < v;w++){if(u[w] !== t[w])return !1;}return !0;}return !1;};b.Lkb=g;},32687:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Kp=b.b3a=b.eM=b.sg=b.iqa=b.LOb=b.xOb=b.$pa=b.OB=b.n3a=b.yb=b.hqa=b.isArray=b.I3a=b.vt=b.Wc=b.is=void 0;r=a(76564);b.is=r.sD;b.Wc=function(c){return b.is.qg(c);};b.vt=function(c){return b.is.TR(c);};b.I3a=function(c){return b.is.vha(c);};b.isArray=function(c){return b.is.DA(c);};b.hqa=function(c){return b.is.uSa(c);};b.yb=function(c,l,f){return b.is.Yj(c,l,f);};b.n3a=function(c,l,f){return b.is.cia(c,l,f);};b.OB=function(c,l,f){return b.is.UR(c,l,f);};b.$pa=function(c){return b.is.CR(c);};b.xOb=function(c){return b.is.Urb(c);};b.LOb=function(c){return b.is.Vrb(c);};b.iqa=function(c){return b.is.vSa(c);};b.sg=function(c){return b.is.jp(c);};b.eM=function(c){return b.is.Am(c);};b.b3a=function(c){return b.is.g2(c);};b.Kp=function(c){return b.is.i2(c);};},2734:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(31276);b=a(36410);a=a(34126);r.Ba.get(b.UI).U9(a.rda.mib,function(c){var l,f;l=c.level;if(!ob._cad_global.config || l <= ob._cad_global.config.dRb){c=c.zaa();f=ob.console;1 >= l?f.error(c):2 >= l?f.warn(c):f.log(c);}});},73100:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);r=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);r.Ba.get(a.Oh);!1;},8825:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ah=b.Slb=b.Vw=void 0;c=a(32687);b.Vw=b.Vw || (function(l,f,k){return l >= f?l <= k?l:k:f;});b.Slb=function(l,f,k,d,g){return (l - f) * (g - d) / (k - f) + d;};b.ah=function(l){if((0,c.yb)(l))return (l / 1E3).toFixed(3);};},87051:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Z7b=b.Xnb=b.Vnb=b.Unb=b.Wnb=void 0;c=a(32687);l=a(22365);b.Wnb=function(f,k,d){for(d=(d - f.length) / k.length;0 < d--;){f+=k;}return f;};b.Unb=function(f,k,d){d=(0,c.sg)(d)?d:"...";return f.length <= k?f:f.substr(0,f.length - (f.length + d.length - k)) + d;};b.Vnb=function(f,k){var g;for(var d=1;d < arguments.length;++d){;}g=l.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(m,h){return "undefined" != typeof g[h]?g[h]:m;});};b.Xnb=function(f){for(var k=f.length,d=new Uint16Array(k),g=0;g < k;g++){d[g]=f.charCodeAt(g);}return d.buffer;};b.Z7b=function(f){var k;k=new Uint8Array(f.length);Array.prototype.forEach.call(f,function(d,g){k[g]=d.charCodeAt(0);});return k;};},52569:function(r,b,a){var m,h,n,p,q,u;function c(){var t,v;if(t=b.S5.MQa)return t;t=p.g0.search.substr(1);v=t.indexOf("#");0 <= v && (t=t.substr(0,v));t=l(t);return b.S5.MQa=t;}function l(t){for(var v=/[+]/g,w=(t || "").split("&"),y={},x,z=0;z < w.length;z++){t=(0,n.trim)(w[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(v,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(v,"%20")):y[t.toLowerCase()]=null;}return y;}function f(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function k(t){return f(t.constructor);}function d(t){return p.sort.call(t,function(v,w){return v - w;});}function g(t){for(var v=0,w=t.length;w--;){v+=t[w];}return v;}Object.defineProperty(b,"__esModule",{value:!0});b.yXb=b.RF=b.D_a=b.jqa=b.uXb=b.A3a=b.Shb=b.Thb=b.ZGb=b.pK=b.nyb=b.f5=b.iGb=b.OG=b.jhb=b.VO=b.khb=b.bZ=b.ihb=b.jOb=b.createElement=b.BS=b.aYb=b.Hsa=b.rna=b.getFunctionName=b.kW=b.S5=b.PKb=b.e$a=b.eSa=b.xVa=b.lZb=b.PA=b.dVa=void 0;m=a(33096);h=a(31276);n=a(3887);p=a(22365);q=a(32687);u=a(82100);b.dVa=function(t,v){if(t === v)return !0;if(!t || !v)return !1;for(var w in t){if(t.hasOwnProperty(w) && (!v.hasOwnProperty(w) || t[w] !== v[w]))return !1;}return !0;};b.PA=b.PA || (function(t,v){if(t.length == v.length){for(var w=t.length;w--;){if(t[w] != v[w])return !1;}return !0;}return !1;});b.lZb=function(t){var v;if(t){v=t.length;if(v)return (v=(0,n.$9a)(0,v - 1),t[v]);}};b.xVa=function(t,v){if(t.length != v.length)return !1;t.sort();v.sort();for(var w=t.length;w--;){if(t[w] !== v[w])return !1;}return !0;};b.eSa=function(t,v,w){function y(){t.removeEventListener(v,y);w.apply(this,arguments);}t.addEventListener(v,y);};b.e$a=function(){var t,v,w,y,x,z;t=p.Hg.cookie.split("; ");v=t.length;x={};for(w=0;w < v;w++){if(y=(0,n.trim)(t[w])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.PKb=c;b.S5=Object.assign(c,{MQa:void 0});b.kW=l;b.getFunctionName=f;b.rna=k;b.Hsa=function(t){var v;v="";(0,q.isArray)(t) || (0,q.hqa)(t)?v=p.reduce.call(t,function(w,y){return w + (32 <= y && 128 > y?(0,p.ANa)(y):".");},""):(0,q.sg)(t)?v=t:(0,n.Tf)(t,function(w,y){v+=(v?", ":"") + "{" + w + ": " + ((0,q.Kp)(y)?f(y) || "function":y) + "}";});return "[" + k(t) + " " + v + "]";};b.aYb=function(t,v){t.firstChild?t.insertBefore(v,t.firstChild):t.appendChild(v);};b.BS=b.BS || (function(t){var v;v="";(0,n.Tf)(t,function(w,y){v+=(v?";":"") + w + ":" + y;});return v;});b.createElement=b.createElement || (function(t,v,w,y){var x;x=p.Hg.createElement(t);v && (x.style.cssText=v);w && (x.innerHTML=w);y && (0,n.Tf)(y,function(z,A){x.setAttribute(z,A);});return x;});b.jOb=function(t,v){var w;w=t[0];if(v <= w[0])return w.slice(1);for(var y=1,x;x=t[y++];){if(v <= x[0]){t=(v - w[0]) / (x[0] - w[0]);v=[];for(y=1;y < w.length;y++){v.push((w[y] || 0) + t * ((x[y] || 0) - (w[y] || 0)));}return v;}w=x;}return w.slice(1);};b.ihb=function(t,v){var x;for(var w={},y=0;y < v.length;y++){x=v[y];if("string" != typeof x && "number" != typeof x)return !1;w[v[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!w[x]))return !1;}return !0;};b.bZ=d;b.khb=g;b.VO=function(t,v){var w,y,x,z;w=-1;y=t.length;if(1 === arguments.length){for(;++w < y && !(null != (x=t[w]) && x <= x);){x=void 0;}for(;++w < y;){null != (z=t[w]) && z > x && (x=z);}}else {for(;++w < y && !(null != (x=v.call(t,t[w],w)) && x <= x);){x=void 0;}for(;++w < y;){null != (z=v.call(t,t[w],w)) && z > x && (x=z);}}return x;};b.jhb=function(t,v){var w,y,x,z;w=-1;y=t.length;if(1 === arguments.length){for(;++w < y && !(null != (x=t[w]) && x <= x);){x=void 0;}for(;++w < y;){null != (z=t[w]) && x > z && (x=z);}}else {for(;++w < y && !(null != (x=v.call(t,t[w],w)) && x <= x);){x=void 0;}for(;++w < y;){null != (z=v.call(t,t[w],w)) && x > z && (x=z);}}return x;};b.OG=function(t){return (0,q.Kp)(t.then)?t:new Promise(function(v,w){t.oncomplete=function(){v(t.result);};t.onerror=function(){w(t.error);};});};b.iGb=function(t,v){var y,x,z,A,B,C;function w(D){0 > y.indexOf(D) && (0,q.yb)(D) && y.push(D);}t=t.slice();d(t);y=[];if(!v || !v.length)return t;if(!t.length)return [];x=v.length;try{for(;x--;){A="" + v[x];B=(0,n.Ui)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){C=t[z];if(C < B){w(C);break;}}break;case "+":for(z=0;z < t.length;z++){if((C=t[z],C > B)){w(C);break;}}break;default:0 <= t.indexOf(B) && w(B);}}}catch(D){}y.length || y.push(t[0]);d(y);return y;};b.f5=b.f5 || (function(t,v,w){var y;if(t / v > w){y=(0,p.yn)(v * w);t=v;}else (y=t,t=(0,p.yn)(t / w));return {width:y,height:t};});b.nyb=function(t,v,w){for(var y=[],x=0;x < v;x++){y.push((0,p.PHa)(t[x] - w,2));}return (0,p.QHa)(g(y) / y.length);};b.pK=function(t,v){var w;w=t.length;v=(w - 1) * v + 1;if(1 === v)return t[0];if(v == w)return t[w - 1];w=(0,p.WI)(v);return t[w - 1] + (v - w) * (t[w] - t[w - 1]);};b.ZGb=function(t,v){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");v=(0,q.isArray)(v)?v:[v];for(var w=t.length,y=0;y < w;y++){for(var x=0;x < v.length;x++){if(t[y].type == v[x])return t[y];}}throw Error("Box not found " + v);};b.Thb=function(t){return t.SIb("trak/mdia/minf/stbl/stsd/" + m.iBa + "|" + m.jBa).children.filter(function(v){return "sinf" == v.type && v.ufc.schm.nic == u.pu;})[0].SIb("schi/tenc").eo;};b.Shb=function(t){var w;function v(y,x){var z;z=w[y];w[y]=w[x];w[x]=z;}w=new Uint8Array(t);v(0,3);v(1,2);v(4,5);v(6,7);return w;};b.A3a=function(){return (0,q.Kp)(p.ze.requestMediaKeySystemAccess);};b.uXb=function(t){return function(v){return v && v[t];};};(0,q.Kp)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,v){var w,y;void 0 === t && (t=0);void 0 === v && (v=this.byteLength);t=Math.floor(t);v=Math.floor(v);0 > t && (t+=this.byteLength);0 > v && (v+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);if(0 >= v - t)return new ArrayBuffer(0);w=new ArrayBuffer(v - t);y=new Uint8Array(w);t=new Uint8Array(this,t,v - t);y.set(t);return w;});b.jqa=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.D_a=function(){var t,v;t=new ArrayBuffer(4);v=new Uint8Array(t);t=new Uint32Array(t);v[0]=161;v[1]=178;v[2]=195;v[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.RF=function(){var t,v,w;try{t=/playercore.*js/;v=p.yu.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(v && 0 < v.length){w=(0,p.yn)(v[0].duration);return JSON.stringify(w);}}catch(y){}};b.yXb=function(t,v,w){if(t && t.length){if(w && w.vxb)try{t.forEach(function(y,x){var z;z=(x=w.vxb[x]) && x.media;z && (0,q.sg)(z)?(!1,z=(0,h.Hq)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:v,Cc:x.cdn}):h.log.warn("chunk not in cache",y.tg);});}catch(y){h.log.error("error reading cached chunks",y);}else h.log.warn("chunks not available in cached stream",w.type);}else h.log.warn("chunks not available in mediabuffer",w.type);};},3887:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Iyb=b.Ml=b.Vf=b.Vxb=b.ue=b.Fv=b.trim=b.apa=b.hdb=b.$9a=b.hWb=b.Ui=b.QSa=b.YTa=b.Vd=b.Tf=void 0;c=a(45146);l=a(22365);f=a(32687);b.Tf=function(k,d){for(var g in k){k.hasOwnProperty(g) && d(g,k[g]);}};b.Vd=b.Vd || (function(k,d,g){var m,h,n;if(d)if(g){m=g.jV;h=g.prefix;n=g.b9;(0,b.Tf)(d,function(p,q){if(!n || (0,f.Wc)(q))k[(h || "") + (m?p.toLowerCase():p)]=q;});}else (0,b.Tf)(d,function(p,q){k[p]=q;});return k;});b.YTa=function(k,d,g,m){var h;if(k){h=k[d];(0,f.Kp)(h) && (g=h.apply(k,l.slice.call(arguments,3)));}return g;};b.QSa=function(k){for(var d={},g=k.length;g--;){d[k[g]]=!0;}return d;};b.Ui=b.Ui || (function(k){return parseInt(k,10);});b.hWb=function(k){return (/^true$/i).test(k);};b.$9a=function(k,d){return (0,l.yn)(k + (0,l.a0)() * (d - k));};b.hdb=function(k){return JSON.stringify(k,null,"  ");};b.apa=(function(){var d,g;function k(m){(0,c.oa)(void 0 !== d[m]);return d[m];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(m){return m.replace(g,k);};})();b.trim=(function(){var k;k=/^\s+|\s+$/gm;return function(d){return d.replace(k,"");};})();b.Fv=function(k){return Array.isArray(k)?k:[k];};b.ue=b.ue || (function(k){var d,g,m;if(k){d=k.stack;g=k.number;m=k.message;m || (m="" + k);d?(k="" + d,0 != k.indexOf(m) && (k=m + "\n" + k)):k=m;g && (k+="\nnumber:" + g);return k;}});b.Vxb=function(k){var m;for(var d=0;d < arguments.length;++d){;}d=0;for(var g=arguments.length;d < g;){m=arguments[d++];if((0,f.Wc)(m))return m;}};b.Vf=function(k){return (0,f.yb)(k)?k.toFixed(0):void 0;};b.Ml=function(k){return (0,f.yb)(k)?(k / 1E3).toFixed(0):void 0;};b.Iyb=function(k){for(var d=[],g=0;g < k.length;g++){d[g]=k[g];}return d;};},29204:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C;function c(D){return (D=b.config.G6b[l(D)])?D:{};}function l(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.pyb=b.qyb=b.oVa=b.E3=b.pVa=b.fka=b.config=void 0;f=a(33096);k=a(52569);d=a(31276);g=a(34231);m=a(45146);h=a(56800);n=a(75568);p=a(3887);a(87386);q=a(22365);u=a(32687);t=a(93294);v=a(45118);w=a(31850);y=a(5614);x=a(72574);z=a(5021);A=a(91581);B=a(81918);C=a(88195);b.pVa=function(D,F){var La,Xa,ab,aa,na,Ca,Ra,Q,da;function G(P,Y){(0,p.Tf)(P,function(sa,Ha){(0,u.Kp)(Ha)?Y[sa]=Ha.call(void 0,Y[sa]):(0,u.vt)(Ha) && (Y[sa]=Y[sa] || ({}),G(Ha,Y[sa]));});}function E(P,Y,sa,Ha){for(var Wa=[],$a=3;$a < arguments.length;++$a){Wa[$a - 3]=arguments[$a];}return function(fb){(0,u.Wc)(fb) && (sa=fb);(0,m.oa)((0,u.Kp)(P));return P.apply(void 0,[Y,sa].concat(ca(Wa)));};}function H(P){P=P.toLowerCase();aa.hasOwnProperty(P) && (ab[P]=aa[P],na[P]=aa[P]);return P;}function M(P,Y,sa){var Ha;P=P.toLowerCase();if(ab.hasOwnProperty(P)){Ha=ab[P];try{Ha=sa?sa(Ha):Ha;}catch(Wa){Ha=void 0;}if(void 0 !== Ha)return Ha;(0,m.oa)(!1);d.log.error("Invalid configuration value. Name: " + P);}return Y;}function L(P,Y,sa,Ha){return M(P,Y,function(Wa){(0,u.sg)(Wa) && (Wa=(0,p.Ui)(Wa));if((0,u.n3a)(Wa,sa,Ha))return Wa;});}function K(P,Y,sa,Ha){return M(P,Y,function(Wa){(0,u.sg)(Wa) && (Wa=(0,p.Ui)(Wa));if((0,u.OB)(Wa,sa,Ha))return Wa;});}function O(P,Y,sa,Ha){return M(P,Y,function(Wa){(0,u.sg)(Wa) && (Wa=parseFloat(Wa));if((0,u.yb)(Wa,sa,Ha))return Wa;});}function J(P,Y,sa){return M(P,Y,function(Ha){if(sa?sa.test(Ha):(0,u.sg)(Ha))return Ha;});}function I(P,Y){return M(P,Y,function(sa){if("true" == sa || !0 === sa)return !0;if("false" == sa || !1 === sa)return !1;});}function N(P,Y){return M(P,Y,function(sa){if((0,u.sg)(sa))return JSON.parse((0,q.h0)(sa));if((0,u.vt)(sa))return sa;});}function R(P,Y,sa,Ha,Wa,$a){var fb;P=P.toLowerCase();ab.hasOwnProperty(P) && (fb=ab[P]);if(!(0,u.Wc)(fb))return Y;if((0,u.sg)(fb))if(fb[0] !== sa)fb=Ha(fb);else try{fb=JSON.parse((0,q.h0)(fb));}catch(sb){fb=void 0;}if(void 0 === fb)return Y;for(P=0;P < Wa.length;P++){if(!Wa[P](fb))return Y;}return $a?$a(fb):fb;}function U(P,Y,sa,Ha,Wa){return R(P,Y,"[",function($a){$a=$a.split("|");for(var fb=$a.length;fb--;){$a[fb]=(0,p.Ui)($a[fb]);}return $a;},[function($a){return (0,u.isArray)($a) && 0 < $a.length;},function($a){for(var fb=$a.length;fb--;){if(!(0,u.OB)($a[fb],sa,Ha))return !1;}return !0;},function($a){return void 0 === Wa || $a.length >= Wa;}]);}function ja(P,Y){return R(P,Y,"[",function(sa){sa=(0,u.isArray)(sa)?sa:sa.split("|");for(var Ha=sa.length;Ha--;){try{sa[Ha]=JSON.parse((0,q.h0)(sa[Ha]));}catch(Wa){sa=void 0;break;}}return sa;},[function(sa){return (0,u.isArray)(sa) && 0 < sa.length;},function(sa){for(var Ha=sa.length;Ha--;){if(!(0,u.Wc)(sa[Ha]) || !(0,u.vt)(sa[Ha]))return !1;}return !0;}]);}function ra(P,Y){var sa;sa=ka(P,[]);return sa && 0 < sa.length?(0,C.sh)(sa):ja(P,Y);}function ka(P,Y,sa,Ha){return R(P,Y,"[",function(Wa){return (0,u.isArray)(Wa)?Wa:Wa.split("|");},[function(Wa){return (0,u.isArray)(Wa) && 0 < Wa.length;},function(Wa){for(var $a=Wa.length;$a--;){if(sa?!sa.test(Wa[$a]):!(0,u.eM)(Wa[$a]))return !1;}return !0;},function(Wa){return void 0 === Ha || Wa.length >= Ha;}]);}function ua(P,Y,sa){return R(P,Y,"{",function(Ha){var Wa,fb,sb;Wa={};Ha=Ha.split(";");for(var $a=Ha.length;$a--;){fb=Ha[$a];sb=fb.indexOf(":");if(0 >= sb)return;Wa[fb.substring(0,sb)]=fb.substring(sb + 1);}return Wa;},[function(Ha){return (0,u.vt)(Ha) && 0 < Object.keys(Ha).length;},function(Ha){if(sa)for(var Wa in Ha){if(!sa.test(Ha[Wa]))return !1;}return !0;}],function(Ha){var Wa;Wa={};(0,p.Vd)(Wa,Y);(0,p.Vd)(Wa,Ha);return Wa;});}function Aa(P){var Y;Y=[];(0,p.Tf)(P,function(sa,Ha){var Wa;try{Wa="videoapp" === sa.toLowerCase()?"[object object]":JSON.stringify(Ha);}catch($a){Wa="cantparse";}Y.push(sa + "=" + Wa);});return Y.join("\n");}La=/^[0-9]+[%]?$/;Xa=/^[0-9]*$/;na={};Ca=d.Ba.get(g.wn);Ra=d.Ba.get(y.fJ);(function(P){function Y(sa){sa.split(",").forEach(function(Ha){var Wa;Wa=Ha.indexOf("=");0 < Wa && (ab[Ha.substring(0,Wa).toLowerCase()]=Ha.substring(Wa + 1));});}ab={};(0,p.Vd)(ab,P);D && D.length && q.forEach.call(D,function(sa){(0,u.sg)(sa)?Y(sa):(0,u.vt)(sa) && (0,p.Vd)(ab,sa,{jV:!0});});aa=(0,p.Vd)({},(0,k.S5)(),{jV:!0});if(P=(0,k.e$a)().cadmiumconfig)(d.log.info("Config cookie loaded",P),Y(P));if(d.Ba.get(A.An).w2 || ab.istestaccount)((0,p.Vd)(ab,aa),na=aa);})(F);b.config={};Q={UEb:E(I,H("enableXHEAAC"),!1),VXa:E(I,H("enableDDPlus20"),!0),UXa:E(I,H("enableDDPlus"),!0),VK:E(I,H("enableDDPlusAtmos"),!1),xEb:E(I,H("enableLSSDH"),!0),uEb:E(I,H("enableHEVC"),!1),f8a:E(I,H("overrideEnableHEVC"),!1),Gla:E(I,H("enableHDR"),!1),e8a:E(I,H("overrideEnableHDR"),!1),d8a:E(I,H("overrideEnableDV"),!1),TK:E(I,H("enableAVCHigh"),Ra.TK),b8a:E(I,H("overrideEnableAVCHigh"),!1),Ela:E(I,H("enableAVCHighLive"),Ra.Ela),c8a:E(I,H("overrideEnableAVCHighLive"),!0),QEb:E(I,H("enableVP9"),!1),g8a:E(I,H("overrideEnableVP9"),!1),fEb:E(I,H("enableAV1"),!1),a8a:E(I,H("overrideEnableAV1"),!1),XVb:E(I,H("overrideEnableXHEAAC"),!1),VVb:E(I,"overrideEnableAllAudioProfiles",!1),WVb:E(I,"overrideEnableAllVideoProfiles",!1),GEb:E(I,H("enablePRK"),!1),pEb:E(I,H("enableDV"),!1),YXa:E(I,H("enableHWDRM"),!1),wEb:E(I,H("enableImageSubs"),!0),JE:E(ra,H("audioProfiles"),Ra.JE),tEb:E(I,H("enableFullHdForWidevineL3"),!1),XXa:E(I,H("enableFullHdForWidevineL1"),!1),PEb:E(I,H("enableUHD"),!0),Vaa:E(K,"videoCapabilityDetectorType",h.xl.Ew),Bia:E(K,"audioCapabilityDetectorType",h.ou.Ew),yk:E(ra,H("videoProfiles"),Ra.yk),mr:E(ra,H("liveVideoProfiles"),Ra.mr),lSa:E(ra,H("additionalVideoProfiles"),[]),yrb:E(ka,H("timedTextProfiles"),Ra.au),au:function(){return Q.yrb().filter(function(P){return P === n.um.eca?Q.xEb():P === n.um.YI?Q.wEb():!0;});},endpoint:E(I,H("endpoint"),!1),version:E(J,"version","unknown"),vEb:E(I,H("enableHdcp"),!1),Ar:E(I,H("prepareCadmium"),!1),Zrb:E(I,H("acceptManifestOnPrepareItemParams"),!0),CXb:E(N,"ppmconfig",{maxNumberTitlesScheduled:1}),aT:E(I,H("enableLdlPrefetch"),!1),dYa:E(I,H("enableMediaPrefetch"),!1),BEb:E(I,H("enableManifestCache"),!0),LCb:E(I,H("deleteCachedManifestOnPlayback"),!1),KCb:E(I,H("deleteCachedManifestOnCreate"),!1),NCb:E(I,H("deleteOtherManifestCacheOnCreate"),!1),MCb:E(I,H("deleteOtherLdlCacheOnCreate"),!1),Mhc:E(K,H("periodicPrepareLogsIntervalMilliseconds"),36E5),XXb:E(K,H("prepareManifestCacheMaxCount"),50),VXb:E(K,H("prepareLdlCacheMaxCount"),30),q9a:E(K,H("prepareManifestExpiryMilliseconds"),12E5),WXb:E(K,H("prepareLdlExpiryMilliseconds"),78E4),PXb:E(K,H("prefetcherMaxWishlistSize"),10),OXb:E(K,H("prefetcherBudgetInBytes"),Infinity),QXb:E(I,H("prefetcherOverrideItemPriority"),!0),UXb:E(J,H("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),zjc:E(N,"videoApp"),KC:E(N,"storageRules"),KHb:E(I,"ftlEnabled",!0),hpa:E(K,H("imageSubsResolution"),0),tNb:E(K,H("imageSubsMaxBuffer"),Ra.URb.ca(x.Wr),0),rS:E(I,H("captureBatteryStatus"),!1),rIb:E(K,H("getBatteryApiTimeoutMilliseconds"),5E3),Ul:E(J,H("keySystemId"),Ra.Ul),a4a:E(ka,H("keySystemList"),void 0,void 0),Zya:E(I,H("validateKeySystemAccess"),!1),KSb:E(K,H("hdcpGlobalTimeout1"),1E4),LSb:E(K,H("hdcpGlobalTimeout2"),1E4),chc:E(K,H("hdcpQueryTimeout1"),1E3),dhc:E(K,H("hdcpQueryTimeout2"),1E3),i6a:E(K,H("hdcpQueryTimeout2"),100),j6a:E(I,H("microsoftHwdrmRequiresHevc"),!1),MSb:E(I,H("microsoftHwdrmRequiresQHD"),!1),h6a:E(I,H("microsoftClearLeadRequiresSwdrm"),!1),HSb:E(I,H("microsoftEnableDeviceInfo"),!1),ISb:E(I,H("microsoftEnableHardwareInfo"),!1),JSb:E(I,H("microsoftEnableHardwareReset"),!1),N7b:E(I,H("useHevcCodecForDolbyVision"),!1),CEb:E(I,H("enableMediaCapabilities"),!1),BXb:E(I,H("powerEfficientForVideo"),!1),DEb:E(I,H("enableMediaCapabilitiesSourceBufferCheck"),!1),$Qb:E(I,"logMediaPipelineStatus",!1),OW:E(I,H("renderDomDiagnostics"),!0),$4a:function(){return -1;},nM:E(L,H("logDisplayMaxEntryCount"),Ra.nM,-1),dRb:E(L,H("logToConsoleLevel"),-1),bec:E(L,H("bladerunnerCmdHistorySize"),10),$x:function(){return Ca.$x;},Rqa:E(I,"logErrorIfEsnNotProvided",!0),Pla:E(I,"enforceSinglePlayback",Ra.Pla),H4:E(I,"enforceSingleSession",Ra.H4),Tja:E(I,"closeOtherPlaybacks",!0),mub:E(K,"asyncLoadTimeout",15E3,1),pRb:E(K,"mainThreadMonitorPollRate",0),XF:function(){return Ca.XF;},qK:function(){return Ca.qK;},pY:function(){return Ca.pY;},Rfb:E(K,H("verbosePlaybackInfoDenominator"),0),X9:E(I,"renderTimedText",!0),DXb:E(I,"preBufferTimedText",!0),bGb:E(I,"fatalOnTimedTextLoadError",!0),aya:E(ua,"timedTextStyleDefaults",{}),yaa:E(ua,"timedTextStyleOverrides",{}),xaa:E(ua,"timedTextFontFamilyMapping",Ra.xaa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),rO:E(K,"timedTextSimpleFallbackThreshold",Ra.rO.ca(x.Wr)),A6:E(ka,H("increasedMediumScaleLanguageList"),Ra.A6),B6:E(ka,H("increasedSmallScaleLanguageList"),Ra.B6),w7:E(ka,H("lessBoldLanguageList"),Ra.w7),Lka:E(J,H("customDfxpUrl")),OEb:E(I,H("enableSubtitleTrackerLogging"),!1),B1b:E(I,H("sendSubtitleQoeLogblobOnMidplay"),!1),vja:E(U,"cdnIdWhiteList",[]),uja:E(U,"cdnIdBlackList",[]),Sma:E(J,H("forceAudioTrack")),Wma:E(J,H("forceTimedTextTrack")),cSb:E(K,H("maxRetriesTimedTextDownload"),0),J5b:E(K,H("timedTextRetryInterval"),8E3),h4b:E(J,"storageType","idb",/^(none|fs|idb|ls)$/),W4a:E(K,"lockExpiration",1E4),YQb:E(K,"lockRefresh",3E3),Mwb:E(I,"captureUnhandledExceptions",!0),sNb:E(I,"ignoreUnhandledExceptionDuringPlayback",!0),J6b:E(I,"unhandledExceptionsArePlaybackErrors",!1),Meb:E(J,"unhandledExceptionSource",""),gYb:E(I,"preserveLastFrame",!1),USb:E(K,"minBufferingTimeInMilliseconds",4E3),OYb:E(K,"progressBackwardsGraceTimeMilliseconds",4E3),PYb:E(K,"progressBackwardsMinPercent",10),ovb:E(J,H("bookmarkIgnoreBeginning"),"0",La),pvb:E(J,H("bookmarkIgnoreEnd"),"5%",La),qvb:E(J,H("bookmarkIgnoreEndForBranching"),"60000",La),Bra:E(K,"maxParallelConnections",3),uva:E(I,"reportThroughputInLogblobs",!0),Kv:E(K,"minAudioMediaRequestDuration",16E3),SSb:E(K,"minAudioMediaRequestDurationBranching",0),Iy:E(K,"minVideoMediaRequestDuration",4E3),aTb:E(K,"minVideoMediaRequestDurationVariableGOP",0),$Sb:E(K,"minVideoMediaRequestDurationBranching",0),Wra:E(K,"minAudioMediaRequestSizeBytes",0),$ra:E(K,"minVideoMediaRequestSizeBytes",0),NDb:E(I,"droppedFrameRateFilterEnabled",!1),ODb:E(K,"droppedFrameRateFilterMaxObservation",60,10,1E3),QDb:E(function(P,Y,sa,Ha,Wa,$a){return R(P,Y,"[",function(fb){fb=fb.split(";");for(var sb=fb.length;sb--;){fb[sb]=fb[sb].split("|");for(var Jb=fb[sb].length;Jb--;){fb[sb][Jb]=(0,p.Ui)(fb[sb][Jb]);}}return fb;},[function(fb){return (0,u.isArray)(fb) && 0 < fb.length;},function(fb){for(var sb=fb.length;sb-- && void 0 !== fb;){if(!(0,u.isArray)(fb[sb]))return !1;for(var Jb=fb[sb].length;Jb--;){if(!(0,u.OB)(fb[sb][Jb],sa,Ha))return !1;}}return !0;},function(fb){if(void 0 !== Wa)for(var sb=fb.length;sb--;){if(Wa !== fb[sb].length)return !1;}return !0;},function(fb){return void 0 === $a || fb.length >= $a;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),PDb:E(K,"droppedFrameRateFilterMinHeight",384),RDb:E(U,"droppedFramesPercentilesList",[]),NSb:E(I,"microsoftScreenSizeFilterEnabled",!1),IPb:E(I,"keyStatusFilterEnabled",!1),F6b:E(I,"uiLabelFilterEnabled",!0),E6b:E(N,"uiLabelFilter",{}),uCb:E(K,H("defaultVolume"),100,0,100),Cra:E(K,H("maxPlaybackRate"),2,0,16),NYa:E(I,"fastForwardAds",!1),jXa:E(I,"disableVideoRightClickMenu",!1),h8:E(K,"minDecoderBufferMilliseconds",1E3,0,f.Ow),kC:E(K,"optimalDecoderBufferMilliseconds",5E3,0,f.Ow),pta:E(K,"optimalDecoderBufferMillisecondsBranching",3E3,0,f.Ow),n8:E(K,"minimumTimeBeforeBranchDecision",3E3,0,f.Ow),A6a:E(K,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,f.Ow),Ey:E(K,"maxDecoderBufferMilliseconds",Ra.Ey.ca(z.pa),0,f.Ow),IWa:E(K,"decoderTimeoutMilliseconds",1E4,1),c7a:E(K,"noRenderTimeoutMilliseconds",0),Tfb:E(K,"videoGapsTimeoutMilliseconds",500),xWb:E(K,"pauseTimeoutLimitMilliseconds",18E5),lpa:E(K,"inactivityMonitorInterval",3E4,0),Yrb:E(U,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),ZK:E(I,"enableTrickPlay",!1),ctb:E(U,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),m6b:E(K,"trickPlayHighResolutionBitrateThreshold",1E3),n6b:E(K,"trickPlayHighResolutionThresholdMilliseconds",1E4),q6b:E(O,"trickplayBufferFactor",.5),l6b:E(K,"trickPlayDownloadRetryCount",1),tra:E(J,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),HFb:E(ka,"experimentalFilter",["throughput-wssl"]),Jja:E(J,"ciPredictorSource","throughput-ci"),hxa:E(J,"simulationDurationStrategy","default"),lsa:E(J,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),sFa:E(N,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),K5a:E(L,"maxIQRSamples",Infinity),r6a:E(L,"minIQRSamples",5),Ffb:E(I,"useResourceTimingAPI",!1),qNb:E(I,"ignoreFirstByte",!0),WFb:E(U,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),F3:E(K,"connectTimeoutMilliseconds",8E3,500),ssa:E(K,"noProgressTimeoutMilliseconds",8E3,500),Zdb:E(K,"timedTextDownloadRetryCountBeforeCdnSwitch",3),uhc:E(K,"netflixRequestExpiryTimeout",0),R8b:E(I,"webkitDecodedFrameCountIncorrectlyReported",!1),oaa:E(ka,H("supportedAudioTrackTypes"),[],void 0,1),G6:E(K,"initialLogFlushTimeout",5E3),V8a:E(J,"playdataPersistKey",Ca.$x?"unsentplaydatatest":"unsentplaydata"),yic:E(I,"sendPersistedPlaydata",!0),bXb:E(K,"playdataPersistIntervalMilliseconds",4E3),Ohc:E(K,"playdataSendDelayMilliseconds",1E4),zic:E(I,"sendPlaydataBackupOnInit",!0),bRb:E(ka,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),k6a:E(I,"midplayEnabled",!0),d8:E(K,"midplayIntervalMilliseconds",3E5),l6a:E(U,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),t4:E(K,"downloadReportDenominator",0),EDb:E(K,"downloadReportInterval",3E5),Z4a:E(K,"logConfigApplyDenominator",0),yTa:E(ua,H("bookmarkByMovieId"),{}),uT:E(I,H("forceLimitedDurationLicense"),!1),SB:E(K,H("licenseRenewalRequestDelay"),0),Rta:E(K,H("persistedReleaseDelay"),1E4),Fgc:E(I,H("limitedDurationFlagOverride"),void 0),Jab:E(K,"safariPlayPauseWorkaroundDelay",100),a9b:E(K,"workaroundValueForSeekIssue",1200),pja:E(I,H("callEndOfStream"),Ra.pja),GWb:E(I,"performRewindCheck",!0),dGb:E(I,"fatalOnUnexpectedSeeking",!0),cGb:E(I,"fatalOnUnexpectedSeeked",!0),aGb:E(I,"fatalOnManifestMistmatch",!0),C2b:E(I,H("setVideoElementSize")),Lxb:E(I,H("clearVideoSrc"),!0),VWa:E(K,H("delayPlayPause"),0),Rr:E(I,H("useTypescriptEme"),!1),yfb:E(I,H("useEncryptedEvent"),!0),US:E(J,H("drmPersistKey"),"unsentDrmData"),L9a:E(I,H("promiseBasedEme"),!1),mUb:E(I,H("nudgeSourceBuffer"),!1),Xab:E(L,H("seekDelta"),1),vW:E(I,H("preciseSeeking"),!1),EXb:E(I,H("preciseSeekingOnTwoCoreDevice"),!1),UWa:E(ua,H("delayErrorHandling")),bk:E(J,"esn",""),PYa:E(J,"fesn",""),JEb:E(I,H("enablePerformanceLogging"),!1),WXa:E(I,H("enableEmeVerboseLogging"),!1),appId:E(J,"appId","",Xa),sessionId:E(J,"sessionId","",Xa),gUa:E(J,"cdnProxyUrl"),U7b:E(I,"usePlayReadyHeaderObject",!1),vZa:E(K,"forceXhrErrorResponseCode",void 0),Ap:{rhc:E(J,"mslApiPath","/msl/"),Whc:E(J,"proxyPath",""),ow:E(J,"uiVersion"),Haa:E(J,"uiPlatform"),oec:function(){return "0";},nua:E(ka,"preferredLanguages",f.BCa,/^[a-zA-Z-]{2,5}$/,1),gHb:E(J,H("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),P4b:E(I,"supportPreviewContentPin",!0),Q4b:E(I,"supportWatermarking",!0),g3b:E(I,"showAllSubDubTracks",!1),sfc:E(I,H("failOnGuidMismatch"),!1)},K9:{enabled:E(I,"qcEnabled",!1),nn:E(J,"qcPackageId","")},Qr:E(I,"useRangeHeader",!1),bT:E(I,"enableMilestoneEventList",!0),Rub:E(ua,"authenticationKeyNames",(0,p.Vd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),c5b:E(J,"systemKeyWrapFormat"),a3b:E(I,"shouldSendUserAuthData",!0),Awa:E(I,"sendUserAuthIfRequired",Ra.Awa),U2b:E(I,"shouldClearUserData",!1),FO:E(I,"usesMsl",!0),uTb:E(I,"mslDeleteStore",!1),wTb:E(I,"mslPersistStore",!0),Nyb:E(I,"correctNetworkForShortTitles",!0),AXb:E(I,"postplayHighInitBitrate",!1),Y4b:E(I,"supportsUnequalizedDownloadables",!0),DWa:E(K,H("debugAseDenominator"),100),G2:E(K,"aseAudioBufferSizeBytes",Ra.G2.ca(x.Wr)),J2:E(K,"aseVideoBufferSizeBytes",Ra.J2.ca(x.Wr)),I2:E(K,"aseTextBufferSizeBytes",Ra.I2.ca(x.Wr)),Bt:E(K,"minInitVideoBitrate",560),WSb:E(K,"minHCInitVideoBitrate",560),Fy:E(K,"maxInitVideoBitrate",Infinity),DV:E(K,"minInitAudioBitrate",0),i8:E(K,"minHCInitAudioBitrate",0),qV:E(K,"maxInitAudioBitrate",65535),e8:E(K,"minAcceptableVideoBitrate",235),cC:E(K,"minRequiredBuffer",3E4),ur:E(K,"minPrebufSize",7800),Xra:E(K,"minCheckBufferingCompleteInterval",999999),Yua:E(O,"rebufferingFactor",1),qr:E(K,"maxBufferingTime",2600),Wya:E(I,"useMaxPrebufSize",!0),$B:E(K,"maxPrebufSize",45E3),Dra:E(K,"maxRebufSize",Infinity),E6:E(ja,"initialBitrateSelectionCurve",null),z2a:E(K,"initSelectionLowerBound",560),B2a:E(K,"initSelectionUpperBound",1050),aY:E(K,"throughputPercentForAudio",15),Kia:E(K,"bandwidthMargin",10),Lia:E(I,"bandwidthMarginContinuous",!1),Mia:E(ja,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),hka:E(K,"conservBandwidthMargin",20),Nxa:E(I,"switchConfigBasedOnInSessionTput",!1),jka:E(K,"conservBandwidthMarginTputThreshold",0),ika:E(ja,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),zdb:E(I,"switchAlgoBasedOnHistIQR",!1),Oxa:E(J,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Q5a:E(L,"maxPlayerStateToSwitchConfig",-1),d5a:E(J,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),aGa:E(O,"IQRThreshold",.5),U1a:E(J,"histIQRCalcToUse","simple"),tV:E(K,"maxTotalBufferLevelPerSession",0),$S:E(I,"enableCombinedPlaygraphs",!0),UK:E(I,"enableAdPlaygraphs",!0),h$:E(I,"retainSbrOnFade",!1),gma:E(ka,"excludedContentPlaygraphIds",[]),D4:E(I,"enableDiscontiguousBuffering",!1),Uma:E(U,"forceImmediateTransitionTypeForTitles",[]),Tma:E(K,"forceImmediateTransitionExitZone",0),vY:E(I,"useBufferSizeLimiter",!1),O7b:E(I,"useLegacyFragmentRounding",!1),P1a:E(K,"highWatermarkLevel",3E4),geb:E(K,"toStableThreshold",3E4),Aaa:E(K,"toUnstableThreshold",Ra.Aaa.ca(z.pa)),jxa:E(I,"skipBitrateInUpswitch",!1),lza:E(K,"watermarkLevelForSkipStart",8E3),Woa:E(K,"highStreamRetentionWindow",9E4),bra:E(K,"lowStreamTransitionWindow",51E4),Yoa:E(K,"highStreamRetentionWindowUp",3E5),dra:E(K,"lowStreamTransitionWindowUp",3E5),Xoa:E(K,"highStreamRetentionWindowDown",6E5),cra:E(K,"lowStreamTransitionWindowDown",0),Voa:E(O,"highStreamInfeasibleBitrateFactor",.5),Ay:E(K,"lowestBufForUpswitch",15E3),dV:E(K,"lockPeriodAfterDownswitch",15E3),hra:E(K,"lowWatermarkLevel",25E3),By:E(K,"lowestWaterMarkLevel",2E4),jra:E(I,"lowestWaterMarkLevelBufferRelaxed",!1),X7:E(O,"mediaRate",1),tM:E(K,"maxTrailingBufferLen",1E4),zia:E(K,"audioBufferTargetAvailableSize",262144),aza:E(K,"videoBufferTargetAvailableSize",1048576),Y5a:E(K,"maxVideoTrailingBufferSize",8388608),C5a:E(K,"maxAudioTrailingBufferSize",393216),U4:E(O,"fastUpswitchFactor",3),sma:E(O,"fastDownswitchFactor",1),CG:E(K,"maxMediaBufferAllowed",24E4),pcb:E(I,"simulatePartialBlocks",!0),ocb:E(I,"simulateBufferFull",!0),kka:E(I,"considerConnectTime",!1),gka:E(O,"connectTimeMultiplier",1),jRb:E(K,"lowGradeModeEnterThreshold",12E4),kRb:E(K,"lowGradeModeExitThreshold",9E4),F5a:E(K,"maxDomainFailureWaitDuration",3E4),K7:E(K,"maxAttemptsOnFailure",40),Ila:E(I,"enableMaxAttemptsOnFailure",!0),zYa:E(I,"exhaustAllLocationsForFailure",!0),M5a:E(K,"maxNetworkErrorsDuringBuffering",20),L7:E(K,"maxBufferingTimeAllowedWithNetworkError",12E4),MYa:E(K,"fastDomainSelectionBwThreshold",2E3),Qdb:E(K,"throughputProbingEnterThreshold",4E4),Rdb:E(K,"throughputProbingExitThreshold",34E3),U4a:E(K,"locationProbingTimeout",1E4),TYa:E(K,"finalLocationSelectionBwThreshold",1E4),Odb:E(O,"throughputHighConfidenceLevel",.75),Pdb:E(O,"throughputLowConfidenceLevel",.4),fYa:E(I,"enablePerfBasedLocationSwitch",!1),hH:E(I,"probeServerWhenError",!0),wua:E(K,"probeRequestTimeoutMilliseconds",8E3),SR:E(I,"allowSwitchback",!0),A9a:E(K,"probeDetailDenominator",100),M7:E(K,"maxDelayToReportFailure",300),Oqa:E(K,"locationStatisticsUpdateInterval",6E4),Pyb:E(I,"countGapInBuffer",!1),qtb:E(I,"allowCallToStreamSelector",!0),Fvb:E(K,"bufferThresholdForAbort",1E4),bSb:E(K,"maxResponsesInitialTput",6),$Xa:E(I,"enableInitialTputLogging",!1),MWb:E(K,"pipelineScheduleTimeoutMs",2),sM:E(K,"maxPartialBuffersAtBufferingStart",2),gSb:E(K,"maxStreamingSkew",4E3),$Rb:E(K,"maxPendingBufferPercentage",10),s6:E(K,"headerRequestSize",4096),Xla:E(I,"estimateHeaderSize",!1),g8:E(K,"minBufferLenForHeaderDownloading",1E4),oUb:E(K,"numExtraFragmentsAllowed",2),so:E(I,"pipelineEnabled",!1),wcb:E(K,"socketReceiveBufferSize",0),S2:E(K,"audioSocketReceiveBufferSize",32768),Yaa:E(K,"videoSocketReceiveBufferSize",65536),Toa:E(K,"headersSocketReceiveBufferSize",32768),s7b:E(K,"updatePtsIntervalMs",1E3),Ivb:E(K,"bufferTraceDenominator",100),ETa:E(K,"bufferLevelNotifyIntervalMs",2E3),YR:E(K,"aseReportDenominator",0),tia:E(K,"aseReportIntervalMs",3E5),gEb:E(I,"enableAbortTesting",!1),Wrb:E(K,"abortRequestFrequency",8),r4b:E(K,"streamingStatusIntervalMs",2E3),uW:E(K,"prebufferTimeLimit",24E4),o6a:E(K,"minBufferLevelForTrackSwitch",2E3),Lta:E(K,"penaltyFactorForLongConnectTime",2),Zqa:E(K,"longConnectTimeThreshold",200),Vha:E(K,"additionalBufferingLongConnectTime",2E3),Wha:E(K,"additionalBufferingPerFailure",8E3),IW:E(K,"rebufferCheckDuration",6E4),AEb:E(I,"enableLookaheadHints",!1),hRb:E(K,"lookaheadFragments",2),YK:E(I,"enableOCSideChannel",!0),j0:E(N,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Zeb:E(I,"updateDrmRequestOnNetworkFailure",!1),FCb:E(I,"deferAseScheduling",!1),QRb:E(K,"maxDiffAudioVideoEndPtsMs",16E3),$ka:E(K,"defaultHeaderCacheSize",4),Zka:E(K,"defaultHeaderCacheDataPrefetchMs",8E3),T6a:E(I,"neverWipeHeaderCache",!0),ksa:E(K,"networkFailureResetWaitMs",2E3),jsa:E(K,"networkFailureAbandonMs",6E4),P7:E(K,"maxThrottledNetworkFailures",3),saa:E(K,"throttledNetworkFailureThresholdMs",200),gra:E(L,"lowThroughputThreshold",400),fma:E(I,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),rTb:E(I,"mp4ParsingInNative",!1),G3b:E(I,"sourceBufferInOrderAppend",!0),CN:E(I,"requireAudioStreamToEncompassVideo",!0),ptb:E(I,"allowAudioToStreamPastVideo",!0),cYa:E(I,"enableManagerDebugTraces",!1),m5a:E(K,"managerDebugMessageInterval",1E3),l5a:E(K,"managerDebugMessageCount",20),Ahc:E(I,"notifyManifestCacheEom",!1),Hvb:E(K,"bufferThresholdToSwitchToSingleConnMs",18E4),Gvb:E(K,"bufferThresholdToSwitchToParallelConnMs",12E4),l9:E(K,"periodicHistoryPersistMs",3E5),s$:E(K,"saveVideoBitrateMs",18E4),DSa:E(I,"appendMediaRequestOnComplete",!0),gza:E(I,"waitForDrmToAppendMedia",!1),Rma:E(I,H("forceAppendHeadersAfterDrm"),!1),dHb:E(I,H("forceAppendEncryptedStreamHeaderFirst"),!0),vZb:E(I,H("reappendRequestsOnSkip"),!1),BTb:E(K,"netIntrStoreWindow",36E3),YSb:E(K,"minNetIntrDuration",8E3),YFb:E(K,"fastHistoricBandwidthExpirationTime",10368E3),Yub:E(K,"bandwidthExpirationTime",5184E3),XFb:E(K,"failureExpirationTime",86400),SMb:E(K,"historyTimeOfDayGranularity",4),GFb:E(I,"expandDownloadTime",!1),gTb:E(K,"minimumMeasurementTime",500),fTb:E(K,"minimumMeasurementBytes",131072),z5b:E(K,"throughputMeasurementTimeout",2E3),SNb:E(K,"initThroughputMeasureDataSize",262144),A5b:E(J,"throughputPredictor","ewma"),y5b:E(K,"throughputMeasureWindow",5E3),E5b:E(K,"throughputWarmupTime",5E3),x5b:E(K,"throughputIQRMeasureWindow",5E3),Rkb:E(K,"IQRBucketizerWindow",15E3),syb:E(K,"connectTimeHalflife",10),n0b:E(K,"responseTimeHalflife",10),RMb:E(K,"historicBandwidthUpdateInterval",2E3),eTb:E(K,"minimumBufferToStopProbing",1E4),owa:E(J,"secondThroughputEstimator","none"),Uab:E(L,"secondThroughputMeasureWindowInMs",Infinity),rEb:E(ka,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),nGb:E(N,"filterDefinitionOverrides",{}),pCb:E(J,"defaultFilter","throughput-ewma"),c1b:E(J,"secondaryFilter","none"),OWa:E(N,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),isa:E(I,"needMinimumNetworkConfidence",!0),Pia:E(I,"biasTowardHistoricalThroughput",!0),Iha:E(I,"addHeaderDataToNetworkMonitor",!1),qxa:E(I,"startMonitorOnLoadStart",!1),tva:E(I,"reportFailedRequestsToNetworkMonitor",!1),yra:E(L,"maxFastPlayBufferInMs",Infinity),H5a:E(L,"maxFastPlayBitThreshold",Infinity),gia:E(I,"appendFirstHeaderOnComplete",!0),Ztb:E(J,"ase_stream_selector","optimized"),Kqa:E(J,"liveStreamSelectorAlgorithm","livesimple"),xpa:E(J,"initBitrateSelectorAlgorithm","default"),Yia:E(J,"bufferingSelectorAlgorithm","default"),WBb:E(J,"ase_ls_failure_simulation",""),Pka:E(I,"ase_dump_fragments",!1),Qka:E(K,"ase_location_history",0),FWa:E(K,"ase_throughput",0),XBb:E(I,"ase_simulate_verbose",!1),vXb:E(K,"pollingPeriod",150),SQb:E(K,"loadTimeMs",18E4),HRb:E(K,"marginTimeMs",1E4),vna:E(I,"getDeviceIdFromBindDevice",!1),Hha:E(I,"addFailedLogBlobsToQueue",!0),G6b:{"content-sampling":{qr:E(K,"contentSamplingMaxBufferingTime",3E3),QN:E(J,"contentSamplingSelectStartingVMAFMethod","fallback"),HR:E(I,"contentSamplingActivateSelectStartingVMAF",!0),Ct:E(K,"contentSamplingMinStartingVideoVMAF",80),BV:E(K,"contentSamplingMinAcceptableVMAF",70),HG:E(K,"contentSamplingMinAllowedVmaf",60)},billboard:{Bt:E(K,"billboardMinInitVideoBitrate",1050),Fy:E(K,"billboardMaxInitVideoBitrate",null),ur:E(K,"billboardMinPrebufSize",null),$B:E(K,"billboardMaxPrebufSize",null),qr:E(K,"billboardMaxBufferingTime",null),sM:E(K,"billboardMaxPartialBuffersAtBufferingStart",null),By:E(K,"billboardLowestWaterMarkLevel",6E3),Ay:E(K,"billboardLowestBufForUpswitch",25E3),Oxa:E(J,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Bt:E(K,"preplayMinInitVideoBitrate",1050),Fy:E(K,"preplayMaxInitVideoBitrate",null),ur:E(K,"preplayMinPrebufSize",null),$B:E(K,"preplayMaxPrebufSize",null),qr:E(K,"preplayMaxBufferingTime",null),sM:E(K,"preplayMaxPartialBuffersAtBufferingStart",null),By:E(K,"preplayLowestWaterMarkLevel",6E3),Ay:E(K,"preplayLowestBufForUpswitch",25E3)},embedded:{Bt:E(K,"embeddedMinInitVideoBitrate",1050),Fy:E(K,"embeddedMaxInitVideoBitrate",null),ur:E(K,"embeddedMinPrebufSize",null),$B:E(K,"embeddedMaxPrebufSize",null),qr:E(K,"embeddedMaxBufferingTime",null),sM:E(K,"embeddedMaxPartialBuffersAtBufferingStart",null),By:E(K,"embeddedLowestWaterMarkLevel",6E3),Ay:E(K,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Bt:E(K,"videoMerchBobHorizontalMinInitVideoBitrate",null),Fy:E(K,"videoMerchBobHorizontalMaxInitVideoBitrate",null),ur:E(K,"videoMerchBobHorizontalMinPrebufSize",null),$B:E(K,"videoMerchBobHorizontalMaxPrebufSize",null),qr:E(K,"videoMerchBobHorizontalMaxBufferingTime",null),sM:E(K,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),By:E(K,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Ay:E(K,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Bt:E(K,"miniModalHorizontalMinInitVideoBitrate",null),Fy:E(K,"miniModalHorizontalMaxInitVideoBitrate",null),ur:E(K,"miniModalHorizontalMinPrebufSize",null),$B:E(K,"miniModalHorizontalMaxPrebufSize",null),qr:E(K,"miniModalHorizontalMaxBufferingTime",500),sM:E(K,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),By:E(K,"miniModalHorizontalLowestWaterMarkLevel",null),Ay:E(K,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},REb:E(I,"enableVerbosePlaydelayLogging",!1),MEb:E(I,"enableSeamless",!1),S1a:E(K,"hindsightDenominator",0),R1a:E(K,"hindsightDebugDenominator",0),T1a:E(N,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),gYa:E(I,"enableSessionHistoryReport",!1),FXa:E(K,"earlyStageEstimatePeriod",1E4),w4a:E(K,"lateStageEstimatePeriod",3E4),N5a:E(K,"maxNumSessionHistoryStored",30),v6a:E(K,"minSessionHistoryDuration",3E4),pV:E(K,"maxActiveRequestsPerSession",3),z5a:E(K,"maxActiveRequestsSABCell100",2),Fqa:E(I,"limitAudioDiscountByMaxAudioBitrate",!0),od:E(N,"browserInfo",{}),Tvb:E(K,H("busyGracePeriod"),199),C1b:E(I,H("sendTransitionLogblob"),!0),YDb:E(I,H("editVideoFragments"),!0),EXa:E(I,H("earlyAppendSingleChildBranch"),!0),BNb:E(I,H("includeSegmentInfoOnLogblobs"),!0),MFb:E(I,"exposeTestData",!1),LFb:E(I,H("exposeErrorData"),!1),HWa:E(I,"declareBufferingCompleteAtSegmentEnd",!0),XR:E(I,H("applyProfileTimestampOffset"),!1),H9:E(N,H("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Cm:E(I,H("applyProfileStreamingOffset"),!1),Z7:E(I,H("mediaSourceSupportsNegativePts"),!1),utb:E(I,H("allowSmallSeekDelta"),!1),w3b:E(K,H("smallSeekDeltaThresholdMilliseconds"),t.H0),lEb:E(I,"enableCDMAttestedDescriptors",!1),Dva:E(I,"requireDownloadDataAtBuffering",!1),Eva:E(I,"requireSetupConnectionDuringBuffering",!1),y$a:E(I,"recordFirstFragmentOnSubBranchCreate",!1),Bfb:E(I,"useMobileVMAF",!1),bXa:E(J,"desiredVMAFTypeMobile","phone_plus_lts"),cXa:E(J,"desiredVMAFTypeNonMobile","plus_lts"),HR:E(I,"activateSelectStartingVMAF",!1),Ct:E(K,"minStartingVideoVMAF",1),BV:E(K,"minAcceptableVMAF",1),HG:E(K,"minAllowedVmaf",1),xtb:E(I,"alwaysNotifyEOSForPlaygraph",!0),EEb:E(I,"enableNewAse",!0),P7b:E(I,"useNewApi",!0),J7:E(K,"maxAllowedOutstandingRequests",4),cK:E(I,"alwaysRunUnderflowTimer",!0),Yra:E(K,"minStreamableConcurrencyWindow",3E3),Cxa:E(O,"streamableConcurrencyFactor",.3),lS:E(K,"bufferingConcurrencyWindow",7800),o3b:E(I,"singleStreamablePerBranch",!0),G4:E(I,"enableResolutionVMAFStreamFilter",!1),f$:E(N,"resolutionVMAFCappingRuleList",{}),Ota:E(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),mDb:E(I,"disableSkipping",!1),Maa:E(I,"useHLSPlayer",Ra.Maa),Vya:E(I,H("useExitZones"),!0),X_b:E(I,"requestSegmentVmaf",!1),aN:E(N,"perFragmentVMAFConfig",{enabled:!1}),wta:E(K,"paddingDurationMs",1E3),xta:E(J,"paddingMediaType","padding"),xdb:E(I,"supportsPtsChanged",!1),HXb:E(I,H("preferUnletterboxed"),!1),aYa:E(I,"enableKeySystemRestrictor",!1),vFb:E(K,"errorEventToRestrict",2),uFb:E(U,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),tFb:E(U,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),TXa:E(I,"enableCachedErrors",!1),dwb:E(K,"cachedErrorCountLimit",20),fwb:E(K,"cachedErrorExpirationSeconds",604800),gwb:E(K,"cachedErrorsStorageTimeoutSeconds",2E3),wG:E(K,"liveTargetBufferDuration",1E4),z7:E(L,"liveEdgeCushion",2E3),mM:E(I,"liveSwitchStreamsOnErrorInPipeline",!0),y7:E(I,"liveAccurateFragmentTimestamps",!1),XK:E(I,"enableMissingSegmentsDetection",!1),cT:E(I,"enableMissingSegmentsReplacement",!1),A7:E(L,"liveMaxTemporaryRequestErrorRetries",6),ira:E(L,"lowerStreamLiveMaxTemporaryRequestErrorRetries",3),hma:E(L,"explorationPhaseLiveMaxTemporaryRequestErrorRetries",1),yQb:E(L,"liveEdgeThreshold",1E4),sEb:E(I,"enableForceLiveEdgeAtEventStart",!0),yEb:E(I,"enableLivePlaybackRateDriftCorrection",!1),GQb:E(O,"livePlaybackRateMin",.98),FQb:E(O,"livePlaybackRateMax",1.02),EQb:E(L,"livePlaybackRateAdjustmentThresholdMs",20),DQb:E(L,"livePlaybackRateAdjustmentIntervalMs",1E3),CQb:E(O,"livePlaybackRateAdjustmentFactor",.1),fHb:E(L,"forceAstRelativeLiveBookmark",void 0),hHb:E(L,"forceEstRelativeLiveBookmark",void 0),Y3b:E(L,"startSlateMs",void 0),IQb:E(L,"liveSlateMs",void 0)};da=!0;b.fka=function(P){var Y,sa,Ha;Y=d.Ba.get(B.Lc).id;if(0 < b.config.Z4a && 0 === Y % b.config.Z4a)try{sa=d.Ba.get(v.pl);Ha=d.Ba.get(w.Nw).Rs("config","info",{params:P});sa.vc(Ha);}catch(Wa){d.log.error("Failed to log config$apply",Wa);}ob._cad_global.config=b.config;(0,m.oa)(P);P && (ab=(0,p.Vd)({},P,{jV:!0}),(0,p.Vd)(ab,na,{jV:!0}),G(Q,b.config),ab.istestaccount && d.log.trace("Config applied for",Aa(da?ab:P)),da=!1);};(0,b.fka)(ab);};b.E3=function(D){D=c(D);return (0,p.Vd)({},a(87141)(D),{b9:!0});};b.oVa=function(D,F,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={Kv:D?b.config.SSb:b.config.Kv,Iy:D?b.config.$Sb:G?b.config.aTb:b.config.Iy,EXa:!F};return (0,p.Vd)({},a(87141)(D),{b9:!0});};b.qyb=c;b.pyb=l;},70:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(52569);l=a(33096);f=a(36129);k=a(22365);r=a(31276);a=a(11479);d=r.Ba.get(a.Oh);d.register(f.U.VFa,function(g){k.yp && k.yp.generateKey && k.yp.importKey && k.yp.unwrapKey?(d.ie("wcs"),(0,c.OG)(k.yp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.ie("wcdone");g(l.cg);},function(m){var h;m="" + m;if(0 <= m.indexOf("missing crypto.subtle"))h=f.S.zfa;else 0 <= m.indexOf("timeout waiting for iframe to load") && (h=f.S.iob);g({Aa:h,Nb:m});})):g({Aa:f.S.zfa});});},1481:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ok=void 0;c=a(33096);l=a(29204);r=a(36129);f=a(45146);k=a(31276);d=a(68703);g=a(22365);m=a(11479);h=a(91581);n=k.Ba.get(m.Oh);n.register(r.U.Yca,function(p){var q,u,t;q=k.Ba.get(h.An);(0,f.oa)(l.config);(0,f.oa)(g.Rz && g.Rz.getDeviceId || g.FIa || q.qL);u=k.Ba.get(d.bDa);t=(0,k.Qi)("Device");n.ie("devs");u.create({deviceId:l.config.deviceId,qL:q.qL,eXa:"deviceid",bk:l.config.bk,Tn:q.Tn,NS:q.NS,userAgent:g.DD,Rqa:l.config.Rqa,vna:l.config.vna,thc:l.config.$x?"mslstoretest":"mslstore",FO:l.config.FO}).then(function(v){b.Ok=v;ob._cad_global.device=b.Ok;t.info("Esn source: " + b.Ok.K4);n.ie("devdone");p(c.cg);}).catch(function(v){v.ia=void 0;p(v);});});},15531:function(r,b,a){var n,p,q,u,t,v,w;function c(y,x,z,A,B){var C;C={};"right" == y.horizontalAlignment?C.right=100 * (z - x.left - x.width - B) / z + "%":C.left=100 * (x.left - B) / z + "%";"bottom" == y.verticalAlignment?C.bottom=100 * (A - x.top - x.height - B) / A + "%":C.top=100 * (x.top - B) / A + "%";return C;}function l(y,x){var z;if(y && x){40 === x.x && 19 === x.y?z=4 / 3 / (40 / 19):52 === x.x && 19 === x.y && (z=16 / 9 / (52 / 19));if(z)return y.width / y.fontSize / z;}}function f(y,x,z,A,B,C,D){for(var F=y.style,G=(0,p.apa)(y.text),E=y.lineBreaks;E--;){G="<br />" + G;}return k(G,F,x,z,A,B,C,y.lang,D);}function k(y,x,z,A,B,C,D,F,G){var E;E=x.characterStyle;B=B[E];E=0 <= E.indexOf("MONOSPACE")?l(B,x.cellResolution) || B.lineHeight:B.lineHeight;A=x.characterSize * A.height / (E || 1);F && "ja" === F.slice(0,2) && x.ruby && "text" === x.ruby && (A/=2);A=0 < C?(0,q.WI)(A * C):(0,q.yn)(A);C={"font-size":A + "px","line-height":"normal","font-weight":"normal"};x.characterItalic && (C["font-style"]="italic");x.characterUnderline && (C["text-decoration"]="underline");x.characterColor && (C.color=x.characterColor);x.backgroundColor && 0 !== x.backgroundOpacity && (C["background-color"]=d(x.backgroundColor,x.backgroundOpacity));if(F && "ja" === F.slice(0,2)){if(x.textEmphasis){A=x.textEmphasis;switch(A.textEmphasisShape){case "auto":C["text-emphasis"]="vertical-lr" === D || "vertical-rl" === D?"filled sesame":"filled circle";break;default:C["text-emphasis"]=A.textEmphasisFill + " " + A.textEmphasisShape;}G=m(A.textEmphasisPosition,G);switch(D){case "vertical-rl":C["text-emphasis-position"]=v[G];break;case "vertical-lr":C["text-emphasis-position"]=w[G];break;default:C["text-emphasis-position"]=t[G];}}x.textCombine && (C["text-combine-upright"]=x.textCombine);}D=x.characterEdgeColor || "#000000";switch(x.characterEdgeAttributes){case "DROP_SHADOW":C["text-shadow"]=D + " 0px 0px 7px";break;case "UNIFORM":C["text-shadow"]="-1px 0px " + D + ",0px 1px " + D + ",1px 0px " + D + ",0px -1px " + D;break;case "RAISED":C["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":C["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}D=(0,n.BS)(C);(z=z[x.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (D+=";" + z);z=x.characterOpacity;0 < z && 1 > z && (y='<span style="opacity:' + z + '">' + y + "</span>");F && "ja" === F.slice(0,2)?(y='<span lang="ja" style="' + D + '">' + y + "</span>",x.ruby && "text" === x.ruby && (y="<rt>" + y + "</rt>")):y='<span style="' + D + '">' + y + "</span>";return y;}function d(y,x){y=y.substring(1);y=parseInt(y,16);return "rgba(" + (y >> 16 & 255) + "," + (y >> 8 & 255) + "," + (y & 255) + "," + (void 0 !== x?x:1) + ")";}function g(y,x,z){var A;A="";y && "text" === y && (A='<ruby style="ruby-position: ' + ("before" === x || "over" === x || "outside" === x && 0 === z?"over":"under") + '">');return A;}function m(y,x){return y === u[0] || "outside" === y && 0 === x?u[0]:u[1];}function h(y){return y.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}Object.defineProperty(b,"__esModule",{value:!0});b.oTb=b.Gyb=b.Rvb=b.pYa=b.lFb=b.jFb=b.mFb=b.kFb=b.qYa=b.rYa=b.Rla=void 0;n=a(52569);p=a(3887);q=a(22365);b.Rla=function(y,x,z,A,B){var C,D,F,G,E,H;C="";D="";F=0;G="";E=!1;H="";y.textNodes.forEach(function(M){var L,K,O,J;F+=M.lineBreaks;O=f(M,z,x,A,B,y.region.writingMode,F);if(M.lang && "ja" === M.lang.slice(0,2)){if(M.style && M.style.ruby && "" != M.style.ruby && ("container" !== M.style.ruby && (H+=O),O="","text" === M.style.ruby)){J=g(M.style.ruby,null !== (L=M.style.rubyPosition) && void 0 !== L?L:"outside",F);E="" !== J;H=J + H;}!G || "" === G || M.style.ruby && "" !== M.style.ruby && "container" !== M.style.ruby || (H=h(H + (E?"</ruby> ":"")),O=H + O,E=!1,H="");}C+=O;G=null !== (K=M.style.ruby) && void 0 !== K?K:"";"" === D && M.style && M.style.shear && (D="font-style: oblique " + -90 * parseFloat(M.style.shear) + "deg;");});"" !== H && (C+=H + (E?"</ruby> ":""));y.region && y.region.multiRowAlignment && (C='<span style="display:inline-block;' + D + "text-align:" + y.region.multiRowAlignment + '">' + C + "</span>");return C;};b.rYa=function(y,x,z,A,B){var C,D,G,E,H;C="";D=B.width;B=B.height;for(var F=x.length;F--;){G=x[F];E=y[F];E=E && E.region;H="position:absolute;background:" + A + ";width:" + (0,q.yn)(G.width + 2 * z) + "px;height:" + (0,q.yn)(G.height + 2 * z) + "px;";G=c(E,G,D,B,z);(0,p.Tf)(G,function(M,L){H+=M + ":" + L + ";";});C+='<div style="' + H + '"></div>';}return C;};b.qYa=c;b.kFb=l;b.mFb=f;b.jFb=k;b.lFb=d;b.pYa=function(y){var x;y=y.region;x={display:"block","white-space":"nowrap"};switch(y.horizontalAlignment){case "left":x["text-align"]="left";break;case "right":x["text-align"]="right";break;default:x["text-align"]="center";}!y.writingMode || "vertical-lr" !== y.writingMode && "vertical-rl" !== y.writingMode || (x["writing-mode"]=y.writingMode);return (0,n.BS)(x);};b.Rvb=g;b.Gyb=m;b.oTb=h;u=["before","after"];t={before:"over right",after:"under right"};v={before:"over right",after:"over left"};w={before:"over left",after:"over right"};},33579:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Keb=void 0;c=a(22365);b.Keb=function(l,f){function k(m,h,n){var t,w,y,x,z;if(m && 1 < m.length){for(var p=[],q=[],u=0;u < m.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < m.length;u++){for(var v=u + 1;v < m.length;v++){w=m[u];y=m[v];if(0 > w.width || 0 > y.width || y.left > w.left + w.width || y.left + y.width < w.left || y.top > w.top + w.height?0:y.top + y.height >= w.top){x=(0,c.fs)(w.left,y.left);z=(0,c.fs)(w.top,y.top);x={width:(0,c.fs)((0,c.Pw)(w.left + w.width,y.left + y.width) - x,0),height:(0,c.fs)((0,c.Pw)(w.top + w.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,w=d(m[u]),y=d(m[v]),z && h || !z && !h))(x=(0,c.fs)(x.width / 2,.25),w.x <= y.x?(q[u]-=x,q[v]+=x):(q[v]-=x,q[u]+=x));else if(z && !h || !z && h)(w=(0,c.fs)(x.height / 2,.25),p[u]-=w,p[v]+=w);}}for(u=0;u < m.length;u++){if(-.25 > q[u] && 0 <= m[u].left + q[u] || .25 < q[u] && m[u].left + m[u].width + q[u] <= n.width)(m[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= m[u].top + p[u] || .25 < p[u] && m[u].top + m[u].height + p[u] <= n.height)(m[u].top+=p[u],t=!0);}return t;}}function d(m){return {x:m.left + m.width / 2,y:m.top + m.height / 2};}l=l.map(function(m){return {top:m.top,left:m.left,width:m.width,height:m.height};});(function(m,h){m.forEach(function(n){0 > n.left && n.left + n.width < h.width?n.left+=(0,c.Pw)(-n.left,h.width - (n.left + n.width)):n.left + n.width > h.width && 0 < n.left && (n.left-=(0,c.Pw)(n.left + n.width - h.width,n.left));0 > n.top && n.top + n.height < h.height?n.top+=(0,c.Pw)(-n.top,h.height - (n.top + n.height)):n.top + n.height > h.height && 0 < n.top && (n.top-=(0,c.Pw)(n.top + n.height - h.height,n.top));});})(l,f);for(var g=0;50 > g && k(l,!0,f);g++){;}for(g=0;50 > g && k(l,!1,f);g++){;}return l;};},99732:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.i5a=void 0;c=a(29204);l=a(33096);f=a(24066);r=a(36129);k=a(22365);d=a(32687);g=a(31276);a=a(11479);g.Ba.get(a.Oh).register(r.U.NFa,function(m){var p,q,u,t,v;function h(){return (0,k.WI)((0,f.On)() / u);}function n(){var w;w=h();if(w != v){for(var y=(0,k.Pw)(w - v,30);y--;){t.push(0);}(y=(0,k.fs)(t.length - 31,0)) && t.splice(0,y);v=w;}t[t.length - 1]++;}p=c.config.pRb;q=-6 / (p - 2 - 2);u=l.ds;t=[];v=h();(0,d.$pa)(p) && (setInterval(n,1E3 / p),b.i5a={I5:function(){var x;for(var w=[],y=t.length - 1;y--;){x=t[y];w.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,k.yn)((x - 2) * q + 7));}return w;}});m(l.cg);});},24674:function(r,b,a){var d,g,m,h,n,p;function c(q){var u;q=new m.mP(q);if(1481462272 != q.$p())throw Error("Invalid header");u={XMR:{Version:q.$p(),RightsID:q.aw(16)}};l(q,u.XMR,q.buffer.length);return u;}function l(q,u,t){var v,w,y,x,z;for(;q.position < t;){v=q.Tg();w=q.$p();w-=8;switch(v){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:f(v)};z=u[y];z?(0,p.isArray)(z)?z.push(x):(u[y]=[],u[y].push(z),u[y].push(x)):u[y]=x;switch(v){case 1:case 2:case 4:case 7:case 9:case 54:l(q,x,q.position + w);break;case 5:x.Reserved1=q.Tg();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Tg();x.MinimumAnalogVideoOutputProtectionLevel=q.Tg();x.Reserved2=q.Tg();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Tg();break;case 10:x.Reserved=q.aw(16);x.SymmetricCipherType=q.Tg();x.AsymmetricCipherType=q.Tg();w=q.Tg();x.EncryptedKeyLength=w;v=q.aw(w);x.EncryptedKeyData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 11:x.SignatureType=q.aw(2);w=q.Tg();v=q.aw(w);x.SignatureData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 13:x.Reserved=q.Tg();break;case 18:x.BeginDate=q.$p();x.EndDate=q.$p();break;case 42:x.CurveType=q.aw(2);w=q.Tg();v=q.aw(w);x.Key=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 48:x.ExpireAfterFirstPlay=q.$p();break;case 50:x.Sequence=q.$p();break;case 51:x.LicenseProcessingIndicator=q.Tg();break;case 52:x.MinimumSecurityLevel=q.Tg();break;case 57:x.PlayEnablerType=k(q.aw(16));break;case 85:break;default:x.OtherData=q.aw(w);}}}function f(q){return "0x" + q.toString(16);}function k(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.bCb=b.cCb=b.aCb=b.$Bb=b.ZBb=void 0;d=a(33096);g=a(31276);m=a(62082);h=a(62604);n=a(84281);p=a(32687);b.ZBb=function(q,u,t){switch(u){case d.OZ:q && (q=(0,g.qTa)(q),(0,n.Bgb)(q,function(v){v.ia && (v=v.object) && (v=(0,h.v_a)(v,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (v=(0,h.u8a)(v)) && (v=(0,g.Hq)(v)) && (v=c(v)) && t(v);}));}};b.$Bb=c;b.aCb=l;b.cCb=f;b.bCb=k;},59032:function(r,b){var c;function a(l,f){var k;k=this;this.hga=[];c.forEach(function(d){(d=d(l,f)) && k.hga.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.TP=b.nIa=void 0;c=[];a.prototype.iz=function(l){var d;for(var f=[],k=this.hga.length;k--;){d=this.hga[k];d.iz(l) && f.push(d.X4);}if(f.length)return f;};b.nIa=a;b.TP=function(l){c.push(l);};},3390:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(31276);l=a(4203);f=a(95136);k=a(81918);(0,r.TP)(function(d,g){var m,h;m=c.Ba.get(l.Xb);if(m().NDb){h=c.Ba.get(k.Lc);return new f.sDa(d,g,c.yf,h,m);}});},95136:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u){var t;t=this;this.j=h;this.Da=n;this.la=p;this.Ea=q;this.N8={};this.PK={};this.$N=[];this.V2a=1E3;this.haa=l.wHa;this.gta=function(){var v;v=t.j.sb.value === d.gb.ke && t.j.state.value === d.Vb.$d && t.j.P === t.Da.P;t.BU?v || (clearInterval(t.BU),t.BU=void 0,t.TU=void 0):v && (t.BU=ob.setInterval(t.F5b,t.V2a));};this.F5b=function(){var v,w,y,x;w=t.j.Wd.value;w=w && w.stream;w=null !== (v=w && w.height) && void 0 !== v?v:null;if(null !== w && 0 < w){v=t.Ea.Ib().ca(m.pa);y=t.j.Td.JF();if(y){if(t.TU && v - t.TU.time < 2 * t.V2a && w === t.TU.height){x=y - t.TU.MDb;t.Pha(w,x);t.Ksb(w,x);}t.TU={time:v,MDb:y,height:w};t.j.n9 && t.j.n9.V1b(t.N8);}}};this.kna=function(){var v;v={};t.PK && t.$N.forEach(function(w){var y,x,z;y=t.PK[w];if(y){x=0;z=0;(0,g.Tf)(y,function(A,B){z+=(0,g.Ui)(A);x+=B;});v[w]=z / x;}});return v;};this.VT=function(v){var w;w={};v.forEach(function(y){w[y]={};});t.PK && ((0,f.bZ)(v),t.$N.forEach(function(y){var x,z,A,B;x=t.PK[y];if(x){z=0;A=0;(0,g.Tf)(x,function(E,H){z+=H;});B=Object.keys(x).map(Number);(0,f.bZ)(B);for(var C=B.length - 1,D=B[C],F=v.length - 1;0 <= F;F--){for(var G=v[F];D >= G && 0 <= C;){(D=x[D]) && (A+=D);D=B[--C];}w[G][y]=(0,k.yn)(A / z * 100);}}}));return w;};this.log=this.la.$a("DFF",h);this.x9=u().QDb;this.ZRb=u().ODb;this.x6a=u().PDb;this.Da.wla={kna:this.kna,VT:this.VT};h.state.addListener(this.gta);h.sb.addListener(this.gta);h.addEventListener(d.ha.zG,this.gta);}Object.defineProperty(b,"__esModule",{value:!0});b.sDa=void 0;l=a(33096);f=a(52569);k=a(22365);d=a(85001);g=a(3887);m=a(5021);c.prototype.iz=function(h){return h.lower && h.height > this.x6a?h.height >= this.sLb():!1;};c.prototype.Pha=function(h,n){var p;p=this.N8[h];p || (this.N8[h]=p=[],h > this.x6a && (this.$N.push(h),(0,f.bZ)(this.$N)));0 < n && !(this.CV && this.CV < h) && (this.CV=h);p.push(n);p.length > this.ZRb && p.shift();};c.prototype.Ksb=function(h,n){var p;p=this.PK[h];p || (this.PK[h]=p={});h=p[n];p[n]=h?h + 1:1;};c.prototype.sLb=function(){var p,q;if(this.CV){for(var h=this.$N.length,n=0;n < h;n++){p=this.$N[n];if(p >= this.CV && p < this.haa){q=this.N8[p];if(q && this.kxb(this.x9,q) && this.haa != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Da.rp.set({reason:"droppedFrames",height:p}),this.haa=p);}}this.CV=void 0;}return this.haa;};c.prototype.kxb=function(h,n){var t,v;for(var p=h.length,q=n.length,u=0;u < p;u++){t=h[u];v=t[0];t=t[1];for(var w=0;w < q;w++){if(n[w] >= t && 0 >= --v)return !0;}}return !1;};Ya.Object.defineProperties(c.prototype,{X4:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.sDa=c;},25357:function(r,b,a){var l,f,k;function c(d,g,m,h){var n;n=this;this.j=d;this.Da=g;this.la=m;this.sa=h;this.vtb=function(p){!0 === p.oldValue && !1 === p.newValue && (n.log.error("RestartStreaming: UHD key is no longer usable"),n.j.q0b());};this.D6b=function(p){var q,u,t;n.log.trace("UhdKeyStatus: " + p.oldValue + " -> " + p.newValue);u=null === p || void 0 === p?void 0:p.newValue;t=null === p || void 0 === p?void 0:p.oldValue;"usable" !== u && (n.N1b(u,(null === (q=null === p || void 0 === p?void 0:p.Eh) || void 0 === q?void 0:q.height) || 0),"usable" === t && (p=n.sa.de.qa(n.KPb),n.log.error("UHD KeyStatus unexpectedly changed: " + p.ca(k.pa))));};this.H3a=!1;this.log=this.la.$a("KeyStatusStreamFilter",this.j);this.sSa=new f.Eb(!1,this.vtb);this.C6b=new f.Eb(void 0,this.D6b);}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;l=a(28048);f=a(81734);k=a(5021);c.prototype.iz=function(d){return d.ii && (this.A4b(),this.sSa.set(this.H3a),d.lower && 1080 < d.height && !this.sSa.value)?!0:!1;};c.prototype.W6a=function(d){var g;g=this;Object.entries(d).forEach(function(m){var h,n,p;h=la(m);m=h.next().value;h=h.next().value;m=null !== (p=null === (n=g.JPb) || void 0 === n?void 0:n[m]) && void 0 !== p?p:0;1080 < m && (g.H3a="usable" === h,g.C6b.set(h,{height:m}));});};c.prototype.A4b=function(){var d,g,m;d=this;m=this.Da.ce;!this.nPb && (0,l.Opa)(m) && (this.nPb=!0,this.JPb=null === (g=null === m || void 0 === m?void 0:m.context) || void 0 === g?void 0:g.i7,this.W6a(m.keyStatuses.value),m.keyStatuses.addListener(function(h){return d.W6a(h.newValue);}),this.KPb=this.sa.de);};c.prototype.N1b=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.Da.rp.set({reason:"keyStatus",height:g});};Ya.Object.defineProperties(c.prototype,{X4:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.yGa=c;},2898:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);f=a(25357);(0,r.TP)(function(k,d){if(c.config.IPb)return new f.yGa(k,d,l.yf,l.sa);});},45706:function(r,b,a){var l,f;function c(k,d){var g,m;g=(0,f.Fh)(k,"MSS");if(l.config.NSb)return {X4:"mss",iz:function(h){var n,p;if(h.lower && 2160 <= h.height)a:{for(n=h;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === m){try{p=ob.MSMediaKeys;m=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");m=!0;}m || (g.warn("Restricting resolution due screen size",{MaxHeight:h.height}),d.rp.set({reason:"microsoftScreenSize",height:h.height}));}return !m;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.zlb=void 0;r=a(59032);l=a(29204);f=a(31276);(0,r.TP)(c);b.zlb=c;},76563:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);(0,r.TP)(function(f,k){var d,g,m,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.E6b);g=d[k.zd];if(c.config.F6b && g){m={};h=(0,l.Fh)(f,"MediaStreamFilter");return {X4:"uiLabel",iz:function(n){if(n.lower && n.height > g)return (m[n.height] || (m[n.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),k.rp.set({reason:"uiLabel",height:n.height})),!0);}};}});},24427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;c=a(85001);l=a(61726);b.xFa=function(f){function k(d){f.fireEvent(c.ha.nF,{response:d,P:f.aa.P});}return {download:function(d,g){d.j=f;d=l.Ee.download(d,g);d.p2(k);return d;}};};},61726:function(r,b,a){var g,m,h,n,p,q,u,t,v,w,y,x,z,A;function c(){this.Hi=(0,q.Qi)("Http");this.kj=new g.Tj();this.WD=0;this.Kf={ssl:0,"non-ssl":0,invalid:0};this.C0={Ha:1,kob:2,UAa:3};this.addEventListener=this.kj.addListener;this.removeEventListener=this.kj.removeListener;}function l(B){var C,D,F,G;C=B.url.split("?");D="sc=" + B.a1b;F=B.Zvb?"random=" + (1E17 * (0,v.a0)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=F?"&" + F:"";B.Cc && !(0,h.jqa)(G) && (B=m.config && m.config.gUa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function f(B,C){var D,F,G;D=B.url.split("?");F=k(B);G=D[0];F && (C.Zv=F,(void 0 === B.Qr?m.config.Qr:B.Qr) || B.Gr !== x.aQ?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(C.Zv=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.Zvb?"random=" + (1E17 * (0,v.a0)()).toFixed(0):"";m.config.YK && B.IH && (F="sc=" + B.IH + (F?"&" + F:""));G=D[1]?G + ("?" + D[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Cc && !(0,h.jqa)(G) && (B=m.config && m.config.gUa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function k(B){var C;C=B.offset;if(void 0 !== C)return ((0,u.HS)(C),void 0 !== B.length?(B=C + B.length - 1,(0,u.HS)(B),C + "-" + B):C + "-");}function d(B,C,D,F){var G,E;G=F.h9a;E=F.headers;B.open(G?"POST":"GET",C,D);switch(F.responseType){case b.oU:B.responseType="arraybuffer";break;case b.cpa:(0,t.YTa)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.sg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,t.Vd)(C,E):C);E && (0,t.Tf)(E,function(H,M){B.setRequestHeader(H,M);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.oU=b.cpa=b.bpa=b.$Mb=b.dpa=b.ZMb=b.X1a=b.t6=b.Ee=b.XMb=b.YMb=void 0;g=a(94886);m=a(29204);r=a(33096);h=a(52569);n=a(24066);p=a(36129);q=a(31276);u=a(45146);t=a(3887);v=a(22365);w=a(32219);y=a(32687);x=a(32934);z=a(57504);c.prototype.i3b=function(B){var C;C=new XMLHttpRequest();B=l(B);C.open("HEAD",B,!0);C.onreadystatechange=function(){2 === C.readyState && 200 <= C.status && 299 >= C.status && !1;};C.send();return function(){return C.abort();};};c.prototype.download=function(B,C){var O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab;function D(){var aa;if(!ja){ja=!0;ab && (ob.clearTimeout(ab),ab=null);O.kj.removeListener(b.dpa,H);O.$ga(Aa,La);La && (La.onloadstart=null,La.onreadystatechange=null,La.onprogress=null,La.onerror=null,La.onload=null,La=La.onabort=null);Aa.ia || (Aa.Aa != p.S.pD?I.warn("Download failed",U,(0,p.Kw)(Aa)):I.trace("Download aborted",U));aa=ra;ra=null;null === aa || void 0 === aa?void 0:aa.reduceRight(function(na,Ca){(0,w.Df)(function(){return Ca(Aa);});},null);O.kj.Dc(b.X1a,Aa,!0);}}function F(){ab && (ob.clearTimeout(ab),ab=null);ab=ob.setTimeout(M,Xa?R:N);}function G(aa,na,Ca,Ra){var Q,da;Aa.ia=!1;Aa.Aa=aa;Q=(0,n.On)();da=Aa.Wl;da.Wi=da.Wi || Q;da.cq=da.cq || Q;na && 0 < na && (Aa.Kl=na,Aa.De=na.toString());Ca && (Aa.Nb=Ca);Ra && (Aa.CC=Ra);aa !== p.S.xP && aa !== p.S.qD && aa !== p.S.AP || !La || (La.onabort=null,L());D();}function E(aa){var na,Ca;try{Ca=aa.getResponseHeader("X-Netflix.Retry.Server.Policy");Ca && (na=JSON.parse(Ca));}catch(Ra){!1;}return na;}function H(){A() || G(p.S.xP);}function M(){G(Xa?p.S.qD:p.S.AP);}function L(){try{null === La || void 0 === La?void 0:La.abort();}catch(aa){}}function K(){G(p.S.pD);}O=this;(0,u.oa)(C);I=(null === (J=null === B || void 0 === B?void 0:B.j) || void 0 === J?0:J.log)?(0,q.Fh)(B.j,"Http"):this.Hi;N=B.F3 || m.config.F3;R=B.ssa || m.config.ssa;U={Num:this.WD++};ja=!1;ra=[C];ka={};this.Jrb(B);Aa=new z.AFa(B,L,M,ka,function(aa){ja || ((0,u.oa)(ra,"Callback should be added before download starts."),ra && ra.unshift(aa));});Xa=!1;(0,w.Df)(function(){var aa;if((0,y.iqa)(B.url))try{if((f(B,Aa),ua=Aa.url,(0,u.IS)(ua),U.Url=ua,A())){!1;La=new XMLHttpRequest();La.onreadystatechange=function(){2 === (null === La || void 0 === La?void 0:La.readyState) && (Xa=!0,ka.Wi=(0,n.On)(),La.onreadystatechange=null,F(),!1,O.$ga(Aa,La),Aa.NG({timestamp:ka.Wi,connect:!0,mediaRequest:B,start:ka.az,rt:[ka.Wi - ka.az],responseHeaders:Aa.headers,httpCode:Aa.$m}));};La.onprogress=function(na){Xa=!0;ka.H3=na.loaded;F();O.$ga(Aa,La);na={mediaRequest:B,bytes:na.loaded,timestamp:(0,n.On)(),bytesLoaded:na.loaded,responseHeaders:Aa.headers,httpCode:Aa.$m};Aa.NG(na);};La.onload=function(na){if(!ja && La){(0,u.oa)(void 0 === ka.cq);ka.cq=(0,n.On)();ka.Wi=ka.Wi || ka.cq;ka.H3=na.loaded;if(200 <= La.status && 299 >= La.status){a:switch((na=La,Aa.type)){case b.oU:na=na.response || new ArrayBuffer(0);break a;case b.cpa:na=na.responseXML;break a;default:na=na.responseText;}Aa.parsed=!1;Aa.content=na;Aa.ia=!0;}else 420 === La.status?G(p.S.zP,La.status):G(p.S.yP,La.status,La.response,E(La));D();}};La.onabort=K;La.onerror=function(){var na,Ca;if(La){na=La.status;"undefined" !== typeof m.config.vZa && (na=m.config.vZa);if(0 < na){if(420 === na)G(p.S.zP,na);else {try{Ca=La.responseText;}catch(Ra){}G(p.S.yP,na,Ca,E(La));}}else G(p.S.BP);}};aa=(0,n.On)();d(La,ua,!0,B);O.kj.Dc(b.t6,Aa,!0);ka.az=aa;Aa.NM({mediaRequest:B,timestamp:aa});F();O.kj.addListener(b.dpa,H);}else (0,w.Df)(G.bind(void 0,p.S.xP));}catch(na){I.error("Exception starting download",na,U);G(p.S.Vca,void 0,(0,t.ue)(na));}else G(p.S.dFa);});return Aa;};c.prototype.tYb=function(B){var C,D;C=new XMLHttpRequest();D=B.qYb;C.open("HEAD",B.url,!0);C.timeout=m.config.wua;C.onreadystatechange=function(){2 === C.readyState && (!1,D && D.KM(C.status));};C.ontimeout=C.onerror=function(){!1;D && D.Bsa(C.status);};C.send();};c.prototype.Jrb=function(B){var C;try{C=B.url;(0,y.iqa)(C)?0 === C.indexOf("https")?this.Kf.ssl++:0 === C.indexOf("http")?this.Kf["non-ssl"]++:this.Kf.invalid++:this.Kf.invalid++;}catch(D){}};c.prototype.$ga=function(B,C){var D;if((void 0 === B.$m || void 0 === B.headers) && C){B.$m=C.status;D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=la(F.split(": "));F=G.next().value;G=Z(G).join(": ");F && (D[F.toLowerCase()]=G);});B.headers=D;}};b.YMb=f;b.XMb=k;A=r.bMa;b.Ee=new c();b.t6=1;b.X1a=2;b.ZMb=3;b.dpa=4;b.$Mb=5;b.bpa=b.Ee.C0.Ha;b.cpa=b.Ee.C0.kob;b.oU=b.Ee.C0.UAa;ob._cad_global.http=b.Ee;},57504:function(r,b,a){var l;function c(f,k,d,g,m){this.p2=this.NG=this.NM=l.Tw;this.request=f;this.type=f.responseType;this.Wl=g;this.abort=k;this.timeout=d;this.p2=m;}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;l=a(33096);c.prototype.i2b=function(f){this.NM=f;};c.prototype.n2b=function(f){this.NG=f;};b.AFa=c;},31276:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ba=b.hLa=b.BT=b.Fh=b.Qi=b.log=b.yf=b.xL=b.qTa=b.Hq=b.Ax=b.jc=b.evb=b.Nia=b.cvb=b.dvb=b.Ni=b.GO=b.xY=b.Yg=b.xc=b.sa=void 0;c=a(83989);r=a(87386);l=a(56800);f=a(84408);k=a(6405);d=a(2248);g=a(32687);m=a(79274);h=a(30869);a=a(53085);b.sa=c.ac.get(h.bg);b.xc=c.ac.get(a.Th);b.Yg=c.ac.get(f.xq);b.xY=b.Yg.encode.bind(b.Yg);b.GO=b.Yg.decode.bind(b.Yg);b.Ni=c.ac.get(k.Bw);b.dvb=b.Ni.encode.bind(b.Ni);b.cvb=b.Ni.decode.bind(b.Ni);b.Nia=b.Ni.DF.bind(b.Ni);b.evb=b.Ni.heb.bind(b.Ni);b.jc=c.ac.get(d.Zg);b.Ax=function(n){n=(0,g.sg)(n)?(0,b.GO)(n):n;return b.jc.encode(n);};b.Hq=b.jc.decode.bind(b.jc);b.qTa=function(n){return (0,b.xY)((0,b.Hq)(n));};b.xL=function(){return c.ac.get(l.Fw);};b.yf=c.ac.get(r.ab);b.log=b.yf.$a("General");b.Qi=function(n,p){return b.yf.$a(n,void 0,p);};b.Fh=function(n,p,q){return b.yf.$a(p,n,q);};b.BT=function(n,p,q,u){return b.yf.$a(n,void 0,u,p,q);};b.hLa=function(n,p,q){return c.ac.get(m.hQ)(n,p,q).iY();};b.Ba=c.ac;},93114:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(82956);l=a(33096);f=a(29204);k=a(13044);d=a(24066);r=a(36129);g=a(31276);m=a(77134);h=a(22365);n=a(32219);p=a(32687);q=a(45118);u=a(31850);a=a(11479);w=g.Ba.get(a.Oh);w.register(r.U.MFa,function(y){var z;function x(){var A,B,C;A=w.startTime;B={browserua:h.DD,browserhref:h.g0.href,initstart:A,initdelay:w.endTime - A};(A=h.Hg.documentMode) && (B.browserdm="" + A);(0,p.eM)(f.config.PYa) && (B.fesn=f.config.PYa);Object.assign(B,(0,c.koa)());C=h.yu && h.yu.timing;C && f.config.bRb.map(function(D){var F;F=C[D];F && (B["pt_" + D]=F - (0,d.RUa)());});A=z.XJb();Object.entries(A).forEach(function(D){var F;F=la(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});A=v.Rs("startup","info",B,k.Tz.Mma);t.vc(A);}v=g.Ba.get(u.Nw);t=g.Ba.get(q.pl);z=g.Ba.get(m.oJ);w.aV(function(){t.Bb();(0,n.Df)(x);});y(l.cg);});},86258:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,v;function c(w,y){var z;function x(){function A(B,C){return C.he && 0 !== C.he.length && C.he[0].vG?(0,f.Yy)(w,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return B?B.NW(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({fz:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.NW(C):Promise.resolve());}l(z).then(function(B){var C;C=B.x4.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");y(k.cg);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);y(k.cg);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(k.cg);});}z=(0,h.Qi)("PlayDataManager");y=y || k.Tw;d.config.Rr?y(k.cg):x();}function l(w){var y;if(!b.sla){y=h.Ba.get(n.Zba);b.sla=new Promise(function(x,z){y.g$a().then(function(){x(y);}).catch(function(A){w.error("Unable to load DRM data for license release",A);z(A);});});}return b.sla;}Object.defineProperty(b,"__esModule",{value:!0});b.HKa=b.GKa=b.sla=void 0;f=a(43422);k=a(33096);d=a(29204);g=a(37509);m=a(91581);h=a(31276);r=a(36129);n=a(93673);p=a(96687);q=a(85001);u=a(45118);t=a(11479);v=a(21892);b.GKa=function(w){var z,A,B,C,D,F;function y(){A || (w.ie("pdsb"),A=h.Ba.get(p.gQ)().then(function(G){C=G;w.ie("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);w.ie("pdse");throw G;}));return A;}function x(){B=!0;C && C.close();g.fe.removeListener(g.Rk,x);}z=(0,h.Fh)(w,"PlayDataManager");B=!1;D=h.Ba.get(m.s0);if(!D.KI || !D.II){F=h.Ba.get(v.oea)();D.KI=F.fz;D.II=F.request;}w.ie("pdctor");w.addEventListener(q.ha.ng,function(){g.fe.removeListener(g.Rk,x);});w.addEventListener(q.ha.YU,function(){var G;if(!d.config.Rr && w.ce){G=w.J3.MVa();l(z).then(function(E){return E.QRa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});w.addEventListener(q.ha.ng,function(){var G;if(!B){w.I8b();G=[(function(){return d.config.Rr || !w.ce?Promise.resolve():new Promise(function(E){var H;z.info("Sending the expedited playdata");H=w.J3.MVa();w.ce.AYa(H).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(M){return M?M.NW(H):Promise.resolve();}).then(function(){E(void 0);}).catch(function(M){z.error("Unable to send the expedited playdata",M);E();});});})(),(function(){return y().then(function(E){return E.IX(w.aa);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){h.Ba.get(u.pl).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){w.F8();}).catch(function(){w.F8();});}});g.fe.addListener(g.Rk,x);return {};};b.HKa=function(){return new Promise(function(w){c({},function(y){w(y);});});};h.Ba.get(t.Oh).register(r.U.Mz,function(w){w(k.cg);});},46493:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(50040);f=a(1481);k=a(29204);d=a(33096);g=a(36129);m=a(45146);h=a(31276);n=a(77134);p=a(63156);q=a(17892);u=a(3887);t=a(22365);v=a(32687);w=a(52569);y=a(45842);x=a(5021);r=a(11479);z=a(50681);A=a(59219);B=a(32934);C=a(71501);D={};F=h.Ba.get(r.Oh);F.register(g.U.OFa,function(G){var L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La;function E(Xa){Xa && Xa.userList && k.config.U2b && (Xa.userList=[]);J({esn:f.Ok.bk,esnPrefix:f.Ok.Tn,authenticationKeyNames:k.config.Rub,systemKeyWrapFormat:k.config.c5b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Aa,storeState:Xa,notifyMilestone:F.ie.bind(F),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:g.S.ulb,MSL_READ_TIMEOUT:g.S.tlb}},{result:function(ab){H(ab);},timeout:function(){G({Aa:g.S.CHa});},error:function(ab){G(M(g.S.CHa,void 0,ab));}});}function H(Xa){var aa,na,Ca,Ra;function ab(){ua && h.Ba.get(q.zw).create().then(function(Q){return Q.save(ra,Ca,!1);}).catch(function(Q){R.error("Error persisting msl store",(0,g.Kw)(Q));});}aa=this;na=h.Ba.get(y.MD)((0,x.Ob)(100));Ra=I.extend({init:function(Q){this.pQa=Q;},getResponse:function(Q,da,P){var Y,sa;da=this.pQa;Y=da.gsa.Ee || Y;Q=(0,v.hqa)(Q.body)?(0,h.xY)(Q.body):Q.body;(0,m.IS)(Q,"Msl should not be sending empty request");Q={url:da.url,h9a:Q,withCredentials:!0,ZA:"nq-" + da.method,headers:da.headers};da=this.pQa.timeout;Q.F3=da;Q.ssa=da;sa=Y.download(Q,function(Ha){try{if(Ha.ia)P.result({body:Ha.content});else if(400 === Ha.Kl && Ha.Nb)P.result({body:Ha.Nb});else throw (0,u.Vd)(new N("HTTP error, SubCode: " + Ha.Aa + (Ha.Kl?", HttpCode: " + Ha.Kl:"")),{cadmiumResponse:Ha});}catch(Wa){P.error(Wa);}});return {abort:function(){sa.abort();}};}});ja && Xa.addEventHandler("shouldpersist",function(Q){Ca=Q.storeState;na.Lj(ab);});(0,u.Vd)(D,{ngc:function(){ka=!0;},send:function(Q){function da(){var P,Y;P=Q.gsa;Y={method:Q.method,nonReplayable:Q.f7a,encrypted:Q.tF,userId:Q.Jfb,body:Q.body,timeout:2 * Q.timeout,url:new Ra(Q),allowTokenRefresh:ua,sendUserAuthIfRequired:La,shouldSendUserAuthData:k.config.a3b};P.email?(Y.email=P.email,Y.password=P.password || ""):ka && (Y.useNetflixUserAuthData=!0);return Y;}return new Promise(function(P,Y){var sa;sa=da();Xa.send(sa).then(function(Ha){ka && (ka=!1);P({ia:!0,body:Ha.body});}).catch(function(Ha){var Wa,$a;if(Ha.error){Wa=Ha.error.cadmiumResponse && Ha.error.cadmiumResponse.Aa?Ha.error.cadmiumResponse.Aa:Xa.isErrorReauth(Ha.error)?g.S.BHa:Xa.isErrorHeader(Ha.error)?g.S.nlb:g.S.mlb;$a=Xa.getErrorCode(Ha.error);Y(M(Wa,$a,Ha.error));}else (R.error("Unknown MSL error",Ha),Ha.ec=Ha.subCode,Y({Aa:Ha.ec?Ha.ec:g.S.vlb}));});});},GV:Xa});A.QD.gK.mslFetch=function(Q,da){return c.__awaiter(aa,void 0,void 0,function Y(){var sa,Ha,Wa;return Ja(Y,function($a){if(1 == $a.Lv)return (sa=h.Ba.get(C.iJ),Ma($a,D.send({gsa:{Ee:h.Ba.get(B.tu),profile:sa},timeout:8E3,url:Q.toString(),body:null === da || void 0 === da?void 0:da.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},Jfb:sa,G_b:!1,f7a:!0,tF:!0}),2));Ha=$a.SY;Wa={get body() {this.bodyUsed=!0;return Ha.body;}};return $a.return((Wa.bodyUsed=!1,Wa.ok=Ha.ia,Wa.status=Ha.ia?200:400,Wa.statusText=Ha.ia?"OK":"Bad Request",Wa.type="basic",Wa.url=Q.toString(),Wa.headers=new Headers({"Content-Type":"application/json"}),Wa.text=function(){return Promise.resolve(this.body);},Wa.json=function(){return Promise.resolve(JSON.parse(this.body));},Wa.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Wa.clone=function(){return Object.assign({},this);},Wa.blob=function(){return this.arrayBuffer().then(function(fb){return new Blob([fb]);});},Wa.formData=function(){throw Error("Not implemented");},Wa.redirected=!1,Wa));});});};G(d.cg);h.Ba.get(z.Mda).yTb(D);}function M(Xa,ab,aa){var na,Ca,Ra,Q;Ra={Aa:Xa,J4:ab};if(aa){Q=function(da){var P;da=da || "" + aa;if(aa.stack){P="" + aa.stack;da=0 <= P.indexOf(da)?P:da + P;}return da;};if(Ca=aa.cadmiumResponse){if(na=Ca.De && Ca.De.toString())Ca.De=na;Ca.Aa=Xa;Ca.J4=ab;Ca.Nb=Q(aa.message);Ca.error={ec:Xa,Vc:na,Ky:ab,data:aa.cause,message:aa.message};return Ca;}Q=Q(aa.errorMessage);na=(0,u.Ui)(aa.internalCode) || (0,u.Ui)(aa.error && aa.error.internalCode);Ca=void 0 !== aa.yFb?(0,w.Hsa)(aa.yFb):void 0;}Q && (Ra.Nb=Q);na && (Ra.De=na);Ra.error={ec:Xa,Vc:na.toString(),Ky:ab,data:Ca,message:Q};return Ra;}(0,m.oa)(k.config);L=h.Ba.get(n.oJ);K=p.Sj.gj;if(t.Rz && t.yp && t.yp.unwrapKey){try{O=ob.netflix.msl;J=O.createMslClient;I=O.IHttpLocation;N=O.MslIoException;}catch(Xa){G({Aa:g.S.olb});return;}R=(0,h.Qi)("Msl");U=k.config.uTb;ja=k.config.wTb;ra=k.config.$x?"mslstoretest":"mslstore";O=l.RH.pbb;ka=!0;ua=!O || O.ia;Aa=(0,h.Hq)(k.config.$x?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");La=!!k.config.Awa;h.Ba.get(q.zw).create().then(function(Xa){U?Xa.remove(ra).then(function(){E();}).catch(function(ab){R.error("Unable to delete MSL store",(0,g.Kw)(ab));E();}):ja?Xa.load(ra).then(function(ab){L.mark(K.qlb);E(ab.value);}).catch(function(ab){ab.Aa == g.S.ax?(L.mark(K.slb),E()):(R.error("Error loading msl store",(0,g.Kw)(ab)),L.mark(K.rlb),Xa.remove(ra).then(function(){E();}).catch(function(aa){G(aa);}));}):E();}).catch(function(Xa){R.error("Error creating app storage while loading msl store",(0,g.Kw)(Xa));G(Xa);});}else G({Aa:g.S.plb});});},78719:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.gEa=void 0;c=a(29204);l=a(37509);f=a(3887);k=a(36129);d=a(85001);b.gEa=function(g,m,h){function n(q){var u,t;u=q.error || q;t=(0,f.ue)(u);h.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.Meb && c.config.J6b?0 <= u.indexOf(c.config.Meb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.pd(k.U.oOa));}function p(){l.fe.removeListener(l.f6,n);g.removeEventListener(d.ha.ng,p);g.removeEventListener(d.ha.It,p);}try{l.fe.addListener(l.f6,n);g.addEventListener(d.ha.ng,p);c.config.sNb && g.addEventListener(d.ha.It,p);}catch(q){h.error("exception in exception handler ",q);}};},42654:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;c=a(29204);l=a(24066);f=a(36129);k=a(981);d=a(22365);g=a(32687);m=a(85001);h=a(31276);n=a(4246);b.eGa=function(p){var u,t,v,w;function q(){p.state.value !== m.Vb.$d || p.sb.value !== m.gb.Rh && p.sb.value !== m.gb.nq?t.Ao():t.hB();}u=c.config.xWb;if(!p.bM() && u){t=h.Ba.get(n.sQ)(u,function(){p.fireEvent(m.ha.QL,f.U.n0);});p.sb.addListener(q);p.state.addListener(q);if(c.config.lpa){v=(0,l.On)();w=new k.gMa(c.config.lpa,function(){var y,x;y=(0,l.On)();x=y - v;x > u && (p.fireEvent(m.ha.QL,f.U.S_),w.NUa());x > 2 * c.config.lpa && (p.mpa=(0,d.fs)(x,p.mpa || 0));v=y;});w.z2b();}p.addEventListener(m.ha.ng,function(){t.Ao();(0,g.Wc)(w) && w.NUa();});}};},33059:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w;function c(y,x){this.j=y;this.Zi=x;this.Z4b=!1;this.log=(0,k.Fh)(this.j,"MediaAppendManager");this.Kb=this.j.Kb;this.$=this.Kb.$;this.HY=this.cS=!1;this.audio={type:f.Uj.audio,mv:[],Xk:[],$M:!1};this.video={type:f.Uj.video,mv:[],Xk:[],$M:!1};y={};this.jI=(y[w.u.X]=this.video,y[w.u.fa]=this.audio,y);this.closed=!1;this.Ey=l.config.Ey;this.h8=l.config.h8;this.kC=this.j.bb.rg?l.config.pta:l.config.kC;this.lTa=!0;this.jc=k.Ba.get("Base64EncoderSymbol");this.Kma=!1;this.Mta=[];(0,g.oa)(this.Ey > this.h8,"bad config");(0,g.oa)(this.Ey > this.kC,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;l=a(29204);f=a(51344);k=a(31276);d=a(36129);g=a(45146);m=a(3887);h=a(33096);n=a(85001);p=a(93294);q=a(5021);u=a(63156);t=a(75568);v=a(69931);w=a(60328);c.prototype.r5=function(){var z,A;function y(B,C){return x(B,C.Y7);}function x(B,C){var D,F,G,E;G=!!C.response;E=C.response;if(C.Fe)return B + (E.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.k3) && void 0 !== D?D:0) - (null !== (F=null === C || void 0 === C?void 0:C.l3) && void 0 !== F?F:0);return (G?E.byteLength:C) + B;}z=this.jI[w.u.X];A=this.jI[w.u.fa];return {videoToAppend:z.Xk.reduce(x,0),videoInBuffer:z.mv.reduce(y,0),audioToAppend:A.Xk.reduce(x,0),audioInBuffer:A.mv.reduce(y,0)};};c.prototype.lUb=function(){this.audio.Ci && !this.audio.Ci.mh() && (!1,this.audio.Ci.CSa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.p2b=function(){this.audio.Zwa=!0;this.video.Zwa=!0;};c.prototype.w2b=function(y){y === w.u.fa?this.cS=!0:y === w.u.X && (this.HY=!0);};c.prototype.mh=function(){var y,x;return !(null === (y=this.audio.Ci) || void 0 === y || !y.mh()) || !(null === (x=this.video.Ci) || void 0 === x || !x.mh());};c.prototype.J$=function(y){var x,z;null === (x=this.audio.Ci) || void 0 === x?void 0:x.J$(y);null === (z=this.video.Ci) || void 0 === z?void 0:z.J$(y);};c.prototype.Itb=function(y){var x;y.mediaType === w.u.fa?this.cS=!1:y.mediaType === w.u.X && (this.HY=!1);x=this.jI[y.mediaType];x?x.Xk.push(y):(0,g.oa)(!1);};c.prototype.Htb=function(y,x,z){var A;A=this;x=this.KTa(y.mediaType,x,z);if(!this.Kma)if(y.mediaType === w.u.X)(this.$Xb(y),this.Kma=!0,this.Mta.forEach(function(B){return A.iia(B);}),this.Mta=[]);else {this.Mta.push(x);return;}this.iia(x);};c.prototype.iia=function(y){var x;x=this.jI[y.mediaType];x?x.Xk.push(y):(0,g.oa)(!1);};c.prototype.KTa=function(y,x,z){return {mediaType:y,tt:!1,response:x,yj:function(){return "header";},get Fe() {return !this.tt;},profile:z.profile};};c.prototype.$Xb=function(y){(0,g.oa)(!!y.Hcb,"startOfSegment properties need to be set before first header is appended");this.Kma || !l.config.dHb || !this.j.k6() && !this.j.NL() || y.Hcb.h3a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.jc.decode(h.TAa),this.iia(this.KTa(w.u.X,y,{profile:t.H.lD})));};c.prototype.t2b=function(y){var x;x=this.jI[y.type];if(x)try{x.Ci=y;}catch(z){this.pd(d.U.bea,{Aa:(0,p.F5)(y.type),Nb:(0,m.ue)(z)});}};c.prototype.close=function(){this.$=this.Kb=void 0;this.closed=!0;};c.prototype.pd=function(y,x,z){this.closed || this.j.pd(y,x,z);};c.prototype.Uka=function(y){return this.oXa(this.audio,y,this.X3()) && this.oXa(this.video,y,this.X3());};c.prototype.X3=function(){return this.j.sb.value === n.gb.zf?this.kC:this.h8;};c.prototype.O5b=function(){var y,x;y=this.video.Xk.filter(function(z){return !z.Fe;}).reduce(function(z,A){return z + A.Ws;},0);x=this.audio.Xk.filter(function(z){return !z.Fe;}).reduce(function(z,A){return z + A.Ws;},0);return Math.min(y,x);};c.prototype.oXa=function(y,x,z){var A;A=y.Vka;A=A && A.Y7;return !y.Ci || 0 === y.Xk.length && (y.type === f.Uj.audio && this.cS || y.type === f.Uj.video && this.HY)?!0:A && A.wC - x >= z || !1;};c.prototype.Beb=function(y){this.Z4b || (this.Aeb(this.audio,y),this.Aeb(this.video,y));this.closed || this.qUa();};c.prototype.qUa=function(){var y,x,z,A,B,C;A=!this.audio.Ci || 0 !== this.audio.mv.length;B=0 === this.video.Xk.length && this.HY;C=!this.video.Ci || 0 !== this.video.mv.length;!(0 === this.audio.Xk.length && this.cS && C || B && A) || (null === (y=this.audio.Ci) || void 0 === y?0:y.mh()) || (null === (x=this.video.Ci) || void 0 === x?0:x.mh()) || this.Lla || !(this.$.readyState > u.Sj.Lz.HAVE_NOTHING) || this.Zi.Y6 || (this.Lla=!0,null === (z=this.Kb) || void 0 === z?void 0:z.endOfStream());};c.prototype.Aeb=function(y,x){var z,A,B,C;if(!this.closed && y.Ci){A=y.Ci;B=y.mv;!A.mh() && 0 < B.length && (y.Vka=B[B.length - 1]);if(y.Zwa){if(A.mh())return;y.Zwa=!1;C=null === (z=this.Kb) || void 0 === z?void 0:z.j0a().k9a(q.sm);C && 0 < C && A.remove(0,C);}for(z=y.Xk[0];z && z.response && (z.Fe || z.oN - x <= this.Ey);){if((this.Lla=!1,this.A6b(z)))(y.Xk.shift(),z=y.Xk[0]);else break;}!A.mh() && 0 < B.length && (y.Vka=B[B.length - 1]);}};c.prototype.A6b=function(y){var x,z,A;!1;(0,g.oa)(y && !!y.response);x=y.response;z=y.mediaType;A=this.jI[z];if(!this.closed && A.Ci && !A.Ci.mh()){try{y.Fe && y.profile && A.Ci.Xwb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.Ci.CSa(x,y);y.Fe || A.mv.push(this.EAb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.Z3=this.j.Z3?this.j.Z3 + 1:1,this.lTa=!1,A.$M=!0):(this.log.error("Exception while appending media",y,B),this.pd("CodecSwitchingError" === B.name?d.U.AJa:d.U.Mmb,(0,p.F5)(z)));return;}return !0;}};c.prototype.wAb=function(y){var x;if(v.ffa[y.Qb])return v.ffa[y.Qb];x=this.j.w1a(y.Qc);x || (this.log.warn("Could not find CDN",{cdnId:y.Qc}),x={id:y.Qc,T4a:y.location});return x;};c.prototype.fWa=function(y){var x,z;x=y.Qb;if(v.gfa[x])return v.gfa[x];y.mediaType === w.u.fa?z=this.j.s1a(x):y.mediaType === w.u.X && (z=this.j.H1a(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.EAb=function(y){var x;x=this.fWa(y);return {Y7:y,stream:x,tK:{startTime:Math.floor(y.oN),endTime:Math.floor(y.wC)},Cc:this.wAb(y)};};c.prototype.Bja=function(y){this.wUa(y,w.u.fa);this.wUa(y,w.u.X);};c.prototype.wUa=function(y,x){var z,A,B,C,D,F,G,E,H;z=this;A=y;this.lTa && (A-=l.config.tM);B=this.jI[x];C=B.mv;G=!1;C.some(function(M,L){var K;K=M.Y7;if(y < K.oN)return ((0,g.oa)(!1,"decoder content does not contain media time"),!0);A >= K.wC && (D=L);if(y < K.wC)return (F=L,L=x === w.u.fa?z.j.hf:z.j.Wd,M !== L.value && (L.set(M),G=!0),!0);});if((B.$M || G) && void 0 !== D && !this.Lla){if(D + 1 === F){if(0 === D)return;D--;}E=C[D].Y7.wC - 1;if(0 < E){H=B.Ci;H && !H.mh()?(H.remove(0,E / h.ds),B.$M=!1,C.splice(0,D + 1)):(B.$M=!0,!1);}}};c.prototype.oab=function(){!1;[this.audio,this.video].forEach(function(y){y.mv=[];y.Vka=void 0;y.Xk=[];});this.HY=this.cS=!1;this.j.fireEvent(n.ha.T7);};c.prototype.Coa=function(){return [this.audio,this.video].filter(function(y){return y.Ci;});};c.prototype.wIb=function(){var y,x;if(this.mh())(0,g.oa)(!1,"should not be busy while checking buffer ranges");else {y=this.Coa().map(function(z){var A,B,C,D,F;D=z.Xk.filter(function(G){return G.tt;});F=z.Ci.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=D[0]) || void 0 === A?void 0:A.oN;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.wC) && void 0 !== C?C:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,ca(y.map(function(z){return z.start;})));y=Math.min.apply(Math,ca(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Ob)(x),end:(0,q.Ob)(y)};}}};c.prototype.skip=function(y){(0,g.oa)(!this.mh(),"should not be busy while skipping");this.Coa().forEach(function(x){x.$M=!0;});this.Bja(y);this.Coa().forEach(function(x){0 < x.mv.length || (x.Xk=x.Xk.filter(function(z){return z.Fe || z.wC > y?!0:!1;}));});};b.RHa=c;},36582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fda="MediaElementHelpersSymbol";},50093:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.YHa=void 0;r=a(5163);l=a(4203);f=a(33096);a=a(22674);c.prototype.ft=function(){return this.AOb()?f.rDa:(/widevine/i).test(this.config().Ul)?f.vca:(/fps/i).test(this.config().Ul)?"fairplay":f.OZ;};c.prototype.AOb=function(){return (/clearkey/i).test(this.config().Ul);};k=c;k=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.Xb))],k);b.YHa=k;},90762:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,v;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function l(w,y,x,z){var A,B;A=this;this.j=w;this.type=y;this.log=z;this.B1=new d.Eb(!1);this.XD={data:[],state:"",operation:""};this.error=void 0;this.mimeType=this.GYa((this.type === v.u.X?this.j.Fg.value:this.j.qc.value).streams);this.kj=new g.Tj();this.Kga={Type:this.type};if(k.config.SB){B=!0;this.Jma=new d.Eb(!1);}this.log.trace("Adding source buffer",this.Kga,{TypeId:this.mimeType});this.Sc=x.addSourceBuffer(this.mimeType);this.Sc.addEventListener("updatestart",function(){!1;A.XD.state="updatestart";});this.Sc.addEventListener("update",function(){!1;A.XD.state="update";});this.Sc.addEventListener("updateend",function(){var C;!1;A.B1.set(!1);A.lPa && A.lPa();A.XD.state="updateend";C=0;try{C=A.Sc.buffered.length;}catch(D){}B && C && (B=!1,A.Jma.set(!0),!1);});this.Sc.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(F){}w.pd(h.U.Nmb,(0,f.F5)(A.type));});this.Sc.addEventListener("abort",function(){!1;});w.addEventListener(q.ha.closed,function(){A.Sc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.tib=b.Gda=void 0;f=a(93294);k=a(29204);d=a(81734);g=a(94886);m=a(31276);a(24550);h=a(36129);a(5021);n=a(45146);p=a(32687);q=a(85001);u=a(95162);t=a(48220);v=a(60328);l.prototype.mh=function(){return this.B1.value;};l.prototype.updating=function(){return this.Sc?this.Sc.updating:!1;};l.prototype.J$=function(w){this.lPa=w;};l.prototype.tna=function(){return this.XD;};l.prototype.buffered=function(){return this.Sc.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.ona=function(){var w,z,A;try{w=this.Sc.buffered;if(w){for(var y=[],x=0;x < w.length;x++){z=1E3 * w.start(x);A=1E3 * w.end(x);(0,n.oa)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};l.prototype.s5=function(){var w,y;w=this.ona();if(w){w=w.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=w.reduce(function(x,z){return x + z.end - z.start;},0);w=w.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:w.join("|")};}};l.prototype.CSa=function(w,y){!1;try{(0,n.oa)(this.Sc.buffered && 1 >= this.Sc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.s5()));}catch(x){}(0,n.oa)(!this.mh());this.acb("append",w);y=y && y.J9 / 1E3;(0,p.yb)(y) && this.Sc.timestampOffset !== y && (!1,this.Sc.timestampOffset=y);this.Sc.appendBuffer(w);!1;this.B1.set(!0);};l.prototype.remove=function(w,y){(0,n.oa)(!this.mh());try{this.acb("remove");!1;this.Sc.remove(w,y);this.B1.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.Kga);}};l.prototype.acb=function(w,y){this.XD.data=y || [];this.XD.state="init";this.XD.operation=w;};l.prototype.Ubb=function(w,y){this.YPb=w / y * 1E3;};l.prototype.Xwb=function(w){var y;if(this.Sc){if((w=this.GYa([{type:this.Cyb,Hd:w}]),w !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.Sc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Sc.changeType(w);this.mimeType=w;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.Kga,{From:y,To:w}),new c(x.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(w,y){!y || y.Fe?this.hia(w,y):this.jia(w,y);return !0;};l.prototype.hia=function(w,y){this.j.Td.hia(this,w,y || ({}));};l.prototype.jia=function(w,y){w=this.wyb(w,y);!1;this.j.Td.jia(w);};l.prototype.wyb=function(w,y){var x;x=this.YPb || 0;return {yj:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.Yc.Nc.DONE,oN:y.fb,wC:y.fb + y.duration,Ws:y.duration,J9:x,Ps:y.Ps,I:y.I,Qb:y.Qb,Qc:+y.Qc,location:y.location,l3:y.offset,k3:y.offset + y.wa - 1,bitrate:y.bitrate,response:w,CMb:w && 0 < w.byteLength,tt:!0,get Fe() {return !this.tt;},Zab:this.jj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.I,isHeader:this.Fe,ptsStart:this.oN,ptsOffset:this.J9,responseType:this.Cdc,duration:this.Ws,readystate:this.Re};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var w;this.j.EE("EndOfStream");null === (w=this.j.Td) || void 0 === w?void 0:w.G8(this.mediaType);return !0;};l.prototype.Gcb=function(w){this.vrb=w;};l.prototype.addEventListener=function(w,y,x){this.kj.addListener(w,y,x);};l.prototype.removeEventListener=function(w,y){this.kj.removeListener(w,y);};l.prototype.GYa=function(w){var y;y=m.Ba.get(u.oQ);return this.type === v.u.X?y.R3(w):y.L3(w);};Ya.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Hcb:{configurable:!0,enumerable:!0,get:function(){return this.vrb;}},Cyb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Gda=l;fa(c,Error);b.tib=c;},73056:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O;function c(J){var I;I=this;this.j=J;this.Kb=this.j.Kb;this.log=(0,h.Fh)(this.j,"MediaPresenterASE");this.v8=this.Y3=0;this.$=this.Kb.$;this.Oy=new K.BOa(this.$,this.j);this.P8a=this.D8a=this.Z6=this.Yta=!1;this.x7=new Set();this.b5b=h.Ba.get(B.MD)((0,A.Ob)(x.H0));this.eK=void 0;this.Zi=h.Ba.get(D.NMa)(this.j);this.rw={};this.a6a={};this.fU={};this.ug=new G.RHa(this.j,this.Zi);this.$4b=function(){var N,R,U;I.j.VX=(0,m.On)();if(!I.Tl() && I.GB){N=I.Kb.R0a();N || (I.FWb(),I.ug.Beb(I.mediaTime));I.j.paused.value || !I.ug.Uka(I.mediaTime) || !I.$ia() || N || I.Zi.Y6?I.Tva():I.Yta || I.Uva();I.EWb();if(!I.Kb.R0a() && !I.Z6){N=I.Kb.wL(!0);R=I.j.sb.value;U=I.myb();R !== U && !1;U === w.gb.nq?(I.mediaTime=I.j.Wp.ca(A.pa),I.Tva()):U !== w.gb.zf && I.o7b(N);I.ifb();I.ug.Bja(I.mediaTime);I.j.sb.set(U);U !== w.gb.zf || R !== w.gb.ke && R !== w.gb.Rh || I.ata();}}};this.jl=(0,F.N9a)(this.$4b);this.mediaTime=J.fb;this.j.Dh=!1;this.Kb.addEventListener(z.Qh.ycb,function(){if(I.zcb){I.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{I.Bb();}catch(N){I.log.error("Exception while initializing",N);I.pd(n.U.Amb);}}});this.Kb.addEventListener(z.Qh.C4a,function(N){N=N.J;I.zcb?I.F7a(N):I.x7.add(N);});}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;l=a(33096);f=a(29204);k=a(13044);d=a(37509);g=a(52569);m=a(24066);h=a(31276);a(24550);n=a(36129);p=a(91591);q=a(45146);u=a(8825);t=a(3887);v=a(32219);w=a(85001);y=a(32687);x=a(93294);z=a(16520);A=a(5021);B=a(45842);C=a(4246);D=a(65106);F=a(97368);G=a(33059);E=a(36418);H=a(28048);M=a(22365);L=a(60328);K=a(49587);O=a(63156);c.prototype.ZYb=function(J){var I,N,R;I=this;if(this.Oy.paused){N=Math.ceil(J.VNb);R=function(U){I.Zi.Py?I.Zi.Py.time=U:I.d6a=U;};N > (this.Zi.Py?this.Zi.Py.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",N),R(N));J.Xma && (this.log.trace("ptsChanged forcedTimestamp",J.Xma),R(J.Xma));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.C_a=function(){return this.Kb.wL(!1);};c.prototype.A5=function(){return this.Kb.A5();};c.prototype.vv=function(){return this.Kb.vv();};c.prototype.JF=function(){return this.Kb.JF();};c.prototype.IT=function(){return this.Kb.IT();};c.prototype.Bb=function(){var J,I;J=this;this.log.trace("Video element initializing");this.Kb.sourceBuffers.forEach(function(N){return J.ug.t2b(N);});this.j.mG?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.P}),null === (I=this.j.cb) || void 0 === I?void 0:I.y4(this.j.P));0 < this.x7.size && setTimeout(function(){J.log.trace("Notifying about licenses that were added before source buffers created");Array.from(J.x7).forEach(function(N){J.x7.delete(N);J.F7a(N);});},0);this.log.trace("Waiting for loadedmetadata");(0,g.eSa)(this.$,"loadedmetadata",function(){J.log.trace("Video element event: loadedmetadata");J.j.ie("md");});d.fe.addListener(d.Rk,this.fU[d.Rk]=function(){return J.close();},l.aJ);this.j.addEventListener(w.ha.ng,function(){return J.close();},l.aJ);this.j.addEventListener(w.ha.Kab,function(){return J.Uva();});this.j.addEventListener(w.ha.zG,function(){return J.dVb();});this.j.paused.addListener(function(){return J.jl();});this.j.muted.addListener(function(){return J.Pya();});this.j.volume.addListener(function(){return J.Pya();});this.j.playbackRate.addListener(function(){return J.BO();});this.j.Gq.addListener(function(){return J.jl();});this.j.gm.addListener(function(){return J.jl();});this.Pya();this.BO();this.ug.J$(function(){return J.U7();});this.U7();this.t6b();};c.prototype.F7a=function(J){var I;this.j.ie("ld",J);null === (I=this.j.cb) || void 0 === I?void 0:I.y4(J);this.j.fireEvent(w.ha.z4a);};c.prototype.jia=function(J){var I;I=this;!1;this.ug.Itb(J);this.Wwb(J).then(function(){I.U7();I.j.fireEvent(w.ha.T7);}).catch(function(N){I.pd(n.U.Emb,{Nb:(0,t.ue)(N)});});};c.prototype.hia=function(J,I,N){N=void 0 === N?{}:N;I=this.VDb(J,I);this.ug.Htb(J,I,N);this.U7();this.D8a || J.type !== L.u.X || (this.Zi.Y6 || this.seek(this.j.fb,w.Ac.$r),this.D8a=!0);};c.prototype.t6b=function(){var J;J=this;this.Kb.addEventListener(z.Qh.iX,this.rw[z.Qh.iX]=function(){return J.tVb();});this.Kb.addEventListener(z.Qh.Rn,this.rw[z.Qh.Rn]=function(){return J.S8();});this.$.addEventListener("ended",this.rw.ended=function(){return J.XUb();});this.$.addEventListener("play",this.rw.play=function(){return J.Xsa();});this.$.addEventListener("pause",this.rw.pause=function(){return J.Wsa();});this.$.addEventListener("playing",this.rw.playing=function(){return J.Zsa();});this.GB=!0;this.ug.Beb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.ie("vi");f.config.VWa?setTimeout(function(){J.Isa=!0;J.jl();},f.config.VWa):this.Isa=!0;this.Q3b();this.j.gd.ba && this.R3b();(0,v.Df)(function(){return J.jl();});};c.prototype.Q3b=function(){var N;function J(){var R;N.j.sb.value !== w.gb.ke || 0 !== (null === (R=N.j.Td) || void 0 === R?void 0:R.A5()) || M.Hg.hidden?(N.d7a.Ao(),R="stopTimer"):(N.d7a.hB(),R="ensureTimer");N.log.trace("No render timer update: " + R,{presentingState:w.gb[N.j.sb.value],hidden:M.Hg.hidden});}function I(R){var U,ja;R=void 0 === R?!0:R;U=N.j.cb;ja=(null === U || void 0 === U?void 0:U.Bh) && U.z1a();N.j.sb.value == w.gb.zf && N.j.state.value == w.Vb.$d && N.j.Gq.value == w.nf.$d && N.j.gm.value == w.nf.$d && !N.j.Dh && ja?(R && N.a4.Ao(),N.a4.hB(),U="ensureTimer"):(N.a4.Ao(),U="stopTimer");N.log.trace("Timer update: " + U,{presentingState:w.gb[N.j.sb.value],playbackState:w.Vb[N.j.state.value],avBufferingState:w.nf[N.j.Gq.value],textBufferingState:w.nf[N.j.gm.value],autoplayWasBlocked:N.j.Dh,hasLicense:ja,restartTimer:R});}N=this;f.config.IWa && ((0,q.oa)(!this.a4),this.a4=h.Ba.get(C.sQ)(f.config.IWa,function(){var R;R=h.Ba.get(p.qca).fXa(N.j);N.pd(R.code,R);}),this.j.sb.addListener(function(){return I();}),this.j.Gq.addListener(function(){return I();}),this.j.gm.addListener(function(){return I();}),this.j.state.addListener(function(){return I();}),this.j.addEventListener(w.ha.z4a,function(){return I();}),this.j.addEventListener(w.ha.Dh,function(){return I();}),this.j.addEventListener(w.ha.Eia,function(){return I();}),this.j.addEventListener(w.ha.BC,function(){return I(!0);}),I());f.config.c7a && (this.d7a=h.Ba.get(C.sQ)(f.config.c7a,function(){var R;0 === (null === (R=N.j.Td) || void 0 === R?void 0:R.vv()) && (R=h.Ba.get(p.qca).fXa(N.j),N.pd(R.code,R));N.j.sb.removeListener(J);d.fe.removeListener(d.Zq,N.fU[d.Zq]);}),this.j.sb.addListener(J),d.fe.addListener(d.Zq,this.fU[d.Zq]=J),J());};c.prototype.R3b=function(){var N;function J(){var R,U,ja,ra,ka;ra=N.Kb.sourceBuffers.find(function(ua){return ua.mediaType === L.u.X;});ra=null !== (R=null === ra || void 0 === ra?void 0:ra.ona()) && void 0 !== R?R:[];if(1 < ra.length){ka=N.j.sb.value == w.gb.ke;R=null !== (ja=null === (U=N.$) || void 0 === U?void 0:U.readyState) && void 0 !== ja?ja:O.Sj.Lz.HAVE_NOTHING;ja=R < O.Sj.Lz.HAVE_FUTURE_DATA;U=I(ra,N.mediaTime);ka && ja && U?(N.Xaa.hB(),ja="ensureTimer"):(N.Xaa.Ao(),ja="stopTimer");N.log.trace("Video Gaps Monitor Timer update: " + ja,{presentingState:w.gb[N.j.sb.value],mediaTime:N.mediaTime,bufferedRanges:JSON.stringify(ra),nextRange:JSON.stringify(U),readyState:R});}else N.Xaa.Ao();}function I(R,U){return R.find(function(ja,ra){if(Math.abs(U - ja.end) < Math.abs(U - ja.start))return !1;ja=ja.end - ja.start;return ra !== R.length - 1 && ja < f.config.wG?!1:!0;});}N=this;f.config.Tfb && ((0,q.oa)(!this.Xaa),this.Xaa=h.Ba.get(C.sQ)(f.config.Tfb,function(){var R,U;U=N.Kb.sourceBuffers.find(function(ja){return ja.mediaType === L.u.X;});U=null !== (R=null === U || void 0 === U?void 0:U.ona()) && void 0 !== R?R:[];if(R=I(U,N.mediaTime))(N.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(U)}),N.seek(R.start,w.Ac.Zw));}),this.j.sb.addListener(J),this.j.mediaTime.addListener(J),this.j.Kb.addEventListener(z.Qh.n$a,J),J());};c.prototype.VDb=function(J,I){var N;N=this.j.ce;(N=(0,H.Opa)(N)?N.yL():void 0) && J.type === L.u.X && ((J=new E.EP(this.log,{mediaType:L.u.X,url:"http://some-url"},I).Ia(N))?I=J:!1);return I;};c.prototype.U7=function(){this.GB && this.jl();this.ug.qUa();};c.prototype.a4b=function(){!1;this.j.sb.set(w.gb.zf);this.Z6=!0;this.jl();};c.prototype.jyb=function(){var J;J=this;this.Z6 && (!1,this.Z6=!1,(0,v.Df)(function(){return J.seek(J.j.tB() || 0,w.Ac.qQ);}));};c.prototype.r5=function(){return this.ug.r5();};c.prototype.G8=function(J){var I;I=this;this.ug.w2b(J);(0,v.Df)(function(){return I.jl();});};c.prototype.DJb=function(){return {Y3:this.Y3,v8:this.v8};};c.prototype.Wwb=function(J){var I;I=this.Kb && this.Kb.j0a();(0,q.oa)(this.j.Wp,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Wp && I && (J=Infinity !== J.Zab?J.Zab + J.J9:J.wC,J > this.j.Wp.k9a(A.pa) && (this.j.Wp=(0,A.Ob)(J)));return Promise.resolve();};c.prototype.EWb=function(){var J,I;J=this;this.Zi.k9 && (!1,this.$ia() && this.ug.Uka(this.mediaTime) && (this.Kb.seek(null !== (I=this.d6a) && void 0 !== I?I:this.mediaTime),this.d6a=void 0,this.Zi.k9=!1,(0,v.Df)(function(){return J.jl();})));};c.prototype.o7b=function(J){var I;if(J < this.mediaTime){I=this.mediaTime - J;f.config.GWb && J && I > x.H0 && (J={ElementTime:(0,u.ah)(J),MediaTime:(0,u.ah)(this.mediaTime)},I > x.cMa?this.pd(n.U.Omb,{Nb:Object.assign({Trace:this.Kb.vB()},J)}):this.log.warn("VIDEO.currentTime became smaller",J));}else this.mediaTime=(0,u.Vw)(J,0,this.j.Wp.ca(A.pa));};c.prototype.$ia=function(){return this.j.Gq.value === w.nf.$d && this.j.gm.value === w.nf.$d;};c.prototype.myb=function(){var J,I,N;J=this;I=this.j.sb.value;N=I;this.Zi.Y6?N=w.gb.zf:this.$ && this.$.ended?I === w.gb.ke && (N=w.gb.nq):this.$ia() && this.ug.Uka(this.mediaTime)?this.Kb.eDb()?N=this.Oy.paused?w.gb.Rh:w.gb.ke:this.b5b.Lj(function(){return J.a5b();}):N=this.j.Wp?this.j.x1a(this.mediaTime,this.ug.X3())?w.gb.zf:w.gb.nq:w.gb.zf;return N;};c.prototype.ata=function(){var J;if(this.j.sb.value === w.gb.zf){J=this.ug.O5b() > this.ug.X3();this.j.gm.value !== w.nf.$d?this.j.Yh.value?(this.j.fireEvent(w.ha.Cx,{$b:k.OKa}),this.log.warn("rebuffer due to timed text",this.j.Yh.value.tg)):this.j.fireEvent(w.ha.qO):J?(this.Y3++,this.j.fireEvent(w.ha.Cx,{$b:k.qea})):(this.v8++,this.j.fireEvent(w.ha.Cx,{$b:k.rea}));}};c.prototype.a5b=function(){this.Tl() || (f.config.mUb && this.ug.lUb(),this.jl());};c.prototype.tVb=function(){this.jl();};c.prototype.S8=function(){this.jl();this.j.fireEvent(w.ha.Rn);};c.prototype.XUb=function(){this.log.trace("Video element event: ended");this.jl();};c.prototype.Xsa=function(){this.log.trace("Video element event: play");this.jl();};c.prototype.Wsa=function(){this.log.trace("Video element event: pause");this.Oy.Wsa();this.jl();};c.prototype.Zsa=function(){this.log.trace("Video element event: playing");this.Oy.Xsa();this.jl();};c.prototype.Pya=function(){this.Tl() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.BO=function(){!this.Tl() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.Uva=function(){var J;J=this;!this.Tl() && (0,y.Wc)(this.$) && !this.$.ended && this.Isa && this.Oy.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.Oy.play()).then(function(){J.closed || (J.Yta=!1,J.$.style.display=null,J.j.Dh=!1,J.j.fireEvent(w.ha.Eia));}).catch(function(I){"NotAllowedError" === I.name?(J.log.warn("Playback is blocked by the browser settings",I),J.j.Dh=!0,J.closed || (J.Yta=!0,J.$.style.display="none",J.j.fireEvent(w.ha.Dh,{player:{play:function(){return J.Uva();}}}))):J.closed || J.P8a || (J.P8a=!0,J.log.error("Play promise rejected",I));}));};c.prototype.dVb=function(){this.Zi.n4a=this.j.tB() || 0;};c.prototype.Tva=function(){this.Tl() || !(0,y.Wc)(this.$) || this.$.ended || !this.Isa || this.Oy.paused || (this.log.trace("Calling pause on element"),this.Oy.pause());};c.prototype.ifb=function(J){this.j.mediaTime.set(this.mediaTime);J && this.j.aHb();};c.prototype.seek=function(J,I,N,R){var U,ja;N=void 0 === N?this.j.I:N;R=void 0 === R?!1:R;ja=null === (U=this.j.cb) || void 0 === U?void 0:U.Bh;!this.Tl() && ja && (this.j.fireEvent(w.ha.BC,{$b:I}),this.Zi.Py={time:J,$b:I,I:N,jHb:R},this.j.sb.set(w.gb.zf),this.jl());};c.prototype.FWb=function(){var J,I,N,R,U,ja,ra,ka;if(this.Zi.Py){J=this.Zi.Py;I=J.time;N=J.$b;R=J.I;U=J.jHb;if(!this.ug.mh() || N === w.Ac.$r){J=this.j.Ri(R).P;ja=this.ug.mh()?void 0:this.ug.wIb();ja=this.Zi.iKb(I,N,R,U,ja);R=ja.x8;U=ja.Ps;ra=ja.hXb;ja=ja.bi;this.ug.Bja(this.mediaTime);ka=this.mediaTime;I=(0,u.ah)(I);this.j.EE("SEEKING: Requested: (" + J + ":" + N + ":" + I + ") - Actual: (contentPts: " + U + ",playerPts: " + (ra + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:I,Actual:(0,u.ah)(R),Cause:N,Skip:ja});N === w.Ac.$r || ja || (this.ug.oab(),this.ug.p2b());this.mediaTime=R;this.Zi.n4a=U;I=this.j.hf.value;ra=this.j.Wd.value;this.j.hf.set(null);this.j.Wd.set(null);this.ifb(!0);this.Zi.Py=void 0;this.Zi.k9=!0;this.j.fireEvent(w.ha.Ej,{Jsa:ka,x8:R,Ps:U,$b:N,skip:ja,hf:I,Wd:ra,P:J});ja && this.ug.skip(R);}}};c.prototype.pd=function(J,I,N){this.closed || this.j.pd(J,I,N);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.ug.close();this.Kb.removeEventListener(z.Qh.iX,this.a6a[z.Qh.iX]);this.Kb.removeEventListener(z.Qh.Rn,this.a6a[z.Qh.Rn]);this.$.removeEventListener("ended",this.rw.ended);this.$.removeEventListener("play",this.rw.play);this.$.removeEventListener("pause",this.rw.pause);this.$.removeEventListener("playing",this.rw.playing);this.Oy.close();d.fe.removeListener(d.Rk,this.fU[d.Rk]);d.fe.removeListener(d.Zq,this.fU[d.Zq]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.Tva();this.Kb.close();}catch(J){}this.$=void 0;this.ug.oab();}};c.prototype.Tl=function(){return this.closed?!0:(0,y.Wc)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Ya.Object.defineProperties(c.prototype,{zcb:{configurable:!0,enumerable:!0,get:function(){var J,I;J=this;return !(null === (I=this.j.cb) || void 0 === I || !I.Cg) && [].concat(ca(this.j.cb.Cg)).every(function(N){return J.Kb.sourceBuffers.find(function(R){return R.mediaType === N;});});}}});b.gIa=c;},93294:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.cMa=b.H0=b.F5=void 0;c=a(60328);l=a(36129);b.F5=function(f){return f === c.u.fa?l.S.Bda:l.S.Cda;};b.H0=50;b.cMa=1E3;},53754:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){var u,t;function q(){u.xR=new h.XNa();return u.xR;}(0,l.Qi)("MediaSourceASE").trace("Inside MediaSourceASE");u=this;t=p.bKb();u.lQa=t;u.readyState=n.Nc.CLOSED;u.addSourceBuffer=function(v){return v === m.u.Ha?q():t.addSourceBuffer(v);};u.QR=function(v){v.includes(m.u.Ha) && q();return t.QR(v);};u.removeSourceBuffer=function(v){if(v.mediaType === m.u.Ha)u.xR=void 0;else return ((0,g.oa)(v.mediaType === m.u.Ha,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),t.removeSourceBuffer(v));};u.Vs=function(v){u.xR=void 0;t.Vs(v);};u.duration=void 0;this.readyState=n.Nc.OPEN;this.tf=f.Ba.get(k.bh).dC(n.tf,{});p=new d.EventEmitter();p.on("subtitleData",function(v){(0,g.oa)(t.j.Mb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");t.j.Mb.value.Mua(v);});this.events=p;}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;l=a(31276);f=a(31276);k=a(74870);d=a(57055);g=a(45146);m=a(93161);h=a(91515);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.xR?this.lQa.sourceBuffers.concat(this.xR):this.lQa.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.jj;},set:function(p){var q;this.jj=p || Infinity;q=Math.floor(1E3 * p) || Infinity;this.sourceBuffers.forEach(function(u){u.jj=q;});}});n={Nc:{CLOSED:0,OPEN:1,nq:2,name:["CLOSED","OPEN","ENDED"]},tf:{Txb:!0,zTb:!0}};b.lIa=Object.assign(c,n);},69931:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.gfa=b.ffa=void 0;r=a(50954);a={};b.ffa=(a[r.rq]={id:-1,name:"hardcoded",bc:1,type:"hardcoded",T4a:"-1",VOb:!1,location:{id:"-1",bc:1,level:100,weight:1}},a);a={};b.gfa=(a[r.rq]={track:{type:"padding",trackId:"padding",wh:"padding",wf:"padding",pC:"other",re:"padding",zC:"padding",fG:"padding",tg:{}},type:"padding",Ub:"-1",bitrate:1,Cb:100,Hd:"unknown",size:1,qla:{},tg:{},Pk:"",framerate:0,ii:!1,Di:[],height:1,width:1},a);},6305:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p,q,u,t,v,w){this.track=d;this.type=g;this.Ub=m;this.bitrate=h;this.Cb=n;this.size=p;this.qla=q;this.Hd=u;this.framerate=t;this.ii=v;this.Di=w;this.tg={Type:g,Bitrate:h,DownloadableId:m};}Object.defineProperty(b,"__esModule",{value:!0});b.sib=b.MediaStream=void 0;l=a(33096);f=a(32687);k=a(51344);c.prototype.toJSON=function(){return this.tg;};c.prototype.D2b=function(d,g,m,h){(0,f.Wc)(d) && (0,f.Wc)(g) && (this.width=d,this.height=g,(0,f.yb)(m) && (0,f.yb)(h) && (this.width=Math.round(m / h * d)),this.tg.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.T1b=function(d,g,m,h,n,p){(0,f.Wc)(d) && (0,f.Wc)(g) && (0,f.Wc)(m) && (0,f.Wc)(h) && (this.Dka=d,this.oWa=g,this.nWa=m,this.mWa=h);(0,f.Wc)(n) && (0,f.Wc)(p) && (this.K8a=n,this.L8a=p);};b.MediaStream=c;b.sib=function(d,g,m,h,n){if(d == l.Z_ || d === k.Uj.audio)return g;if(d == l.QP || d === k.Uj.video)return m;if(d == k.Uj.bya)return h;if(d == k.Uj.rya)return n;};},51344:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uj={audio:"audio",video:"video",bya:"timedtext",rya:"trickplay"};},62439:function(r,b,a){var l,f,k,d,g,m,h;function c(n){var p,q,u,t;p=this;this.j=n;this.CS=void 0;this.bga=(0,f.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Sfa=(0,f.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Lfa=(0,f.createElement)("DIV","width:100%;text-align:center");this.vob=this.Vfa("Audio Bitrate");this.qha=this.Vfa("Video Bitrate / VMAF");this.Pfa=this.Vfa("CDN");this.fR={};this.eU=k.Ba.get(d.wn);this.bga.appendChild(this.Sfa);this.Sfa.appendChild(this.Lfa);q=(0,f.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.uob.bind(this),!1);this.Lfa.appendChild(q);q=(0,f.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.dha.bind(this),!1);this.Lfa.appendChild(q);u=this.Jqb.bind(this);l.fe.addListener(l.xB,u);n.addEventListener(m.ha.zG,function(){p.fR={};});n.addEventListener(m.ha.ng,function(){l.fe.removeListener(l.xB,u);});t=this.erb.bind(this);n.Cc.forEach(function(v){v.addListener(t);});n.qc.addListener(t);n.Fg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;l=a(37509);f=a(52569);k=a(31276);d=a(34231);g=a(43193);m=a(85001);h=a(60328);c.prototype.show=function(){this.BR || (this.TQa(),document.body.appendChild(this.bga),this.BR=!0);};c.prototype.yv=function(){this.BR && (document.body.removeChild(this.bga),this.BR=!1);};c.prototype.toggle=function(){this.BR?this.yv():this.show();};c.prototype.Veb=function(){var q,u,t,v;function n(w,y,x){var z,A,B;A=[];y.filter(function(C){return C.Hd === w;}).forEach(function(C){0 <= x.indexOf(C)?(void 0 === B?B=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(w,y,x){var z;z=[];y.filter(function(A){return A.Hd === w;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.Qs();t=this.j.wB().sort(function(w,y){return w.bitrate - y.bitrate;});v=t.reduce(function(w,y){0 > w.indexOf(y.Hd) && w.push(y.Hd);return w;},[]).map(function(w){return {profile:w,ranges:n(w,t,u),disallowed:p(w,t,u)};});!1;null === (q=this.j.cb) || void 0 === q?void 0:q.O$(v,this.j.P);};c.prototype.uob=function(){var q,u;this.fR={};for(var n=this.qha.options,p=n.length;p--;){q=n[p];q.selected && (this.fR[q.value]=1);}this.CS=this.Kob.bind(this);this.Veb();if(n=this.j.mg){u=this.Pfa.value;n=n.filter(function(t){return t.id == u;})[0];p=this.j.Cc[h.u.X].value;n && n != p && (n.hUa={testreason:"streammanager",selreason:"userselection"},this.j.Cc[h.u.X].set(n));}this.yv();};c.prototype.dha=function(){this.CS=void 0;this.j.Vbb(this.j.P);this.yv();};c.prototype.Kob=function(){var n;n=this;return this.j.wB().filter(function(p){return n.fR[p.bitrate];});};c.prototype.TQa=function(){var n,p,q,u;n=this;p=this.j.qc.value;q=this.j.Fg.value;u=this.j.mg;p && (u=u.slice(),u.sort(function(t,v){return t.bc - v.bc;}),this.hha(this.vob,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.Kg.value};})));q && (this.hha(this.qha,q.streams.map(function(t){var v,w,y;v=n.j.zM.iz(t);w=t.bitrate;t=t.Cb;y="" + w;t && (y+=" / " + t);v && (y+=" (" + v.join("|") + ")");return {value:w,caption:y,selected:n.CS?n.fR[w]:!v};})),this.qha.removeAttribute("disabled"));u && (this.hha(this.Pfa,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.Cc[h.u.X].value};})),this.Pfa.removeAttribute("disabled"));};c.prototype.erb=function(){this.BR && this.TQa();};c.prototype.Vfa=function(n){var p,q;p=(0,f.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,f.createElement)("DIV",void 0,n);q=(0,f.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Sfa.appendChild(p);return q;};c.prototype.hha=function(n,p){n.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,f.createElement)("option",void 0,q.caption,u);u.value=q.value;n.appendChild(u);});};c.prototype.Jqb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == g.Nz.eZ && this.eU.gqa && this.toggle();};b.bLa=c;},79173:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;c=a(31276);l=a(61726);b.VLa=(function(){(0,c.Qi)("ProbeDownloader");return {zT:function(f){f={url:f.url,qYb:f};!1;l.Ee.tYb(f);}};})();},27758:function(r,b,a){var l,f,k,d,g,m,h;function c(){var n;n=new f.Tj();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Dc.bind(this);this.R1=m++;this.Hi=(0,k.Qi)("ProbeRequest");this.FQa=l.VLa;(0,d.oa)(void 0 !== this.FQa);this.Re=b.fj.Nc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.fj=void 0;l=a(79173);f=a(94886);k=a(31276);d=a(45146);g=a(3887);m=0;(function(){function n(){return JSON.stringify({url:this.Rf,id:this.R1,affected:this.e1,readystate:this.Re});}(0,g.Vd)(c.prototype,{KM:function(p){this.Re !== b.fj.Nc.SZ && this.Re !== b.fj.Nc.DONE && (this.X1=p,p={url:this.Rf,affected:this.e1,probed:{requestId:this.R1,url:this.Rf,Qc:this.vR,groupId:this.z1}},200 <= this.X1 && 299 >= this.X1?(this.Re=b.fj.Nc.DONE,this.emit(b.fj.Ck.bQ,p)):(this.Re=b.fj.Nc.SZ,this.emit(b.fj.Ck.Sz,p)));},Bsa:function(p){this.Re !== b.fj.Nc.SZ && this.Re !== b.fj.Nc.DONE && (this.X1=p,p={url:this.Rf,affected:this.e1,probed:{requestId:this.R1,url:this.Rf,Qc:this.vR,groupId:this.z1}},this.Re=b.fj.Nc.SZ,this.emit(b.fj.Ck.Sz,p));},open:function(p,q,u){if(!p)return (!1,!1);this.Rf=p;this.e1=q;this.vR=u;this.Re=b.fj.Nc.OPENED;this.FQa.zT(this);this.Re=b.fj.Nc.$w;return !0;},We:function(){!1;return !0;},yj:function(){return this.R1;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Re;}},status:{get:function(){return this.X1;}},url:{get:function(){return this.Rf;}},Ldc:{get:function(){return this.e1;}}});})();(function(n){n.Ck={bQ:"pr0",Sz:"pr1"};n.Nc={UNSENT:0,OPENED:1,$w:2,DONE:3,SZ:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(h || (h={}));b.fj=Object.assign(c,h);},59405:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);f=a(31276);k=a(69484);a=a(11479);f.Ba.get(a.Oh).register(r.U.KFa,function(d){c.config.KHb && f.Ba.get(k.vEa).start();d(l.cg);});},91515:function(r,b,a){var l;function c(){this.mediaType=l.u.Ha;}Object.defineProperty(b,"__esModule",{value:!0});b.XNa=void 0;l=a(93161);c.prototype.appendBuffer=function(){return !0;};c.prototype.Ubb=function(){};b.XNa=c;},49587:function(r,b){function a(c,l){this.j=l;this.UG=!0;this.Eaa=!1;this.$=c;}Object.defineProperty(b,"__esModule",{value:!0});b.BOa=void 0;a.prototype.Xsa=function(){this.UG && (this.UG=!1,this.j.paused.set(!1));};a.prototype.Wsa=function(){this.UG || (this.UG=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.UG=!0,null === (c=this.$) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.Eaa?(this.Eaa=!0,Promise.resolve(null === (l=this.$) || void 0 === l?void 0:l.play()).then(function(){c.Eaa=!1;}).catch(function(f){var k;c.Eaa=!1;c.UG=!(null === (k=c.$) || void 0 === k || !k.paused);throw f;})):Promise.resolve();};a.prototype.close=function(){this.$=void 0;};Ya.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.UG;}}});b.BOa=a;},20318:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.mp=b.nhb=void 0;b.nhb=a;b.mp=new a();},70632:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(93161);f=a(51790);k=a(27758);d=a(90762);g=a(29204);m=a(33096);h=a(67263);n=a(53754);p=a(24066);r=a(36129);q=a(31276);u=a(21941);t=a(22365);v=a(59416);b=a(11479);w=a(13044);y=a(20318);x=a(2248);z=a(84408);q.Ba.get(b.Oh).register(r.U.IFa,function(A){var B,C,D,F,G,E,H,M,L;B=q.Ba.get(u.OIa).dBb();C=q.Ba.get(h.tca).GI;D=q.Ba.get(f.iIa).Mo;F=q.Ba.get(x.Zg);G=q.Ba.get(z.xq);E={o9:(0,q.BT)("ASE"),Vtb:(0,q.BT)("JS-ASE",void 0,"Platform"),Qi:q.BT,storage:v.storage,pKb:t.KCa,getTime:p.On,W3:function(K){return F.decode(K).buffer;},Tka:function(K){return G.encode(K);},kM:{},Mo:D,fj:k.fj,GI:C,MediaSource:n.lIa,SourceBuffer:d.Gda,PT:function(){return [g.config.G2,g.config.J2,g.config.I2];},Qs:function(K){w.Bn.forEach(function(O){O.Vbb(K);});}};C=new Promise(function(K){v.storage.load("nh",function(O){E.kM.nh=O.ia?O.data:void 0;K();});});D=new Promise(function(K){v.storage.load("lh",function(O){E.kM.lh=O.ia?O.data:void 0;K();});});H=new Promise(function(K){v.storage.load("gh",function(O){E.kM.gh=O.ia?O.data:void 0;K();});});M=new Promise(function(K){v.storage.load("sth",function(O){E.kM.sth=O.ia?O.data:void 0;K();});});L=new Promise(function(K){v.storage.load("vb",function(O){E.kM.vb=O.ia?O.data:void 0;K();});});Promise.all([C,D,L,M,H]).then(function(){return c.__awaiter(this,void 0,void 0,function O(){var J,I;return Ja(O,function(N){if(1 == N.Lv)return (J=a(92623)(E),y.mp.$h=a(21457),y.mp.$h.declare(l.pg),y.mp.$h.set(a(87141)(g.config),!0,(0,q.BT)("ASE")),Ma(N,l.DL(J),2));I=N.SY;I.open(y.mp.$h,B);I.O1b({audio:g.config.G2,video:g.config.J2,text:g.config.I2},{G:g.config.tM,wa:void 0});y.mp.Nh=I;A(m.cg);N.Lv=0;});});}).catch(function(K){E.o9.error("Exception loading location history from local storage",K);});});},39480:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.RKa=void 0;c=a(33096);l=a(29204);f=a(24066);k=a(8825);d=a(22365);g=a(32219);m=a(32687);h=a(85001);b.RKa=function(n){var t,v,w,y,x,z;function p(){return n.state.value === h.Vb.LOADING || n.state.value === h.Vb.$d && n.sb.value === h.gb.zf;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,g.Df)(u));}function u(){var A,B,C,D,F,G,E,H;A=(0,f.On)();B=t.value;C=B?B.progress:0;D=n.state.value == h.Vb.LOADING || p() && A - v > l.config.Tvb;if(D && n.state.value == h.Vb.$d){if(n.Pd.value === h.nf.CMa)(F=C,G=!0);else {E=A;w=w || A;y=y || w + l.config.USb + 1;(0,m.yb)(E) && (E=(0,d.fs)(E,y),F=(0,d.yn)(1E3 * (0,k.Vw)((A - w) / (E - w),0,.99)) / 1E3);}if(F < C)if(C - F < l.config.PYb / 100)(F=C,x=void 0);else if(x){if(A - x > l.config.OYb){H=!0;x=void 0;}else F=C;}else (x=A,F=C);}else x=y=w=void 0;A=D?{Jr:G,progress:F,QYb:H}:null;(!A || !t || !B || (0,m.yb)(A.progress) && !(0,m.yb)(B.progress) || (0,m.yb)(A.progress) && (0,m.yb)(B.progress) && .01 < (0,d.$_)(A.progress - B.progress) || A.Jr !== B.Jr) && t.set(A);}t=n.cja;v=0;n.state.addListener(function(){q();u();},c.Tda);n.sb.addListener(function(A){if(A.oldValue !== h.gb.zf || A.newValue !== h.gb.zf)v=(0,f.On)();q();});n.Pd.addListener(function(){q();});n.Gq.addListener(function(){q();});n.gm.addListener(function(){q();});z || (z=setInterval(u,100));};},13044:function(r,b,a){var l,f;function c(k,d){var g;g=b.Bn[0];g == d && (g=b.Bn[1]);g?g.close(function(){c(k,d);}):k && k(l.cg);}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=b.OKa=b.qea=b.rea=b.Tz=b.sea=b.PKa=b.vea=b.uea=b.Bn=b.SKa=b.tea=void 0;l=a(33096);f=a(45146);b.tea=c;b.SKa=function(k,d){switch(k){case b.PKa:b.uea.push(d);return;case b.sea:b.vea.push(d);return;}(0,f.oa)(!1);};b.Bn=[];b.uea=[];b.vea=[];b.PKa=1;b.sea=3;b.Tz={index:0,I6a:void 0,Mma:void 0};b.rea="network";b.qea="media";b.OKa="timedtext";b.QKa="playback";},30689:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);f=a(31276);b=a(11479);k=a(66476);f.Ba.get(b.Oh).register(r.U.PFa,function(g){var m,h,n;if(c.config.Ar){m=(0,f.Qi)("PlayerPredictionModel");h=f.Ba.get(k.PD);n=a(99886);m.log=m.trace.bind(m);d=new n({},m,{RW:function(){},H_b:function(){}},h,{bH:function(){}});ob._cad_global.playerPredictionModel=d;m.info("ppm v2 initialized");}g(l.cg);});},22365:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nqa=b.localStorage=b.HNb=b.indexedDB=b.FIa=b.yp=b.Rz=b.Qz=b.URL=b.h0=b.Hlb=b.QHa=b.PHa=b.$_=b.a0=b.Pw=b.fs=b.yn=b.xlb=b.WI=b.ANa=b.KCa=b.Vlb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.yx=b.Glb=b.Hg=b.yu=b.GIa=b.zu=b.g0=b.DD=void 0;r=ob;b.ze=r.navigator;b.DD=null === b.ze || void 0 === b.ze?void 0:b.ze.userAgent;b.g0=r.location;b.zu=r.screen;b.GIa=r.devicePixelRatio;b.yu=r.performance;b.Hg=r.document;b.Glb=b.Hg.documentElement;b.yx=Array.prototype;b.sort=b.yx.sort;b.map=b.yx.map;b.slice=b.yx.slice;b.every=b.yx.every;b.reduce=b.yx.reduce;b.filter=b.yx.filter;b.forEach=b.yx.forEach;b.pop=b.yx.pop;b.Vlb=Object.create;b.KCa=Date.now;b.ANa=String.fromCharCode;b.WI=Math.floor;b.xlb=Math.ceil;b.yn=Math.round;b.fs=Math.max;b.Pw=Math.min;b.a0=Math.random;b.$_=Math.abs;b.PHa=Math.pow;b.QHa=Math.sqrt;b.Hlb=r.escape;b.h0=r.unescape;b.URL=r.URL || r.webkitURL;b.Qz=r.MediaSource || r.WebKitMediaSource;b.Rz=r.webkitCrypto || r.msCrypto || r.crypto;b.yp=b.Rz && (b.Rz.webkitSubtle || b.Rz.subtle);b.FIa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.HNb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Nqa=a || "noex";}},59416:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(29204);l=a(33096);f=a(50350);r=a(36129);k=a(75876);d=a(19630);g=a(31276);a=a(11479);b.storage=b.storage || void 0;g.Ba.get(a.Oh).register(r.U.QFa,function(m){var h;switch(c.config.h4b){case "idb":h=k.Rcb;break;case "none":h=f.Tcb;break;case "ls":h=d.Scb;}h(function(n){n.ia?(b.storage=n.storage,m(l.cg)):m(n);});});},75876:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.Rcb=void 0;c=a(31276);l=a(17892);f=a(74870);k=a(6675);b.Rcb=function(d){c.Ba.get(l.zw).create().then(function(g){d({ia:!0,storage:new k.lda(g,c.Ba.get(f.bh))});}).catch(function(g){d(g);});};},19630:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.Scb=void 0;c=a(6675);l=a(31276);f=a(56278);k=a(74870);b.Scb=function(d){d({ia:!0,storage:new c.lda(l.Ba.get(f.ZGa),l.Ba.get(k.bh))});};},50350:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Tcb=void 0;c=a(33096);l=a(31276);f=a(36129);a(3887);b.Tcb=function(k){var d;(0,l.Qi)("Storage");d={};k({ia:!0,storage:{load:function(g,m){var h;if(d.hasOwnProperty(g)){h=d[g];!1;m({ia:!0,data:h,faa:g});}else (!1,m({Aa:f.S.ax}));},save:function(g,m,h,n){h && d.hasOwnProperty(g)?n({ia:!1}):(d[g]=m,!1,n && n({ia:!0,faa:g}));},remove:function(g,m){delete d[g];!1;m && m(c.cg);}}});};},50040:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.RH=void 0;c=a(33096);l=a(29204);f=a(37509);k=a(24066);d=a(36129);g=a(45146);m=a(31276);h=a(3887);n=a(22365);p=a(59416);q=a(32687);r=a(11479);m.Ba.get(r.Oh).register(d.U.RFa,function(u){var w,y,x;function t(){var z;t=c.Tw;z=setInterval(v,l.config.YQb);f.fe.addListener(f.Rk,function(A){A && A.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):((0,h.Tf)(y,function(B,C){localStorage.removeItem(C.nr);}),clearInterval(z));},c.aJ);}function v(){var z;z=(0,k.Rja)();(0,h.Tf)(y,function(A,B){!1;A=localStorage.getItem(B.nr);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.nr,JSON.stringify(A));});}(0,g.oa)(p.storage);w=(0,m.Qi)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.RH={Gs:function(z,A,B){var D,F,G,E,H,M,L,K,O,J;function C(I){localStorage.setItem(G,JSON.stringify(I));I={nr:G};y[G]=I;w.trace("Lock acquired",{Name:I.nr});t();A({ia:!0,F7:I});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,k.Rja)();G="lock-" + z;E={updated:F,sessionId:x,count:1};try{if((G in localStorage)){H=localStorage.getItem(G);M=0;L=JSON.parse(H);(0,q.OB)(L.updated) && (M=L.updated);K=(0,n.$_)(F - M) * c.ds;O=x === L.sessionId;if(K < l.config.W4a){if(O)(L.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:x,count:L.count}),L.updated=F,C(L));else if(B){J=l.config.W4a - K + c.ds;w.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:L.count,Epoch:F,LockEpoch:M,waitTimeoutMs:J});ob.setTimeout(function(){return D.Gs(z,A,!1);},J);}else A({ia:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:M}),C(E));}else C(E);}catch(I){w.error("Error acquiring Lock",{errorSubCode:d.S.ol,errorDetails:(0,h.ue)(I)});A({ia:!0});}}else (n.Nqa?w.error("Local storage access exception",{errorSubCode:d.S.Knb,errorDetails:(0,h.ue)(n.Nqa)}):w.error("No localstorage",{errorSubCode:d.S.Lnb}),A({ia:!0}));},release:function(z,A){var B,C;(0,g.oa)(y[z.nr] == z);if(localStorage){try{B=localStorage.getItem(z.nr);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(z.nr,JSON.stringify(C)),w.trace("Lock count decremented",{Name:z.nr,count:C.count})):(localStorage.removeItem(z.nr),delete y[z.nr],w.trace("Lock released",{Name:z.nr}));}catch(D){w.error("Unable to release Lock",{Name:z.nr},D);}A && A(c.cg);}}};l.config.H4?b.RH.Gs("session",function(z){b.RH.pbb=z;u(c.cg);}):u(c.cg);});},991:function(r,b,a){var k,d,g,m;function c(h,n,p,q){var u,t,v;(0,k.oa)((0,m.vt)(h) && !(0,m.isArray)(h));q=q || "";u="";t=h.hasOwnProperty(g.QY) && h[g.QY];t && (0,d.Tf)(t,function(w,y){u && (u+=" ");u+=w + '="' + f(y) + '"';});p=(n?n + ":":"") + p;t=q + "<" + p + (u?" " + u:"");v=h.hasOwnProperty(g.xw) && h[g.xw].trim && "" !== h[g.xw].trim() && h[g.xw];if(v)return t + ">" + f(v) + "</" + p + ">";h=l(h,n,q + "  ");return t + (h?">\n" + h + "\n" + q + "</" + p + ">":"/>");}function l(h,n,p){var q;(0,k.oa)((0,m.vt)(h) && !(0,m.isArray)(h));p=p || "";q="";(0,d.Tf)(h,function(u,t){var y;if("$" != u[0])for(var v=(0,d.Fv)(t),w=0;w < v.length;w++){if((t=v[w],q && (q+="\n"),(0,m.vt)(t)))q+=c(t,n,u,p);else {y=(n?n + ":":"") + u;q+=p + "<" + y + ">" + f(t) + "</" + y + ">";}}});return q;}function f(h){if((0,m.sg)(h))return (0,d.apa)(h);if((0,m.yb)(h))return ((0,k.HS)(h,"Convert non-integer numbers to string for xml serialization."),"" + h);if(null === h || void 0 === h)return "";(0,k.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.W5b=b.FPb=b.EPb=void 0;k=a(45146);d=a(3887);g=a(62604);m=a(32687);b.EPb=c;b.FPb=l;b.W5b=f;},62604:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.xRb=b.u8a=b.mWb=b.v_a=b.vWb=b.Agb=b.zgb=b.xw=b.rza=b.ygb=b.QY=void 0;c=a(3887);l=a(45146);b.QY="$attributes";b.ygb="$children";b.rza="$name";b.xw="$text";b.zgb="$parent";b.Agb="$sibling";b.vWb=/^\s*<\?xml.*\?>/i;b.v_a=function(f,k,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(k=arguments[g++]) && (f=f[k]);){;}return f;};b.mWb=function(f,k){var d;f?d=(0,c.Ui)(f[b.xw]):void 0 !== k && (d=k);(0,l.HS)(d);return d;};b.u8a=function(f,k){var d;f?d=f[b.xw]:void 0 !== k && (d=k);(0,l.CWa)(d);return d;};b.xRb=function(f,k){var d;d={};d[b.QY]=f;d[b.xw]=k;return d;};},84281:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Bgb=void 0;c=a(31276);l=a(36129);f=a(78857);k=a(74413);d=a(32219);b.Bgb=function(g,m){var h,n;try{n=(0,f.Cgb)(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Df)(function(){if(n && n.documentElement)try{h=(0,k.Dgb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Df)(function(){h?m({ia:!0,object:h}):m({ia:!1,Aa:l.S.Rjb});});});};},78857:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Cgb=void 0;c=a(31276);l=a(32687);b.Cgb=function(f){var k,d;if((0,l.eM)(f)){k=new DOMParser().parseFromString(f,"text/xml");d=k.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:f.slice(0,300),fileSize:f.length});}catch(g){}throw Error("xml parser error");}return k;}throw Error("bad xml text");};},74413:function(r,b,a){var l;function c(f){var k,d,g,m,h,n,p;d={};d[l.rza]=f.localName;g={};d[l.QY]=g;m=[];d[l.ygb]=m;h=f.attributes;n=h.length;for(k=0;k < n;k++){p=h[k];g[p.localName]=p.value;}f=f.childNodes;n=f.length;g={};for(k=0;k < n;k++){switch((h=f[k],h.nodeType)){case b.Ggb:h=c(h);p=h[l.rza];h[l.zgb]=d;m.push(h);d[p]?g[p][l.Agb]=h:d[p]=h;g[p]=h;break;case b.Hgb:case b.Egb:(h=h.text || h.nodeValue,m.push(h),d[l.xw] || (d[l.xw]=h));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Fgb=b.Egb=b.Hgb=b.f9b=b.Ggb=b.g9b=b.Dgb=void 0;l=a(62604);b.Dgb=function(f){return c(f.nodeType == b.Fgb?f.documentElement:f);};b.g9b=c;b.Ggb=1;b.f9b=2;b.Hgb=3;b.Egb=4;b.Fgb=9;},87886:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w;Object.defineProperty(b,"__esModule",{value:!0});b.Dg=void 0;r=a(22674);c=a(58252);l=a(60443);f=a(32050);k=a(62468);d=a(75864);g=a(45716);m=a(99282);h=a(52531);n=a(88063);p=a(79054);q=a(56190);u=a(69751);t=a(62665);v=a(7342);w=a(82585);b.Dg=new r.dd(function(y){y(c.Eea).to(l.uLa).ga();y(f.Gea).to(k.HLa).ga();y(d.gJ).to(g.sLa).ga();y(h.GD).to(m.qLa).ga();y(n.ALa).to(p.zLa).ga();y(q.ELa).Xd(function(x){var z;z=x.kb;return function(A){return new u.FLa(A,z.get(t.Mw),z.get(h.GD));};});y(v.GGa).Xd(function(x){var z;z=x.kb;return function(A,B,C){return new w.HGa(A,B,C,z.get(h.GD),z.get(d.gJ));};});});},7342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GGa="LegacyPostPlayShimFactorySymbol";},52531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GD="PlaygraphConfigSymbol";},75864:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gJ=b.JD=void 0;r=b.JD || (b.JD={});r.Kac="ident";r.wda="main";r.QBa="credits";b.gJ="PlaygraphHelperSymbol";},58252:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eea="PlaygraphManagerFactorySymbol";},88063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ALa="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ELa="PlaygraphStateFactorySymbol";},32050:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gea="PlaygraphVideoPlayerFactorySymbol";},56819:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dx=void 0;r=b.dx || (b.dx={});r[r.UIa=0]="None";r[r.oEa=1]="Fetching";r[r.qjb=2]="Done";r[r.Error=3]="Error";},82585:function(r,b,a){var l,f;function c(k,d,g,m,h){this.Mh=k;this.Dg=d;this.log=g;this.zi=m;this.Zl=h;this.p9=new l.yea();}Object.defineProperty(b,"__esModule",{value:!0});b.HGa=void 0;l=a(81889);f=a(75864);c.prototype.zsb=function(k){var d,g,m,h,n,p,q;this.log.info("Next episode added",k);p=this.p9.rra(k.playbackParams);q=Math.max(0,null !== (m=null !== (g=null !== (d=k.startPts) && void 0 !== d?d:k.nextStartPts) && void 0 !== g?g:p.fb) && void 0 !== m?m:0);d=null !== (n=null !== (h=k.endPts) && void 0 !== h?h:k.currentEndPts) && void 0 !== n?n:p.Si;return this.Dg.$sb({P:k.movieId,fb:q,Si:d,ub:p,W:k.manifest,Mh:this.Mh});};c.prototype.WWb=function(k){var d,g,m,h,n,p;k=this.p9.rra(k);this.log.info("Playing the next episode",k);m=this.Dg.r_a();h=this.Dg.SF();n=h.O[m];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.J !== h.O[q].J;});d=!this.zi.y9 || !(null === (g=k.cm) || void 0 === g?0:g.isUIAutoPlay);return p?this.Dg.Foa(m,p,k,d):Promise.reject(Error("Next episode not found"));};c.prototype.O8b=function(k){var d,g;d=this.Zl.Vq(k,f.JD.wda);k=this.Zl.Vq(k,f.JD.QBa);g=this.Dg.rb;this.zi.y9 && g.hh !== k && g.FC(k) && g.QT(d) !== k && this.Dg.Nj({I:d,HM:k});};b.HGa=c;},65473:function(r,b,a){var l;function c(f,k,d,g,m){var h;h=this;this.rb=f;this.Rj=k;this.Ut=d;this.Hb=g;this.Zl=m;this.A9=new Map();this.I2b();this.Hb.addListener(l.Ka.loaded,function(){return h.r9a();});}Object.defineProperty(b,"__esModule",{value:!0});b.CD=void 0;l=a(85001);c.prototype.hSa=function(f){var k,d;k=this;d=Object.keys(this.rb.kk.O).find(function(g){return k.rb.kk.O[g].J === f.P;});f.id || (f.id=null !== d && void 0 !== d?d:this.Zl.Vq(f.P));d || (this.rb.kk=this.Zl.Ktb(this.rb.kk,f));d=this.cH(f.id);f.Si && this.rb.v7b(f.id,f.Si);return d;};c.prototype.Eeb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Goa=function(f,k){var d;d=this;k=void 0 === k?{}:k;return this.Ut.transition(f,k).then(function(){d.rb.hh=f;});};c.prototype.close=function(f){return this.Ut.close(f);};c.prototype.Bv=function(){return this.Ut.SKb();};c.prototype.Um=function(){return this.Ut.Um();};c.prototype.QF=function(){return this.Ut.QF();};c.prototype.cH=function(f){this.A9.has(f) || this.A9.set(f,this.Ut.Ce(this.Svb(f)));return this.A9.get(f);};c.prototype.I2b=function(){var f;f=this;this.Ut.addListener(l.HD.mX,function(){return f.Hb.Dc(l.HD.mX);});Object.values(l.Ka).forEach(function(k){f.Ut.addListener(k,function(d){return f.Hb.Dc(k,d);});});};c.prototype.Ov=function(){this.r9a();};c.prototype.fta=function(f){this.Ut.u7b({id:f,P:this.rb.ee(f).J,Si:this.rb.jLb(f)});};c.prototype.MG=function(){};c.prototype.r9a=function(){var f,k;if(this.Bv()){f=this.rb.hh;k=this.rb.QT(f);k && !this.A9.has(k) && (this.fta(f),this.cH(k));}};c.prototype.Svb=function(f){var k,d,g,m;d=this.rb.ee(f);g=this.Rj.LL(d.J);m=null === g || void 0 === g?void 0:g.ub;g=null === g || void 0 === g?void 0:g.W;return {id:f,P:d.J,fb:d.ta,Si:null !== (k=null === m || void 0 === m?void 0:m.Si) && void 0 !== k?k:d.va,ub:m,W:g};};b.CD=c;},99282:function(r,b,a){var l,f,k,d,g;function c(m){return f.Ne.call(this,m,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5021);fa(c,f.Ne);Ya.Object.defineProperties(c.prototype,{ZXb:{configurable:!0,enumerable:!0,get:function(){return 2;}},YXb:{configurable:!0,enumerable:!0,get:function(){return (0,g.o8)(3);}},Xya:{configurable:!0,enumerable:!0,get:function(){return !1;}},Naa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Gfb:{configurable:!0,enumerable:!0,get:function(){return !1;}},uZa:{configurable:!0,enumerable:!0,get:function(){return !1;}},y9:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.pz,"prepareSegmentsUpfront")],a.prototype,"ZXb",null);r.__decorate([d.config(d.ik,"prepareSegmentsDuration")],a.prototype,"YXb",null);r.__decorate([d.config(d.ed,"usePlaygraphForPostPlay")],a.prototype,"Xya",null);r.__decorate([d.config(d.ed,"usePlaygraphForSkipSegment")],a.prototype,"Naa",null);r.__decorate([d.config(d.ed,"useSinglePlayerPlayback")],a.prototype,"Gfb",null);r.__decorate([d.config(d.ed,"forcePlaygraphTrace")],a.prototype,"uZa",null);r.__decorate([d.config(d.ed,"postPlayDefaultNextEpisode")],a.prototype,"y9",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl))],a);b.qLa=a;},45716:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.sLa=void 0;r=a(5163);l=a(75864);f=a(22674);k=a(50954);c.prototype.hBb=function(d){var h,n,p;for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}h=this;if(0 === g.length)throw Error("Empty playgraph");n=new k.uq().gz(this.Vq(g[0]));g.reverse().forEach(function(q){var u;u=h.Vq(q);n.Ce(u,Object.assign({J:q,ta:0,va:Infinity},p?{Gb:p}:{}));p=u;});return n.Lg();};c.prototype.Vq=function(d,g){g=void 0 === g?l.JD.wda:g;return d + ":" + g;};c.prototype.Ktb=function(d,g){var m,h,n,p;if(void 0 === n)n=null !== (m=g.id) && void 0 !== m?m:this.Vq(g.P);m=this.X_a(d);p=new k.uq(d);p.Ce(n,{J:g.P,ta:null !== (h=g.fb) && void 0 !== h?h:0,va:Infinity});d=d.O[m];g={};p.Ce(m,Object.assign({},d,{Gb:n,next:Object.assign({},d.next || ({}),(g[n]={},g))}));return p.Lg();};c.prototype.X_a=function(d){for(var g=d.ve,m=g;m=d.O[m].Gb;){g=m;}return g;};a=c;a=r.__decorate([(0,f.T)()],a);b.sLa=a;},60443:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,v,w,y,x){this.yf=q;this.cma=u;this.zi=t;this.nya=v;this.pXb=w;this.rXb=y;this.qXb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=void 0;r=a(5163);l=a(22674);f=a(9862);k=a(87386);d=a(52531);g=a(44720);m=a(88063);h=a(25830);n=a(56190);a=a(32050);c.prototype.create=function(q){return new f.vLa(q,this.yf,this.cma,this.zi,this.nya,this.pXb,this.rXb,this.qXb);};p=c;p=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(g.qP)),r.__param(2,(0,l.l)(d.GD)),r.__param(3,(0,l.l)(h.cOa)),r.__param(4,(0,l.l)(m.ALa)),r.__param(5,(0,l.l)(n.ELa)),r.__param(6,(0,l.l)(a.Gea))],p);b.uLa=p;},9862:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p,q,u){this.nya=n;this.cza=u;this.sT=!1;h.Naa && (d=new k.wLa().f6b(d));this.rb=q(d);this.Rj=new f.ILa(this.rb);this.Rj.xbb(this.rb.aa.J);this.log=g.$a("PlaygraphManager");this.Hb=m.create();this.Jt=p.create(this.rb,this.Rj,this.log,this.Hb);this.J2b();}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;l=a(85001);f=a(98899);k=a(15645);c.prototype.GKb=function(){return this.rb.u9;};c.prototype.tna=function(){return this.rb.aa;};c.prototype.r_a=function(){return this.rb.hh;};c.prototype.SF=function(){return this.rb.kk;};c.prototype.Nj=function(d){for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}this.rb.Nj.apply(this.rb,ca(g));};c.prototype.Fxb=function(d){for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}this.rb.VSa(g);};c.prototype.gu=function(d){this.rb.kk=d;};c.prototype.bj=function(d,g){this.rb.bj(d,g);};c.prototype.Foa=function(d,g,m,h){var n,p;m=void 0 === m?{}:m;h=void 0 === h?!0:h;if(d !== this.rb.hh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.SF().O[d].next) && void 0 !== n?n:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.bcb();null === (p=m.cm) || void 0 === p?void 0:p.isUIAutoPlay;return this.Jt.Goa(g,m,h);};c.prototype.Bv=function(){return this.Jt.Bv();};c.prototype.addListener=function(d,g,m){this.Hb.addListener(d,g,m);};c.prototype.removeListener=function(d,g){this.Hb.removeListener(d,g);};c.prototype.Um=function(){return this.Jt.Um();};c.prototype.xb=function(){return this.Jt.QF();};c.prototype.kBb=function(d,g,m){var h;d=void 0 === d?this.SF().ve:d;g=void 0 === g?{}:g;h=this.cza.dWa(this);this.TXb(null !== d && void 0 !== d?d:this.SF().ve,g,m);return h;};c.prototype.$sb=function(d){var g;this.log.info("Adding segment - movieId: " + d.P + ", startPts: " + d.fb + ", logicalEnd: " + d.Si);g=Object.assign({},d.ub,d.fb?{fb:d.fb}:{},d.Si?{Si:d.Si}:{});this.Wcb(d.P,g,d.W);d=this.Jt.hSa(d);this.bcb();return d;};c.prototype.transition=function(d){var g;g=this.rb.QT(this.rb.hh);return g?this.Foa(this.rb.hh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Jt.close(d);};c.prototype.TXb=function(d,g,m){var h;void 0 === d && (d=null === (h=this.SF()) || void 0 === h?void 0:h.ve);(g || m) && this.Wcb(this.SF().O[d].J,null !== g && void 0 !== g?g:{},m);this.Jt.cH(d);};c.prototype.Wcb=function(d,g,m){m && this.Rj.q2(d,m);this.Rj.Osb(d,g);};c.prototype.J2b=function(){var d;d=this;this.rb.D4b(function(){d.Rj.Ov();d.Jt.Ov();});this.rb.E4b(function(g){d.Jt.fta(g);});this.rb.C4b(function(g){d.Jt.MG(g);});this.addListener(l.HD.mX,function(){return d.uVb();});this.addListener(l.Ka.S2a,function(g){return d.kVb(g);});};c.prototype.bcb=function(){var d;d=this;this.sT || (this.xb().Qha(l.ha.yH,function(g){return d.Pv(g);}),this.sT=!0);};c.prototype.kVb=function(d){var g;g=this;this.Jt.Eeb(d).catch(function(){return g.Hb.Dc(l.Ka.error,d.iY());});};c.prototype.uVb=function(){var d;d=this.xb().getError();d?this.Hb.Dc(l.Ka.lK,d):(this.Hb.Dc(l.Ka.U2),this.Hb.Dc(l.Ka.Cl),this.Hb.Dc(l.Ka.bu),this.Hb.Dc(l.Ka.kl),this.Hb.Dc(l.Ka.mY),this.Hb.Dc(l.Ka.lK));};c.prototype.Pv=function(d){var g,m,h;!1;g=d.metrics;if(g){m=this.xb();h=m.Ri(d.position.segmentId);g=m.Ri(g.srcsegment);this.nya.KYb(d,h,g,!!m.z0a().rg);}};b.vLa=c;},15645:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;l=a(50954);c.prototype.f6b=function(f){var k;if(!this.kPb(f.O))return f;k=new l.uq().gz(f.ve);Object.entries(f.O).forEach(function(d){var g;g=la(d);d=g.next().value;g=g.next().value;d === f.ve?k.Ce(d,Object.assign(Object.assign({},g),{next:void 0,va:void 0,Gb:void 0})):k.Ce(d,g);});return k.Lg();};c.prototype.kPb=function(f){f=Object.values(f).map(function(k){return k.J;});return 1 === new Set(f).size;};b.wLa=c;},79054:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,v,w,y,x,z){this.Ea=u;this.i1b=v;this.zi=y;this.Zl=z;this.f1b=t.HF(!1,"6.0042.952.911",u.id,x,w);}Object.defineProperty(b,"__esModule",{value:!0});b.zLa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(52531);d=a(88574);g=a(93488);m=a(2911);h=a(4203);n=a(65473);p=a(63368);a=a(75864);c.prototype.create=function(u,t,v,w){var y,x;y=this.i1b.XAb(u,this.f1b,t);x=u.Yya;v.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.fNa(this.zi,u,t,v,y,w,this.Zl):new n.CD(u,t,y,w,this.Zl);};q=c;q=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(g.QMa)),r.__param(2,(0,l.l)(m.bfa)),r.__param(3,(0,l.l)(h.Xb)),r.__param(4,(0,l.l)(k.GD)),r.__param(5,(0,l.l)(p.r0)),r.__param(6,(0,l.l)(a.gJ))],q);b.zLa=q;},69751:function(r,b,a){var l,f;function c(k,d,g){this.ly=d;this.zi=g;this.L1={};this.afb=[];this.ucb=[];this.Y6a=[];this.sia=new WeakMap();this.reset(k);}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;l=a(50954);f=a(50954);c.prototype.reset=function(k){var d;d=1 < Object.keys(k.O).length && 1 === new Set(Object.values(k.O).map(function(g){return g.J;})).size;this.Lrb=this.zi.Gfb || d;this.Lbb(k);this.hh=k.ve;this.Qqb=this.ly.SA();this.kxa=new Map();};c.prototype.Q5=function(k){if(this.Yya)return this.kk;this.sia.has(k) || this.sia.set(k,(0,l.W$)(k.P,k.I));return this.sia.get(k);};c.prototype.Lbb=function(k){this.Rqb=k;this.L1={};k=Object.keys(k.O);this.VSa(k);this.kUb();};c.prototype.Nj=function(k){var m;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}m=this;d.filter(function(h){return m.FC(h.I);}).filter(function(h){h=h.HM;return !h || m.FC(h);}).forEach(function(h){var n;n=h.I;m.L1[n]=m.q7a(h.HM);m.eUb(n);});};c.prototype.VSa=function(k){var d;d=this;k.filter(function(g){return d.FC(g);}).forEach(function(g){d.L1[g]=d.q7a(d.ee(g).Gb);});};c.prototype.bj=function(k,d){var g,m,h;g=this.ee(k);if(g && g.next){m=new f.uq(this.kk);h=Object.keys(g.next).reduce(function(n,p){n[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return n;},{});h=Object.assign({},g,{next:h});m.Ce(k,h);this.kk=m.Lg();}};c.prototype.FC=function(k,d){d=void 0 === d?this.kk.O:d;return (k in d);};c.prototype.QT=function(k){return this.L1[k];};c.prototype.ee=function(k){return this.kk.O[k];};c.prototype.jLb=function(k){if(this.kxa.has(k))return this.kxa.get(k);k=this.ee(k);return isFinite(k.va)?k.va:void 0;};c.prototype.v7b=function(k,d){this.kxa.set(k,d);this.hUb(k);};c.prototype.D4b=function(k){this.afb.push(k);};c.prototype.E4b=function(k){this.ucb.push(k);};c.prototype.C4b=function(k){this.Y6a.push(k);};c.prototype.kUb=function(){var k;k=this;this.afb.forEach(function(d){return d(k.kk);});};c.prototype.eUb=function(k){this.Y6a.forEach(function(d){return d(k);});};c.prototype.hUb=function(k){this.ucb.forEach(function(d){return d(k);});};c.prototype.q7a=function(k){return null === k?void 0:k;};Ya.Object.defineProperties(c.prototype,{u9:{configurable:!0,enumerable:!0,get:function(){return this.Qqb;}},Yya:{configurable:!0,enumerable:!0,get:function(){return this.Lrb;}},kk:{configurable:!0,enumerable:!0,get:function(){return this.Rqb;},set:function(k){if(this.hh && !this.FC(this.hh,k.O))throw Error("Provided playgraphMap does not contain the current segmentId " + this.hh);this.Lbb(k);}},hh:{configurable:!0,enumerable:!0,get:function(){return this.Tob;},set:function(k){if(!this.FC(k))throw Error("Provided currentSegmentId " + k + " does not exist in the current playgraph");this.Tob=k;}},aa:{configurable:!0,enumerable:!0,get:function(){return this.ee(this.hh);}}});b.FLa=c;},62468:function(r,b,a){var l,f,k,d;function c(g,m){this.Ea=g;this.aQb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(7342);c.prototype.create=function(g){return new (a(58343).b1)(this.Ea.Ib(),g);};c.prototype.dWa=function(g){return new (a(64059).eZ)(this.Ea.Ib(),g,this.aQb);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.GGa))],d);b.HLa=d;},98899:function(r,b,a){var l;function c(f){this.ea=f;this.KO={};this.Ov();}Object.defineProperty(b,"__esModule",{value:!0});b.ILa=void 0;l=a(56819);c.prototype.Ov=function(){var f;f=this;Object.values(this.ea.kk.O).forEach(function(k){k=k.J;f.KO[k] || f.K2a(k);});this.Jaa();};c.prototype.LL=function(f){return this.KO[f];};c.prototype.a2b=function(f){this.TT(f).state=l.dx.oEa;this.Jaa();};c.prototype.$1b=function(f,k){f=this.TT(f);f.state=l.dx.Error;f.error=k;f.uab(!1);this.Jaa();};c.prototype.xbb=function(f){f=this.TT(f);f.state=l.dx.qjb;f.uab(!0);this.Jaa();};c.prototype.Osb=function(f,k){this.TT(f).ub=k;};c.prototype.q2=function(f,k){this.TT(f).W=k;};c.prototype.TT=function(f){var k;return null !== (k=this.LL(f)) && void 0 !== k?k:this.K2a(f);};c.prototype.K2a=function(f){var k,d;k=void 0;d=new Promise(function(g,m){k=function(h){(h?g:m)();};});return this.KO[f]={state:l.dx.UIa,sZb:d,uab:k};};c.prototype.Jaa=function(){var k;for(var f=this.ea.hh;f=this.ea.QT(f);){k=this.Ym(f);if(this.KO[k].state === l.dx.Error)break;if(this.KO[k].state === l.dx.oEa)break;if(this.KO[k].state === l.dx.UIa)break;}};c.prototype.Ym=function(f){return this.ea.kk.O[f].J;};b.ILa=c;},88574:function(r,b,a){var l,f,k,d,g;function c(m,h,n,p,q,u,t){var v;v=d.CD.call(this,h,n,q,u,t) || this;v.zi=m;v.la=p;v.sT=!1;v.Vla=new Map();v.nVb=function(){v.QF().Qha(f.ha.yH,function(w){v.Hb.Dc(f.HD.mX);v.rb.hh=w.position.segmentId;});};v.KNb();u.addListener(f.Ka.loaded,v.nVb);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.fNa=void 0;l=a(50954);f=a(85001);k=a(36129);d=a(65473);g=a(75864);fa(c,d.CD);c.prototype.hSa=function(m){var h,n,p,q,u,t,v,w,y,x,z;h=this;p=this.rb.kk;q=this.Zl.Vq(m.P,"ident");u=this.Zl.Vq(m.P,"main");t=this.Zl.Vq(m.P,"credits");v=isFinite(m.Si);w=isFinite(m.fb) && m.P !== p.O[p.ve].J;y={};x=new l.uq(p).Ce(u,Object.assign({J:m.P,ta:w && m.fb || 0,va:null !== (n=m.Si) && void 0 !== n?n:Infinity},v?{next:(y[t]={},y),Gb:t}:{}));w && (n={},x.Ce(q,{J:m.P,ta:0,va:m.fb,next:(n[u]={},n),Gb:u}));v && x.Ce(t,{J:m.P,ta:m.Si,va:Infinity});if(!this.rb.FC(u)){m=p.O[this.Zl.X_a(p)].J;z=this.Zl.Vq(m,g.JD.QBa);[this.Zl.Vq(m,g.JD.wda),z].filter(function(A){return h.rb.FC(A);}).forEach(function(A){var B,C,D;B=h.rb.ee(A);C=A === z || h.zi.y9;D={};x.Ce(A,Object.assign({},B,{next:Object.assign({},B.next,(D[u]={},D))},C?{Gb:u}:{}));});}this.rb.kk=x.Lg();return this.cH(u);};c.prototype.Ov=function(){this.Bv() && this.QF().Ov();};c.prototype.fta=function(){};c.prototype.MG=function(m){this.QF().MG(m);};c.prototype.Goa=function(m,h,n){h=void 0 === h?{}:h;this.la.debug("goToSegment " + m);return this.QF().gU(m,h,n);};c.prototype.cH=function(m){if(m === this.e1b)return null;this.e1b=m;return this.sT?this.Rj.LL(this.rb.ee(m).J).sZb:(this.sT=!0,d.CD.prototype.cH.call(this,m));};c.prototype.Eeb=function(m){return m.errorCode && this.Vla.has(m.errorCode)?this.Vla.get(m.errorCode)(m):Promise.reject(Error("Error " + m.errorCode + " isn't recoverable"));};c.prototype.KNb=function(){var m;m=this;this.Vla.set(k.U.AJa,function(){var h,n;return null !== (n=null === (h=d.CD.prototype.cH.call(m,m.rb.hh)) || void 0 === h?void 0:h.then(function(){var p,q;d.CD.prototype.Goa.call(m,m.rb.hh,null !== (q=null === (p=m.Rj.LL(m.rb.aa.J)) || void 0 === p?void 0:p.ub) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.fNa=c;},32754:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.R9a=void 0;r=a(22674);c=a(69493);l=a(28978);f=a(98166);k=a(660);b.R9a=new r.dd(function(d){d(c.nDa).to(l.mDa).ga();d(f.IP).to(k.MGa).ga();});},82100:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.mVa=b.Mpa=b.Zna=b.L5=b.CFa=b.rnb=b.Zr=b.kFa=b.L0=b.K0=b.POa=b.QOa=b.sJa=b.TZ=b.TEMPORARY=b.pu=void 0;c=a(32687);l=a(22210);b.pu="cenc";b.TEMPORARY="temporary";b.TZ="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.sJa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.QOa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.POa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.K0="SW_SECURE_CRYPTO";b.L0="SW_SECURE_DECODE";b.kFa="HW_SECURE_DECODE";b.Zr="HW_SECURE_ALL";b.rnb={K0:"SW_SECURE_CRYPTO",L0:"SW_SECURE_DECODE",kFa:"HW_SECURE_DECODE",Zr:"HW_SECURE_ALL"};b.CFa=[b.Zr];b.L5=function(f){var k;k=f.getConfiguration();return [b.Zr,b.L0,b.K0].find(function(d){var g;return null === (g=k.videoCapabilities) || void 0 === g?void 0:g.some(function(m){return m.robustness === d;});});};b.Zna=function(f){var k,m;try{for(var d=/\((\d[^)]+)\)/g,g;g=d.exec(f);){m=Number(g[1]);(0,c.yb)(m) && (k=m);}}catch(h){}return k;};b.Mpa=function(f){return l.ud.Ei.test(f);};b.mVa=function(f){return f.robustness?f.keySystem + "." + f.robustness:f.keySystem;};},56039:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Mna=void 0;c=a(31276);b.Mna=function(l){var f;f={};try{l.forEach(function(k){var d,g;if(k.rF){for(var m=(0,c.Ax),h=k.rF,n=0,p=new Uint8Array(16),q=0;q < h.length;q+=2){p[n++]=parseInt(h.slice(q,q + 2),16);}m=m(p);k=null !== (d=k.height) && void 0 !== d?d:k.Hva;f[m]=Math.max(k,null !== (g=f[m]) && void 0 !== g?g:0);}});}catch(k){}return f;};},69493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nDa="DrmProviderSymbol";},98166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IP="LicenseProviderSymbol";},24735:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eqa=b.yh=void 0;(function(a){a[a.rm=0]="STANDARD";a[a.xn=1]="LIMITED";})(b.yh || (b.yh={}));b.Eqa=function(a){return ["STANDARD","LIMITED"][a];};},28978:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t){this.xh=p;this.HA=q;this.$7b=u;this.lM=t;}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=void 0;r=a(5163);l=a(22674);f=a(74870);k=a(2248);d=a(84408);g=a(53921);m=a(24735);h=a(82100);a=a(98166);c.prototype.Qg=function(p){var q;q=this;return this.xh.PA(p.sj[0].data[0],[8,4])?Promise.resolve({he:[{id:"ddd",vG:"cert",XU:void 0}],Uk:[{sessionId:"ddd",data:new Uint8Array(this.HA.decode(h.POa))}]}):this.xh.PA(p.sj[0].data[0],this.$7b.decode("certificate"))?Promise.resolve({he:[{id:"ddd",vG:"cert",XU:void 0}],Uk:[{sessionId:"ddd",data:new Uint8Array(this.HA.decode(h.TZ))}]}):this.lM.Gs(this.BHb(p)).then(function(u){return q.CHb(u);});};c.prototype.release=function(p){return this.lM.release(this.GHb(p)).then(function(){});};c.prototype.BHb=function(p){var q,u;q=this;u=p.sj.map(function(t){return t.data.map(function(v){return {sessionId:t.sessionId,dataBase64:q.HA.encode(v)};});});return {ma:p.ma,Dd:p.Dd,w4:p.w4,ff:(0,m.Eqa)(p.ff),Om:g.Ak[p.Om],sj:u.reduce(function(t,v){return t.concat(v);},[]),oi:p.oi,$f:p.$f};};c.prototype.GHb=function(p){return {ma:p.ma,he:p.he};};c.prototype.CHb=function(p){return {he:p.he,Uk:p.Uk};};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.bh)),r.__param(1,(0,l.l)(k.Zg)),r.__param(2,(0,l.l)(d.xq)),r.__param(3,(0,l.l)(a.IP))],n);b.mDa=n;},660:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u){this.csb=h;this.m_b=n;this.iab=q;this.o0b=u;this.la=p.$a("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(81378);a(24674);d=a(75014);g=a(16257);a=a(829);c.prototype.Gs=function(h){var n,p;n=this;!1;p=this.iab.d6b(h);return this.csb.Vn(this.la,h.oi,p).then(function(q){q.map(function(u){return u.bQb;});return n.o0b.seb(q);}).catch(function(q){n.la.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(h){var n;n=this;!1;h=this.iab.g6b(h);return this.m_b.xf(this.la,h).then(function(){return {ia:!0};}).catch(function(p){n.la.error("PBO release license failed",p);return Promise.reject(p);});};m=c;m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.JJa)),r.__param(1,(0,l.l)(d.wKa)),r.__param(2,(0,l.l)(f.ab)),r.__param(3,(0,l.l)(g.ZJa)),r.__param(4,(0,l.l)(a.hea))],m);b.MGa=m;},45266:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.iXa=b.p1a=b.Neb=b.lC=b.c8=b.e6a=void 0;r=a(29664);c=a(31435);l=a(60024);f=a(56663);a=a(5154);b.e6a=r;b.c8=function(k,d){return (0,b.e6a)(function(g,m){return void 0 !== m?m:g;},k,d);};b.lC=c;b.Neb=l;b.p1a=f;b.iXa=a;},17892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Snb="StorageValidatorSymbol";b.zw="AppStorageFactorySymbol";},44272:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vNa="Storage";},62945:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(22674);c=a(91133);l=a(48159);f=a(56278);k=a(42304);d=a(42236);g=a(84970);m=a(57925);h=a(67894);n=a(17892);p=a(86607);q=a(26305);b.storage=new r.dd(function(u){u(l.IIa).Xd(function(){return function(){return ob.localStorage;};});u(l.FFa).Xd(function(){return function(){return ob.indexedDB;};});u(p.rIa).to(q.qIa).ga();u(n.zw).to(h.lAa).ga();u(f.ZGa).to(k.YGa).ga();u(c.U_).to(m.gGa).ga();u(d.iGa).to(g.hGa).ga();u(d.EFa).to(g.DFa).ga();u(d.kGa).to(g.jGa).ga();});},56278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZGa="LocalStorageSymbol";},86607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rIa="MemoryStorageSymbol";},48159:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Llb="NativeLocalStorageSymbol";b.IIa="NativeLocalStorageFactorySymbol";b.FFa="IDBFactorySymbol";},31679:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dib="__default_rule_key__";},67894:function(r,b,a){var f,k,d,g,m,h,n;function c(p,q,u,t){this.la=p;this.config=q;this.lNb=u;this.Nra=t;this.aF={mem:{storage:this.Nra,key:"mem"}};this.KC=this.config.KC;}function l(p,q,u,t){this.yf=p;this.fl=q;this.Nra=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.zba=b.lAa=void 0;r=a(5163);f=a(22674);k=a(36129);d=a(42236);g=a(87386);m=a(86607);h=a(31679);a=a(34231);l.prototype.create=function(){this.DS || (this.DS=this.BK());return this.DS;};l.prototype.BK=function(){this.Ctb=new c(this.yf.$a("AppStorage"),this.config,this.fl,this.Nra);return this.Ctb.create();};n=l;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.ab)),r.__param(1,(0,f.l)(d.kGa)),r.__param(2,(0,f.l)(m.rIa)),r.__param(3,(0,f.l)(a.wn))],n);b.lAa=n;c.prototype.create=function(){var p;p=this;return this.QAb().then(function(q){if(!p.Iwb(q,p.config.qU))throw p.TTb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.GT(p).storage.load(p).then(function(v){u(v);}).catch(function(v){t(v);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(v,w){t.GT(p).storage.save(p,q,u).then(function(y){v(y);}).catch(function(y){w(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.GT(p).storage.remove(p).then(function(){u();}).catch(function(v){t(v);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.G$a("mem").then(function(){return p.G$a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.la.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.M4a("mem").then(function(u){q=q.concat(u);return p.M4a("idb");}).catch(function(u){p.lPb(u) || p.la.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.la.error("load all failed",u);throw u;});};c.prototype.QAb=function(){var p;p=this;return this.lNb.create().then(function(q){p.aF.idb={storage:q,key:"idb"};}).catch(function(q){p.la.error("idb failed to load",q);return q || ({Aa:k.S.Qo});});};c.prototype.Iwb=function(p,q){return !p || p && q?!0:!1;};c.prototype.TTb=function(p){var q;q="";p && (q+=p.Aa);return {Aa:q};};c.prototype.G$a=function(p){return (p=this.aF[p])?p.storage.removeAll():Promise.resolve();};c.prototype.M4a=function(p){return (p=this.aF[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.DGb=function(p){for(var q in this.KC){if(p.startsWith(q))return this.KC[q];}return this.KC[h.Dib];};c.prototype.GT=function(p){var q,u;q=this;this.DGb(p).every(function(t){return q.aF[t]?(u=q.aF[t],!1):!0;});if(!u){this.la.error("component not found for storageKey",{g4b:p,Xdc:Object.keys(this.aF),rules:this.KC});u=this.aF.mem;}this.la.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.lPb=function(p){return (p && (p.Aa || p.errorSubCode)) === k.S.ax;};b.zba=c;},6675:function(r,b){function a(c,l){this.xx=c;this.Zd=l;}Object.defineProperty(b,"__esModule",{value:!0});b.lda=void 0;a.prototype.load=function(c,l){var f;f=this;this.xx.load(c).then(function(k){l && l(a.odb(k));}).catch(function(k){l && l(f.Wla(c,k));});};a.prototype.save=function(c,l,f,k){var d;d=this;this.xx.save(c,l,f).then(function(){k && k(a.odb({key:c,value:l}));}).catch(function(g){k && k(d.Wla(c,g));});};a.prototype.remove=function(c,l){var f;f=this;this.xx.remove(c).then(function(){l && l({ia:!0,faa:c});}).catch(function(k){l && l(f.Wla(c,k));});};a.odb=function(c){return {ia:!0,data:c.value,faa:c.key};};a.prototype.Wla=function(c,l){return {ia:!1,faa:c,Aa:l.Aa,Nb:l.$b?this.Zd.ue(l.$b):void 0};};b.lda=a;},42304:function(r,b,a){var l,f,k;function c(d){this.oC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;r=a(5163);l=a(22674);f=a(36129);a=a(48159);c.prototype.load=function(d){var g;g=this;return new Promise(function(m,h){var n,p;try{n=g.oC.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}m({key:d,value:p});}else h({Aa:f.S.ax});}catch(q){h({Aa:f.S.EMa,$b:q});}});};c.prototype.save=function(d,g,m){var h;h=this;return new Promise(function(n,p){if(m && h.oC.getItem(d))n(!1);else try{"string" === typeof g?h.oC.setItem(d,g):h.oC.setItem(d,JSON.stringify(g));n(!0);}catch(q){p({Aa:f.S.FMa,$b:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(m,h){try{g.oC.removeItem(d);m();}catch(n){h({Aa:f.S.Yea,$b:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Llb))],k);b.YGa=k;},26305:function(r,b,a){var l,f,k;function c(d){this.yf=d;this.KG={};this.la=this.yf.$a("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=void 0;r=a(5163);l=a(22674);f=a(36129);a=a(87386);c.prototype.load=function(d){var g;if(this.KG.hasOwnProperty(d)){g=this.KG[d];this.la.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.la.debug("Storage entry not found",{key:d});return Promise.reject({Aa:f.S.ax});};c.prototype.save=function(d,g,m){if(m && this.KG.hasOwnProperty(d))return Promise.resolve(!1);this.KG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.KG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.KG).map(function(g){var m;m=la(g);g=m.next().value;m=m.next().value;return {key:g,value:m};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.KG={};return Promise.resolve();};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ab))],k);b.qIa=k;},92093:function(r,b,a){var f,k,d;function c(g,m,h){this.config=g;this.vo=m;this.oC=h;}function l(g,m){this.reason=g;this.$b=m;}Object.defineProperty(b,"__esModule",{value:!0});b.fGa=b.fMa=void 0;f=a(36129);k=a(59818);(function(g){g[g.Qda=0]="NoData";g[g.Error=1]="Error";g[g.nJ=2]="Timeout";})(d=b.fMa || (b.fMa={}));c.prototype.load=function(g){var m;m=this;return new Promise(function(h,n){m.Q4("get",!1,g).then(function(p){h({key:g,value:p});}).catch(function(p){var q;q=f.S.EMa;switch(p.reason){case d.Qda:q=f.S.ax;break;case d.nJ:q=f.S.Jnb;}n({Aa:q,$b:p.$b});});});};c.prototype.save=function(g,m,h){var n;n=this;return new Promise(function(p,q){n.Q4(h?"add":"put",!0,{name:g,data:m}).then(function(){p(!h);}).catch(function(u){var t;t=f.S.FMa;switch(u.reason){case d.nJ:t=f.S.Mnb;}q({Aa:t,$b:u.$b});});});};c.prototype.remove=function(g){var m;m=this;return new Promise(function(h,n){m.Q4("delete",!0,g).then(function(){h();}).catch(function(p){var q;q=f.S.Yea;switch(p.reason){case d.nJ:q=f.S.DMa;}n({Aa:q,$b:p.$b});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(m,h){g.Q4("clear",!0,"").then(function(){m();}).catch(function(n){var p;p=f.S.Yea;switch(n.reason){case d.nJ:p=f.S.DMa;}h({Aa:p,$b:n.$b});});});};c.prototype.loadAll=function(){var g;g=this;return this.vo.bq(this.config.timeout,new Promise(function(m,h){var n,p,q;if(g.config.fxa)h(new l(g.config.fxa));else {n=[];p=g.oC.transaction(g.config.RV,"readonly");q=p.objectStore(g.config.RV).openCursor();p.onerror=function(){h(new l(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){h(new l(d.Error,t));}else m(n);};q.onerror=function(){h(new l(d.Error,q.error));};}})).catch(function(m){return m instanceof k.vq?Promise.reject(new l(d.nJ,m)):m instanceof l?Promise.reject(m):Promise.reject(new l(d.Error,m));});};c.prototype.Q4=function(g,m,h){var n;n=this;return this.vo.bq(this.config.timeout,new Promise(function(p,q){var u,t;u=n.oC.transaction(n.config.RV,m?"readwrite":"readonly");t=u.objectStore(n.config.RV)[g](h);u.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(v){var w;if("get" == g)try{w=v.target.result;w?p(w.data):q(new l(d.Qda));}catch(y){q(new l(d.Qda,y));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof k.vq?Promise.reject(new l(d.nJ,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.fGa=c;},91133:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.U_="IndexedDBConfigSymbol";},42236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EFa="IDBDatabaseFactorySymbol";b.iGa="IndexedDBFactorySymbol";b.kGa="IndexedDBStorageFactorySymbol";},57925:function(r,b,a){var l,f,k,d,g;function c(m,h){m=k.Ne.call(this,m,"IndexedDBConfigImpl") || this;m.config=h;m.version=1;m.RV="namedatapairs";return m;}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);d=a(34231);a=a(83767);fa(c,k.Ne);Ya.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.$x?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Ucb;}},E2:{configurable:!0,enumerable:!0,get:function(){return this.config.E2;}},gxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},fxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},qZa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([f.config(f.pz,"simulateIdbOpenError")],g.prototype,"gxa",null);r.__decorate([f.config(f.pz,"simulateIdbLoadAllError")],g.prototype,"fxa",null);r.__decorate([f.config(f.ed,"fixInvalidDatabase")],g.prototype,"qZa",null);g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.wl)),r.__param(1,(0,l.l)(d.wn))],g);b.gGa=g;},84970:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,v,w;function c(y,x,z,A,B,C){this.config=x;this.GS=z;this.fl=A;this.k8b=B;this.vk=C;this.la=y.$a(n.vNa);}function l(y,x){this.config=y;this.tO=x;}function f(y,x,z,A,B){this.config=x;this.tO=z;this.vk=B;this.la=y.$a(n.vNa);this.GS=new Promise(function(C,D){var F;try{F=A();F?C(F):D({Aa:h.S.GFa});}catch(G){D({Aa:h.S.T_,$b:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=b.hGa=b.DFa=void 0;r=a(5163);k=a(22674);d=a(87386);g=a(92093);m=a(48159);h=a(36129);n=a(44272);p=a(91133);q=a(59818);u=a(17892);t=a(77134);v=a(42236);w=a(63156);f.prototype.create=function(){this.Mka || (this.Mka=this.BK());return this.Mka;};f.prototype.Vs=function(y){var x;x=this;this.Mka=null;return this.tO.bq(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.vq?Promise.reject({Aa:h.S.T_}):z.Aa?Promise.reject(z):Promise.reject({Aa:h.S.T_,$b:z});});};f.prototype.delete=function(y){var x;x=this;return this.tO.bq(this.config.timeout,new Promise(function(z,A){x.GS.then(function(B){var C;C=B.deleteDatabase(y);C.onsuccess=function(){z();};C.onerror=function(){A({Aa:h.S.T_,$b:C.error});};}).catch(function(B){A(B);});}));};f.prototype.BK=function(){var y,x;y=this;return this.tO.bq(this.config.timeout,new Promise(function(z,A){if(y.config.gxa)return A({Aa:y.config.gxa});y.GS.then(function(B){y.vk.mark(w.gj.nkb);x=B.open(y.config.name,y.config.version);if(!x)return A({Aa:h.S.HFa});x.onblocked=function(){y.vk.mark(w.gj.kkb);A({Aa:h.S.gkb});};x.onupgradeneeded=function(){var C;y.vk.mark(w.gj.ukb);C=x.result;try{C.createObjectStore(y.config.RV,{keyPath:"name"});}catch(D){y.la.error("Exception while creating object store",D);}};x.onsuccess=function(C){var D,F;y.vk.mark(w.gj.tkb);try{D=C.target.result;F=D.objectStoreNames.length;y.la.trace("objectstorenames length ",F);if(0 === F){y.la.error("invalid indexedDb state, deleting");y.vk.mark(w.gj.mkb);try{D.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({Aa:h.S.fkb});},1);return;}}catch(G){y.la.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.vk.mark(w.gj.lkb);y.la.error("IndexedDB open error",x.error);A({Aa:h.S.hkb,$b:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.vq){try{x && x.readyState && y.vk.mark("readyState-" + x.readyState);}catch(A){}if(y.config.E2 && x && "done" === x.readyState){if(y.e8b(x))return (y.vk.mark(w.gj.rkb),Promise.resolve(x.result));y.vk.mark(w.gj.qkb);}y.vk.mark(w.gj.pkb);return Promise.reject({Aa:h.S.jkb});}if(z.Aa)return Promise.reject(z);y.vk.mark(w.gj.okb);y.la.error("IndexedDB open exception occurred",z);return Promise.reject({Aa:h.S.ikb,$b:z});});};f.prototype.e8b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.vk.mark(w.gj.skb);this.la.error("failed to check open request state",x);}return !1;};a=f;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.ab)),r.__param(1,(0,k.l)(p.U_)),r.__param(2,(0,k.l)(q.Uz)),r.__param(3,(0,k.l)(m.FFa)),r.__param(4,(0,k.l)(t.oJ))],a);b.DFa=a;l.prototype.create=function(y){return Promise.resolve(new g.fGa(this.config,this.tO,y));};a=l;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(p.U_)),r.__param(1,(0,k.l)(q.Uz))],a);b.hGa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.DS || (this.DS=this.BK(this.k8b));return this.DS;};c.prototype.BK=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.vk.mark(w.gj.Inb);x.GS.create().then(function(B){x.fl.create(B).then(function(C){Promise.all(y.map(function(D){return D.validate(C);})).then(function(){x.storage=C;z(x.storage);}).catch(function(D){x.la.debug("DB validation failed, cause: " + D);x.config.qZa?(x.la.debug("Fixing corrupt DB"),x.GS.Vs(B).then(function(){x.la.error("Invalid database deleted, creating new database.");x.BK().then(function(F){x.la.error("Invalid database successfully recreated.");x.storage=F;z(x.storage);});}).catch(function(F){x.la.error("Couldn't delete invalid database.");A(F);})):(x.la.debug("Ignoring invalid DB due to config"),x.storage=C,z(x.storage));});}).catch(function(C){A(C);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.ab)),r.__param(1,(0,k.l)(p.U_)),r.__param(2,(0,k.l)(v.EFa)),r.__param(3,(0,k.l)(v.iGa)),r.__param(4,(0,k.optional)()),r.__param(4,(0,k.JG)(u.Snb)),r.__param(5,(0,k.l)(t.oJ))],a);b.jGa=a;},69899:function(r,b,a){var f;function c(k,d,g){this.start=k;this.track=d;this.MC=Array.isArray(g)?g:[];}function l(k,d){this.log=k;this.wz=d;this.Rua=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.CNa=void 0;f=a(45146);l.prototype.fsb=function(k,d){this.U6a(k,d,"activating");};l.prototype.NBb=function(k){this.Nla(k,"de-activating");};l.prototype.U6a=function(k,d,g){var m;this.$j && this.Nla(k,"close current for new");m=[];this.orphans.length && (m.push.apply(m,ca(this.orphans)),this.orphans=[]);this.$j=new c(k,d,m);this.wz && this.log.trace("new range: " + g,this.$j);};l.prototype.Nla=function(k,d){this.$j && (this.$j.end=k,this.Rua.push(this.$j),this.wz && this.log.trace("end range: " + d,this.$j || ({})),this.$j=void 0);};l.prototype.rfb=function(k){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.$j?this.$j.MC.push.apply(this.$j.MC,ca(d)):this.orphans.push.apply(this.orphans,ca(d));};l.prototype.uoa=function(k){var d,g;d=this.Rua.slice(0);if(this.$j && "undefined" !== typeof k){g=new c(this.$j.start,this.$j.track,this.$j.MC);g.end=k;d.push(g);}k=d.reduce(function(m,h){var n,p,q,u;if(!h.track)return m;p=h.track.Ub;q=h.track.Ql(h.start,h.end);if(void 0 === q || null === q)return m;u=new Set(h.MC);m[p]?(h=m[p],h.expected+=q,h.missed+=q - u.size):m[p]={dlid:p,bcp47:h.track.re,profile:h.track.profile,expected:q,missed:q - u.size,startPts:null !== (n=h.track.nLb()) && void 0 !== n?n:0};return m;},{});k=Object.values(k);this.wz && this.log.trace("subtitleqoe:",JSON.stringify(k,null,"\t"));return k;};l.prototype.eLb=function(k){var d,g,m,h;d=this.Rua.slice(0);g=0;m=0;if(this.$j && "undefined" != typeof k){h=new c(this.$j.start,this.$j.track,this.$j.MC);h.end=k;d.push(h);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,f.oa)(!1,"negative range");n.DC=0;return;}p=new Set(n.MC);q=n.track.Ql(n.start,n.end);n.S4=q;n.DC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.DC=100;p=n.end - n.start;g+=p;m+=n.DC * p;});h=g?Math.round(m / g):100;this.log.trace("qoe score " + h + ", at pts: " + k);this.wz && (k=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.DC),lang:n.track?n.track.re:"none","actual  ":n.MC.join(" "),expected:n.S4};}),this.log.trace("score for each range: ",JSON.stringify(k,function(n,p){return p;}," ")));return h;};b.CNa=l;},40076:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.$H=void 0;r=a(22674);c=a(53205);l=a(29773);f=a(22692);k=a(87549);b.$H=new r.dd(function(d){d(k.SNa).to(c.RNa);d(f.PNa).ll(new l.ONa());d(k.QNa).Xd(function(g){return function(){return g.kb.get(k.SNa);};});});},87549:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SNa="ThroughputTrackerSymbol";b.QNa="ThroughputTrackerFactorySymbol";},22692:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PNa="ThroughputTrackerConfigSymbol";},70826:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.fDa=void 0;c=a(72574);b.fDa=function(l,f){this.FDb=l;this.size=f.Wpa()?c.Ga:f;};},29773:function(r,b,a){function c(l){this.GDb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.ONa=void 0;r=a(5163);a=a(22674);c=r.__decorate([(0,a.T)()],c);b.ONa=c;},53205:function(r,b,a){var l,f,k,d;function c(g){this.config=g;this.ixa=f.Ga;this.ZN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.RNa=void 0;r=a(5163);l=a(22674);f=a(72574);k=a(5021);a=a(22692);c.prototype.Xm=function(){var m;for(var g;0 < this.ZN.length;){g=this.ZN.shift();this.PRa(g);}g=void 0 === this.SS || void 0 === this.oF?k.Ga:this.oF.qa(this.SS);m=g.K3a()?0:this.ixa.ca(f.dD) / g.ca(k.pa);return {Wxa:Math.floor(m),$ec:g.ca(k.pa)};};c.prototype.ysb=function(g){this.ixa=this.ixa.add(g.size);this.ZN.push(g.FDb);for(this.ZN.sort(function(m,h){return m.start.Lk(h.start);});this.ZN.length > this.config.GDb;){g=this.ZN.shift();this.PRa(g);}};c.prototype.PRa=function(g){void 0 === this.SS && (this.SS=g.start);void 0 !== this.oF && 0 > this.oF.Lk(g.start) && (this.SS=this.SS.add(g.start.qa(this.oF)));if(void 0 === this.oF || 0 > this.oF.Lk(g.end))this.oF=g.end;};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.PNa))],d);b.RNa=d;},35781:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,v,w,y){var x,z;q=g.ND.call(this,u,q,q,w,!0,{wf:"",pC:"content"},"1",[{yg:0,url:t,type:"unknown"}],"xx",v || q,m.Oo.dJ,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.Qr=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.TNa=void 0;r=a(13044);l=a(29204);f=a(37509);k=a(31276);d=a(52569);g=a(26159);m=a(35128);h=a(61726);n=a(43193);p=a(85001);(0,r.SKa)(r.sea,function(q){var t;function u(v){var w;if(v.ctrlKey && v.altKey && v.shiftKey && v.keyCode == n.Nz.Znb){w=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var y,x,z;y=w.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.tn.Fha("nourl",x,{content:z.result});});}});w.click();}}t=(0,k.Fh)(q,"TimedTextCustomTrack");l.config.Lka && (t.info("Loading url",{Url:l.config.Lka}),q.tn.Fha(l.config.Lka,"custom"));f.fe.addListener(f.xB,u);q.addEventListener(p.ha.ng,function(){f.fe.removeListener(f.xB,u);});});fa(c,g.ND);c.DAb=function(q,u,t,v){var w;w="custom" + c.gOb++;return new c(w,q,u,t,-1,v);};c.prototype.xXa=function(){var q;q=this;return new Promise(function(u,t){var v,w;if(null === (v=q.options) || void 0 === v?0:v.content)u(q.options.content);else if(q.url){w={responseType:h.bpa,url:q.url,track:q,Cc:void 0,ZA:"tt-" + q.re,Gr:"unknown"};q.j.u6.download(w,function(y){y.ia?u(y.content):(y.reason="downloadfailed",y.url=w.url,y.track=q,t(y));});}});};b.TNa=c;c.gOb=0;},97154:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){this.g5=h;this.Xx={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Abb(n);this.Oma=this.K_a(this.g5);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.UNa=void 0;l=a(52569);f=a(33579);k=a(15531);d=a(29204);g=a(22365);m=a(3887);c.prototype.Um=function(){return this.element;};c.prototype.M1b=function(h){this.bv=h;};c.prototype.Y1b=function(h){this.entry=h;this.mH();};c.prototype.e2b=function(h){this.Abb(h);this.mH();};c.prototype.f2b=function(h){this.lang=h;this.mH();};c.prototype.mH=function(){var h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F;h=this;p=this.Um();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;v=0;w=0;y=0;q={width:u,height:t};z=null !== (n=d.config.yaa.characterSize) && void 0 !== n?n:d.config.aya.characterSize;this.lang && d.config.A6 && d.config.A6.includes(this.lang) && "MEDIUM" === z && (y=1.4);this.lang && d.config.B6 && d.config.B6.includes(this.lang) && "SMALL" === z && (y=1.6);if(0 < u && 0 < t && this.entry){this.bv && (q=(0,l.f5)(u,t,this.bv),v=Math.round((u - q.width) / 2),w=Math.round((t - q.height) / 2));A=this.ywb(q);B=(0,l.f5)(A.width,A.height,this.bv);(x=this.D3b(this.entry.blocks)) && (x=this.z0b(x));A=x && x.map(function(G){var E;E=null === G || void 0 === G?void 0:G.region;switch(E.horizontalAlignment){case "start":E.horizontalAlignment="rtl" === h.Xx.direction?"right":"left";break;case "end":E.horizontalAlignment="rtl" === h.Xx.direction?"left":"right";}E=(0,k.Rla)(G,B,h.g5,h.Oma,y);G=(0,k.pYa)(G) + ";position:absolute";return (0,l.createElement)("div",G,E,c.dca);});}Object.assign(this.Xx,{left:v + "px",right:v + "px",top:w + "px",bottom:w + "px"});p.style.display="none";p.style.direction=this.Xx.direction;p.innerHTML="";if(A && A.length){n=q.width;u=q.height;v=q;this.iS && (v=this.$rb(q,this.iS,t,w));this.Xx.margin=this.pr?this.n3(q,"top") + "px " + this.n3(q,"right") + "px " + this.n3(q,"bottom") + "px " + this.n3(q,"left") + "px ":void 0;A.forEach(function(G){return p.appendChild(G);});t=(0,l.BS)(this.Xx);p.style.cssText=t + ";visibility:hidden;z-index:-1";w=[];for(z=A.length - 1;0 <= z;z--){C=A[z];D=x[z];F=this.e7a(C,D,n,u);y=0 < y?n / F.width * y:n / F.width;F.width > n && (C.innerHTML=(0,k.Rla)(D,q,this.g5,this.Oma,y),F=this.e7a(C,D,n,u));w[z]=F;}w=(0,f.Keb)(w,v);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(v=z.windowColor,z=z.windowOpacity,v && 0 < z && (C=Math.round(u / 50),q=(0,k.rYa)(x,w,C,v,q),q=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,q,c.dca),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=w.length - 1;0 <= q;q--){z=w[q];v=A[q].style;C=x[q].region;z=(0,k.qYa)(C,z,n,u,0);Object.assign(v,z);}p.style.cssText=t;}};c.prototype.Swa=function(h){this.iS=h;this.mH();};c.prototype.yoa=function(){return this.iS;};c.prototype.Twa=function(h){this.pr=h;this.mH();};c.prototype.zoa=function(){return this.pr;};c.prototype.Aoa=function(){return "block" === this.Xx.display;};c.prototype.Uwa=function(h){var n;n=h?"block":"none";this.element.style.display=n;this.Xx.display=n;h && this.mH();};c.prototype.e7b=function(h){this.g5=h;this.Oma=this.K_a(h);};c.prototype.K_a=function(h){var n,p;n=this;p={};(0,m.Tf)(h,function(q,u){p[q]=n.wSb(u);});return p;};c.prototype.Abb=function(h){this.Xx.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.n3=function(h,n){if(this.pr){if("left" === n || "right" === n)return h.width * (this.pr[n] || 0);if("top" === n || "bottom" === n)return h.height * (this.pr[n] || 0);}return 0;};c.prototype.ywb=function(h){return this.pr?{height:h.height * (1 - (this.pr.top || 0) - (this.pr.bottom || 0)),width:h.width * (1 - (this.pr.left || 0) - (this.pr.right || 0))}:h;};c.prototype.wSb=function(h){var n;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,l.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.dca);g.Hg.body.appendChild(h);n={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};g.Hg.body.removeChild(h);return n;};c.prototype.e7a=function(h,n,p,q){var u,t,v,w,y;u=n.region;t=(u.marginTop || 0) * q;v=(u.marginBottom || 0) * q;w=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;n=h.clientWidth || 1;h=h.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - v - h) / 2;break;default:q=q - v - h;}switch(u.horizontalAlignment){case "left":p=w;break;case "right":p=p - y - n;break;default:p=(w + p - y - n) / 2;}return {top:q,left:p,width:n,height:h};};c.prototype.$rb=function(h,n,p,q){return {height:p - Math.max(q,n.bottom || 0) - Math.max(q,n.top || 0),width:h.width};};c.prototype.z0b=function(h){var n,u,t,v;n=h && h.map(function(w,y){var x;return "vertical-rl" === (null === (x=null === w || void 0 === w?void 0:w.region) || void 0 === x?void 0:x.writingMode)?y:-1;}).filter(function(w){return -1 !== w;});if(n && 0 !== n.length)for(var p=0,q=n.length - 1;p < q;(p++,q--)){u=n[p];t=n[q];v=la([h[t],h[u]]);h[u]=v.next().value;h[t]=v.next().value;}return h;};c.prototype.D3b=function(h){var n,p;if(!h || 0 === h.length)return h;p=h.filter(function(t){var v;return "horizontal-tb" === (null === (v=t.region) || void 0 === v?void 0:v.writingMode);}).sort(function(t,v){return t.region.marginTop - v.region.marginTop;});if(!p || 0 === p.length)return h;for(var q=0,u=0;q < p.length && u < h.length;u++){"horizontal-tb" === (null === (n=h[u].region) || void 0 === n?void 0:n.writingMode) && (h[u]=p[q++]);}return h;};b.UNa=c;c.dca={"class":"player-timedtext-text-container"};},7953:function(r,b){function a(c,l){var f;f=this;this.k0a=c;this.B7a=l;this.eya=!1;this.QM=function(){f.hm=void 0;f.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=void 0;a.prototype.update=function(c){var l,f,k,d,g;k=this.k0a();if(this.sfb !== k){d=null === (f=null === (l=this.kV) || void 0 === l?void 0:l.pB(k)) || void 0 === f?void 0:f[0];if(d && ("startTime" in d))if(d.startTime <= k && k <= d.endTime){g=d;this.dfb(d.endTime - k);}else this.dfb(d.startTime - k);this.sfb=k;this.Aha !== g && (this.Aha=g,!c && this.B7a && this.B7a());}};a.prototype.start=function(){this.eya=!0;this.update();};a.prototype.Hbb=function(c){this.kV=c;this.Aha=this.sfb=void 0;c || this.stop();};a.prototype.stop=function(){this.eya=!1;this.Ao();};a.prototype.XHb=function(){this.update(!0);return this.Aha;};a.prototype.dfb=function(c){this.Ao();this.eya && 0 < c && (this.hm=ob.setTimeout(this.QM,c + a.Flb));};a.prototype.Ao=function(){this.hm && (ob.clearTimeout(this.hm),this.hm=void 0);};b.YNa=a;a.Flb=10;},26159:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja){this.j=x;this.trackId=z;this.fG=A;this.bc=B;this.Wf=C;this.meb=D;this.Ub=F;this.urls=G;this.re=E;this.displayName=H;this.wh=M;this.TH=L;this.variant=K;this.zC=O;this.profile=J;this.At=I;this.C8=N;this.mHb=R;this.V6=U;this.ot=ja;this.type=d.Uj.bya;this.Qr=void 0;this.fk=!(!J || J != m.um.YI);this.tg={bcp47:E,trackId:z,downloadableId:F,isImageBased:this.fk};this.log=(0,g.Fh)(x,"TimedTextTrack");this.state=y.i0;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.ND=void 0;l=a(5163);f=a(61726);k=a(29204);d=a(51344);g=a(31276);m=a(75568);h=a(45146);n=a(32687);p=a(58174);q=a(85001);u=a(36129);t=a(56485);v=a(32934);w=a(93161);(function(x){x[x.i0=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.uD=2]="LOADED";x[x.HP=3]="LOAD_FAILED";})(y || (y={}));c.prototype.D6=function(){var x;x=this;if(this.j.state.value === q.Vb.CLOSED || this.j.state.value === q.Vb.CLOSING)return Promise.reject({ia:!1});if(this.fk)return this.YNb();if(this.j.gd.ba)return (this.state=y.LOADING,this.I2a());this.vXa || (this.vXa=this.xXa());return this.vXa.then(function(z){return x.I2a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.co=function(){return this.C8;};c.prototype.dn=function(){return this.mHb;};c.prototype.toa=function(){var x;return (null === (x=this.LX) || void 0 === x?0:x.ready)?this.LX.kV:void 0;};c.prototype.Ql=function(x,z){var A;try{return null === (A=this.toa()) || void 0 === A?void 0:A.Ql(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.fk});}};c.prototype.nLb=function(){var x,z,A;if(!(0,n.Wc)(this.fb))try{A=null === (z=null === (x=this.toa()) || void 0 === x?void 0:x.pB(0)) || void 0 === z?void 0:z[0];this.fb=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.fb;};c.prototype.Mua=function(x){var z,A;(0,h.oa)((0,w.X2a)(x));(0,h.oa)(null === (z=this.j.W) || void 0 === z?void 0:z.Fa.Jh,"Live manifest is unavailable.");(0,h.oa)(null === (A=this.LX) || void 0 === A?void 0:A.kV,"Subtitle manager is unavailable");z=x.Feb;this.LX.kV.Mua({I:x.I,xml:z,fb:x.fb,cf:x.cf,size:z.length,Br:x.Br,endOfStream:x.endOfStream});};c.prototype.Q$=function(x){return this.j.state.value === q.Vb.CLOSING || this.j.state.value === q.Vb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Mb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.hWa=function(x){var z,A;z=this;A=(0,g.Fh)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.iWa)(this.j,A,this.request,this);x=new t.default(A,x);this.LX={kV:x,ready:!1};x.on("ready",function(){z.LX.ready=!0;});return x;};c.prototype.YNb=function(){var x,z,A,B,C,D,F;x=this;if(!this.F2a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",hTa:!1,Tra:this.At.offset,m6a:this.At.length,we:this.j.mediaTime.value || 0,bufferSize:k.config.tNb,B$:{O:this.j.ET()}};A=(this.urls || []).map(function(G){return G.yg;});B=0;C={};D=!0;F=function(G,E){var H;(0,n.Wc)(G)?D || x.Q$(x.ht(x.Ss,"","image"))?(D=!1,x.At.url=null === (H=x.u5(x.Ss)) || void 0 === H?void 0:H.url,z.url=x.At.url,C[G]=(C[G] || 0) + 1,H=x.hWa(z),H.on("ready",function(){E({ia:!0,track:x});}),H.on("error",function(M){var L;M=Object.assign({ia:!1},M);L=x.ht(x.Ss,x.At.url,"image");L.details={midxoffset:x.At.offset,midxsize:x.At.length};L.errorstring=M.errorString;C[G] <= k.config.Zdb?(x.a5(L,!0,"retry with current cdn"),x.Jia(C[G]).then(function(K){x.log.trace("retry timed text download after " + K,x.ht(x.Ss,"","image"));F(x.Ss,E);})):(x.Ss=A[B++],x.Ss?(x.a5(L,!0,"retry with next cdn"),x.Jia(C[G]).then(function(K){x.log.trace("retry timed text download after " + K,x.ht(x.Ss,"","image"));F(x.Ss,E);})):(x.a5(L,!1,"all cdns tried"),E({ia:!1,tTb:"all cdns failed for image subs",track:x})));}),H.start()):E({ia:!1,aborted:!0}):(E({ia:!1,tTb:"cdnId is not defined for image subs downloadUrl"}),x.a5(x.ht(0,"","image"),!1,"cdnId is undefined"));};this.Ss=A[B++];this.F2a=new Promise(function(G,E){F(x.Ss,function(H){H.ia?(x.log.info("Loaded image subtitle manager"),x.state=y.uD,G(H)):(x.log.error("Unable to load image subtitles manager",H),x.state=y.HP,E(H));});});}return this.F2a;};c.prototype.I2a=function(x){var z,A;z=this;A=this.j.XC.value;(0,h.oa)(A);(0,h.oa)(void 0 !== x || this.j.gd.ba);return new Promise(function(B,C){var D;D=z.hWa({profile:z.profile,xml:x,pg:k.config.aya,preferences:k.config.yaa,we:z.j.mediaTime.value || 0,hTa:!1,videoSize:A,ba:z.j.gd.ba});D.on("ready",function(){B(D);}).on("error",function(F){C({ia:!1,error:F});}).start();}).then(function(){z.state=y.uD;return {ia:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,u.Kw)(B),z.tg,{url:B.url});z.state=y.HP;B.reason="parseerror";B.track=z;throw B;});};c.prototype.a5=function(x,z,A){x=Object.assign({},x,{Fjc:z,status:A});this.j.fireEvent(q.ha.kO,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,C;A=this;this.log.trace("Downloading",x);C=this.u5(this.Ss);x={url:x.url,offset:x.offset,length:x.size,Qr:this.Qr,responseType:f.oU,headers:{},Cc:C?{id:C.yg}:void 0,ZA:"tt-" + this.re,Gr:null !== (B=null === C || void 0 === C?void 0:C.type) && void 0 !== B?B:v.aQ};this.j.u6.download(x,function(D){A.log.trace("imgsub: request status " + D.ia);D.ia?z(null,new Uint8Array(D.content)):z({Aa:D.Aa,De:D.De});});};c.prototype.ht=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Ub,subtitletype:A,bcp47:this.re,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.fk};};c.prototype.u5=function(x){return (this.urls || []).find(function(z){return z.yg === x;});};c.prototype.xXa=function(){var B,C;function x(D){return l.__awaiter(B,void 0,void 0,function G(){var E,H,M;H=this;return Ja(G,function(L){E=A();M=H.ht(D.Cc.yg,D.url,"text");M.errorstring=D.reason;return E && H.Q$(M)?L.return(H.Jia(C[E.yg]).then(z)):L.return(Promise.reject({ia:!1,aborted:!0}));});});}function z(){return l.__awaiter(B,void 0,void 0,function F(){var G,E,H;H=this;return Ja(F,function(M){G=A();E=null === G || void 0 === G?void 0:G.url;return G && E?(C[G.yg]=(C[G.yg] || 0) + 1,M.return(H.BDb(E,G).catch(x))):M.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(D){return !!((C[D.yg] || 0) < k.config.Zdb);});}B=this;this.state=y.LOADING;C={};return z();};c.prototype.Jia=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.BDb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({Cc:z.yg}),this.ht(z.yg,x,"text"));return new Promise(function(B,C){var D,F;F={responseType:f.bpa,url:x,track:A,Cc:{id:z.yg},ZA:"tt-" + A.re,Gr:null !== (D=z.type) && void 0 !== D?D:v.aQ};A.j.u6.download(F,function(G){G.ia?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:F.url,track:A,Cc:z}),C(G));});});};Ya.Object.defineProperties(c.prototype,{wf:{configurable:!0,enumerable:!0,get:function(){return this.meb.wf;}},pC:{configurable:!0,enumerable:!0,get:function(){return this.meb.pC;}}});b.ND=c;c.Wz=y;},58174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iWa=void 0;b.iWa=function(a,c,l,f){return {OKb:function(){var k;k=a.boa();f.ot && (k+=f.ot);return k;},la:c,request:l,df:!1};};},73585:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t){var v;v=this;this.j=t;this.Ixa=this.N6a=0;this.ng=this.$k=!1;this.hw=0;this.x6=new Set();this.uX=!0;this.kl=function(){var w,y;v.e$();v.eF && (v.log.info("Deactivating",v.eF),v.kz.NBb(v.et()));v.j.Yh.set(null);v.cI.Hbb(void 0);v.LUa();w=v.j.Mb.value;w && w.co() && !w.dn() && (w=null);if(w && v.j.sb.value !== q.gb.zf){y=v.et();v.kz.fsb(y,w);}w?(v.log.info("Activating",w),v.j.gm.set(w.getState() === l.ND.Wz.uD?q.nf.$d:q.nf.Me),v.$k || v.j.ie("tt_start"),w.D6().then(v.VJ).catch(v.VJ)):v.j.gm.set(q.nf.$d);v.eF=w;v.uz();};this.sync=function(){v.$k && (v.cI.start(),v.j.sb.value !== q.gb.ke && v.cI.stop());};this.uz=function(){var w;v.uX && v.j.state.value === q.Vb.$d && v.j.sb.value !== q.gb.zf && (v.Vg?w=v.cI.XHb():v.j.Mb.value && (w=c.b4b[v.j.Mb.value.getState()]));w && (0,p.Wc)(w.startTime) && v.j.$t.value !== w && (v.N6a++,v.Ixa+=v.cI.k0a() - w.startTime,v.kTa=Math.ceil(v.Ixa / (v.N6a + 0)));v.j.$t.set(w);};this.et=function(){var w;w=v.j.boa();v.eF && v.eF.ot && (w+=v.eF.ot);return w;};this.cta=function(w){v.x6.add(w);v.uX && (v.fireEvent(c.lcb,w),w && w.id && (v.kz.rfb(w.id),!1));v.log.trace("showsubtitle",v.V5(w));};this.XV=function(w){v.x6.delete(w) && v.uX && (v.fireEvent(c.U$a,w),v.log.trace("removesubtitle",v.V5(w)));};this.PMb=function(){v.x6.forEach(function(w){v.fireEvent(c.U$a,w);v.log.trace("hide subtitle",v.V5(w));});};this.t0b=function(){v.x6.forEach(function(w){v.fireEvent(c.lcb,w);v.log.trace("resume subtitle",v.V5(w));});};this.ph=function(){v.log.warn("imagesubs buffer underflow",v.j.Mb.value.tg);v.j.gm.set(q.nf.Me);};this.Nsa=function(){v.log.info("imagesubs buffering complete",v.j.Mb.value.tg);v.j.gm.set(q.nf.$d);};this.S8=function(){v.$k && v.Vg && v.Vg.vz(v.et());};this.K7a=function(w){v.$k && v.Vg && (v.Vg.pause(),v.Vg.GC(w.Ps));};this.Pv=function(){v.$k && v.Vg && v.Vg.T9a();};this.H7a=function(w){v.Vg && v.Vg.Nj(w.hh,w.HM);};this.P7a=function(w){v.Vg && v.Vg.bj(w.I,w.F7b);};this.mVb=function(){v.$k=!0;(0,n.Df)(function(){var w,y;(null === (w=v.eF) || void 0 === w?0:w.fk)?null === (y=v.Vg) || void 0 === y?void 0:y.vz(v.et()):v.sync();v.uz();});};this.jVb=function(){v.LUa();v.cI.stop();v.uz();v.ng=!0;v.e$();};this.ita=function(w){(w=w.newValue) && (0,p.isArray)(w.blocks) && (v.kz.rfb.apply(v.kz,ca(w.blocks.map(function(y){return y.id;}))),!1);};this.pVb=function(w){v.y7b(w.newValue,w.oldValue);v.sync();v.uz();};this.VJ=function(w){var y;if(!v.ng){y=w.track;if(y === v.j.Mb.value)try{v.Vg=y.toa();y.fk?v.dsb(w):v.esb(w);}catch(x){v.log.error("Error activating track:",x,y);return;}v.$k || v.j.ie(w.ia?"tt_comp":"tt_err");w.ia?(d.config.Jab?setTimeout(function(){v.j.gm.set(q.nf.$d);},d.config.Jab):v.j.gm.set(q.nf.$d),y.fk || v.uz()):w.aborted?v.log.warn("aborted timed text track loading"):d.config.bGb?v.j.pd(h.U.Dkb,{Nb:w.track?w.track.tg:{}}):(v.log.error("ignore subtitle initialization error",w),v.j.gm.set(q.nf.$d));}};this.Hb=new k.Tj();this.kz=new m.CNa((0,g.Fh)(t,"SubtitleTracker"),d.config.OEb);this.log=(0,g.Fh)(t,"TimedTextManager");this.cI=new f.YNa(this.et,this.uz);this.j.Mb.addListener(this.kl);d.config.DXb?(this.j.addEventListener(q.ha.$k,this.mVb),this.kl()):(this.j.gm.set(q.nf.$d),this.j.addEventListener(q.ha.$k,function(){v.$k=!0;v.kl();}));this.j.sb.addListener(this.pVb);this.j.addEventListener(q.ha.Uxa,this.sync);this.j.$t.addListener(this.ita);this.j.addEventListener(q.ha.ng,this.jVb);}Object.defineProperty(b,"__esModule",{value:!0});b.VNa=void 0;l=a(26159);f=a(7953);k=a(94886);d=a(29204);g=a(31276);m=a(69899);h=a(36129);n=a(32219);p=a(32687);q=a(85001);u=a(35781);c.prototype.h3b=function(){this.uX=!0;this.t0b();this.uz();};c.prototype.QMb=function(){this.uX=!1;this.PMb();this.uz();};c.prototype.addEventListener=function(t,v,w){this.Hb.addListener(t,v,w);};c.prototype.removeEventListener=function(t,v){this.Hb.removeListener(t,v);};c.prototype.fireEvent=function(t,v,w){this.Hb.Dc(t,v,w);};c.prototype.Fha=function(t,v,w){var y,x;y=this;x=u.TNa.DAb(this.j,t,v,w);this.Q2a(this.j.Wg,x);this.j.ai.forEach(function(z){y.Q2a(z.Wg,x);});this.j.Mb.set(x);this.j.fireEvent(q.ha.bu);};c.prototype.IXb=function(t){this.Gva(t)?t.D6().then(function(){}):Promise.resolve();};c.prototype.yLb=function(t){return this.kz.eLb(t);};c.prototype.uoa=function(t){return this.kz.uoa(t);};c.prototype.bU=function(){var t,v;t=this.j.dY;v=d.config.aya.characterSize;v={size:d.config.yaa.characterSize || v};t && (v.visibility=t.Aoa(),v.iS=t.yoa(),v.pr=t.zoa());return v;};c.prototype.y2b=function(t){d.config.yaa.characterSize=t;t=this.j.Mb.value;this.Gva(t) && !t.fk && t.D6().then(this.VJ).catch(this.VJ);};c.prototype.y7b=function(t,v){var w;t === q.gb.ke || t == q.gb.Rh?v !== q.gb.ke && v !== q.gb.Rh && ((v=this.j.Mb.value) && !this.Gva(v) || this.kz.U6a(this.et(),v || void 0,"presentingstate:" + t)):t !== q.gb.zf && t !== q.gb.nq || this.kz.Nla(null !== (w=this.et()) && void 0 !== w?w:void 0,"presentingstate:" + t);};c.prototype.e$=function(){this.hw=0;ob.clearTimeout(this.IN);};c.prototype.LUa=function(){var t;this.Vg && this.Vg.stop();(null === (t=this.eF) || void 0 === t?0:t.fk) && this.k5a("removeListener");this.Vg=void 0;};c.prototype.k5a=function(t){this.Vg && (this.Vg[t]("showsubtitle",this.cta),this.Vg[t]("removesubtitle",this.XV),this.Vg[t]("underflow",this.ph),this.Vg[t]("bufferingComplete",this.Nsa),"addListener" === t?(this.j.addEventListener(q.ha.Rn,this.S8),this.j.addEventListener(q.ha.Ej,this.K7a),this.j.addEventListener(q.ha.yH,this.Pv),this.j.addEventListener(q.ha.y8,this.H7a),this.j.addEventListener(q.ha.Jya,this.P7a)):(this.j.removeEventListener(q.ha.Rn,this.S8),this.j.removeEventListener(q.ha.Ej,this.K7a),this.j.removeEventListener(q.ha.yH,this.Pv),this.j.removeEventListener(q.ha.y8,this.H7a),this.j.removeEventListener(q.ha.Jya,this.P7a)));};c.prototype.V5=function(t){return {currentPts:this.et(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.dsb=function(t){var v,w;v=this;w=t.track;if(!w || !w.fk)throw Error("Not an image base subtitle");t.ia?(this.e$(),this.k5a("addListener"),this.log.info("Activated",w),this.j.Yh.set(w),this.$k?(0,n.Df)(function(){v.Vg.vz(v.et());}):this.Vg.pause()):this.zab(w,t);};c.prototype.esb=function(t){var v,w;v=t.track;w=t.ia;if(!v || v.fk)throw Error("Not a valid text track");w?(this.e$(),this.cI.Hbb(this.Vg),this.log.info("Activated",v),this.j.Yh.set(v)):this.zab(v,(0,h.Kw)(t));this.uz();};c.prototype.zab=function(t,v){var w,y;w=this;y=this.hw < d.config.cSb;y && (this.IN=ob.setTimeout(function(){w.hw++;t.D6().then(w.VJ).catch(w.VJ);},d.config.J5b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.fk)?" img subtitle":""),{retry:y},v,t);};c.prototype.Gva=function(t){return !(!t || t.co() && !t.dn());};c.prototype.Q2a=function(t,v){var w;w=t.findIndex(function(y){return y.bc >= v.bc;});-1 === w && (w=0);t.splice(w,0,v);};b.VNa=c;r={};c.b4b=(r[l.ND.Wz.LOADING]={bV:!0},r[l.ND.Wz.HP]={Tq:!0},r);c.lcb="showsubtitle";c.U$a="removesubtitle";},79014:function(r,b,a){var l,f,k,d,g,m;function c(h){var n,p,q,u;n=this;this.j=h;this.VUb=function(){var t;k.fe.removeListener(k.g6,n.M7a);t=n.ao.Um();t && t.parentNode && t.parentNode.removeChild(t);};this.ita=function(t){n.ao.Y1b(t.newValue);};this.zVb=function(t){var v;n.ao.e2b(t.newValue?t.newValue.V6:void 0);n.ao.f2b(null === (v=t.newValue) || void 0 === v?void 0:v.re);n.ao.e7b(n.J_a(t.newValue));};this.M7a=function(){n.ao.mH();};q=h.Mb.value?h.Mb.value.V6:void 0;u=null === (p=h.Mb.value) || void 0 === p?void 0:p.re;p=this.J_a(h.Mb.value);this.ao=new g.UNa(p,q,u);q=h.XC.value;(0,f.oa)(.1 < q.width / q.height);this.ao.M1b(q.width / q.height);h.mk.appendChild(this.ao.Um());h.$t.addListener(this.ita);h.Mb.addListener(this.zVb);h.addEventListener(m.ha.ng,this.VUb,l.aJ);k.fe.addListener(k.g6,this.M7a);}Object.defineProperty(b,"__esModule",{value:!0});b.WNa=void 0;l=a(33096);f=a(45146);k=a(37509);d=a(29204);g=a(97154);m=a(85001);c.prototype.Uwa=function(h){this.ao.Uwa(h);};c.prototype.Aoa=function(){return this.ao.Aoa();};c.prototype.Swa=function(h){this.ao.Swa(h);};c.prototype.yoa=function(){return this.ao.yoa();};c.prototype.Twa=function(h){this.ao.Twa(h);};c.prototype.zoa=function(){return this.ao.zoa();};c.prototype.J_a=function(h){var n;if(h && d.config.w7 && 0 <= d.config.w7.indexOf(h.re)){n=Object.assign({},d.config.xaa);Object.entries(n).forEach(function(p){var q;q=la(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.xaa;};b.WNa=c;},79342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xra=void 0;b.xra=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],f=c(l),k=1;k < a.length;k++){d=a[k];g=c(d);g > f && (l=d,f=g);}return l;}};},28838:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Zd=void 0;r=a(22674);c=a(58421);l=a(6856);f=a(48864);k=a(37187);d=a(17842);g=a(96723);m=a(67371);h=a(47511);n=a(45613);p=a(51361);b.Zd=new r.dd(function(q){q(k.S0).to(c.BNa).ga();q(d.Lea).to(f.ZLa).ga();q(g.xOa).to(l.wOa).ga();q(m.Wlb).to(h.fJa).ga();q(n.VOa).to(p.UOa).ga();});},97368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N9a=void 0;b.N9a=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},99037:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v7=void 0;b.v7=function(a,c,l){var f;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");f=l.get;l.get=function(){var k,d;k=f.apply(this,arguments);d={enumerable:l.enumerable,value:k};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return k;};};},67371:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wlb="ObjectComparerSymbol";},88195:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.SV=b.sh=void 0;c=a(45266);b.sh=function(l,f){return [].concat.apply([],ca(l)).map(function(k){return Object.assign({name:k},null !== f && void 0 !== f?f:{});});};b.SV=function(l,f){for(var k=[],d=1;d < arguments.length;++d){k[d - 1]=arguments[d];}return (0,c.iXa)(function(g,m){return g.name === m;},l,k);};},17842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lea="QueryStringDataProviderSymbol";},37187:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.S0=b.No=void 0;b.No=function(){};b.S0="StringObjectReaderSymbol";},79542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iT=b.aqa=void 0;b.aqa=function(a){return void 0 !== a && null !== a;};b.iT=function(){return null;};},96723:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xOa="UuidProviderSymbol";},45613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VOa="WindowUtilsSymbol";},47511:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;r=a(5163);l=a(22674);f=a(76564);c.prototype.compare=function(k,d){var g;g=[];this.Yja(k,d,"",g);return g;};c.prototype.Yja=function(k,d,g,m){var h;h=this;if(f.sD.DA(k))f.sD.DA(d) && k.length === d.length?k.forEach(function(q,u){h.Yja(k[u],d[u],g + "[" + u + "]",m);}):m.push({a:k,b:d,path:g});else if(f.sD.TR(k) && null != k){if(f.sD.TR(d) && null != d){for(var n in k){this.Yja(k[n],d[n],g + "." + n,m);}for(var p in d){(p in k) || void 0 === d[p] || m.push({a:void 0,b:d[p],path:g + "." + p});}}else m.push({a:k,b:d,path:g});}else k !== d && m.push({a:k,b:d,path:g});};a=c;a=r.__decorate([(0,l.T)()],a);b.fJa=a;},48864:function(r,b,a){var l,f,k,d;function c(g){this.location=g;(0,f.io)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;r=a(5163);f=a(66523);k=a(63368);a=a(22674);c.kW=function(g){var m,n,p;m={};if(0 < g.length){g=g.split("&");for(var h=0;h < g.length;h++){n=g[h].trim();p=n.indexOf("=");0 <= p?m[decodeURIComponent(n.substr(0,p).replace(l.BJa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(l.BJa,"%20")):m[n.toLowerCase()]="";}}return m;};Ya.Object.defineProperties(c.prototype,{fZb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.kW(this.V9a);}},V9a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.HW)return this.HW;this.HW=this.location.search.substr(1);g=this.HW.indexOf("#");0 <= g && (this.HW=this.V9a.substr(0,g));return this.HW;}}});d=l=c;d.BJa=/[+]/g;d=l=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(k.aHa))],d);b.ZLa=d;},58421:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.is=h;this.json=n;(0,f.io)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.BNa=void 0;r=a(5163);f=a(66523);k=a(63368);d=a(22674);g=a(42207);m=a(37187);c.prototype.i$a=function(h){var n;n=this;return l.read(h,function(p){return parseInt(p);},function(p){return n.is.cia(p);});};c.prototype.Tua=function(h){var n;n=this;return l.read(h,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.g2(p);});};c.prototype.$p=function(h){var n;n=this;return l.read(h,function(p){return parseInt(p);},function(p){return n.is.UR(p);});};c.prototype.oZb=function(h){var n;n=this;return l.read(h,function(p){return parseFloat(p);},function(p){return n.is.Yj(p);});};c.prototype.h$a=function(h,n){return l.read(h,function(p){return l.xGb(p,n);},function(p){return void 0 !== p;});};c.prototype.Wua=function(h,n){return l.read(h,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.j$a=function(h){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(h,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.TR(q) && p(q);});}catch(q){return new m.No();}};c.prototype.Dj=function(h,n,p){var q,u;q=this;p=void 0 === p?1:p;h=h.trim();u=n instanceof Function?n:this.cBb(n,p);n=h.indexOf("[");p=h.lastIndexOf("]");if(0 != n || p != h.length - 1)return new m.No();h=h.substring(n + 1,p);try{return l.pWb(h).map(function(t){t=u(q,l.i8b(t));if(t instanceof m.No)throw t;return t;});}catch(t){return t instanceof m.No?t:new m.No();}};c.prototype.cBb=function(h,n){var p;p=this;n=void 0 === n?1:n;return function(q,u){q=l.uKb(h);return 1 < n?p.Dj(u,h,n - 1):q(p,u);};};c.xGb=function(h,n){var q;for(var p in n){q=parseInt(p);if(n[q] == h)return q;}};c.read=function(h,n,p){h=n(h);return void 0 !== h && p(h)?h:new m.No();};c.uKb=function(h){switch(h){case "int":return function(n,p){return n.i$a(p);};case "bool":return function(n,p){return n.Tua(p);};case "uint":return function(n,p){return n.$p(p);};case "float":return function(n,p){return n.oZb(p);};case "string":return function(n,p){return n.Wua(p);};case "object":return function(n,p){return n.j$a(p);};}};c.pWb=function(h){var y;for(var n=[["[","]"]],p=[],q=0,u=0,t=0,v=[],w={};u < h.length;(w={PO:w.PO},++u)){w.PO=h.charAt(u);y=void 0;"," == w.PO && 0 == t?(p.push(h.substr(q,u - q)),q=u + 1):(y=n.find((function(x){return function(z){return z[0] == x.PO;};})(w)))?(++t,v.push(y)):0 < v.length && v[v.length - 1][1] == w.PO && (--t,v.pop());}if(q != u)p.push(h.substr(q,u - q));else if(q == u && 0 < q)throw new m.No();return p;};c.i8b=function(h){var n;n=h.charAt(0);if('"' == n || "'" == n){if(h.charAt(h.length - 1) != n)throw new m.No();return h.substring(1,h.length - 1);}return h;};a=l=c;a=l=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.Qf)),r.__param(1,(0,d.l)(k.tD))],a);b.BNa=a;},6856:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wOa=void 0;r=a(5163);a=a(22674);c.prototype.MZa=function(f){var k;k=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return k.MZa(d);});};l=c;l=r.__decorate([(0,a.T)()],l);b.wOa=l;},51361:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.UOa=void 0;r=a(5163);l=a(22674);f=a(22365);c.prototype.VKb=function(){var k;k=ob.devicePixelRatio || 1;return {width:f.zu.width * k,height:f.zu.height * k};};a=c;a=r.__decorate([(0,l.T)()],a);b.UOa=a;},67590:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iba="AsePrefetcherAdapterSymbol";b.AAa="AsePrefetcherProviderSymbol";},18148:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yba="CacheManagerFactorySymbol";},99584:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y;Object.defineProperty(b,"__esModule",{value:!0});b.bd=void 0;r=a(22674);c=a(68976);l=a(37780);f=a(66476);k=a(87657);d=a(12849);g=a(85671);m=a(27162);h=a(19484);n=a(71576);p=a(32737);q=a(59315);u=a(20318);t=a(67590);v=a(61170);w=a(18148);y=a(94028);b.bd=new r.dd(function(x){x(c.JKa).to(l.IKa).ga();x(k.Hea).to(d.RLa).ga();x(f.PD).to(g.GOa).ga();x(p.QLa).to(n.MHa).ga();x(p.PLa).to(h.LGa).ga();x(p.OLa).to(m.FGa).ga();x(t.AAa).T5b(function(){var z;return null === (z=u.mp.Nh) || void 0 === z?void 0:z.Wv;});x(t.Iba).to(v.zAa).ga();x(q.Fea).to(q.CLa);x(w.Yba).to(y.TBa).ga();});},68976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JKa="PlayPredictionDeserializerSymbol";},32737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QLa="PreparerManifestFetcherSymbol";b.PLa="PreparerLicenseFetcherSymbol";b.OLa="PreparerLegacyLicenseFetcherSymbol";},32573:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ej=void 0;r=b.ej || (b.ej={});r.Qn="created";r.kw="started";r.lO="succeeded";r.Tq="failed";r.Qd="cancelled";r.dUa="cancelled_on_start";r.rja="cancelled_not_encrypted";},87657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hea=b.hJ=void 0;r=b.hJ || (b.hJ={});r.l5b="taskstart";r.j5b="taskabort";r.k5b="taskfail";r.m5b="tasksuccess";b.Hea="PreparerTaskSchedulerSymbol";},66476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PD="VideoPreparerSymbol";},61170:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A;function c(){var B;B=this;this.promise=new Promise(function(C,D){B.resolve=C;B.reject=D;});}function l(B,C,D,F,G){var E;E=this;this.hua=D;this.RXb=F;this.Lh=G;this.MY=[];this.rC=new Map();this.fpa=new Map();this.oVb=function(H){var M,L;H=H.wishListItem.key.J;if(E.rC.has(H)){L=E.rC.get(H);H=L.hN;L=L.bka;null === (M=L.resolve) || void 0 === M?void 0:M.call(L,H);}};this.W8=function(H){var M,L;M=H.J;L=H.W;H.target.eza(H.J) || (E.Le.has({J:M}) && (E.Le.Tm(M).Sq=!0),null === L || void 0 === L?void 0:L.then(function(K){var O;O=K.Fa;O && O.Zb && O.pp && O.pp.forEach(function(J){var I;I={Af:{Zb:O.Zb,xd:M}};E.Le.has({J:J.P,xd:O.P,Zb:O.Zb}) && (E.Le.Tm(J.P,I).Sq=!0);});}).catch(function(){}),E.J$a(M),E.Ybb(E.MY));};this.BYa=function(H,M){var L,K;L=H.J;K=H.W;H.target.eza(L) || (null === K || void 0 === K?void 0:K.then(function(O){(O=O.Fa) && O.Zb && O.Zb === M.Zb && L === M.xd && (O={Af:{Zb:O.Zb,xd:L}},E.Le.has(M) && (E.Le.Tm(M.J,O).Sq=!0),E.fpa.delete(E.Le.generateKey(M)));}).catch(function(){}));};this.la=B.$a("VideoPreparer");this.config=C();}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;r=a(5163);f=a(87386);a(50323);k=a(20318);d=a(93161);g=a(4203);m=a(29204);h=a(72639);n=a(67590);p=a(22674);q=a(59315);u=a(57055);t=a(49745);v=a(24735);w=a(64213);y=a(25505);x=a(32573);z=a(45146);A=a(37991);l.prototype.Bb=function(B){var C;C=this;this.Le=new w.xfa(function(D,F){return C.jv(D,B,k.mp.$h,F);},function(D,F){return C.fw(D,B,F);});};l.prototype.fetch=function(B,C){var D;D=this;if(-1 === C.events.listeners("manifestRemovedFromCache").indexOf(this.W8))C.events.on("manifestRemovedFromCache",this.W8);if(-1 === C.events.listeners("playbackClosing").indexOf(this.W8))C.events.on("playbackClosing",this.W8);!1;return this.fy(B.P,C,B.ub).then(function(F){if("LIVE" === F.Fa.$f)throw {status:x.ej.dUa};D.Ybb(D.cyb(D.ABb(B,C)));return D.rC.get(B.P).bka.promise;});};l.prototype.getStats=function(){return this.Wv.getStats();};l.prototype.i4b=function(B,C,D){C={eh:C,W:D};this.fpa.set(this.Le.generateKey(B),C);};l.prototype.IKb=function(B){return this.fpa.get(this.Le.generateKey(B));};l.prototype.cyb=function(B){return [B].concat(ca(this.MY.filter(function(C){return C.key.J !== B.key.J;}))).slice(0,this.config.PXb).map(this.config.QXb?function(C,D){return Object.assign({},C,{priority:D});}:function(C){return C;});};l.prototype.d0a=function(B,C,D){var F;F=this;D=void 0 === D?{}:D;return this.fy(B,C,D).then(function(G){F.JVa(G,C);return G.Fa;});};l.prototype.fy=function(B,C,D){var F;D=void 0 === D?{}:D;return this.Lh.fy({ma:null !== (F=C.kt(B)) && void 0 !== F?F:C.S3(B),J:B,Uq:h.ql.cJ,ff:v.yh.xn,bb:D});};l.prototype.fw=function(B,C,D){var F,G,E,H,M,L;F=this;(0,z.oa)(D.Af,"auxiliaryOptions must exist if an adBreak hydration was requested");E=D.Af;H=E.Zb;M=E.xd;(0,z.oa)(!!H,"auxiliaryManifestToken must exist if an adBreak hydration was requested");L=this.Le.Tm(null === (G=null === D || void 0 === D?void 0:D.Af) || void 0 === G?void 0:G.xd);return L.iq.then(function(K){var O,J,I;K=K.W.Dd;O=L.ma;(0,z.oa)(void 0 !== O,"parent xid must exist if an adBreak hydration was requested");J=h.ql.rm;I={ZL:!0,rg:!1,TC:Date.now()};return F.Lh.fy({ma:Number(O),bb:I,J:M,Uq:J,ff:void 0,xO:void 0,Bf:{eh:B,Zb:H,xd:M,eW:K}},!1).then(function(N){var R,U;F.JVa(N,C);N.pp.forEach(function(ja){var ua;function ra(Aa){F.BYa(Aa,ua);C.events.vr("playbackClosing",ra);}function ka(Aa){F.BYa(Aa,ua);C.events.vr("manifestRemovedFromCache",ka);}ua={J:ja.Fa.P,xd:M,Zb:H};F.i4b(ua,B,ja);C.events.on("manifestRemovedFromCache",ka);C.events.on("playbackClosing",ra);});if(null === (R=N.Fa.Bm) || void 0 === R || !R.ae.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (M + ", adBreakToken: " + B));return null === (U=N.Fa.Bm) || void 0 === U?void 0:U.ae[0];});});};l.prototype.JVa=function(B,C){var D,F,G;D=this;F=B.Fa;null === (G=F.pp) || void 0 === G?void 0:G.forEach(function(E){D.jv(E.P,C,k.mp.$h,{Af:{Zb:E.Zb,xd:F.P}},E);});};l.prototype.ABb=function(B,C){var D,F,G,E,H,M;G=new c();if(this.rC.has(B.P)){E=this.rC.get(B.P);H=E.hN;if(H.P === B.P && H.zd === B.zd)M=E.X8b.key;this.Wv.getStats().contents.some(function(L){return L.id === B.P;}) && (G=E.bka);}E=k.mp.$h.Pn((0,m.E3)(B.zd));M || (M={J:B.P,config:E});H={J:B.P};this.Le.has(H) || this.Le.store(H,this.yBb(B,C,E));C={key:M,tgc:!1,priority:B.priority,b3:d.L.Ma(null !== (F=null === (D=B.ub) || void 0 === D?void 0:D.fb) && void 0 !== F?F:0),Le:this.Le};this.rC.set(B.P,{X8b:C,hN:B,bka:G});return C;};l.prototype.yBb=function(B,C,D){var F,G,E;F=this;G=B.P;return {get ma() {return C.kt(G);},Sq:!1,events:new u.EventEmitter(),cUa:function(){},get iq() {E || (E=F.d0a(B.P,C,B.ub).then(function(H){return {W:H,gv:H.j6 && !H.AB,config:D,cxa:{}};}));return E;},J:G,Kxa:!1,equals:function(H){var M;M=C.kt(G);return H && H.J === G && (!H.ma || !M || M === H.ma);}};};l.prototype.jv=function(B,C,D,F,G){var E,H,M,L,K,O,J,I;E=this;K=C.kt(B);if(K || F){O={J:B,xd:null === (H=null === F || void 0 === F?void 0:F.Af) || void 0 === H?void 0:H.xd,Zb:null === (M=null === F || void 0 === F?void 0:F.Af) || void 0 === M?void 0:M.Zb};if(!this.Le.has(O)){J=null !== K && void 0 !== K?K:this.Le.Tm(null === (L=null === F || void 0 === F?void 0:F.Af) || void 0 === L?void 0:L.xd).ma;this.Le.store(O,{cUa:function(){},equals:function(N){return N && N.J === O.J && (J === N.ma || !N.ma || !J);},get iq() {I || (I=(G?Promise.resolve(G):E.d0a(B,C)).then(function(N){return {W:N,gv:N.j6 && !N.AB,config:D,cxa:{}};}));return I;},set iq(N) {I=N;},events:new u.EventEmitter(),ma:J,J:O.J,Sq:!1,Kxa:!1});}}};l.prototype.Gbb=function(B){this.MY=B;};l.prototype.Ybb=function(B){this.Gbb(B);this.Wv.Xbb(this.MY);};l.prototype.J$a=function(B){this.rC.has(B) && (this.Gbb(this.MY.filter(function(C){return C.key.J !== B;})),this.rC.delete(B));};Ya.Object.defineProperties(l.prototype,{Wv:{configurable:!0,enumerable:!0,get:function(){this.rx || (this.rx=this.RXb(),this.rx.Sha(new A.wMa()).Lwa(this.hua).Obb(new y.mGa()).sbb({DB:this.config.OXb}),this.rx.events.on("prefetchComplete",this.oVb));return this.rx;}}});a=l;a=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(f.ab)),r.__param(1,(0,p.l)(g.Xb)),r.__param(2,(0,p.l)(q.Fea)),r.__param(3,(0,p.l)(n.AAa)),r.__param(4,(0,p.l)(t.AD))],a);b.zAa=a;},94028:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){var q;q=this;this.Sf=n;n=p();this.kg=new m({log:h.$a("CacheManager"),sa:{getTime:function(){return q.Sf.Ib().ca(d.pa);}},Promise:Promise,df:!1,cwb:n.XXb,bwb:n.VXb,KFb:n.q9a,JFb:n.WXb});}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(5021);g=a(4203);m=a(41385);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(f.Lc)),r.__param(2,(0,l.l)(g.Xb))],c);b.TBa=c;},25505:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;a.prototype.cZa=function(c,l){var f;return null !== (f=this.yGb(c,l)) && void 0 !== f?f:this.CGb(c,l);};a.prototype.yGb=function(c,l){var f,k;f=this;k=l.ea;return c.find(function(d){var g;return f.b4(k,null === (g=d.ea) || void 0 === g?void 0:g.ea);});};a.prototype.CGb=function(c,l){var f,k;f=l.ea.ve;k=l.ea.O[f];return c.find(function(d){var g;d=null === (g=d.ea) || void 0 === g?void 0:g.ea;d=(g=null === d || void 0 === d?void 0:d.ve) && (null === d || void 0 === d?void 0:d.O[g]) || void 0;return f === g && k.J === (null === d || void 0 === d?void 0:d.J) && k.ta === (null === d || void 0 === d?void 0:d.ta);});};a.prototype.b4=function(c,l){var f;f=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(k){return f.b4(c[k],l[k]);});};b.mGa=a;},27162:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z;function c(A,B,C,D,F,G,E,H,M,L,K){this.yr=C;this.zX=D;this.jc=F;this.sa=G;this.Ea=E;this.lM=H;this.SWb=M;this.Lh=L;this.di=K;this.log=A.$a("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(32573);g=a(63156);m=a(24735);h=a(91581);n=a(95162);p=a(98166);q=a(2248);u=a(5021);t=a(30869);v=a(81918);w=a(50323);y=a(21892);x=a(49745);a=a(23563);c.prototype.fetch=function(A,B){var C;C=this;this.log.trace("Fetching LDL",(0,w.LI)(A));this.P=A.P;this.bd=B;return B.sL(A.P,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,w.LI)(A));return C.Lh.t5(A.P).then(function(D){var F,G;C.W=D;C.Fa=D.Fa;if(D=C.bd.gcb(A.P,C.Fa))throw {status:D};D=C.Fa.hu[0].zW;F=C.Fa.hu[0].tla;G=(D?D:[F]).map(function(E){return C.jc.decode(E.bytes);});C.ce=C.RA({NXa:C.log,Tla:function(E){return C.handleError(E);},ie:void 0,zsa:function(){},sa:{getTime:function(){return C.Ea.Ib().ca(u.pa);},Ifc:function(){return C.sa.de.ca(u.sm);}}});B.tbb(A.P,C.ce);return C.ce.create(C.config.Ul).then(function(){return C.ce.Qg(m.yh.xn,G,!0);}).then(function(){return C.ce;}).catch(function(E){C.handleError(E);throw E;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.ej.Qd};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.ce.close();this.bd.GUa(this.P);this.bd.Qja(this.P);};c.prototype.RA=function(A){var B,C;B=this;if(!this.yr.KI || !this.yr.II){C=this.SWb();this.yr.KI=C.fz;this.yr.II=C.request;}C=new this.yr.II(A.NXa,function(D){var F;F=[];D.sj.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.jc.encode(G.data)});});D={sj:F,w4:[B.Fa.Pk],ff:g.Sj.EVa(D.ff),Dd:B.Fa.Dd,ma:B.bd.S3(B.P),oi:B.W.oi,$f:B.W.Fa.$f};B.log.trace("xid created ",{MovieId:B.P,xid:D.ma});return B.lM.Gs(D);},void 0,{df:!1,ek:!1});return this.yr.KI(A.NXa,A.ie,{df:!1,ek:!1,rd:C,DW:this.config.L9a,$:void 0,wz:this.config.WXa,onerror:A.Tla,zsa:A.zsa,sa:A.sa,WG:!1,yub:this.zX.L3([]),t8b:this.zX.R3([]),Dqa:this.di.B2.ca(u.pa)});};z=c;z=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.Xb)),r.__param(2,(0,l.l)(h.s0)),r.__param(3,(0,l.l)(n.oQ)),r.__param(4,(0,l.l)(q.Zg)),r.__param(5,(0,l.l)(t.bg)),r.__param(6,(0,l.l)(v.Lc)),r.__param(7,(0,l.l)(p.IP)),r.__param(8,(0,l.l)(y.oea)),r.__param(9,(0,l.l)(x.AD)),r.__param(10,(0,l.l)(a.oq))],z);b.FGa=z;},19484:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t;function c(v,w,y,x,z,A){this.jc=y;this.KDb=x;this.xM=z;this.Lh=A;this.log=v.$a("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.LGa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(24735);g=a(2248);m=a(47737);h=a(92395);n=a(32573);p=a(50323);q=a(49745);u=a(82100);t=a(56039);c.prototype.fetch=function(v,w){var y;y=this;this.log.trace("Fetching LDL",(0,p.LI)(v));this.P=v.P;this.bd=w;return w.sL(v.P,"ldl").then(function(x){return x.H$;}).catch(function(){y.log.trace("Requesting a new license",(0,p.LI)(v));return y.Lh.t5(v.P).then(function(x){var z,A,B,C,D,F;y.Fa=x.Fa;if(w.v1a(v.P))return w.sL(v.P,"ldl").then(function(G){return G.H$;});z=y.bd.gcb(v.P,y.Fa);if(z)throw {status:z};A=y.Fa.hu[0];z=A.zW;B=A.tla;A=A.streams[0].QA;C=(0,u.Mpa)(A);D=(z?z:[B]).map(function(G){return y.jc.decode(G.bytes);});F=y.KDb().then(function(G){var E;E={type:d.yh.xn,initData:D,O6:C,context:{i7:(0,t.Mna)(x.Fa.hu[0].streams)},yi:{P:v.P,ma:w.S3(v.P),Dd:y.Fa.Dd,Pk:y.Fa.Pk,oi:x.oi,$f:x.Fa.$f}};return G.Qg(E,y.xM());}).catch(function(G){y.handleError("Unable to prepare an EME session.",G);throw G;});y.bd.tbb(v.P,{H$:F,source:"videopreparer"},function(){if(!y.bd.eza(v.P))try{F.then(function(G){return G.close();}).catch(function(G){y.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){y.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return F;}).catch(function(x){y.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.ej.Qd};});});};c.prototype.handleError=function(v,w){this.log.warn(v + " LDL is now invalid.",w);this.bd.GUa(this.P);this.bd.Qja(this.P);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.Xb)),r.__param(2,(0,l.l)(g.Zg)),r.__param(3,(0,l.l)(m.NZ)),r.__param(4,(0,l.l)(h.SP)),r.__param(5,(0,l.l)(q.AD))],a);b.LGa=a;},71576:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,v,w,y){this.lV=v;this.Sf=w;this.Lh=y;this.log=u.$a("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;r=a(5163);l=a(4203);f=a(22674);k=a(87386);d=a(81918);g=a(5021);m=a(17398);h=a(72639);n=a(50323);p=a(49745);q=a(24735);c.prototype.fetch=function(u,t){var v,w;this.log.trace("Fetching manifest",(0,n.LI)(u));w=u.ub;this.config.Zrb && w && w.W && !this.Lh.i6(u.P) && (!(("clientGenesis" in w.W) && w.W.clientGenesis) || "number" === typeof w.W.clientGenesis && Date.now() - w.W.clientGenesis < this.config.q9a) && (w=this.lV.create(w.W)) && (w.qH=this.Sf.Ib().ca(g.pa),w.BN=this.Sf.Ib().ca(g.pa),this.Lh.JX(u.P,w));return this.Lh.fy({ma:t.S3(u.P),J:u.P,bb:null !== (v=u.ub) && void 0 !== v?v:{},Uq:h.ql.cJ,ff:q.yh.xn},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.P,W:y});});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ab)),r.__param(1,(0,f.l)(l.Xb)),r.__param(2,(0,f.l)(m.VI)),r.__param(3,(0,f.l)(d.Lc)),r.__param(4,(0,f.l)(p.AD))],a);b.MHa=a;},37780:function(r,b,a){var l,f,k;function c(d,g){this.zb=g;this.la=d.$a("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(42207);c.prototype.ZCb=function(d){var g;g=this;try{return {direction:d.direction,Dgc:d.layoutHasChanged,eic:d.rowInteractionIndex,Jb:d.lolomos.map(function(m){return g.UCb(m);})};}catch(m){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.UCb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(m){return g.TCb(m);}),requestId:d.requestId,rowIndex:d.rowIndex,fic:d.rowSegment};};c.prototype.TCb=function(d){var g,m;g={we:d.pts,property:d.property,J:d.viewableId,index:d.index};m=d.preplay;this.zb.qg(m) && (g.C9=this.YCb(m));d=d.params;this.zb.qg(d) && (g.ub=this.ZWa(d));return g;};c.prototype.YCb=function(d){var g;g={we:d.pts,J:d.viewableId,bN:d.pipelineNum,index:d.index};d=d.params;this.zb.qg(d) && (g.ub=this.ZWa(d));return g;};c.prototype.ZWa=function(d){return {zd:d.uiLabel,Pj:d.trackingId,cm:d.sessionParams};};c.prototype.XCb=function(d){var g;g=this;try{return d.map(function(m){return g.VCb(m);});}catch(m){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.VCb=function(d){var g,m;m=d.params;this.zb.qg(m) && (g=this.WCb(m));return {P:d.movieId,priority:d.priority,force:d.force,ub:g,zd:d.uiLabel,mjc:d.uiExpectedStartTime,ljc:d.uiExpectedEndTime,Qk:d.firstTimeAdded};};c.prototype.WCb=function(d){var g,m;g=void 0;m=d.sessionParams;this.zb.qg(m) && (g=m);return {W2:this.SCb(d.authParams),cm:g,Pj:d.trackingId,fb:d.startPts,W:d.manifest,rg:d.isBranching};};c.prototype.SCb=function(d){return {LWb:null === d || void 0 === d?void 0:d.pinCapableClient};};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.Qf))],k);b.IKa=k;},59315:function(r,b,a){var l,f,k,d;function c(g,m){this.Zl=g;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Fea=b.CLa=void 0;r=a(5163);l=a(22674);f=a(75864);k=a(50954);a=a(4203);c.prototype.s5a=function(g){var m,h;m=this;if(g.Ad.key.ea)return Promise.resolve(g.Ad.key.ea);h=g.Ad.key.J;return g.Ad.Le.Tm(h).iq.then(function(n){n=n.W;return n.vp?(0,k.r3)(n.vp,{config:m.config()}):(0,k.W$)(h,m.Zl.Vq(h));});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.gJ)),r.__param(1,(0,l.l)(a.Xb))],d);b.CLa=d;b.Fea="PlaygraphResolverSymbol";},50323:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LI=void 0;b.LI=function(){return "";};},79538:function(r,b,a){var l,f;function c(k,d,g,m,h,n,p,q){this.type=k;this.Qn=d;this.HWb=void 0 === g?!1:g;this.notify=h;this.hGb=n;this.hN=p;this.bd=q;this.id=++f;this.status=l.ej.Qn;}Object.defineProperty(b,"__esModule",{value:!0});b.jQ=void 0;l=a(32573);f=0;c.prototype.ht=function(){var k;k={id:this.id,type:this.type,created:this.Qn,status:this.status,movieId:this.P};this.startTime && (k.startTime=this.startTime);this.endTime && this.startTime && (k.duration=this.endTime - this.startTime,k.endTime=this.endTime);return k;};c.prototype.KM=function(k){this.notify && this.notify(k);};c.prototype.G0b=function(){return this.hGb.fetch(this.hN,this.bd);};Ya.Object.defineProperties(c.prototype,{P:{configurable:!0,enumerable:!0,get:function(){return this.hN.P;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.hN.priority;}}});b.jQ=c;},12849:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,v,w){this.is=v;this.Sf=w;this.log=u.$a("TaskScheduler");this.Hb=new p.Tj();this.config=t();this.currentIteration=this.FS=0;this.YH=[];this.paused=!1;this.daa=[];this.jVa=[];this.eOb=this.config.UXb || q.append;this.addEventListener=this.Hb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;r=a(5163);l=a(22674);f=a(87657);k=a(87386);d=a(4203);g=a(32573);m=a(42207);h=a(81918);n=a(5021);p=a(94886);(function(u){u.prepend="prepend";u.append="append";u.mNb="ignore";})(q || (q={}));c.prototype.Vsb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.YH=this.fOb(u);this.FS=0;this.currentIteration+=1;this.Df();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Df=function(){var u,t,v,w;u=this;if(this.FS === this.YH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.FS,numberOfTasks:this.YH.length});else {t=this.oKb();v=this.currentIteration;t.startTime=this.Sf.Ib().ca(n.pa);t.status=g.ej.kw;this.Hb.Dc(f.hJ.l5b,{P:t.P,type:t.type});this.daa.push(t);w=function(y){t.endTime=u.Sf.Ib().ca(n.pa);y();u.jVa.push(t);u.daa.splice(u.daa.indexOf(t),1);u.currentIteration === v && (u.FS++,u.Df());};t.G0b().then(function(){w(function(){t.status=g.ej.lO;u.Aua(t,f.hJ.m5b,"task succeeded");});}).catch(function(y){w(function(){0 <= [g.ej.Qd,g.ej.dUa,g.ej.rja].indexOf(y.status)?(t.status=y.status,u.Aua(t,f.hJ.j5b,"cancelled task")):(t.status=g.ej.Tq,u.Aua(t,f.hJ.k5b,"task failed",y));});});}};c.prototype.oKb=function(){return this.YH[this.FS];};c.prototype.getStats=function(u,t,v){var w,y,x,z;w=this.jVa.map(function(A){return A.ht();});y=this.daa.map(function(A){return A.ht();});x=this.is.qg(u) && this.is.qg(t);z={};if(this.is.qg(v))return (z.kyb=w.filter(function(A){return A.movieId === v;}),z);w.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.ej.kw?A.startTime:A.endTime;x && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.Aua=function(u,t,v,w){var y;y=u.ht();w?this.log.warn(v,y,w):this.log.trace(v,y);this.Hb.Dc(t,{P:u.P,type:u.type,reason:u.status});u.KM(y);};c.prototype.fOb=function(u){var t,v;t=this.YH.filter(function(w){return w.HWb && w.status === g.ej.Qn;});v=this.eOb;return v === q.mNb?[].concat(u):v === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(d.Xb)),r.__param(2,(0,l.l)(m.Qf)),r.__param(3,(0,l.l)(h.Lc))],a);b.RLa=a;},37991:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wMa=void 0;a.prototype.mja=function(c,l){var f;c=l(c);null === (f=c.el) || void 0 === f?void 0:f.forEach(function(k){k.Zcb.video.push({ZTa:!1,xj:function(d){return d.filter(function(g){return !g.ii || 1080 >= g.$W;});}});});return c;};b.wMa=a;},85671:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,C,D,F,G,E,H,M){this.e9b=A;this.zb=B;this.Sf=C;this.pc=D;this.RYa=F;this.fGb=G;this.gGb=E;this.W4=H;this.events=new y.EventEmitter();this.log=x.$a("VideoPreparer");this.config=z();this.qza={};this.q8={};this.Kf={num_of_calls:0,num_of_movies:0};this.W4.Bb(this);this.kg=M.kg;}function l(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.GOa=void 0;r=a(5163);f=a(79538);k=a(4203);d=a(22674);g=a(87386);m=a(62665);h=a(42207);n=a(87657);p=a(81918);q=a(5021);u=a(32573);t=a(18148);v=a(32737);w=a(67590);y=a(57055);c.prototype.tbb=function(x,z,A){this.kg.setData(x,"ldl",z,A);};c.prototype.v1a=function(x){return this.kg.iU(x,"ldl");};c.prototype.GUa=function(x){this.kg.clearData(x,"ldl",void 0,!0);};c.prototype.sL=function(x,z){return this.kg.getData(x,z);};c.prototype.e_a=function(x){var z;z=this.kg.getData(x,"ldl");this.kg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.eza=function(x){return this.Mcb === x || this.lWa === x;};c.prototype.bH=function(x,z){var A,B,C;A=this;x=x.map(function(D){D.ub=D.ub || ({W2:{LWb:!1},Pj:0});A.zb.hF(D.ub.Pj) || (D.ub.Pj=0);A.zb.hF(D.we) && (D.ub.fb=D.we);return D;});B=x.map(function(D){return A.qBb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);C=B.map(function(D){return D.P + "-" + D.type;});this.log.trace("prepare tasks",C);this.pc.Vsb(B);this.Kf.num_of_calls++;this.Kf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.q8[A] || ({})),{YH:this.pc.getStats(x,z,A),cache:this.kg.getStats(x,z),MHb:Object.assign(Object.assign({},this.Kf),this.W4.getStats())});};c.prototype.oMb=function(x){this.Mcb=x;};c.prototype.mMb=function(x){this.log.trace("task scheduler paused on playback created");this.pc.pause();this.config.NCb && this.kg.Mja(x,["manifest"]);this.config.MCb && this.kg.Mja(x,["ldl"]);this.config.KCb && this.kg.clearData(x,"manifest");this.W4.J$a(x);this.lWa=x;};c.prototype.q1a=function(){this.log.info("ad played, clearing all manifests from cache");this.rZa();};c.prototype.r1a=function(){this.log.info("track changed, clearing all manifests from cache");this.rZa();};c.prototype.lMb=function(x){var z;z=this;this.config.LCb?this.kg.clearData(x,"manifest"):this.kg.iU(x,"manifest") && this.kg.getData(x,"manifest").then(function(A){A.Fa.isSupplemental || z.kg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.Qja(x);this.Mcb=this.lWa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.rZa=function(){this.kg.Mja("none",["manifest","ldl"]);};c.prototype.Qja=function(x){delete this.qza[x];};c.prototype.kt=function(x){return this.qza[x];};c.prototype.S3=function(x){return this.qza[x]=this.e9b.SA();};c.prototype.gcb=function(x,z){if(this.v1a(x))return u.ej.Qd;if(!z.AB)return u.ej.rja;};c.prototype.qBb=function(x,z){var A,B;x.zd && x.ub && (x.ub.zd=x.zd);this.w7b(x.P,x.Qk);A=this.YAb(x,z);B=this.UAb(x,null === A || void 0 === A?void 0:A.id,z);x=this.aBb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(l);};c.prototype.YAb=function(x,z){if(this.kg.iU(x.P,"manifest"))this.log.trace("manifest exists in cache for " + x.P);else return new f.jQ("manifest",this.Sf.Ib().ca(q.pa),!!x.ub.cwa,void 0,z,this.RYa,x,this);};c.prototype.UAb=function(x,z,A){if(this.config.aT)if(this.kg.iU(x.P,"ldl"))!1;else return this.config.Rr?new f.jQ("ldl",this.Sf.Ib().ca(q.pa),!!x.ub.cwa,z,A,this.fGb,x,this):new f.jQ("ldl",this.Sf.Ib().ca(q.pa),!!x.ub.cwa,z,A,this.gGb,x,this);};c.prototype.aBb=function(x,z,A){if(this.config.dYa)return new f.jQ("getMedia",this.Sf.Ib().ca(q.pa),!!x.ub.cwa,z,A,this.W4,x,this);};c.prototype.w7b=function(x,z){this.q8[x] || (this.q8[x]={z9:0,Qk:0});x=this.q8[x];x.z9=(void 0 !== x?void 0 !== x.z9?x.z9:0:0) + 1;x.Qk=z;};a=c;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.ab)),r.__param(1,(0,d.l)(k.Xb)),r.__param(2,(0,d.l)(m.Mw)),r.__param(3,(0,d.l)(h.Qf)),r.__param(4,(0,d.l)(p.Lc)),r.__param(5,(0,d.l)(n.Hea)),r.__param(6,(0,d.l)(v.QLa)),r.__param(7,(0,d.l)(v.PLa)),r.__param(8,(0,d.l)(v.OLa)),r.__param(9,(0,d.l)(w.Iba)),r.__param(10,(0,d.l)(t.Yba))],a);b.GOa=a;},36149:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Xfb=void 0;r=a(22674);c=a(58872);l=a(52357);b.Xfb=new r.dd(function(f){f(c.EOa).to(l.DOa).ga();});},58872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EOa="VideoPlayerFactorySymbol";},85001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ac=b.gb=b.nf=b.Vb=b.$Y=b.ha=b.bda=b.HD=b.Ka=void 0;(function(c){c.S4a="loadedtracks";c.R4a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Rn="currenttimechanged";c.Seb="unthrottledcurrenttimechanged";c.g3="bufferedtimechanged";c.xla="durationchanged";c.dza="videosizechanged";c.y8a="pausedchanged";c.iua="playingchanged";c.mYa="endedchanged";c.lK="busychanged";c.U2="audiotracklistchanged";c.Cl="audiotrackchanged";c.bu="timedtexttracklistchanged";c.kl="timedtexttrackchanged";c.mY="trickplayframeschanged";c.M6a="mutedchanged";c.egb="volumechanged";c.bxa="showsubtitle";c.lva="removesubtitle";c.Q8b="watermark";c.dqa="isReadyToTransition";c.QL="inactivated";c.S2a="internalPlaybackError";c.l1b="segmentmaploaded";c.m1b="segmentpresenting";c.gTa="autoplaywasallowed";c.X2="autoplaywasblocked";c.ltb="adsstatechanged";c.VB="livestatechanged";})(b.Ka || (b.Ka={}));(b.HD || (b.HD={})).mX="playgraphsegmenttransition";b.bda=a;a.mbb="serverTimeChanged";(function(c){c.IE="aseReport";c.D7="liveReport";c.C7="livePipelineFailover";c.Eia="autoplayWasAllowed";c.Dh="autoplayWasBlocked";c.Cx="bufferUnderrun";c.closed="closed";c.ng="closing";c.Rn="currentTimeChanged";c.nF="downloadComplete";c.QL="inactivated";c.z4a="licenseAdded";c.YU="licensed";c.cV="locationSelected";c.pra="manifestClosing";c.zG="manifestPresenting";c.T7="mediaBufferChanged";c.y8="nextBranchingSegmentChosen";c.It="playbackStart";c.$k="playbackReady";c.Ej="repositioned";c.BC="repositioning";c.Kab="safePlayRequested";c.yH="segmentPresenting";c.pX="serverSwitch";c.jcb="shouldUpdateVideoDiagInfo";c.kO="subtitleError";c.Uxa="throttledMediaTimeChanged";c.Teb="unthrottledMediaTimeChanged";c.qO="timedTextRebuffer";c.bu="timedTextTrackListChanged";c.mY="trickPlayFramesChanged";c.Jya="updateNextBranchingSegmentWeights";c.Kfb="userInitiatedPause";c.Lfb="userInitiatedResume";c.reb="tracksHydrated";c.VB="livestatechanged";})(b.ha || (b.ha={}));(b.$Y || (b.$Y={})).yA="adBreakComplete";(function(c){c[c.ZI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.$d=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Vb || (b.Vb={}));(function(c){c[c.$d=1]="NORMAL";c[c.Me=2]="BUFFERING";c[c.CMa=3]="STALLED";})(b.nf || (b.nf={}));(function(c){c[c.zf=1]="WAITING";c[c.ke=2]="PLAYING";c[c.Rh=3]="PAUSED";c[c.nq=4]="ENDED";})(b.gb || (b.gb={}));(function(c){c[c.$r=0]="INITIAL";c[c.Zw=1]="SEEK";c[c.GP=2]="LIVE_EDGE";c[c.qQ=3]="TRACK_CHANGED";c[c.kJ=4]="SEGMENT_CHANGED";c[c.UZ=5]="FORCE_REBUFFER";c[c.rP=6]="FRAGMENTS_MISSING";})(b.Ac || (b.Ac={}));},91122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cCa="CdnPartitionerSymbol";},75950:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.V1a=void 0;r=a(22674);c=a(70673);l=a(78033);f=a(23002);k=a(487);d=a(77764);g=a(23179);m=a(52794);h=a(52961);n=a(44376);p=a(15850);q=a(47500);u=a(68272);t=a(10242);v=a(78029);w=a(62553);y=a(91122);x=a(12394);z=a(20034);A=a(91825);B=a(27134);b.V1a=new r.dd(function(C){C(c.mFa).to(l.lFa).ga();C(f.qFa).to(k.pFa).ga();C(d.ZEa).to(g.YEa).ga();C(m.aFa).to(h.$Ea).ga();C(y.cCa).to(x.bCa).ga();C(n.lLa).to(p.kLa).ga();C(q.ifa).to(u.wNa);C(t.KP).to(z.JP);C(A.NP).to(B.MP);C(v.Qca).to(w.tFa);});},78029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qca="HLSConfigSymbol";},77764:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZEa="HLSPlaylistBuilderSymbol";},52794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aFa="HLSPlaylistTransformerSymbol";},70673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mFa="HeaderFetcherSymbol";},23002:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qFa="HLSHeaderParserFactorySymbol";},10242:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rac="LogblobBuilderSymbol";b.KP="HLSLogblobBuilderFactorySymbol";},91825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NP="HLSLogblobMonitorFactorySymbol";},44376:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lLa="PlayerPlaydataMonitorSymbol";},47500:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ifa="StreamChangeDetectorSymbol";},12394:function(r,b,a){var l,f;function c(k){this.la=k.$a("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.bCa=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.BIb=function(k){var g,m,h,n,p,q,u;function d(t,v,w){var y,x,z;y=t.map(function(A){return A.yg;});y.sort(function(A,B){return v[A] - v[B];});if(1 === y.length)(!1,h.set(w,{kN:t[0],w$:t[0]}));else {x=y.find(function(A){return g.has(A);});x || ((x=y.find(function(A){return !m.has(A);}))?g.add(x):(x=y[0],!1));z=y.find(function(A){return m.has(A) && A !== x;});z || ((z=y.find(function(A){return !g.has(A) && A !== x;}))?m.add(z):(z=y.find(function(A){return A !== x;}),!1));h.set(w,{kN:t.find(function(A){return A.yg === x;}),w$:t.find(function(A){return A.yg === z;})});}}g=new Set();m=new Set();h=new Map();n=k.video;p=k.audio;q=k.text;u=k.qk.reduce(function(t,v){t[v.id]=v.bc;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,u,t.Nm);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Nm);});q.forEach(function(t){var v,w;if(!t.track.ut || t.track.T6){v=t.stream;t=t.id;w=v.urls.reduce(function(y,x,z){y[x.yg]=z + 1;return y;},{});d(v.urls,w,t);}});return h;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ab))],f);b.bCa=f;},62553:function(r,b,a){var l,f,k,d;function c(g){return f.Ne.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);a=a(12501);fa(c,f.Ne);Ya.Object.defineProperties(c.prototype,{f9a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Kv:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},Iy:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},W1a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Ct:{configurable:!0,enumerable:!0,get:function(){return 80;}}});d=c;r.__decorate([a.config(a.ed,"playsInline")],d.prototype,"f9a",null);r.__decorate([a.config(a.IB,"minAudioMediaRequestDuration")],d.prototype,"Kv",null);r.__decorate([a.config(a.IB,"minVideoMediaRequestDuration")],d.prototype,"Iy",null);r.__decorate([a.config(a.IB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"W1a",null);r.__decorate([a.config(a.IB,"minStartingVideoVMAF")],d.prototype,"Ct",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl))],d);b.tFa=d;},23179:function(r,b,a){var d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z){this.LS=z;this.Ud=x.filter(function(A){return A.vya[p.um.c1];}).map(function(A){return {track:A,stream:A.vya[p.um.c1],id:A.yXa[p.um.c1]};});}function l(x,z,A){var B;this.WH=z;this.Ct=A;B=x[0];this.kY=B.streams.map(function(C){return {track:B,kU:C.Dcb,stream:C};});}function f(x,z,A,B){function C(D,F){return D.bitrate > F.bitrate?D:F;}this.log=x;this.WH=A;this.LS=B;this.kY=z.map(function(D){var F;F=D.streams.reduce(C);return {track:D,kU:F.sk?F.sk.offset + F.sk.size:void 0,stream:F};});}function k(x,z,A,B,C,D){this.MMb=x;this.NMb=z;this.tXb=A;this.Pwb=B;this.mU=C;this.yf=D;this.la=D.$a("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$nb=b.hob=b.ohb=b.YEa=void 0;r=a(5163);d=a(22674);g=a(70673);m=a(23002);h=a(36129);n=a(31149);p=a(75568);q=a(52794);u=a(91122);t=a(78029);v=a(87386);w=a(79542);y=a(60328);k.prototype.Lg=function(x,z){var A,B,C,D,F,G;A=this;D=x.Fa;x=this.jIb(D,z);F=this.TLb(D,z);G=null !== (C=null === (B=D.KW) || void 0 === B?void 0:B.sO) && void 0 !== C?C:D.dI.find(function(E){var H;return E.id === (null === (H=D.d4) || void 0 === H?void 0:H[0].ndb);}).Xf;B=new c(D.dI,G);return Promise.all([x,F,B]).then(function(E){var H,M;H=la(E);E=H.next().value;M=H.next().value;H=H.next().value;E={audio:E.getMetadata(),video:M.getMetadata(),text:H.getMetadata(),LWa:E.una(),rCb:H.una(),duration:D.duration,qk:D.qk};M=A.Pwb.BIb(E);z("h_s");return {BRb:A.tXb.transform(E,M),Swb:M,l4b:E};});};k.prototype.TLb=function(x,z){var A;A=new l(x.hu,this.mU.W1a,this.mU.Ct);return this.sXa(A.kY,y.u.X,z).then(function(B){A.Gwa(B);return A;});};k.prototype.jIb=function(x,z){var A,B,C,D;C=null !== (B=null === (A=x.KW) || void 0 === A?void 0:A.op) && void 0 !== B?B:x.Ks.find(function(F){var G;return F.id === (null === (G=x.d4) || void 0 === G?void 0:G[0].op);}).Xf;D=new f(this.la,x.Ks,this.mU.Kv,C);return this.sXa(D.kY,y.u.fa,z).then(function(F){D.Gwa(F);return D;});};k.prototype.Cta=function(x,z,A,B){if(x=this.NMb.parse(z,x,A))return x;this.la.error("Failed to parse headers",{type:z === y.u.fa?"audio":"video",downloadableId:B.stream.Nm});};k.prototype.sXa=function(x,z,A){var B;B=this;return Promise.all(x.map(function(C,D){if(C.kU)return B.MMb.download({urls:C.stream.urls,offset:0,length:C.kU}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.Cta(F,z,z == y.u.fa?B.mU.Kv:B.mU.Iy,C);}).catch(function(){A("h_" + C.track.wh[0] + "_" + D + "_f");B.la.warn("Failed to download and parse headers for " + C.stream.Nm);});B.la.warn("Stream data offset is missing",{downloadableId:C.stream.Nm});}));};a=k;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.mFa)),r.__param(1,(0,d.l)(m.qFa)),r.__param(2,(0,d.l)(q.aFa)),r.__param(3,(0,d.l)(u.cCa)),r.__param(4,(0,d.l)(t.Qca)),r.__param(5,(0,d.l)(v.ab))],a);b.YEa=a;f.prototype.Gwa=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw n.Mc.rgb(h.U.WFa,h.S.Bda);this.Ud=this.kY.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,La:B,WH:z.WH};}).filter(w.aqa);};f.prototype.getMetadata=function(){return this.Ud;};f.prototype.una=function(){var x,z;x=this;if(!this.Ud.find(function(A){return A.track.Xf === x.LS;}) && 0 < this.Ud.length){z=this.Ud[0].track.Xf;this.log.warn("Did not find metadata for audio track " + this.LS + ", falling back to " + z);return z;}return this.LS;};b.ohb=f;l.prototype.Gwa=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw n.Mc.rgb(h.U.WFa,h.S.Cda);A=this.kY.map(function(B,C){if(C=x[C])return {track:B.track,stream:B.stream,La:C,WH:z.WH};}).filter(w.aqa);this.Ud=this.wKb(A);};l.prototype.getMetadata=function(){return this.Ud;};l.prototype.wKb=function(x){var z,A,B;z=this;x.sort(function(C){return C.stream.bitrate;});A=x.findIndex(function(C){var D;return (null !== (D=C.stream.Cb) && void 0 !== D?D:0) >= z.Ct;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.hob=l;c.prototype.una=function(){return this.LS;};c.prototype.getMetadata=function(){return this.Ud;};b.$nb=c;},52961:function(r,b,a){var l,f,k,d,g,m;function c(h){this.la=h.$a("HLSPlaylistTransformerImpl");this.z8b=d.KZ.Oq();this.Hub=g.rca.Oq();}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(35128);d=a(48617);g=a(12187);m=[0,1];c.prototype.transform=function(h,n){var p,q,u,t,v,w,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=h.text;t=h.audio;v=h.video;w=h.duration;y=h.LWa;x=h.rCb;u.forEach(function(A){m.forEach(function(B){var C,D,F,G;C=0 === B;D=A.stream;F=A.track;G=n.get(A.id);C=C?G.kN:G.w$;D=p.DLb({url:C.url,duration:w / 1E3,size:D.size,Hl:"Manifest for subtitles " + F.language + ' stream "' + F.RB + '", ' + F.Xf + ", cdn " + C.yg});p.la.trace("Text variant manifest",D.join("\n"));B=p.ELb({groupId:B,name:F.RB,Npa:F.Xf === x,dn:F.T6,uOb:F.wh === k.Oo.oba,language:F.language,uri:p.I7(D)});q.push(B);});});t.forEach(function(A){m.forEach(function(B){var C,D,F,G,E,H;C=0 === B;D=A.stream;F=A.track;G=A.La;E=A.WH;H=n.get(D.Nm);C=C?H.kN:H.w$;D=p.l0a({url:C.url,kU:D.sk.offset + D.sk.size,La:G,Edb:Math.floor(E / 1E3),Hl:"Manifest for audio " + F.language + ' stream "' + F.RB + '", ' + F.Xf + ", cdn " + C.yg});p.la.trace("Audio variant manifest",D.join("\n"));B=p.kIb({groupId:B,language:F.language,name:F.RB,Npa:F.Xf === y,uri:p.I7(D)});q.push(B);});});z=this.Hub[t[0].track.profile];v.forEach(function(A){m.forEach(function(B){var C,D,F,G,E,H;C=0 === B;D=A.stream;F=A.track;G=A.La;E=A.WH;H=n.get(D.Nm);H=C?H.kN:H.w$;C=0 < u.length;F=p.l0a({url:H.url,kU:D.sk?D.sk.offset + D.sk.size:D.Dcb,La:G,Edb:Math.floor(E / 1E3),Hl:"Manifest for video bitrate " + D.bitrate + ", stream " + F.Xf + ", cdn " + H.yg});p.la.trace("Video variant manifest",F.join("\n"));B=p.ULb({groupId:B,gS:1E3 * D.bitrate,Vub:1E3 * D.bitrate,aPb:0 <= D.QA.indexOf("-hdr-") || 0 <= D.QA.indexOf("-dv5-"),framerate:(D.DZa / D.CZa).toFixed(3),lk:D.Hva + "x" + D.lab,s8b:p.z8b[D.QA],xub:z,s5b:C});q.push(B);B=p.I7(F);q.push("" + B);});});this.la.trace("Primary manifest",q.join("\n"));return this.I7(q);};c.prototype.kIb=function(h){var n;n=h.Npa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + h.groupId + '"','CHANNELS="2"','LANGUAGE="' + h.language + '"','NAME="' + h.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + h.uri + '"'].join(", ");};c.prototype.l0a=function(h){var n,p;n=h.La;p=["#EXTM3U","# " + h.Hl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + h.Edb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + n[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];n.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.fb.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.Vvb + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.ULb=function(h){var n,p;n=h.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + h.gS,"AVERAGE-BANDWIDTH=" + h.Vub,"VIDEO-RANGE=" + (h.aPb?"PQ":"SDR"),"FRAME-RATE=" + h.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + h.lk,'CODECS="' + h.s8b + "," + h.xub + '"'];h.s5b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.DLb=function(h){var n;n=h.duration;return ["#EXTM3U","# " + h.Hl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + h.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.ELb=function(h){var n,p,q;n=h.Npa;p=h.language;q=h.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + h.groupId + '"','NAME="' + h.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (h.dn?"YES":"NO")];h.uOb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.I7=function(h){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(h.join("\n"));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab))],a);b.$Ea=a;},78033:function(r,b,a){var l,f,k,d;function c(g,m){this.aNb=g;this.log=m.$a("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(2571);d=a(32934);c.prototype.download=function(g){var h,n,p,q,u;function m(t){if(u < n.length - 1)return (!1,u++,h.uXa(n[u].url,p,q).catch(m));throw t;}h=this;n=g.urls;p=g.offset;q=g.length;u=0;return this.uXa(n[u].url,p,q).catch(m);};c.prototype.uXa=function(g,m,h){return this.aNb.download({url:g,withCredentials:!1,responseType:d.ResponseType.Hhb,ZA:"hls_headers",Qr:!0,offset:m,length:h,Gr:d.aQ},{U5a:1});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wFa)),r.__param(1,(0,l.l)(f.ab))],a);b.lFa=a;},487:function(r,b,a){var l,f,k;function c(d){this.la=d.$a("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;r=a(5163);l=a(22674);f=a(36418);a=a(87386);c.prototype.parse=function(d,g,m){d=new f.pq(this.la,{mediaType:d},g,["sidx"]).parse();if(d.Qv && d.La)return this.Yha(d.La,m);};c.prototype.Yha=function(d,g){var m,h,n,p,q;m=0;h=0;n=0;p=d.offset;q=[];d.bf.forEach(function(u,t){h+=u;n+=d.sizes[t];if(1E3 * h / d.N >= g || t === d.bf.length - 1)(q.push({duration:h / d.N,fb:m / d.N,byteOffset:p,Vvb:n}),m+=h,h=0,p+=n,n=0);});return q;};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ab))],k);b.pFa=k;},20034:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t){this.yf=n;this.zy=p;this.Ff=q;this.uc=u;this.Ea=t;}Object.defineProperty(b,"__esModule",{value:!0});b.JP=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(45118);g=a(98326);m=a(31850);h=a(97444);c.prototype.create=function(n){return new h.LP(this.yf,this.zy,this.Ff,this.Ea,this.uc,n);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(m.Nw)),r.__param(2,(0,l.l)(d.pl)),r.__param(3,(0,l.l)(g.qda)),r.__param(4,(0,l.l)(f.Lc))],a);b.JP=a;},97444:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t,v){var w;w=this;this.zy=p;this.Ff=q;this.Ea=u;this.uc=t;this.Sra=this.JB=this.SW=0;this.rG=!1;this.Hy=function(){var y;y=w.qW();y.prstate=w.gy();y.paustate=w.j.xt();y.midplayseq=w.Sra++;w.uc.SL(y);w.vc(l.Gc.Hy,void 0,h.Od | h.js,y);};this.Dh=function(){w.vc(l.Gc.xTa,void 0,h.Od | h.Jo,{});};this.kl=function(y){w.xqa=w.getTime();w.yqa=y.oldValue;};this.bS=function(y){w.qqa=y.oldValue;};this.j9=function(y){y != w.rG && (w.uxa(w.rG,y),w.rG=y);};this.uxa=function(y,x){var z;z=w.j.Da;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};w.uc.Ip(y,z.Wd.value && z.Wd.value.stream,z.hf.value && z.hf.value.stream);w.vc(l.Gc.GX,void 0,h.Od,y);};this.BX=function(y){w.vc(l.Gc.Bcb,void 0,h.Od,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.mz=function(y){var x,z,A;x=w.j.Da;z=x.Mb.value;if(y.newValue || z && z.co() && !z.dn()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.re,downloadableId:y.Ub,rank:y.bc,isImageBased:y.fk}:{};y=(y=w.yqa)?{trackId:y.trackId,bcp47:y.re,downloadableId:y.Ub,rank:y.bc,isImageBased:y.fk}:{};A={switchdelay:(0,f.Vf)(w.getTime() - w.xqa),track:A,oldtrack:y};w.uc.Ip(A,x.Wd.value && x.Wd.value.stream,x.hf.value && x.hf.value.stream);w.vc(l.Gc.$db,void 0,h.Od,A);}};this.Uta=function(y,x){var z;z=w.j.Da;y={waittime:(0,f.Vf)(y),abortedevent:"resumeplay",resumeplayreason:x};w.uc.Ip(y,z.Ke.value,z.Kg.value);w.vc(l.Gc.dN,void 0,h.Od | h.Jo,y);};this.Tt=function(y,x,z){var A;A=z.Pva;z=z.aab;y={playdelay:(0,f.Vf)(y),reason:A,intrplayseq:w.JB - 1,skipped:x};"repos" === A && (y.prstate=!0 === w.j.Ai.value?"playing":"paused",z === g.Ac.rP && (y.repos_reason="missing_segments"));w.vc(l.Gc.Tt,void 0,h.Od | h.tq,y);};this.Cia=function(){var y,x,z,A;x=w.j.Da.qc.value;z=w.j.Da.Kg.value.Ub;x=x?{trackId:x.trackId,bcp47:x.re,downloadableId:z,rank:x.bc,chan:x.channels}:{};z=w.uy;A=null === (y=w.qqa) || void 0 === y?void 0:y.Ub;y=z?{trackId:z.trackId,bcp47:z.re,downloadableId:A,rank:z.bc,chan:z.channels}:{};w.vc(l.Gc.cTa,void 0,h.Od,{switchdelay:(0,f.Vf)(w.getTime() - w.rqa),track:x,oldtrack:y});};this.Cl=function(y){w.rqa=w.getTime();w.uy=y.oldValue;};this.Vta=function(){var y,x,z;y=w.j.Da;x={abortedevent:"startplay",trackid:y.Pj,prstate:w.gy(),paustate:w.j.xt()};try{z=(0,k.RF)();z && (x.pdltime=z);(0,f.Vd)(x,y.Xc,{prefix:"sm_"});}catch(A){}w.uc.z6(x,y);w.uc.TL(x,!1,y.Fg.value,y);w.uc.Ip(x,y.Ke.value,y.Kg.value);w.bG(x);w.vc(l.Gc.dN,void 0,h.Od | h.js | h.Jo,x);};this.Hx=function(y,x,z,A){y={moff:(0,f.Ml)(z),moffms:(0,f.Vf)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Ub,vdlidold:y.Ub,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};w.vc(l.Gc.Hx,void 0,0,y);};this.AC=function(y,x,z){y={moffold:(0,f.Ml)(y),reposseq:w.SW++,prstate:w.gy(),paustate:w.j.xt()};w.uc.Ip(y,z && z.stream,x && x.stream);w.vc(l.Gc.AC,void 0,h.Od,y);};this.Lr=function(y){var x,z,A,B,C;B=y.Da;C={playdelaysdk:(0,f.Vf)(w.j.nS()),applicationPlaydelay:(0,f.Vf)(w.j.kja()),playdelay:(0,f.Vf)(w.j.lja()),trackid:B.Pj,bookmark:(0,f.Vf)(B.Dl || 0),pbnum:B.index};w.j.Dh && (C.blocked=w.j.Dh);C.initvbitrate=w.j.wU;w.uc.ppa(C);w.uc.m2a(C);C.esnSource=null === (x=ob._cad_global.device) || void 0 === x?void 0:x.K4;w.t2a(C,B);C.pdltime=(0,k.RF)();(0,f.Vd)(C,B.Xc,{prefix:"sm_"});C.ttTrackFields=null === (z=B.Mb.value) || void 0 === z?void 0:z.tg;w.uc.i2a(C,B.qc.value,B);w.uc.TL(C,!0,B.Fg.value,B);C.packageId=null === (A=B.W) || void 0 === A?void 0:A.Fa.nn;w.uc.SL(C);w.uc.z6(C,B);w.bG(C);w.vc(l.Gc.Lr,y.kh,h.Od | h.tq | h.js | h.kD | h.Jo,C);};this.Yx=function(){var y,x,z;y=w.j;x=y.Da;y=y.kh;z=w.qW();z.paustate=!w.j.NB();z.muted=w.j.Upa();z.endreason=y?"error":w.j.Ppa()?"ended":"stopped";w.uc.TL(z,!1,x.Fg.value,x);w.uc.SL(z);w.bG(z);w.vc(l.Gc.Yx,y,h.Od | h.tq | h.js | h.kD | h.Jo,z);};this.ova=function(y,x,z){var A;A=w.j.Da.hf;y={moff:(0,f.Ml)(z),moffms:(0,f.Vf)(z),vdlidold:y.Ub,vbitrateold:y.bitrate};w.uc.Ip(y,x,A.value && A.value.stream);w.vc(l.Gc.PW,void 0,0,y);};this.gy=function(){var y;y=w.j.sb.value;return y === g.gb.ke?"playing":y === g.gb.Rh?"paused":y === g.gb.nq?"ended":"waiting";};this.la=n.$a("LogblobBuilderImpl");this.j=v;}Object.defineProperty(b,"__esModule",{value:!0});b.LP=void 0;l=a(18169);f=a(3887);k=a(52569);d=a(36129);g=a(85001);m=a(5021);c.prototype.getTime=function(){return this.Ea.Ib().ca(m.pa);};c.prototype.moa=function(){return this.getTime() - this.j.Da.Mh.ca(m.pa);};c.prototype.t2a=function(n,p){var q;if(p=null === (q=p.Fg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,k.VO)(p.map(function(u){return u.bitrate;})),n.maxresheight=(0,k.VO)(p.map(function(u){return u.height;})));};c.prototype.bG=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.qW=function(){var n,p,q,u;n=this.j.Da;p=n.Zk;q={totaltime:(0,f.Ml)(p.Fp()),totalcontenttime:(0,f.Ml)(p.cU()),reposcount:this.SW,intrplaycount:this.JB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=n.Ke.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.jna()) && (q.abrdel=u);(u=p.r6() && p.XZa()) && (q.tw_vmaf=u);(p=p.VZa()) && (0,f.Vd)(q,p);q.rbfrs=this.JB;this.t2a(q,n);return q;};c.prototype.vc=function(n,p,q,u){var t,v,w;t=this;p && (0,d.RZ)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.Aa,this.moa(),void 0) && (v="info");w=this.j.Da;this.Eha(u,p,q);p=v || (p?"error":"info");u=this.zy.Rs(n,p,u,w);this.Ff.vc(u);"error" !== p && n !== l.Gc.Yx || this.Ff.flush(!1).catch(function(){t.la.debug("Failed to flush the logblobs");});};c.prototype.Eha=function(n,p,q){var u;u=this.j.Da;this.uc.l2a(n,u);q & h.Od && this.uc.p2a(n,u,!1);q & h.tq && this.uc.r2a(n,u);q & h.js && this.uc.s2a(n,this.j.Um());p && q & h.kD && this.uc.n2a(n,u,p);q & h.Jo && this.uc.ppa(n);};b.LP=c;(function(n){n[n.Od=1]="MOFF";n[n.tq=2]="PRESENTEDSTREAMS";n[n.js=4]="SCREEN";n[n.kD=8]="FATALERROR";n[n.Jo=16]="BROWSERINFO";})(h || (h={}));},27134:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t){this.Ff=n;this.config=p;this.sa=q;this.Ea=u;this.Xqa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.MP=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(4203);g=a(45118);m=a(10242);h=a(5522);c.prototype.create=function(n){return new h.OP(n,this.Ff,this.config,this.Ea,this.Xqa.create(n));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.pl)),r.__param(1,(0,l.l)(d.Xb)),r.__param(2,(0,l.l)(k.bg)),r.__param(3,(0,l.l)(f.Lc)),r.__param(4,(0,l.l)(m.KP))],a);b.MP=a;},5522:function(r,b,a){var l,f,k;function c(d,g,m,h,n){var p;p=this;this.j=d;this.Ff=g;this.config=m;this.Ea=h;this.hb=n;this.sS=function(){p.ng();p.j.Da.Yh.removeListener(p.mz);p.j.Da.Mb.removeListener(p.hb.kl);p.j.Da.qc.removeListener(p.Cl);p.j.Da.Kg.removeListener(p.hb.bS);p.j.Ai.removeListener(p.e9a);p.j.AN.removeListener(p.Ej);p.j.Da.Wd.removeListener(p.yW);p.j.sb.removeListener(p.fv);p.j.sb.removeListener(p.sK);p.j.Da.Ke.removeListener(p.GY);p.j.Da.playbackRate.removeListener(p.hb.BX);p.j.removeEventListener(k.Ka.closed,p.sS);p.j.removeEventListener(k.Ka.X2,p.hb.Dh);};this.sK=function(){p.j.sb.value === k.gb.ke && (p.j.sb.removeListener(p.sK),p.It());};this.mz=function(q){p.Up && p.hb.mz(q);};this.Ej=function(q){p.Up && void 0 !== q.newValue && (p.GN && p.Ho && p.hb.Uta(p.getTime() - p.Ho,p.GN.Pva),p.GN={Pva:"repos",aab:q.newValue},p.hb.AC(q.newValue,p.j.Da.hf.value,p.j.Da.Wd.value),p.Ho=p.getTime(),(0,f.Df)(p.fv));};this.e9a=function(q){p.Up && p.hb.j9(!q.newValue);};this.Cl=function(q){q.oldValue && (p.uy=q.oldValue,p.hb.Cl(q),p.GN={Pva:"repos",aab:k.Ac.qQ},p.Ho=p.getTime(),(0,f.Df)(p.fv));};this.fv=function(){var q;if(p.Ho && p.GN && p.j.sb.value !== k.gb.zf){q=p.getTime() - p.Ho;p.hb.Tt(q,!1,p.GN);p.uy && p.uy != p.j.Da.qc.value && p.hb.Cia();p.Ho=void 0;p.GN=void 0;}};this.It=function(){p.Up || (p.Up=!0,p.hb.Lr(p.j),p.ypa(),p.config().G6 && (p.oy=ob.setTimeout(function(){p.Ff.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.oy=void 0;},p.config().G6)));};this.ng=function(){p.oy && (ob.clearTimeout(p.oy),p.oy=void 0);p.rY && p.rY();p.Up?p.hb.Yx():p.j.kh?p.hb.Lr(p.j):p.hb.Vta();};this.GY=function(q){q.oldValue && q.Eh && q.Eh.WE && p.hb.Hx(q.oldValue,q.newValue,q.Eh.WE,q.Eh.gS);};this.yW=function(q){var u;if(q.newValue){u=q.newValue.stream;p.sG != u && (p.sG && u && p.hb.ova(p.sG,u,q.newValue.tK.startTime),p.sG=u);}};this.$$();}Object.defineProperty(b,"__esModule",{value:!0});b.OP=void 0;l=a(5021);f=a(32219);k=a(85001);c.prototype.$$=function(){this.j.addEventListener(k.Ka.closed,this.sS);this.j.addEventListener(k.Ka.X2,this.hb.Dh);this.j.Da.Yh.addListener(this.mz);this.j.Da.Mb.addListener(this.hb.kl);this.j.Da.qc.addListener(this.Cl);this.j.Da.Kg.addListener(this.hb.bS);this.j.Ai.addListener(this.e9a);this.j.AN.addListener(this.Ej);this.j.Da.Wd.addListener(this.yW);this.j.sb.addListener(this.fv);this.j.sb.addListener(this.sK);this.j.Da.Ke.addListener(this.GY);this.j.Da.playbackRate.addListener(this.hb.BX);};c.prototype.getTime=function(){return this.Ea.Ib().ca(l.pa);};c.prototype.ypa=function(){var d,g,m;d=this;m=[];this.config().k6a && (this.config().l6a.forEach(function(h){m.push(ob.setTimeout(d.hb.Hy,h));}),this.config().d8 && (g=ob.setInterval(this.hb.Hy,this.config().d8)),this.rY=function(){m.forEach(function(h){ob.clearTimeout(h);});g && ob.clearInterval(g);});};b.OP=c;},15850:function(r,b,a){var l,f,k,d,g;function c(m,h){var p;function n(){p.Kta.then(function(q){p.la.trace("Unloading PBO Playdata Services");q.close();});d.fe.removeListener(d.Rk,n);}p=this;this.A8a=h;this.Kta=h();this.la=m.$a("PlayerPlaydataMonitorImpl");d.fe.addListener(d.Rk,n);}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(96687);d=a(37509);g=a(85001);c.prototype.Oj=function(m,h){this.Kta.then(function(n){n.Oj(h,!0,function(p){return m.close(p);});n.sxa(h);m.addEventListener(g.Ka.iua,function(){m.NB() && n.fbb(h).catch(function(p){(p=p.eN) && m.close(p);});});m.addEventListener(g.Ka.kl,function(){n.F$(h).catch(function(p){(p=p.eN) && m.close(p);});});m.addEventListener(g.Ka.Cl,function(){n.F$(h).catch(function(p){(p=p.eN) && m.close(p);});});});};c.prototype.IX=function(m){return this.Kta.then(function(h){h.Qcb();return h.IX(m).catch();});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.gQ))],a);b.kLa=a;},68272:function(r,b,a){var l,f,k,d;function c(g){this.Qra={};this.C6={};this.n7=-1;this.Fxa=new k.Eb(null);this.oua=new k.Eb(null);this.la=g.$a("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.wNa=void 0;r=a(5163);l=a(22674);f=a(93161);k=a(81734);a=a(87386);c.prototype.Bb=function(g,m,h){var n;n=this;g.forEach(function(p){p.stream.urls.forEach(function(q){n.Qra[q.url]=[p,q.yg];});});this.bla=m;this.oCb=h;new PerformanceObserver(function(p){n.g7b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.vbb=function(g){var m,h,n;if(this.bla){h=this.G5(g);if(h !== this.n7){for(this.n7=h;0 <= h && !this.C6[h];){h--;}n=la(null !== (m=this.C6[h]) && void 0 !== m?m:[this.bla,this.oCb]);m=n.next().value;n=n.next().value;this.la.debug("Setting time to " + g + ", using metadata from fragment " + h + " for " + ((0,f.EG)(m.track.type) + " track with bitrate ") + (m.stream.bitrate + " from cdn " + n));g=m.La[this.n7];h=g.fb;this.oua.set({stream:m,tK:{startTime:Math.floor(1E3 * h),endTime:Math.floor(1E3 * (h + g.duration))},Hm:n});}}};c.prototype.G5=function(g){var m,h,n,p,q;m=this.bla.La;g/=1E3;h=0;n=m.length - 1;if(g >= m[n].fb)return n;for(;n >= h;){p=h + Math.floor((n - h) / 2);q=m[p];if(g < q.fb)n=p - 1;else if(g >= q.fb + q.duration)h=p + 1;else return p;}return m.length - 1;};c.prototype.g7b=function(g){var m;m=this;g.filter(function(h){return "video" === h.initiatorType;}).forEach(function(h){var n,p,q;n=h.name.indexOf("&fi=");if(0 < n){p=h.name.substring(0,n);n=Number(h.name.substring(n + 4));if(m.Qra[p]){q=la(m.Qra[p]);h=q.next().value;q=q.next().value;p && !Number.isNaN(n) && h && (m.C6[n] && (m.n7=-1),m.C6[n]=[h,q],p=h.La[n].fb,!1,m.Fxa.set(h,{WE:Math.floor(1E3 * p),Hm:q}));}}});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ab))],d);b.wNa=d;},25050:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v;function c(w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J){var I,N,R;I=this;this.sW=y;this.ly=x;this.Ea=z;this.Lh=A;this.Hb=B;this.nV=C;this.sXb=D;this.T8a=F;this.Zaa=G;this.T2=E;this.sa=H;this.pM=M;this.config=L;this.EA=K;this.v=O;this.rh=J;this.bV=new n.Eb(!0);this.Ai=new n.Eb(!1);this.Jr=new n.Eb(!1);this.ended=new n.Eb(!1);this.j3=new n.Eb(0);this.sb=new n.Eb(l.gb.zf);this.AN=new n.Eb(void 0);this.loaded=this.EX=this.closed=!1;this.v9a=function(U,ja){return function(ra){var ka,ua,Aa,La,Xa;ka=ra.newValue;ua=ka.Hm;ra=ka.tK;Aa=ka.stream;ka=U.value;La=ka.streams.find(function(ab){return ab.bitrate === Aa.stream.bitrate;});Xa=I.Da.mg.find(function(ab){return ab.id === ua;});I.log.info("Presenting " + La.type + " request with bitrate " + La.bitrate + ", track " + (ka.trackId + " [" + ra.startTime + "..." + ra.endTime + "]"));ja.set({stream:La,tK:ra,Cc:Xa});};};this.cdb=function(U,ja,ra){return function(ka){var ua,Aa;ua=U.value;Aa=ua.streams.find(function(La){return La.bitrate === ka.newValue.stream.bitrate;});I.log.info("Streaming " + Aa.type + " stream with bitrate " + Aa.bitrate + ", track " + ua.trackId);ja.set(Aa,{WE:ka.Eh.WE,gS:void 0});ua=I.Da.mg.filter(function(La){return La.id === ka.Eh.Hm;})[0];ra.set(ua);};};this.jZa=new Set();this.log=w.$a("HLSVideoPlayer");this.$=(0,f.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.f9a;this.Da=this.sW(k.Tz.index++,O.P,O.id,null !== (N=O.ub) && void 0 !== N?N:{},this.ly.SA(),this.Ea.Ib(),!1,void 0,function(){return I.Yq();});this.Da.mediaTime.set(null !== (R=this.Da.Dl) && void 0 !== R?R:0);this.uI();this.Tpb=this.pM.create(this);this.Tpb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.FOa=void 0;l=a(85001);f=a(52569);k=a(13044);d=a(72639);g=a(24735);m=a(36129);h=a(63156);n=a(81734);p=a(5021);q=a(32687);u=a(45266);t=a(3887);v=a(60328);c.prototype.V4b=function(){return !!this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.uI=function(){var w;w=this;this.$.addEventListener("loadedmetadata",function(){w.ob(l.Ka.S4a);w.ob(l.Ka.R4a);w.ob(l.Ka.Cl);w.ob(l.Ka.U2);w.ob(l.Ka.kl);w.ob(l.Ka.bu);});this.$.addEventListener("error",function(y){y=w.rh(m.U.yJa,y);w.close(y);});this.$.addEventListener("timeupdate",function(){w.ended.set(!1);w.Da.mediaTime.set(w.Yq());w.hla();w.ob(l.Ka.Rn);w.ob(l.Ka.Seb);});this.$.addEventListener("durationchange",function(){w.ob(l.Ka.xla);});this.$.addEventListener("resize",function(){w.ob(l.Ka.dza);});this.$.addEventListener("playing",function(){w.hla();w.Jr.set(!1);w.Ai.set(!0);w.ended.set(!1);w.sb.set(l.gb.ke);});this.$.addEventListener("pause",function(){w.Ai.set(!1);w.Jr.set(!1);w.sb.set(l.gb.Rh);});this.$.addEventListener("waiting",function(){w.sb.set(l.gb.zf);});this.$.addEventListener("stalled",function(){w.Jr.set(!0);});this.$.addEventListener("seeking",function(){w.Jr.set(!1);w.AN.set(w.Da.mediaTime.value);w.sb.set(l.gb.zf);});this.$.addEventListener("seeked",function(){void 0 !== w.AN.value && (w.Da.Zk.Csa(w.AN.value,w.Yq()),w.AN.set(void 0));w.sb.set(w.NB()?l.gb.ke:l.gb.Rh);});this.$.addEventListener("progress",function(){w.ob(l.Ka.g3);w.X6b();});this.$.addEventListener("ended",function(){w.sb.set(l.gb.nq);w.Jr.set(!1);w.Ai.set(!1);w.ended.set(!0);});this.$.addEventListener("volumechange",function(){w.ob(l.Ka.egb);w.ob(l.Ka.M6a);});this.Ai.addListener(function(){w.ob(l.Ka.iua);w.ob(l.Ka.y8a);w.sK();});this.j3.addListener(function(){w.ob(l.Ka.lK);});this.Jr.addListener(function(){w.ob(l.Ka.lK);});this.bV.addListener(function(){w.sK();});this.ended.addListener(function(){w.ob(l.Ka.mYa);});this.Da.playbackRate.addListener(function(y){w.$.playbackRate=y.newValue;});};c.prototype.sK=function(){!this.NB() || this.bV.value || this.EX || this.fTa || (this.EX=!0,this.Da.py=this.sa.DH,this.T8a.Oj(this,this.Da));};c.prototype.nS=function(){return this.rW - (this.Da.Mh.ca(p.pa) + this.Ea.wy.ca(p.pa));};c.prototype.EF=function(){var w;w=this.Da.bb.TC;return (0,q.yb)(w)?w:this.Da.Mh.ca(p.pa) + this.Ea.wy.ca(p.pa);};c.prototype.kja=function(){return this.sa.de.ca(p.pa) - this.EF();};c.prototype.lja=function(){return this.rW - this.EF();};c.prototype.X6b=function(){var w;w=this.$.readyState <= h.Sj.Lz.HAVE_METADATA?0:this.$.readyState <= h.Sj.Lz.HAVE_CURRENT_DATA?.5:1;1 === w && (this.rW=this.sa.de.ca(p.pa),this.bV.set(!1),this.Ema(l.Ka.loaded));this.j3.set(w);};c.prototype.hla=function(){var w;w=this.Yq();this.Zaa.vbb(w);this.T2.vbb(w);};c.prototype.oX=function(){var w;w=this;this.Da.ie("ats");return this.Lh.fy({ma:this.Da.ma,bb:this.Da.bb,J:this.Da.P,Uq:d.ql.J0,ff:g.yh.rm}).then(function(y){var z;function x(A){var B;B=A;A && A.co() && !A.dn() && (B=null);w.Da.Yh.set(B);}w.Da.ie("at");z=w.nV.create({}).s8a(y);w.Da.W=y;w.Da.zc=z;w.$.audioTracks.addEventListener("addtrack",function(){w.nfb(w.Da.qc.value);});w.$.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=la(w.$.audioTracks),F=D.next();!F.done;(C={QO:C.QO},F=D.next())){C.QO=F.value;C.QO.enabled && C.QO.label !== (null === (A=w.Da.qc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=w.Da.ai.find((function(G){return function(E){return E.displayName === G.QO.label;};})(C))) && void 0 !== B?B:null,w.Da.qc.set(F));}});w.Da.qc.addListener(function(A){w.nfb(A.newValue);w.ob(l.Ka.Cl);w.ob(l.Ka.bu);});w.$.textTracks.addEventListener("addtrack",function(){w.ofb(w.Da.Mb.value);});w.$.textTracks.addEventListener("change",function(){var G;for(var A,B,C=w.$.textTracks,D={},F=0;F < C.length;(D={RO:D.RO},F++)){if((D.RO=C[F],"showing" === D.RO.mode && D.RO.label !== (null === (A=w.Da.Mb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=w.Da.Wg.find((function(E){return function(H){return H.displayName === E.RO.label;};})(D))) && void 0 !== B?B:null;w.Da.Mb.set(G);x(G);}}});w.Da.Mb.set(z.KS);x(z.KS);w.Da.Mb.addListener(function(A){w.ofb(A.newValue);w.ob(l.Ka.kl);});return w.sXb.Lg(y,function(A){return w.Da.ie(A);});}).then(function(y){var x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I;x=y.BRb;z=y.Swb;y=y.l4b;A=y.audio;B=y.LWa;C=y.video;D=w.Da;F=D.Kg;G=D.qc;E=D.ai;H=D.Ke;M=D.Fg;y=D.Dl;L=D.Wd;K=D.hf;O=D.Zk;D=D.zc;D.ai=E.filter(function(N){return A.find(function(R){return R.track.Xf === N.trackId;});});M.set(D.e4);G.set(E.find(function(N){return N.trackId === B;}));D=C[0];J=D.stream;E=A.find(function(N){return N.track.Xf === B;});I=E.stream;w.wU=J.bitrate;w.Zaa.oua.addListener(w.v9a(M,L));w.Zaa.Fxa.addListener(w.cdb(M,H,w.Da.Cc[v.u.X]));H=z.get(J.Nm).kN.yg;w.Zaa.Bb(C,D,H);w.T2.oua.addListener(w.v9a(G,K));w.T2.Fxa.addListener(w.cdb(G,F,w.Da.Cc[v.u.fa]));z=z.get(I.Nm).kN.yg;w.T2.Bb(A,E,z);w.$.src=x;w.$.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;w.$.load();O.Csa(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.ue)(y);w.log.error("uncaught exception",y,z);}w.close(w.rh(null !== (x=y.code) && void 0 !== x?x:m.U.oOa,y));});};c.prototype.ofb=function(w){var z;for(var y=this.$.textTracks,x=0;x < y.length;x++){z=y[x];z.label === w.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== w.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.nfb=function(w){for(var y=la(this.$.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== w.displayName || x.enabled || (!1,x.enabled=!0);x.label !== w.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.Xn=function(){};c.prototype.Pl=function(){};c.prototype.Yq=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.w5=function(){return this.Yq();};c.prototype.wL=function(){return this.Yq();};c.prototype.sna=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.o0a=function(){return this.v.P;};c.prototype.kt=function(){return this.Da.ma;};c.prototype.Um=function(){return this.$;};c.prototype.Bv=function(){return null === this.mh();};c.prototype.NB=function(){return this.Ai.value;};c.prototype.xt=function(){return !this.Ai.value;};c.prototype.Ppa=function(){return this.$.ended;};c.prototype.mh=function(){return 1 !== this.j3.value?{stalled:this.Jr.value,progress:this.j3.value,progressRollback:!1}:null;};c.prototype.getError=function(){var w,y;return null !== (y=null === (w=this.kh) || void 0 === w?void 0:w.iY()) && void 0 !== y?y:null;};c.prototype.c_a=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.j1a=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.Upa=function(){return this.$.muted;};c.prototype.l1a=function(){return this.$.volume;};c.prototype.Ibb=function(w){this.$.muted=w;};c.prototype.Wbb=function(w){this.$.volume=w;};c.prototype.addEventListener=function(w,y,x){this.Hb.addListener(w,y,x);};c.prototype.removeEventListener=function(w,y){this.Hb.removeListener(w,y);};c.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.EA.aV(function(y){w.V4b()?y.ia?w.oX():w.close(w.rh(y.errorCode || m.U.Xca,y)):w.close(w.rh(m.U.Zjb));}));};c.prototype.close=function(w){if(this.closed)return Promise.resolve();this.Da.mediaTime.set(this.Yq());this.hla();this.Da.AS=this.w5();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === w || void 0 === w?void 0:w.Kbb(!this.bV.value);(this.kh=w) && this.ob(l.Ka.error,w.iY());this.ob(l.Ka.closed);return this.T8a.IX(this.Da);};c.prototype.play=function(){var w,y;w=this;y=this.$.play();this.fTa=!1;y && y.then(function(){w.Ema(l.Ka.gTa);}).catch(function(x){w.ob(l.Ka.lK);"NotAllowedError" === x.name && (w.log.warn("Playback is blocked by the browser settings",x),w.fTa=!0,w.Dh=!0,w.Ema(l.Ka.X2,{player:{play:function(){return w.play();}}}));});};c.prototype.ob=function(w,y,x){y=y || ({});y.target=this;this.Hb.Dc(w,y,!x);};c.prototype.Ema=function(w,y){this.jZa.has(w) || (this.jZa.add(w),this.ob(w,y,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.x8a=function(){this.pause();};c.prototype.seek=function(w){this.$.currentTime=w / 1E3;};c.prototype.v2a=function(w){this.close(this.rh(m.U.NDa,m.S.Qo,w));};c.prototype.EL=function(){return this.Da.playbackRate.value;};c.prototype.L$=function(w){this.Da.playbackRate.set(w);};c.prototype.UZa=function(){var w;w=this;return this.Da.ai.map(function(y){return w.Gp(y);});};c.prototype.xoa=function(w){var y;y=this;return this.XT(w).map(function(x){return y.Gp(x);});};c.prototype.TZa=function(){var w;w=this.Da.qc.value;return w && this.Gp(w);};c.prototype.woa=function(){var w;w=this.Da.Mb.value;return w && this.Gp(w);};c.prototype.rbb=function(w){if((w=this.oT(w)) && w.Wf)return (this.Da.qc.set(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Rwa=function(w){var y,x;y=this;x=this.Da.Wg.find(function(z){return y.Gp(z) === w;});if(x && x.Wf)return (this.Da.Mb.set(x),this.Da.Yh.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.i0a=function(){var w;return this.OT(this.Da.ai,null === (w=this.Da.W) || void 0 === w?void 0:w.Fa.R5a);};c.prototype.Pna=function(w){var y;return this.OT(this.XT(w),null === (y=this.Da.W) || void 0 === y?void 0:y.Fa.S5a);};c.prototype.Gp=function(w){var y;y=w.Kua=w.Kua || ({trackId:w.trackId,bcp47:w.re,displayName:w.displayName,trackType:w.wh,rawTrackType:w.zC,channels:w.channels});this.Ypa(w) && (y.isNative=w.isNative,y.surroundFormatLabel=w.RX);this.Zpa(w) && (y.isNoneTrack=w.co(),y.isForcedNarrative=w.dn(),y.isImageBased=w.fk);y.subType=w.TH;y.variant=w.variant;return y;};c.prototype.Ypa=function(w){return "undefined" !== typeof w.isNative;};c.prototype.Zpa=function(w){return "undefined" !== typeof w.co && "undefined" !== typeof w.dn;};c.prototype.oT=function(w){var y;y=this;return w && this.Da.ai.find(function(x){return y.Gp(x) === w;});};c.prototype.XT=function(w){var y;w=this.oT(w) || this.Da.qc.value;return null !== (y=null === w || void 0 === w?void 0:w.Wg) && void 0 !== y?y:[];};c.prototype.OT=function(w,y){var x;x=w.length - 1;if("number" !== typeof y)return x;w=w.findIndex(function(z){return z.bc > y;});return -1 === w?x:w - 1;};c.prototype.Kaa=function(w){this.Da.bb=(0,u.c8)(this.Da.bb,w);};c.prototype.Ri=function(w){if(w !== this.Da.I)throw (!1,Error("Unknown segmentId " + w));return this.Da;};c.prototype.z0a=function(){return this.Da.bb;};c.prototype.Qha=function(){!1;};c.prototype.Ov=function(){!1;};c.prototype.MG=function(){!1;};c.prototype.gU=function(){!1;return Promise.reject();};c.prototype.noa=function(){return {};};c.prototype.x5=function(){};c.prototype.RZa=function(){return {};};c.prototype.Fwa=function(){};c.prototype.bO=function(){};c.prototype.a3a=function(){return !1;};c.prototype.w_a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.aL=function(){!1;return Promise.resolve({success:!0});};c.prototype.g1a=function(){!1;};c.prototype.bU=function(){!1;};c.prototype.VN=function(){!1;};c.prototype.Vwa=function(){!1;};c.prototype.O4a=function(){!1;};c.prototype.KZa=function(){!1;return Promise.reject();};c.prototype.Q8a=function(){!1;return Promise.reject();};c.prototype.X9a=function(){!1;return Promise.reject();};c.prototype.bj=function(){!1;return Promise.reject();};c.prototype.bH=function(){!1;};b.FOa=c;},41893:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u,t,v,w,y,x,z,A,B,C,D){var F;F=this;this.Zd=h;this.zb=n;this.Hb=q;this.Kt=t;this.wS=v;this.LZa=w;this.config=x;this.rh=A;this.v=B;this.j=z.create(B.P,B.Mh,y,C,D,B.ub,B.id,B.W);this.j.background.set(!0);this.log=p.$a("VideoPlayer",this.j);this.B8a=[];this.ended=!1;this.uI();this.j.state.addListener(function(G){G.newValue === f.Vb.$d && F.ob(f.Ka.dqa,{movieId:B.P});});this.j.bb.rg && (this.jK=u.tAb(this,this.j),this.j.addEventListener(f.ha.yH,function(G){G=G.position.segmentId;F.WPb !== G && (F.WPb=G,F.ob(f.Ka.m1b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.qGa=void 0;l=a(36129);f=a(85001);k=a(5021);d=a(22365);g=a(87607);m=a(3887);c.prototype.Bv=function(){return this.j.state.value === f.Vb.$d;};c.prototype.o0a=function(){return this.j.P;};c.prototype.kt=function(){return this.j.ma;};c.prototype.Um=function(){return this.j.mk;};c.prototype.NB=function(){return this.j.Ai.value;};c.prototype.xt=function(){return this.j.paused.value;};c.prototype.Ppa=function(){return this.ended;};c.prototype.mh=function(){var h;h=this.j.cja.value;return h?{networkStalled:!!h.Jr,stalled:!!h.Jr,progress:h.progress,progressRollback:!!h.QYb}:null;};c.prototype.getError=function(){var h;h=this.j.kh;return h?h.iY():null;};c.prototype.Xn=function(){var h;return null === (h=this.j.Xn()) || void 0 === h?void 0:h.ZEb;};c.prototype.Pl=function(){return this.j.gd;};c.prototype.wL=function(){return this.Pl().ba?this.Pl().b6():this.Yq();};c.prototype.Yq=function(){return this.j.mediaTime.value;};c.prototype.c_a=function(){var h;h=(this.w5() || 0) + this.j.b_a();return Math.min(h,this.sna());};c.prototype.w5=function(){return this.Pl().ba?this.Pl().b6():this.j.tB();};c.prototype.sna=function(){return this.Pl().ba?this.Pl().b0a():this.j.Ox.ca(k.pa);};c.prototype.j1a=function(){var h;h=this.j.XC.value;return h?{width:h.width,height:h.height}:null;};c.prototype.x5=function(){return this.j.x5();};c.prototype.KZa=function(h){var n,p;return (null === (n=this.j.W) || void 0 === n?0:n.oi.BL("generateScreenshots"))?this.LZa.Vn(this.log,this.j.W.oi,h):(n=null === (p=this.j.bb) || void 0 === p?void 0:p.nn)?this.LZa.xf(this.log,Object.assign({packageId:n},h)):Promise.reject("Unknown packageId");};c.prototype.w_a=function(){return this.UIb(this.j.gXa);};c.prototype.UZa=function(){var h;h=this;return this.j.ai.map(function(n){return h.Gp(n);});};c.prototype.i0a=function(){var h;return this.OT(this.j.ai,null === (h=this.j.W) || void 0 === h?void 0:h.Fa.R5a);};c.prototype.xoa=function(h){var n;n=this;return this.XT(h).map(function(p){return n.Gp(p);});};c.prototype.Pna=function(h){var n;return this.OT(this.XT(h),null === (n=this.j.W) || void 0 === n?void 0:n.Fa.S5a);};c.prototype.Upa=function(){return this.j.muted.value;};c.prototype.l1a=function(){return this.j.volume.value;};c.prototype.TZa=function(){var h,n;n=(null === (h=this.Rv) || void 0 === h?void 0:h.qc) || this.j.qc.value;return n && this.Gp(n);};c.prototype.woa=function(){var h,n;n=(null === (h=this.Rv) || void 0 === h?void 0:h.$X) || this.j.Mb.value;return n && this.Gp(n);};c.prototype.a3a=function(){return this.j.background.value;};c.prototype.Ibb=function(h){this.j.muted.set(!!h);};c.prototype.Wbb=function(h){this.j.volume.set(this.sUb(h));};c.prototype.L$=function(h){this.j.playbackRate.set(h);};c.prototype.EL=function(){return this.j.playbackRate.value;};c.prototype.rbb=function(h){var n,p,q,u,t;n=this;q=this.oT(h);if(q){if(q.Wf)return (this.j.qc.set(q),Promise.resolve());u=(h=(null === (p=this.Rv) || void 0 === p?void 0:p.$X) || this.j.Mb.value) && this.F3a(q,h)?h:q.Wg[0];p=q.trackId;t=u.trackId;this.Rv={qc:q,$X:u};this.ob(f.Ka.Cl);this.ob(f.Ka.bu);u !== h && this.ob(f.Ka.kl);return this.j.Z1a(p,t).then(function(v){v=v.qc;n.Rv=void 0;n.j.qc.set(v);}).catch(function(v){n.Rv=void 0;v=n.Zd.ue(v);n.log.error(v);n.close(n.rh(l.U.yD,{Aa:l.S.xda,Nb:v,$F:{jNb:q.trackId,b2a:q.re,kNb:u.trackId,c2a:u.re}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Rwa=function(h){var n,p,q,u;n=this;q=(null === (p=this.Rv) || void 0 === p?void 0:p.qc) || this.j.qc.value;if(null !== q){u=q.Wg;p={};for(var t=0;t < u.length;(p={Tr:p.Tr},t++)){p.Tr=u[t];if(!h && null === p.Tr)return (this.j.Mb.set(null),Promise.resolve());if(this.Gp(p.Tr) === h){if(p.Tr.Wf)return (this.log.info("Setting Timed Text, profile: " + p.Tr.profile),this.j.Mb.set(p.Tr),Promise.resolve());h=q.trackId;u=p.Tr.trackId;this.Rv={qc:q,$X:p.Tr};this.ob(f.Ka.kl);return this.j.Z1a(h,u).then(function(v){v=v.$X;n.Rv=void 0;n.j.Mb.set(v);}).catch((function(v){return function(w){n.Rv=void 0;w=n.Zd.ue(w);n.log.error(w);n.close(n.rh(l.U.yD,{Aa:l.S.xda,Nb:w,$F:{jNb:q.trackId,b2a:q.re,kNb:v.Tr.trackId,c2a:v.Tr.re}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Fwa=function(h){this.j.background.set(h);};c.prototype.bO=function(){this.j.bO();};c.prototype.Kaa=function(h){this.j.Kaa(h);};c.prototype.Ri=function(h){return this.j.Ri(h);};c.prototype.z0a=function(){return this.j.bb;};c.prototype.Ov=function(){this.j.Ov();};c.prototype.MG=function(h){this.j.MG(h);};c.prototype.gU=function(h,n,p){return this.j.gU(h,n,p);};c.prototype.Qha=function(h,n){this.j.addEventListener(h,n,void 0);};c.prototype.addEventListener=function(h,n,p){this.Hb.addListener(h,n,p);};c.prototype.removeEventListener=function(h,n){this.Hb.removeListener(h,n);};c.prototype.bH=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{h.ob(f.Ka.S4a,void 0,!0);n.W && (n.W.Fa.ogb && h.ob(f.Ka.Q8b,n.W.Fa.ogb,!0),n.W.Fa.vp && h.ob(f.Ka.l1b,{segmentMap:n.W.Fa.vp},!0));p({ia:!0});}catch(q){p({Aa:l.S.ol,Nb:h.Zd.ue(q)});}}));};c.prototype.close=function(h){var n;n=this;this.SUa || (this.SUa=new Promise(function(p){h?n.j.YE(h,p):n.j.close(p);}));return this.SUa;};c.prototype.play=function(){this.j.Dh?this.j.fireEvent(f.ha.Kab):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(f.ha.Lfb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(f.ha.Kfb));};c.prototype.x8a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{JM:!0});};c.prototype.seek=function(h,n,p,q){n=void 0 === n?f.Ac.Zw:n;this.j.Jwb() && (this.Pl().ba && this.Pl().J3a(this.Pl().Aab(h))?this.Pl().y$():this.j.Td?(this.Pl().ba && (h=this.Pl().Aab(h)),this.j.Td.seek(h,n,p,q)):(this.Pl().ba && (h=this.Pl().Nna(h).Dl),this.j.Dl=h));};c.prototype.Q8a=function(h){return this.jK?(this.log.trace("Playing a segment",h),this.jK.play(h)):Promise.resolve();};c.prototype.X9a=function(h){return this.jK?(this.log.trace("Queueing a segment",h),this.jK.pN(h)):Promise.resolve();};c.prototype.bj=function(h,n){return this.jK?(this.log.trace("Updating next segment weights",h,n),this.jK.bj(h,n)):Promise.resolve();};c.prototype.bU=function(){var h;h=this.j.tn.bU();return {bounds:h.iS,margins:h.pr,size:h.size,visibility:h.visibility};};c.prototype.VN=function(h){var n,p,q;n=h.bounds;p=h.margins;q=h.size;h=h.visibility;this.j.dY && (n && this.j.dY.Swa(n),p && this.j.dY.Twa(p),"boolean" === typeof h && this.j.dY.Uwa(h));this.j.tn && q && this.j.tn.y2b(q);};c.prototype.Vwa=function(h){this.j.im=h;};c.prototype.g1a=function(h){return this.j.nz && this.j.nz.qJb(h) || null;};c.prototype.RZa=function(){return this.Zd.dC({playerver:this.config.version,jssid:this.config.GPb,groupName:this.config.tJb(),xid:this.j.ma,pbi:this.j.index},this.config.UWb,{prefix:"pi_"});};c.prototype.v2a=function(h){this.j.pd(l.U.NDa,l.S.Qo,h);};c.prototype.O4a=function(h,n,p,q){if(!this.zb.vSa(h))throw Error("invalid url");this.B8a.push({url:h,name:n,Tub:p,options:q});this.J9a();};c.prototype.noa=function(){var h,n,p,q,u,t,v,w;h={};n=this.j.EX;try{if((this.j.kh && (h.errorCode=this.j.kh.r4,h.errorType=n?"endplay":"startplay"),h.playdelay=(0,m.Vf)(this.j.nS()),h.xid=this.j.ma,this.j.W && this.zb.jp(this.j.W.Fa.nn) && (h.packageId=Number(this.j.W.Fa.nn)),h.auth=this.j.mIb(),n)){h.totaltime=this.j.Zk?this.Ml(this.j.Zk.Fp("content")):0;h.abrdel=this.j.Zk?this.j.Zk.jna():0;p=this.j.Td;q=p?p.JF():null;this.zb.Yj(q) && (h.totdfr=q);q=p?p.IT():null;this.zb.Yj(q) && (h.totcfr=q);u=p?p.DJb():null;u && (h.rbfrs_decoder=u.Y3,h.rbfrs_network=u.v8);h.rbfrs_delay=this.j.Zk?this.j.Zk.Jpa:0;h.init_vbr=this.j.I6;t=this.RF();this.zb.hF(t) && (h.pdltime=t);v=this.j.Wd.value;w=v && v.stream;w && (h.vbr=w.bitrate,h.vdlid=w.Ub);h.bufferedTime=this.j.b_a();}}catch(y){this.log.error("error capturing session summary",y);}return h;};c.prototype.aL=function(h){this.j.bb.cm && (this.j.bb.cm.userEngageAction=1);return this.zb.Yj(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.Kt.create(this.j)),{action:h}),this.wS(g.Ko.aL).Vn(this.log,this.j.W.oi,h).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.ec,errorExternalCode:n.Vc,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.UIb=function(h){return {register:h.register.bind(h),notifyUpdated:h.p7a.bind(h),getModel:h.fKb.bind(h),getGroups:h.MT.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.Gp=function(h){var n;n=h.Kua=h.Kua || ({trackId:h.trackId,bcp47:h.re,displayName:h.displayName,trackType:h.wh,rawTrackType:h.zC,channels:h.channels});this.Ypa(h) && (n.isNative=h.isNative,n.surroundFormatLabel=h.RX);this.Zpa(h) && (n.isNoneTrack=h.co(),n.isForcedNarrative=h.dn(),n.isImageBased=h.fk);n.subType=h.TH;n.variant=h.variant;return n;};c.prototype.Ypa=function(h){return "undefined" !== typeof h.isNative;};c.prototype.Zpa=function(h){return "undefined" !== typeof h.co && "undefined" !== typeof h.dn;};c.prototype.oT=function(h){var n;n=this;return h && this.j.ai.find(function(p){return n.Gp(p) === h;});};c.prototype.XT=function(h){var n,p;h=this.oT(h) || (null === (n=this.Rv) || void 0 === n?void 0:n.qc) || this.j.qc.value;return null !== (p=null === h || void 0 === h?void 0:h.Wg) && void 0 !== p?p:[];};c.prototype.OT=function(h,n){var p;p=h.length - 1;if("number" !== typeof n)return p;h=h.findIndex(function(q){return q.bc > n;});return -1 === h?p:h - 1;};c.prototype.F3a=function(h,n){return 0 <= h.Wg.indexOf(n);};c.prototype.sUb=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.Ml=function(h){return this.zb.Yj(h)?(h / 1E3).toFixed(0):"";};c.prototype.ob=function(h,n,p){n=n || ({});n.target=this;this.Hb.Dc(h,n,!p);};c.prototype.uI=function(){var h;h=this;this.j.addEventListener(f.ha.Uxa,function(){h.ob(f.Ka.Rn);});this.j.XC.addListener(function(){h.ob(f.Ka.dza);});this.j.addEventListener(f.ha.Teb,function(){h.ob(f.Ka.Seb);});this.j.addEventListener(f.ha.T7,function(){h.ob(f.Ka.g3);});this.j.addEventListener(f.ha.Ej,function(){h.ob(f.Ka.g3);});this.j.addEventListener(f.ha.QL,function(n){h.ob(f.Ka.QL,{errorCode:n});});this.j.addEventListener(f.ha.Eia,function(){h.ob(f.Ka.gTa);});this.j.addEventListener(f.ha.Dh,function(n){h.ob(f.Ka.X2,n);});this.j.addEventListener(f.ha.reb,function(){h.ob(f.Ka.U2);h.ob(f.Ka.bu);});this.j.Ai.addListener(function(){h.ob(f.Ka.iua);});this.j.paused.addListener(function(){h.ob(f.Ka.y8a);});this.j.muted.addListener(function(){h.ob(f.Ka.M6a);});this.j.volume.addListener(function(){h.ob(f.Ka.egb);});this.j.sb.addListener(function(){h.$eb();});this.j.state.addListener(function(){h.$eb();});this.j.cja.addListener(function(n){h.TQb || h.j.state.value != f.Vb.$d || n.newValue || (h.TQb=!0,h.ob(f.Ka.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.noa());}));h.ob(f.Ka.lK);});this.j.qc.addListener(function(){h.ob(f.Ka.Cl);h.ob(f.Ka.bu);setTimeout(function(){var n,p;n=h.j.qc.value;p=h.j.Mb.value;null === n || null === p || h.F3a(n,p) || (h.log.info("Changing timed text track to match audio track"),h.j.Mb.set(n.Wg[0]));},0);});this.j.Mb.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || h.ob(f.Ka.kl);});this.j.addEventListener(f.ha.bu,function(){h.ob(f.Ka.bu);});this.j.addEventListener(f.ha.mY,function(){h.ob(f.Ka.mY);});this.j.state.addListener(function(n){switch(n.newValue){case f.Vb.$d:h.ob(f.Ka.xla);h.ob(f.Ka.dza);h.ob(f.Ka.U2);h.ob(f.Ka.bu);h.ob(f.Ka.R4a);h.J9a();h.U8b();break;case f.Vb.CLOSING:h.j.kh && h.ob(f.Ka.S2a,h.j.kh);break;case f.Vb.CLOSED:(h.ob(f.Ka.closed),h.Hb.Ag());}});this.j.addEventListener(f.ha.VB,function(){h.ob(f.Ka.VB);h.ob(f.Ka.Rn);h.ob(f.Ka.g3);h.ob(f.Ka.xla);});};c.prototype.U8b=function(){var h;h=this;this.j.tn.addEventListener("showsubtitle",function(n){h.ob(f.Ka.bxa,n,!0);});this.j.tn.addEventListener("removesubtitle",function(n){h.ob(f.Ka.lva,n,!0);});this.j.Xn().Bl.addListener(function(){h.ob(f.Ka.ltb);});};c.prototype.J9a=function(){if(this.j.state.value == f.Vb.$d){for(var h,n,p;n=this.B8a.shift();){h=this.j.tn.Fha(n.url,n.name,n.options);n.Tub && (p=h);}p && this.j.Mb.set(p);}};c.prototype.$eb=function(){var h;h=this.j.state.value == f.Vb.$d && this.j.sb.value == f.gb.nq;this.ended !== h && (this.ended=h,this.j.EE("Ended changed: " + h),(h || this.j.state.value === f.Vb.CLOSING) && this.ob(f.Ka.mYa));};c.prototype.RF=function(){var h,n;try{h=/playercore.*js/;n=d.yu.getEntriesByType("resource").filter(function(p){return null !== h.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.qGa=c;},52357:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M;function c(L){this.ac=L;}Object.defineProperty(b,"__esModule",{value:!0});b.DOa=void 0;r=a(5163);l=a(22674);f=a(71501);k=a(74870);d=a(42207);g=a(87386);m=a(15160);h=a(2911);n=a(41106);p=a(41893);q=a(32979);u=a(87607);t=a(95738);v=a(25050);w=a(61861);y=a(62665);x=a(81918);z=a(49745);A=a(37104);B=a(77764);C=a(4203);D=a(44376);F=a(47500);G=a(30869);E=a(78029);H=a(91825);M=a(11479);c.prototype.CK=function(L,K,O,J,I,N){return this.ac.get(C.Xb)().Maa?new v.FOa(this.ac.get(g.ab),this.ac.get(w.zea),this.ac.get(y.Mw),this.ac.get(x.Lc),this.ac.get(z.AD),this.ac.get(m.Fca),this.ac.get(A.Dda),this.ac.get(B.ZEa),this.ac.get(D.lLa),this.ac.get(F.ifa),this.ac.get(F.ifa),this.ac.get(G.bg),this.ac.get(H.NP),this.ac.get(E.Qca),this.ac.get(M.Oh),J,O):new p.qGa(this.ac.get(k.bh),this.ac.get(d.Qf),this.ac.get(g.ab),this.ac.get(m.Fca),this.ac.get(h.bfa),this.ac.get(q.jea),this.ac.get(u.Eca),this.ac.get(t.XJa),this.ac.get(n.dDa),L,K,O,J,I,N);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.nGa))],a);b.DOa=a;},35558:function(r,b,a){r.exports={lnb:a(81198),h$b:a(52915)};},52915:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;}function l(f){this.Se=null;this.ss=f;this.size=0;}b=a(61161);c.prototype.Ng=function(f){return f?this.right:this.left;};c.prototype.gq=function(f,k){f?this.right=k:this.left=k;};l.prototype=new b();l.prototype.qt=function(f){if(null === this.Se)(this.Se=new c(f),this.size++);else for(var k=0,d=null,g=this.Se;;){if(null === g){g=new c(f);d.gq(k,g);ret=!0;this.size++;break;}if(0 === this.ss(g.data,f))break;k=0 > this.ss(g.data,f);d=g;g=g.Ng(k);}};l.prototype.remove=function(f){var k,d,n;if(null === this.Se)return !1;k=new c(void 0);d=k;d.right=this.Se;for(var g=null,m=null,h=1;null !== d.Ng(h);){g=d;d=d.Ng(h);n=this.ss(f,d.data);h=0 < n;0 === n && (m=d);}return null !== m?(m.data=d.data,g.gq(g.right === d,d.Ng(null === d.left)),this.Se=k.right,this.size--,!0):!1;};r.exports=l;},81198:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function l(g){this.Se=null;this.ss=g;this.size=0;}function f(g){return null !== g && g.red;}function k(g,m){var h;h=g.Ng(!m);g.gq(!m,h.Ng(m));h.gq(m,g);g.red=!0;h.red=!1;return h;}function d(g,m){g.gq(!m,k(g.Ng(!m),!m));return k(g,m);}b=a(61161);c.prototype.Ng=function(g){return g?this.right:this.left;};c.prototype.gq=function(g,m){g?this.right=m:this.left=m;};l.prototype=new b();l.prototype.qt=function(g){var m,h,n,p,q,u,t,v;if(null === this.Se)(this.Se=new c(g),this.size++);else {m=new c(void 0);h=0;n=0;p=null;q=m;u=null;t=this.Se;for(q.right=this.Se;;){null === t?(t=new c(g),u.gq(h,t),this.size++):f(t.left) && f(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(f(t) && f(u)){v=q.right === p;t === u.Ng(n)?q.gq(v,k(p,!n)):q.gq(v,d(p,!n));}v=this.ss(t.data,g);if(0 === v)break;n=h;h=0 > v;null !== p && (q=p);p=u;u=t;t=t.Ng(h);}this.Se=m.right;}this.Se.red=!1;};l.prototype.remove=function(g){var m,h,t,v,w;if(null === this.Se)return !1;m=new c(void 0);h=m;h.right=this.Se;for(var n=null,p,q=null,u=1;null !== h.Ng(u);){t=u;p=n;n=h;h=h.Ng(u);v=this.ss(g,h.data);u=0 < v;0 === v && (q=h);if(!f(h) && !f(h.Ng(u)))if(f(h.Ng(!u)))(p=k(h,u),n.gq(t,p),n=p);else if(!f(h.Ng(!u)) && (v=n.Ng(!t),null !== v))if(f(v.Ng(!t)) || f(v.Ng(t))){w=p.right === n;f(v.Ng(t))?p.gq(w,d(n,t)):f(v.Ng(!t)) && p.gq(w,k(n,t));t=p.Ng(w);t.red=!0;h.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,v.red=!0,h.red=!0);}null !== q && (q.data=h.data,n.gq(n.right === h,h.Ng(null === h.left)),this.size--);this.Se=m.right;null !== this.Se && (this.Se.red=!1);return null !== q;};r.exports=l;},61161:function(r){function b(){}function a(c){this.rRa=c;this.So=[];this.fg=null;}b.prototype.clear=function(){this.Se=null;this.size=0;};b.prototype.find=function(c){var f;for(var l=this.Se;null !== l;){f=this.ss(c,l.data);if(0 === f)return l.data;l=l.Ng(0 < f);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Se,f=this.iterator(),k=this.ss;null !== l;){d=k(c,l.data);if(0 === d)return (f.fg=l,f);f.So.push(l);l=l.Ng(0 < d);}for(d=f.So.length - 1;0 <= d;--d){if((l=f.So[d],0 > k(c,l.data)))return (f.fg=l,f.So.length=d,f);}f.So.length=0;return f;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),f=this.ss;null !== l.data() && 0 === f(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Se;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Se;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.zp=function(c){for(var l=this.iterator(),f;null !== (f=l.next());){c(f);}};a.prototype.data=function(){return null !== this.fg?this.fg.data:null;};a.prototype.next=function(){var c;if(null === this.fg){c=this.rRa.Se;null !== c && this.oQa(c);}else if(null === this.fg.right){do {if((c=this.fg,this.So.length))this.fg=this.So.pop();else {this.fg=null;break;}}while(this.fg.right === c);}else (this.So.push(this.fg),this.oQa(this.fg.right));return null !== this.fg?this.fg.data:null;};a.prototype.gH=function(){var c;if(null === this.fg){c=this.rRa.Se;null !== c && this.jQa(c);}else if(null === this.fg.left){do {if((c=this.fg,this.So.length))this.fg=this.So.pop();else {this.fg=null;break;}}while(this.fg.left === c);}else (this.So.push(this.fg),this.jQa(this.fg.left));return null !== this.fg?this.fg.data:null;};a.prototype.oQa=function(c){for(;null !== c.left;){this.So.push(c);c=c.left;}this.fg=c;};a.prototype.jQa=function(c){for(;null !== c.right;){this.So.push(c);c=c.right;}this.fg=c;};r.exports=b;},62680:function(r,b,a){var c,l,f;c=a(67286);l=a(89429);f=l(c("String.prototype.indexOf"));r.exports=function(k,d){d=c(k,!!d);return "function" === typeof d && -1 < f(k,".prototype.")?l(d):d;};},89429:function(r,b,a){var l,f,k,d,g,m,h;function c(){return d(l,f,arguments);}l=a(4090);b=a(67286);f=b("%Function.prototype.apply%");k=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(k,f);g=b("%Object.getOwnPropertyDescriptor%",!0);m=b("%Object.defineProperty%",!0);h=b("%Math.max%");if(m)try{m({},"a",{value:1});}catch(n){m=null;}r.exports=function(n){var p;p=d(l,k,arguments);g && m && g(p,"length").configurable && m(p,"length",{value:1 + h(0,n.length - (arguments.length - 1))});return p;};m?m(r.exports,"apply",{value:c}):r.exports.apply=c;},14926:function(r,b,a){var c,l,f,k,d,g;c=a(33464);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");f=Object.prototype.toString;k=Array.prototype.concat;d=Object.defineProperty;b=a(81181)();g=d && b;r.exports=function(m,h){var n,p,u,t,v,w;n=2 < arguments.length?arguments[2]:{};p=c(h);l && (p=k.call(p,Object.getOwnPropertySymbols(h)));for(var q=0;q < p.length;q+=1){u=m;t=p[q];v=h[p[q]];w=n[p[q]];if(!((t in u)) || "function" === typeof w && "[object Function]" === f.call(w) && w())g?d(u,t,{configurable:!0,enumerable:!1,value:v,writable:!0}):u[t]=v;}};},5885:function(r,b,a){var c,l,f,k,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(53919);f=a(9680);k=a(54277);d=a(88705);r.exports=function(g){var m,h,n;if(l(g))return g;m="default";1 < arguments.length && (arguments[1] === String?m="string":arguments[1] === Number && (m="number"));if(c)if(Symbol.toPrimitive){h=Symbol.toPrimitive;n=g[h];if(null !== n && "undefined" !== typeof n){if(!f(n))throw new TypeError(n + " returned for property " + h + " of object " + g + " is not a function");h=n;}else h=void 0;}else d(g) && (h=Symbol.prototype.valueOf);if("undefined" !== typeof h){m=h.call(g,m);if(l(m))return m;throw new TypeError("unable to convert exotic object to primitive");}"default" === m && (k(g) || d(g)) && (m="string");a:{m="default" === m?"number":m;if("undefined" === typeof g || null === g)throw new TypeError("Cannot call method on " + g);if("string" !== typeof m || "number" !== m && "string" !== m)throw new TypeError('hint must be "string" or "number"');m="string" === m?["toString","valueOf"]:["valueOf","toString"];for(h=0;h < m.length;++h){if((n=g[m[h]],f(n) && (n=n.call(g),l(n))))break a;}throw new TypeError("No default value");}return n;};},53919:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(r){function b(){this.ib=this.ib || ({});this.Bs=this.Bs || void 0;}function a(l){return "function" === typeof l;}function c(l){return "object" === typeof l && null !== l;}r.exports=b;b.EventEmitter=b;b.prototype.ib=void 0;b.prototype.Bs=void 0;b.ala=10;b.prototype.setMaxListeners=function(l){if("number" !== typeof l || 0 > l || isNaN(l))throw TypeError("n must be a positive number");this.Bs=l;return this;};b.prototype.emit=function(l){var f,k,d,g;this.ib || (this.ib={});if("error" === l && (!this.ib.error || c(this.ib.error) && !this.ib.error.length)){k=arguments[1];if(k instanceof Error)throw k;d=Error('Uncaught, unspecified "error" event. (' + k + ")");d.context=k;throw d;}d=this.ib[l];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(k=Array.prototype.slice.call(arguments,1),d.apply(this,k));}else if(c(d)){k=Array.prototype.slice.call(arguments,1);g=d.slice();d=g.length;for(f=0;f < d;f++){g[f].apply(this,k);}}return !0;};b.prototype.addListener=function(l,f){if(!a(f))throw TypeError("listener must be a function");this.ib || (this.ib={});this.ib.ITb && this.emit("newListener",l,a(f.listener)?f.listener:f);this.ib[l]?c(this.ib[l])?this.ib[l].push(f):this.ib[l]=[this.ib[l],f]:this.ib[l]=f;c(this.ib[l]) && !this.ib[l].jza && (f=void 0 === this.Bs?b.ala:this.Bs) && 0 < f && this.ib[l].length > f && (this.ib[l].jza=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.ib[l].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(l,f){var d;function k(){this.removeListener(l,k);d || (d=!0,f.apply(this,arguments));}if(!a(f))throw TypeError("listener must be a function");d=!1;k.listener=f;this.on(l,k);return this;};b.prototype.removeListener=function(l,f){var k,d,g;if(!a(f))throw TypeError("listener must be a function");if(!this.ib || !this.ib[l])return this;k=this.ib[l];d=k.length;g=-1;if(k === f || a(k.listener) && k.listener === f)(delete this.ib[l],this.ib.removeListener && this.emit("removeListener",l,f));else if(c(k)){for(;0 < d--;){if(k[d] === f || k[d].listener && k[d].listener === f){g=d;break;}}if(0 > g)return this;1 === k.length?(k.length=0,delete this.ib[l]):k.splice(g,1);this.ib.removeListener && this.emit("removeListener",l,f);}return this;};b.prototype.removeAllListeners=function(l){var f;if(!this.ib)return this;if(!this.ib.removeListener)return (0 === arguments.length?this.ib={}:this.ib[l] && delete this.ib[l],this);if(0 === arguments.length){for(f in this.ib){"removeListener" !== f && this.removeAllListeners(f);}this.removeAllListeners("removeListener");this.ib={};return this;}f=this.ib[l];if(a(f))this.removeListener(l,f);else if(f)for(;f.length;){this.removeListener(l,f[f.length - 1]);}delete this.ib[l];return this;};b.prototype.listeners=function(l){return this.ib && this.ib[l]?a(this.ib[l])?[this.ib[l]]:this.ib[l].slice():[];};b.prototype.listenerCount=function(l){if(this.ib){l=this.ib[l];if(a(l))return 1;if(l)return l.length;}return 0;};b.listenerCount=function(l,f){return l.listenerCount(f);};},37795:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var f=b.call(arguments,1),k,d=Math.max(0,l.length - f.length),g=[],m=0;m < d;m++){g.push("$" + m);}k=Function("binder","return function (" + g.join(",") + "){ return binder.apply(this,arguments); }")(function(){var h;if(this instanceof k){h=l.apply(this,f.concat(b.call(arguments)));return Object(h) === h?h:this;}return l.apply(c,f.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,k.prototype=new d(),d.prototype=null);return k;};},4090:function(r,b,a){b=a(37795);r.exports=Function.prototype.bind || b;},67286:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D;function c(F){var G,E,H;G=A(F,0,1);E=A(F,-1);if("%" === G && "%" !== E)throw new k("invalid intrinsic syntax, expected closing `%`");if("%" === E && "%" !== G)throw new k("invalid intrinsic syntax, expected opening `%`");H=[];z(F,C,function(M,L,K,O){H[H.length]=K?z(O,D,"$1"):L || M;});return H;}function l(){throw new g();}function f(F){try{return d('"use strict"; return (' + F + ").constructor;")();}catch(G){}}k=SyntaxError;d=Function;g=TypeError;m=Object.getOwnPropertyDescriptor;if(m)try{m({},"");}catch(F){m=null;}b=m?(function(){try{return (arguments.callee,l);}catch(F){try{return m(arguments,"callee").get;}catch(G){return l;}}})():l;h=a(32636)();n=Object.getPrototypeOf || (function(F){return F.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && h?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && h?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?n(("")[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":k,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":g,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(F){b=n(n(F));u["%Error.prototype%"]=b;}t=function E(G){var H,M;if("%AsyncFunction%" === G)H=f("async function () {}");else if("%GeneratorFunction%" === G)H=f("function* () {}");else if("%AsyncGeneratorFunction%" === G)H=f("async function* () {}");else if("%AsyncGenerator%" === G){M=E("%AsyncGeneratorFunction%");M && (H=M.prototype);}else "%AsyncIteratorPrototype%" === G && (M=E("%AsyncGenerator%")) && (H=n(M.prototype));return u[G]=H;};v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(4090);w=a(23198);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,E){var H,M,L,K,O,J,I,N,R;if("string" !== typeof G || 0 === G.length)throw new g("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof E)throw new g('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");H=c(G);M=0 < H.length?H[0]:"";L="%" + M + "%";K=L;if(w(v,K)){O=v[K];K="%" + O[0] + "%";}if(w(u,K)){J=u[K];J === p && (J=t(K));if("undefined" === typeof J && !E)throw new g("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new k("intrinsic " + L + " does not exist!");L=J;K=!1;O && (M=O[0],x(H,y([0,1],O)));O=1;for(J=!0;O < H.length;O+=1){I=H[O];N=A(I,0,1);R=A(I,-1);if(('"' === N || "'" === N || "`" === N || '"' === R || "'" === R || "`" === R) && N !== R)throw new k("property names with quotes must have matching quotes");"constructor" !== I && J || (K=!0);M+="." + I;N="%" + M + "%";if(w(u,N))L=u[N];else if(null != L){if(!((I in L))){if(!E)throw new g("base intrinsic for " + G + " exists, but the property is not available.");return;}m && O + 1 >= H.length?(R=m(L,I),L=(J=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:L[I]):(J=w(L,I),L=L[I]);J && !K && (u[N]=L);}}return L;};},81181:function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(f){}return !1;}l=a(67286)("%Object.defineProperty%",!0);c.vMb=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(f){return !0;}};r.exports=c;},32636:function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(66679);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},66679:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(r,b,a){var c;c=a(66679);r.exports=function(){return c() && !!Symbol.toStringTag;};},23198:function(r,b,a){b=a(4090);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},28041:function(r,b,a){var f,k;function c(d,g,m,h,n){var p,q,t;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():m;if(q && void 0 !== m)throw Error(f.Fkb);Reflect.Qoa(d,g) && (p=Reflect.getMetadata(d,g));m=p[n];if(Array.isArray(m)){q=0;for(var u=m;q < u.length;q++){t=u[q];if(t.key === h.key)throw Error(f.hjb + " " + t.key.toString());}}else m=[];m.push(h);p[n]=m;Reflect.f4(d,p,g);}function l(d,g){return function(m,h){g(m,h,d);};}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(37425);b.VH=function(d,g,m,h){c(k.ENa,d,g,h,m);};b.XX=function(d,g,m){c(k.FNa,d.constructor,g,m);};b.WA=function(d,g,m){"number" === typeof m?(d=[l(m,d)],Reflect.WA(d,g)):"string" === typeof m?Reflect.WA([d],g,m):Reflect.WA([d],g);};},29385:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);f=a(67258);k=a(28041);r=(function(){function d(g){this.Cob=g;}d.prototype.R6b=function(){return this.Cob();};return d;})();b.kda=r;b.l=function(d){return function(g,m,h){var n;if(void 0 === d)throw Error(c.bob(g.name));n=new f.Metadata(l.CP,d);"number" === typeof h?k.VH(g,m,h,n):k.XX(g,m,n);};};},16504:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);b.T=function(){return function(f){var k;if(Reflect.Qoa(l.Wda,f))throw Error(c.gjb);k=Reflect.getMetadata(l.Eib,f) || [];Reflect.f4(l.Wda,k,f);return f;};};},3342:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.JG=function(k){return function(d,g,m){var h;h=new l.Metadata(c.zD,k);"number" === typeof m?f.VH(d,g,m,h):f.XX(d,g,h);};};},44466:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.O6a=function(k){return function(d,g,m){var h;h=new l.Metadata(c.Pz,k);"number" === typeof m?f.VH(d,g,m,h):f.XX(d,g,h);};};},5923:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.optional=function(){return function(k,d,g){var m;m=new l.Metadata(c.cJa,!0);"number" === typeof g?f.VH(k,d,g,m):f.XX(k,d,m);};};},76311:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);f=a(67258);b.i9a=function(){return function(k,d){d=new f.Metadata(l.eQ,d);if(Reflect.Qoa(l.eQ,k.constructor))throw Error(c.wlb);Reflect.f4(l.eQ,d,k.constructor);};};},91823:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(67258);l=a(28041);b.Cdb=function(f,k){return function(d,g,m){var h;h=new c.Metadata(f,k);"number" === typeof m?l.VH(d,g,m,h):l.XX(d,g,h);};};},67509:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.YX=function(k){return function(d,g,m){var h;h=new l.Metadata(c.d0,k);f.VH(d,g,m,h);};};},53022:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.un=function(){return function(k,d,g){var m;m=new l.Metadata(c.uQ,!0);f.VH(k,d,g,m);};};},70078:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(72632);r=(function(){function f(k,d){this.id=l.id();this.zha=!1;this.Zf=k;this.scope=d;this.type=c.cj.Tkb;this.cF=function(){return !0;};this.QK=this.Nv=this.Uy=this.iL=this.cache=this.Sl=null;}f.prototype.clone=function(){var k;k=new f(this.Zf,this.scope);k.zha=!1;k.Sl=this.Sl;k.QK=this.QK;k.scope=this.scope;k.type=this.type;k.iL=this.iL;k.Uy=this.Uy;k.cF=this.cF;k.Nv=this.Nv;k.cache=this.cache;return k;};return f;})();b.Ihb=r;},57197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sba={ebc:2,TIa:0,Xlb:1};},25640:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gjb="Cannot apply @injectable decorator multiple times.";b.hjb="Metadata key was used more than once in a parameter:";b.$P="NULL argument";b.vGa="Key Not Found";b.Lgb="Ambiguous match found for serviceIdentifier:";b.$hb="Could not unbind serviceIdentifier:";b.Ilb="No matching bindings found for serviceIdentifier:";b.jlb="Missing required @injectable annotation in:";b.klb="Missing required @inject or @multiInject annotation in:";b.bob=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.cib="Circular dependency found:";b.wbc="Sorry, this feature is not fully implemented yet.";b.Ekb="Invalid binding type:";b.Klb="No snapshot available to restore.";b.Ikb="Invalid return type in middleware. Middleware must return!";b.Hkb="Value provided to function binding must be a function!";b.Jkb="The toSelf function can only be applied when a constructor is used as service identifier";b.Fkb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Ngb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.qib="Invalid Container constructor argument. Container options must be an object.";b.oib="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.nib="Invalid Container option. Auto bind injectable must be a boolean";b.pib="Invalid Container option. Skip base check must be a boolean";b.wlb="Cannot apply @postConstruct decorator multiple times in the same class";b.Rmb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.dib=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Fnb="Maximum call stack size exceeded";},5493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vr={Request:"Request",dfa:"Singleton",W0:"Transient"};b.cj={pCa:"ConstantValue",qCa:"Constructor",xDa:"DynamicValue",Hca:"Factory",Function:"Function",Instance:"Instance",Tkb:"Invalid",YLa:"Provider"};b.bx={fCa:"ClassProperty",rCa:"ConstructorArgument",vfa:"Variable"};},37425:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pz="named";b.d0="name";b.uQ="unmanaged";b.cJa="optional";b.CP="inject";b.zD="multi_inject";b.ENa="inversify:tagged";b.FNa="inversify:tagged_props";b.Wda="inversify:paramtypes";b.Eib="design:paramtypes";b.eQ="post_construct";},99700:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u;c=this && this.__awaiter || (function(t,v,w,y){return new (w || (w=Promise))(function(x,z){function A(D){try{C(y.next(D));}catch(F){z(F);}}function B(D){try{C(y["throw"](D));}catch(F){z(F);}}function C(D){D.done?x(D.value):new w(function(F){F(D.value);}).then(A,B);}C((y=y.apply(t,v || [])).next());});});l=this && this.__generator || (function(t,v){var x,z,A,B,C;function w(D){return function(F){return y([D,F]);};}function y(D){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,A && (B=A[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(A,D[1])).done))return B;if((A=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (x.label++,{value:D[1],done:!1});case 5:x.label++;A=D[1];D=[0];continue;case 7:D=x.PG.pop();x.Qj.pop();continue;default:if(!(B=x.Qj,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){x=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))x.label=D[1];else if(6 === D[0] && x.label < B[1])(x.label=B[1],B=D);else if(B && x.label < B[2])(x.label=B[2],x.PG.push(D));else {B[2] && x.PG.pop();x.Qj.pop();continue;}}D=v.call(t,x);}catch(F){D=[6,F];A=0;}finally{z=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}x={label:0,Ta:function(){if(B[0] & 1)throw B[1];return B[1];},Qj:[],PG:[]};return (C={next:w(0),"throw":w(1),"return":w(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});f=a(70078);k=a(25640);d=a(5493);a(37425);g=a(11499);m=a(75262);h=a(85933);n=a(49825);p=a(72632);q=a(48530);a(95817);u=a(62240);r=(function(){function t(v){v=v || ({});if("object" !== typeof v)throw Error("" + k.qib);if(void 0 === v.gF)v.gF=d.Vr.W0;else if(v.gF !== d.Vr.dfa && v.gF !== d.Vr.W0 && v.gF !== d.Vr.Request)throw Error("" + k.oib);if(void 0 === v.eS)v.eS=!1;else if("boolean" !== typeof v.eS)throw Error("" + k.nib);if(void 0 === v.KH)v.KH=!1;else if("boolean" !== typeof v.KH)throw Error("" + k.pib);this.options={eS:v.eS,gF:v.gF,KH:v.KH};this.id=p.id();this.UD=new u.alb();this.trb=[];this.parent=this.Pga=null;this.bqb=new g.Ida();}t.Mp=function(v,w){var x,z;function y(A,B){A.j6b(function(C,D){D.forEach(function(F){B.add(F.Zf,F.clone());});});}x=new t();z=m.lna(x);v=m.lna(v);w=m.lna(w);y(v,z);y(w,z);return x;};t.prototype.load=function(){var x,z;for(var v=[],w=0;w < arguments.length;w++){v[w]=arguments[w];}w=this.FPa();for(var y=0;y < v.length;y++){x=v[y];z=w(x.id);x.gva(z.tTa,z.Jeb,z.L3a,z.q$a);}};t.prototype.aV=function(){for(var v=[],w=0;w < arguments.length;w++){v[w]=arguments[w];}c(this,void 0,void 0,function(){var y,x,z,A,B;return l(this,function(C){switch(C.label){case 0:(y=this.FPa(),x=0,z=v,C.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.gva(B.tTa,B.Jeb,B.L3a,B.q$a)];case 2:(C.Ta(),C.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.Oeb=function(){function v(z){return function(A){return A.C6a === z;};}for(var w=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=v(z.id);w.UD.t_b(z);});};t.prototype.bind=function(v){var w;w=new f.Ihb(v,this.options.gF || d.Vr.W0);this.UD.add(v,w);return new n.Khb(w);};t.prototype.xZb=function(v){this.Ieb(v);return this.bind(v);};t.prototype.Ieb=function(v){try{this.UD.remove(v);}catch(w){throw Error(k.$hb + " " + q.GL(v));}};t.prototype.c3a=function(v){var w;w=this.UD.y1a(v);!w && this.parent && (w=this.parent.c3a(v));return w;};t.prototype.restore=function(){var v;v=this.trb.pop();if(void 0 === v)throw Error(k.Klb);this.UD=v.hS;this.Pga=v.OSb;};t.prototype.xAb=function(){var v;v=new t(this.options);v.parent=this;return v;};t.prototype.get=function(v){return this.EPa(!1,!1,d.bx.vfa,v);};t.prototype.getAll=function(v){return this.EPa(!0,!0,d.bx.vfa,v);};t.prototype.resolve=function(v){var w;w=this.xAb();w.bind(v).feb();return w.get(v);};t.prototype.FPa=function(){var z;function v(A){return function(B){B=z.xZb.bind(z)(B);B.yc.C6a=A;return B;};}function w(){return function(A){return z.c3a.bind(z)(A);};}function y(){return function(A){z.Ieb.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.yc.C6a=A;return B;};}z=this;return function(A){return {tTa:x(A),L3a:w(A),q$a:v(A),Jeb:y(A)};};};t.prototype.EPa=function(v,w,y,x){var z;z=null;v={Wub:v,Eyb:function(A){return A;},XOb:w,key:void 0,Zf:x,i5b:y,value:void 0};if(this.Pga){if((z=this.Pga(v),void 0 === z || null === z))throw Error(k.Ikb);}else z=this.Pqb()(v);return z;};t.prototype.Pqb=function(){var v;v=this;return function(w){var y;y=m.cN(v.bqb,v,w.XOb,w.i5b,w.Zf,w.key,w.value,w.Wub);y=w.Eyb(y);return h.resolve(y);};};return t;})();b.tZ=r;},51164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);b.dd=(function(){return function(l){this.id=c.id();this.gva=l;};})();b.MAa=(function(){return function(l){this.id=c.id();this.gva=l;};})();},95817:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v$b=(function(){function a(){}a.of=function(c,l){var f;f=new a();f.hS=c;f.OSb=l;return f;};return a;})();},62240:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);r=(function(){function l(){this.qf=new Map();}l.prototype.add=function(f,k){var d;if(null === f || void 0 === f)throw Error(c.$P);if(null === k || void 0 === k)throw Error(c.$P);d=this.qf.get(f);void 0 !== d?(d.push(k),this.qf.set(f,d)):this.qf.set(f,[k]);};l.prototype.get=function(f){if(null === f || void 0 === f)throw Error(c.$P);f=this.qf.get(f);if(void 0 !== f)return f;throw Error(c.vGa);};l.prototype.remove=function(f){if(null === f || void 0 === f)throw Error(c.$P);if(!this.qf.delete(f))throw Error(c.vGa);};l.prototype.t_b=function(f){var k;k=this;this.qf.forEach(function(d,g){d=d.filter(function(m){return !f(m);});0 < d.length?k.qf.set(g,d):k.qf.delete(g);});};l.prototype.y1a=function(f){if(null === f || void 0 === f)throw Error(c.$P);return this.qf.has(f);};l.prototype.clone=function(){var f;f=new l();this.qf.forEach(function(k,d){k.forEach(function(g){return f.add(d,g.clone());});});return f;};l.prototype.j6b=function(f){this.qf.forEach(function(k,d){f(d,k);});};return l;})();b.alb=r;},22674:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);b.Uac=r;r=a(99700);b.tZ=r.tZ;r=a(5493);b.Vr=r.Vr;b.cj=r.cj;b.bx=r.bx;r=a(51164);b.MAa=r.MAa;b.dd=r.dd;r=a(16504);b.T=r.T;r=a(91823);b.Cdb=r.Cdb;r=a(44466);b.O6a=r.O6a;r=a(29385);b.l=r.l;b.kda=r.kda;r=a(5923);b.optional=r.optional;r=a(53022);b.un=r.un;r=a(3342);b.JG=r.JG;r=a(67509);b.YX=r.YX;r=a(76311);b.i9a=r.i9a;r=a(11499);b.Ida=r.Ida;r=a(72632);b.id=r.id;r=a(28041);b.WA=r.WA;r=a(41146);b.zeb=r.zeb;b.Ddb=r.Ddb;b.P6a=r.P6a;b.Heb=r.Heb;r=a(48530);b.GL=r.GL;a=a(14577);b.L6a=a.L6a;},91734:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(f){this.id=c.id();this.kb=f;}l.prototype.Msb=function(f){this.cN=f;};return l;})();b.uCa=r;},67258:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(f,k){this.key=f;this.value=k;}l.prototype.toString=function(){return this.key === c.Pz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},11499:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(){}l.prototype.o_a=function(f){var k;k=Reflect.getMetadata(c.Wda,f);f=Reflect.getMetadata(c.ENa,f);return {fVa:k,Y7b:f || ({})};};l.prototype.NKb=function(f){return Reflect.getMetadata(c.FNa,f) || [];};return l;})();b.Ida=r;},4595:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zmb=(function(){return function(a,c){this.WM=a;this.Rva=c;};})();},75262:function(r,b,a){var d,g,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,C){var D,F;D=k(A.kb,C.Zf);F=[];D.length === d.Sba.TIa && A.kb.options.eS && "function" === typeof C.Zf && x.o_a(C.Zf).fVa && (A.kb.bind(C.Zf).feb(),D=k(A.kb,C.Zf));F=z?D:D.filter(function(G){var E;E=new w.Request(G.Zf,A,B,G,C);return G.cF(E);});l(C.Zf,F,C,A.kb);return F;}function l(x,z,A,B){switch(z.length){case d.Sba.TIa:if(A.s3a())return z;x=p.GL(x);z=g.Ilb;z+=p.fQb(x,A);z+=p.H4a(B,x,k);throw Error(z);case d.Sba.Xlb:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.GL(x);z=g.Lgb + " " + x;z+=p.H4a(B,x,k);throw Error(z);}}function f(x,z,A,B,C,D){var F;if(null === C){z=c(x,z,B,null,D);F=new w.Request(A,B,null,z,D);A=new t.Zmb(B,F);B.Msb(A);}else (z=c(x,z,B,C,D),F=C.NRa(D.Zf,z,D));z.forEach(function(G){var E,H,M;E=null;if(D.isArray())E=F.NRa(G.Zf,G,D);else {if(G.cache)return;E=F;}if(G.type === m.cj.Instance && null !== G.Sl){H=v.RIb(x,G.Sl);if(!B.kb.options.KH){M=v.pIb(x,G.Sl);if(H.length < M)throw (G=g.Ngb(v.getFunctionName(G.Sl)),Error(G));}H.forEach(function(L){f(x,!1,L.Zf,B,E,L);});}});}function k(x,z){var A,B;A=[];B=x.UD;B.y1a(z)?A=B.get(z):null !== x.parent && (A=k(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(57197);g=a(25640);m=a(5493);h=a(37425);n=a(69523);p=a(48530);q=a(91734);u=a(67258);t=a(4595);v=a(34912);w=a(22929);y=a(23927);b.lna=function(x){return x.UD;};b.cN=function(x,z,A,B,C,D,F,G){void 0 === G && (G=!1);z=new q.uCa(z);A=new u.Metadata(A?h.zD:h.CP,C);B=new y.U0(B,"",C,A);void 0 !== D && (D=new u.Metadata(D,F),B.Ud.push(D));try{return (f(x,G,C,z,null,B),z);}catch(E){throw (n.D3a(E) && z.cN && p.xxb(z.cN.Rva),E);}};b.Cec=function(x,z,A,B){A=new y.U0(m.bx.vfa,"",z,new u.Metadata(A,B));x=new q.uCa(x);return new w.Request(z,x,null,[],A);};},11625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.fO=c;}a.prototype.startsWith=function(c){return 0 === this.fO.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.fO.split("").reverse().join("");return this.startsWith.call({fO:c},l);};a.prototype.contains=function(c){return -1 !== this.fO.indexOf(c);};a.prototype.equals=function(c){return this.fO === c;};a.prototype.value=function(){return this.fO;};return a;})();b.jnb=r;},34912:function(r,b,a){var d,g,m,h,n,p;function c(q,u,t,v){var w,y,x,z,B,C,D,F,G,E,H,M;w=q.o_a(t);y=w.fVa;if(void 0 === y)throw Error(g.jlb + " " + u + ".");w=w.Y7b;x=Object.keys(w);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;C=v;D=u;F=y;G=w[B.toString()] || [];E=k(G);H=!0 !== E.un;F=F[B];M=E.l || E.JG;F=M?M:F;F instanceof d.kda && (F=F.R6b());if(H){H=F === Function;H=F === Object || H || void 0 === F;if(!C && H)throw Error(g.klb + " argument " + B + " in class " + D + ".");B=new p.U0(m.bx.rCa,E.YX,F);B.Ud=G;G=B;}else G=null;null !== G && x.push(G);}q=l(q,t);return x.concat(q);}function l(q,u){var x,z,A;for(var t=q.NKb(u),v=[],w=0,y=Object.keys(t);w < y.length;w++){x=y[w];z=t[x];A=k(t[x]);x=new p.U0(m.bx.fCa,A.YX || x,A.l || A.JG);x.Ud=z;v.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=l(q,u),v=v.concat(q));return v;}function f(q,u){var t,v;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=n.getFunctionName(u);t=c(q,t,u,!0);v=t.map(function(w){return w.Ud.filter(function(y){return y.key === h.uQ;});});v=[].concat.apply([],v).length;t=t.length - v;return 0 < t?t:f(q,u);}return 0;}function k(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[h.CP],JG:u[h.zD],YX:u[h.d0],un:u[h.uQ]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(29385);g=a(25640);m=a(5493);h=a(37425);n=a(48530);b.getFunctionName=n.getFunctionName;p=a(23927);b.RIb=function(q,u){var t;t=n.getFunctionName(u);return c(q,t,u,!1);};b.pIb=f;},22929:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(f,k,d,g,m){this.id=c.id();this.Zf=f;this.WM=k;this.Ny=d;this.target=m;this.Gja=[];this.hS=Array.isArray(g)?g:[g];this.W_b=null === d?new Map():null;}l.prototype.NRa=function(f,k,d){f=new l(f,this.WM,this,k,d);this.Gja.push(f);return f;};return l;})();b.Request=r;},23927:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(72632);f=a(67258);k=a(11625);r=(function(){function d(g,m,h,n){this.id=l.id();this.type=g;this.Zf=h;this.name=new k.jnb(m || "");this.Ud=[];g=null;"string" === typeof n?g=new f.Metadata(c.Pz,n):n instanceof f.Metadata && (g=n);null !== g && this.Ud.push(g);}d.prototype.G1a=function(g){for(var m=0,h=this.Ud;m < h.length;m++){if(h[m].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.G1a(c.zD);};d.prototype.MRb=function(g){return this.vra(c.zD)(g);};d.prototype.Vpa=function(){return this.G1a(c.Pz);};d.prototype.fqa=function(){return this.Ud.some(function(g){return g.key !== c.CP && g.key !== c.zD && g.key !== c.d0 && g.key !== c.uQ && g.key !== c.Pz;});};d.prototype.s3a=function(){return this.vra(c.cJa)(!0);};d.prototype.hKb=function(){return this.Vpa()?this.Ud.filter(function(g){return g.key === c.Pz;})[0]:null;};d.prototype.OIb=function(){return this.fqa()?this.Ud.filter(function(g){return g.key !== c.CP && g.key !== c.zD && g.key !== c.d0 && g.key !== c.uQ && g.key !== c.Pz;}):null;};d.prototype.vra=function(g){var m;m=this;return function(h){var q;for(var n=0,p=m.Ud;n < p.length;n++){q=p[n];if(q.key === g && q.value === h)return !0;}return !1;};};return d;})();b.U0=r;},40198:function(r,b,a){var f,k,d;function c(g,m,h){var n;m=m.filter(function(p){return null !== p.target && p.target.type === k.bx.fCa;});n=m.map(h);m.forEach(function(p,q){p=p.target.name.value();g[p]=n[q];});return g;}function l(g,m){var h;if(Reflect.DMb(d.eQ,g)){h=Reflect.getMetadata(d.eQ,g);try{m[h.value]();}catch(n){throw Error(f.Rmb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(5493);d=a(37425);b.i0b=function(g,m,h){var n;n=null;0 < m.length?(n=m.filter(function(p){return null !== p.target && p.target.type === k.bx.rCa;}).map(h),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,m,h)):n=new g();l(g,n);return n;};},85933:function(r,b,a){var f,k,d,g,m;function c(h){return function(n){var p,q,u,t,v;p=n.hS;q=n.Gja;u=n.target && n.target.isArray();t=!n.Ny || !n.Ny.target || !n.target || !n.Ny.target.MRb(n.target.Zf);if(u && t)return q.map(function(w){return c(h)(w);});u=null;if(!n.target.s3a() || 0 !== p.length){v=p[0];p=v.scope === k.Vr.dfa;t=v.scope === k.Vr.Request;if(p && v.zha)return v.cache;if(t && null !== h && h.has(v.id))return h.get(v.id);if(v.type === k.cj.pCa)u=v.cache;else if(v.type === k.cj.Function)u=v.cache;else if(v.type === k.cj.qCa)u=v.Sl;else if(v.type === k.cj.xDa && null !== v.QK)u=l("toDynamicValue",v.Zf,function(){return v.QK(n.WM);});else if(v.type === k.cj.Hca && null !== v.iL)u=l("toFactory",v.Zf,function(){return v.iL(n.WM);});else if(v.type === k.cj.YLa && null !== v.Uy)u=l("toProvider",v.Zf,function(){return v.Uy(n.WM);});else if(v.type === k.cj.Instance && null !== v.Sl)u=m.i0b(v.Sl,q,c(h));else throw (q=g.GL(n.Zf),Error(f.Ekb + " " + q));"function" === typeof v.Nv && (u=v.Nv(n.WM,u));p && (v.cache=u,v.zha=!0);t && null !== h && !h.has(v.id) && h.set(v.id,u);return u;}};}function l(h,n,p){try{return p();}catch(q){if(d.D3a(q))throw Error(f.dib(h,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(5493);d=a(69523);g=a(48530);m=a(40198);b.resolve=function(h){return c(h.cN.Rva.W_b)(h.cN.Rva);};},51580:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(75714);r=(function(){function f(k){this.yc=k;}f.prototype.ga=function(){this.yc.scope=c.Vr.dfa;return new l.cD(this.yc);};f.prototype.kpa=function(){this.yc.scope=c.Vr.W0;return new l.cD(this.yc);};return f;})();b.Jhb=r;},61142:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(51580);l=a(1003);f=a(7190);r=(function(){function k(d){this.yc=d;this.FQ=new f.Tba(this.yc);this.Ifa=new l.fZ(this.yc);this.hPa=new c.Jhb(d);}k.prototype.ga=function(){return this.hPa.ga();};k.prototype.kpa=function(){return this.hPa.kpa();};k.prototype.when=function(d){return this.FQ.when(d);};k.prototype.KY=function(){return this.FQ.KY();};k.prototype.Nv=function(d){return this.Ifa.Nv(d);};return k;})();b.bBa=r;},1003:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(7190);r=(function(){function l(f){this.yc=f;}l.prototype.Nv=function(f){this.yc.Nv=f;return new c.Tba(this.yc);};return l;})();b.fZ=r;},49825:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(5493);f=a(61142);k=a(75714);r=(function(){function d(g){this.yc=g;}d.prototype.to=function(g){this.yc.type=l.cj.Instance;this.yc.Sl=g;return new f.bBa(this.yc);};d.prototype.feb=function(){if("function" !== typeof this.yc.Zf)throw Error("" + c.Jkb);this.to(this.yc.Zf);};d.prototype.ll=function(g){this.yc.type=l.cj.pCa;this.yc.cache=g;this.yc.QK=null;this.yc.Sl=null;new k.cD(this.yc);};d.prototype.PC=function(g){this.yc.type=l.cj.xDa;this.yc.cache=null;this.yc.QK=g;this.yc.Sl=null;return new f.bBa(this.yc);};d.prototype.S5b=function(g){this.yc.type=l.cj.qCa;this.yc.Sl=g;new k.cD(this.yc);};d.prototype.Xd=function(g){this.yc.type=l.cj.Hca;this.yc.iL=g;new k.cD(this.yc);};d.prototype.T5b=function(g){if("function" !== typeof g)throw Error(c.Hkb);this.ll(g);this.yc.type=l.cj.Function;};d.prototype.deb=function(g){this.yc.type=l.cj.Hca;this.yc.iL=function(m){return function(){return m.kb.get(g);};};new k.cD(this.yc);};d.prototype.hY=function(g){this.yc.type=l.cj.YLa;this.yc.Uy=g;new k.cD(this.yc);};d.prototype.V5b=function(g){this.PC(function(m){return m.kb.get(g);});};return d;})();b.Khb=r;},75714:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);l=a(7190);r=(function(){function f(k){this.yc=k;this.FQ=new l.Tba(this.yc);this.Ifa=new c.fZ(this.yc);}f.prototype.when=function(k){return this.FQ.when(k);};f.prototype.KY=function(){return this.FQ.KY();};f.prototype.Nv=function(k){return this.Ifa.Nv(k);};return f;})();b.cD=r;},7190:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);a(41146);r=(function(){function l(f){this.yc=f;}l.prototype.when=function(f){this.yc.cF=f;return new c.fZ(this.yc);};l.prototype.KY=function(){this.yc.cF=function(f){return null !== f.target && !f.target.Vpa() && !f.target.fqa();};return new c.fZ(this.yc);};return l;})();b.Tba=r;},41146:function(r,b,a){var f;function c(k){return function(d){function g(m){return null !== m && null !== m.target && m.target.vra(k)(d);}g.g6a=new f.Metadata(k,d);return g;};}function l(k,d){k=k.Ny;return null !== k?d(k)?!0:l(k,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);f=a(67258);b.zeb=l;b.Ddb=c;a=c(r.Pz);b.P6a=a;b.Heb=function(k){return function(d){var g;if(null !== d){g=d.hS[0];return "string" === typeof k?g.Zf === k:k === d.hS[0].Sl;}return !1;};};},14577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.L6a=function(a){return function(c){return function(){for(var l=[],f=0;f < arguments.length;f++){l[f]=arguments[f];}return l.forEach(function(k){return a.bind(k).V5b(c);});};};};},69523:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);b.D3a=function(l){return l instanceof RangeError || l.message === c.Fnb;};},72632:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(r,b,a){var g;function c(m){return "function" === typeof m?m.name:"symbol" === typeof m?m.toString():m;}function l(m,h){return null === m.Ny?!1:m.Ny.Zf === h?!0:l(m.Ny,h);}function f(m){function h(n,p){var q;void 0 === p && (p=[]);q=c(n.Zf);p.push(q);return null !== n.Ny?h(n.Ny,p):p;}return h(m).reverse().join(" --\x3e ");}function k(m){m.Gja.forEach(function(h){if(l(h,h.Zf))throw (h=f(h),Error(g.cib + " " + h));k(h);});}function d(m){var h;if(m.name)return m.name;m=m.toString();h=m.match(/^function\s*([^\s(]+)/);return h?h[1]:"Anonymous function: " + m;}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);b.GL=c;b.H4a=function(m,h,n){var p;p="";m=n(m,h);0 !== m.length && (p="\nRegistered bindings:",m.forEach(function(q){var u;u="Object";null !== q.Sl && (u=d(q.Sl));p=p + "\n " + u;q.cF.g6a && (p=p + " - " + q.cF.g6a);}));return p;};b.xxb=k;b.fQb=function(m,h){var n,p;if(h.fqa() || h.Vpa()){n="";p=h.hKb();h=h.OIb();null !== p && (n+=p.toString() + "\n");null !== h && h.forEach(function(q){n+=q.toString() + "\n";});return " " + m + "\n " + m + " - " + n;}return " " + m;};b.getFunctionName=d;},9680:function(r){var l,f,k,d,g,m,h,n;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return g.test(q);}catch(u){return !1;}}l=Function.prototype.toString;f="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof f && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw d;}});d={};f(function(){throw 42;},null,k);}catch(p){p !== d && (f=null);}else f=null;g=/^\s*class\b/;m=Object.prototype.toString;h="function" === typeof Symbol && !!Symbol.toStringTag;n=!((0 in [,]));"object" === typeof document && m.call(document.all) === m.call(document.all) && (b=function(p){var q;if(!(!n && p || "undefined" !== typeof p && "object" !== typeof p))try{q=m.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=f?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{f(p,null,k);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(h)return a(p);if(c(p))return !1;q=m.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},54277:function(r,b,a){var c,l,f;c=Date.prototype.getDay;l=Object.prototype.toString;f=a(67226)();r.exports=function(k){if("object" !== typeof k || null === k)k=!1;else if(f)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object Date]" === l.call(k);return k;};},58786:function(r,b,a){var c,l,f,k,d,g,m;b=a(62680);if(a=a(67226)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");f={};k=function(){throw f;};d={toString:k,valueOf:k};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=k);}g=b("Object.prototype.toString");m=Object.getOwnPropertyDescriptor;r.exports=a?function(h){var n;if(!h || "object" !== typeof h)return !1;n=m(h,"lastIndex");if(!n || !c(n,"value"))return !1;try{l(h,d);}catch(p){return p === f;}}:function(h){return !h || "object" !== typeof h && "function" !== typeof h?!1:"[object RegExp]" === g(h);};},26302:function(r,b,a){var c,l,f;c=String.prototype.valueOf;l=Object.prototype.toString;f=a(67226)();r.exports=function(k){if("string" === typeof k)k=!0;else if("object" !== typeof k)k=!1;else if(f)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object String]" === l.call(k);return k;};},88705:function(r,b,a){var c,l,f;c=Object.prototype.toString;if(a(32636)()){l=Symbol.prototype.toString;f=/^Symbol\(.*\)$/;r.exports=function(k){if("symbol" === typeof k)return !0;if("[object Symbol]" !== c.call(k))return !1;try{return "symbol" !== typeof k.valueOf()?!1:f.test(l.call(k));}catch(d){return !1;}};}else r.exports=function(){return !1;};},72145:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra;Object.defineProperties(b,{__esModule:{value:!0}});b.gAa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(16537);g=a(78764);m=a(73057);h=a(14386);n=a(30923);p=a(27364);a(72072);q=a(36021);u=a(62558);t=a(83386);v=a(83275);w=a(41471);y=a(35556);x=a(33285);z=a(48641);A=a(46059);B=a(7881);C=a(95971);D=a(97810);F=c.__importDefault(a(35471));G=a(64048);E=a(59012);H=a(16567);M=a(42842);L=a(13043);K=a(86315);O=a(10711);J=a(72396);I=a(49550);N=a(58793);R=a(37953);U=a(51157);ja=a(1323);ra=a(16402);r=(function(){function ka(ua){this.V=ua;this.Xa=d.lu.CLOSED;this.Wu=[];this.wX=[];this.iR=[];this.$o=[];this.jPa={};this.U1={};this.Exa=d.XO.default;this.Brb=new x.Du({kn:this,source:"engine",ko:10,console:ua});}Object.defineProperties(ka.prototype,{Wv:{get:function(){(0,u.assert)(this.rx);return this.rx;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{mXb:{get:function(){return this.iR;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{aH:{get:function(){return this.$o.map(function(ua){return ua.ea;});},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{oXb:{get:function(){return this.$o;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{Jc:{get:function(){this.aI();return this.Lx.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{JV:{get:function(){this.aI();return this.Lx.JV;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{Aj:{get:function(){this.aI();return this.Lx.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{B8b:{get:function(){return this.Wu.length;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{kK:{get:function(){return this.jPa;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{FTa:{get:function(){return this.Gk;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{LH:{get:function(){return this.U1;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{CSb:{get:function(){return this.mQa || (this.mQa=this.qwb());},enumerable:!1,configurable:!0}});ka.prototype.open=function(ua,Aa,La,Xa){var ab;ab=this;if(this.Xa === d.lu.OPEN)return !1;this.Z=ua;J.Tea.R1b(ua);this.jq=new B.rQ(new C.P0({ji:!0,currentTime:function(){return f.L.Ma(F.default.time.xa());},speed:1}),this.V,"Engine Scheduler");this.LPa=new h.CEa(this.V,ua);this.pA=new q.sMa(this.c7.bind(this),ua);if(ua.vY || F.default.Mo.tf.xgc)this.Gk=new g.xBa(this.V,function(){return ab.kK;});this.Lx=n.iD.Xna(ua,this.V,Aa);this.Xa=d.lu.OPEN;this.rx=(0,I.ST)(ua);La && this.rx.Obb(La);Xa && this.rx.Lwa(Xa);this.b9a=new N.BLa({tj:function(){ab.Xa !== d.lu.CLOSED && ab.pA.tj("playgraphOpportunity");}});this.nQa=new H.pIa(function(){return ab.N5();},function(){return ab.O5().global;},this.V);this.mBb();return !0;};ka.prototype.PR=function(ua,Aa,La,Xa,ab){var aa,na,Ca;aa=this;void 0 === ab && (ab=!0);this.aI();La=Object.create(La,{WN:{value:this.LH},vY:{value:!!this.Gk}});if(ab){na=this.Wv.zxb(ua,La);if(na)return (na.qfb(Aa),ua=this.wo.bind(this,Xa,na),na.q2b(ua),na);}na=new K.uMa(function(Ra){return aa.wo(Xa,Ca,Ra);},function(Ra){return aa.fw(Xa,Ra);});Ca=(0,U.P3)(this.Z,[ua,Aa,La,ka.NTb++,this.Jc,na,function(Ra){return aa.pA.tj(Ra);},ab?this.Wv.yxb.bind(this.Wv):function(){},this.N5.bind(this),this.Gk],this.V);Ca.Be(new w.pNa(Ca));Ca.Be(new y.INa(Ca.yd));Ca.G7.Be(new M.CAa(Ca));Ca.G7.Be(new O.RGa(Ca));this.oA.pH.forEach(function(Ra){return Ca.Be(Ra);});this.b9a.PR(Ca);ua=new l.ye();ua.on(Ca.events,"requestsPruned",this.$_b.bind(this));ua.on(Ca.events,"weightUpdated",this.lta.bind(this));ua.on(Ca.events,"underflow",this.ph.bind(this,Ca));this.$o.push({ea:Ca,Vk:ua,LW:0});this.lta();return Ca;};ka.prototype.ph=function(ua){ua=this.nQa.xHb(ua);(null === ua || void 0 === ua?0:ua.o4) || this.Wv.reset();};ka.prototype.Zy=function(ua){this.b9a.Zy(ua);this.$o=this.$o.filter(function(Aa){return Aa.ea === ua?(Aa.Vk.clear(),!1):!0;});ua.Oa();this.lta();};ka.prototype.Qsb=function(ua,Aa){var La,Xa,ab;this.aI();ab=Aa.Cg;ab=void 0 === ab?[p.u.fa,p.u.X]:ab;ua=(0,ja.CK)(this.Z,[ua,ab,c.__assign({WN:null !== (Xa=null !== (La=Aa.WN) && void 0 !== La?La:this.U1) && void 0 !== Xa?Xa:{}},Aa)]);this.iR.push(ua);return ua;};ka.prototype.P$a=function(ua){this.aI();this.iR=this.iR.filter(function(Aa){return Aa !== ua;});ua.Oa();};ka.prototype.O1b=function(ua,Aa){this.jPa=ua;this.U1=Aa;this.mQa=void 0;};ka.prototype.TN=function(ua,Aa){var La,Xa;Xa=null === (La=(0,k.wc)(this.Wu,function(ab){return ab.bF.equals(ua);})) || void 0 === La?void 0:La.na;Xa?Xa.TN(c.__assign(c.__assign({},Aa),{PV:this.xsa.bind(this)})):this.wX.push({$fb:ua,cxa:Aa});};ka.prototype.R$a=function(ua){this.wX=this.wX.filter(function(Aa){return !Aa.$fb.equals(ua);});};ka.prototype.close=function(){this.Xa !== d.lu.CLOSED && (this.p_b(),(0,u.assert)(0 === this.Wu.length,"Unexpected viewable lease after Playgraph destruction."),this.o_b(),this.wX=[],delete this.Lx,this.Xa=d.lu.CLOSED,this.jq.Oa());};ka.prototype.x2b=function(ua){this.Exa=ua;this.pA.tj("streamingModeChanged");};ka.prototype.Q1b=function(ua){this.sdc.KX=ua.KX;};ka.prototype.mBb=function(){this.oA=new L.Rea(this.Z);this.oA.Be(new G.XDa(this));this.oA.Be(new A.vMa(this.Jc,this.pA));this.oA.Be(new v.UDa(this.Jc));this.oA.Be(new z.cx(this.Brb));this.oA.Be(new z.cx(this.pA.Lp));this.oA.Be(new z.cx(this.LPa.Xg));this.oA.Be(new z.cx(this.nQa.Xg));};ka.prototype.xsa=function(){};ka.prototype.CO=function(ua){return c.__awaiter(this,void 0,void 0,function(){var Aa,La,Xa,ab;return c.__generator(this,function(aa){switch(aa.label){case 0:return ((0,u.assert)(ua,"ase.updateViewable(): Viewable config not found."),Aa=(0,k.wc)(this.Wu,function(na){return !0 !== na.bF.Sq && na.bF.equals(ua);}),(0,u.assert)(Aa,"ase.updateViewable(): Viewable entry not found."),[4,Aa.yz]);case 1:return (La=aa.Ta(),ab=(Xa=La).CO,[4,ua.iq]);case 2:return (ab.apply(Xa,[aa.Ta()]),[2]);}});});};ka.prototype.wo=function(ua,Aa,La){var Xa,ab,aa,na;Xa=this;ab=La.J;aa=ua.Tm(ab,La.TW);(0,u.assert)(aa,"ase.requestViewable(): Viewable config not found.");na=(0,k.wc)(this.Wu,function(Ca){return !0 !== Ca.bF.Sq && Ca.bF.equals(aa);});na || (na={bF:aa,yz:(function(){return c.__awaiter(Xa,void 0,void 0,function(){var Ca,Ra;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,aa.iq];case 1:return (Ca=Q.Ta(),Ra=this.jv(ab,aa,Ca),na.na=Ra,[2,Ra]);}});});})(),na:void 0,Bqa:new t.W_(function(Ca){Ca() && Xa.nva(na);},(0,D.Kh)(F.default,this.V,("").concat(ab)))},this.Wu.push(na));ua=new ra.NOa(na,this.V,Aa,La);ua.events.once("error",this.nva.bind(this,na,!1));return ua;};ka.prototype.nva=function(ua,Aa){var La,Xa;void 0 === Aa && (Aa=!0);(0,u.assert)(ua,"expected viewableEntry to exist");La=ua.na;Xa=ua.yz;Aa && (La?La.Oa():Xa.then(function(ab){ab.Oa();}));this.Wu=this.Wu.filter(function(ab){return ab !== ua;});};ka.prototype.jv=function(ua,Aa,La){var Xa,ab;Xa=this;this.aI();ab=La.config;La={W:La.W,config:ab,gv:La.gv,Dp:La.Dp,Jc:this.Lx.Jc,Aj:this.Lx.Aj,xFb:{zB:function(){return Xa.pA.tj("networkFailureReset");},kf:this.kf.bind(this,ua),hr:this.hr.bind(this,ua)},VW:{$u:this.$u.bind(this),Dr:this.Dr.bind(this)},LH:this.U1};ua=new m.JAa(ua,La);ab.YK && (ab=(0,k.wc)(this.wX,function(aa){return aa.$fb.equals(Aa);})) && (ab=ab.cxa,this.R$a(Aa),ua.TN(c.__assign(c.__assign({},ab),{PV:this.xsa.bind(this)})));return ua;};ka.prototype.fw=function(ua,Aa){return c.__awaiter(this,void 0,void 0,function(){var La,Xa,ab,aa,na,Ca,Ra,Q,da;return c.__generator(this,function(P){switch(P.label){case 0:(La=Aa.eh,Xa=Aa.J,ab=ua.Tm(Xa),(0,u.assert)(ab,"ase.requestAdBreakHydration(): Parent viewable config not found."),aa=(0,k.wc)(this.Wu,function(Y){return !0 !== Y.bF.Sq && Y.bF.equals(ab);}),(0,u.assert)(aa,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Xa)),na=aa.na,(0,u.assert)(na,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Xa)),Ca=na.W.Zb,Ra={Af:{Zb:Ca,xd:Xa}},P.label=1);case 1:return (P.Qj.push([1,3,,4]),[4,ua.fw(La,Ra)]);case 2:return (Q=P.Ta(),[2,{l2:Q,uia:na}]);case 3:return (da=P.Ta(),[2,Promise.reject(da)]);case 4:return [2];}});});};ka.prototype.c7=function(){var ua,Aa;(0,u.assert)(this.state === d.lu.OPEN);ua=this.O5();Aa=this.JL();return this.LPa.L7a(ua,Aa);};ka.prototype.JL=function(){var ua,Aa,La;ua=this;La=null !== (Aa=this.Z.NXb) && void 0 !== Aa?Aa:this.$o.every(function(Xa){return !Xa.ea.cr;});Aa=(0,k.flatten)(this.$o.map(function(Xa){return Xa.ea.JL().map(function(ab){Xa.ea.cr || 1 === Xa.LW || (ab.mt=Xa.LW);return ab;});}));this.Exa === d.XO.disabled?Aa=[]:this.Exa === d.XO.iRb && (Aa=Aa.filter(function(Xa){return ua.Z.D5a >= Xa.uk - Xa.Nk;}));La || (La=Aa.filter(function(Xa){var ab;return 1 === (null !== (ab=Xa.mt) && void 0 !== ab?ab:1);}),La.length && (Aa=La));La=this.Wu.reduce(function(Xa,ab){return ab.na?c.__spreadArray(c.__spreadArray([],c.__read(Xa),!1),c.__read(ab.na.JL()),!1):Xa;},[]);return (0,k.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(Aa),!1),c.__read(La),!1));};ka.prototype.aI=function(){if(this.Xa === d.lu.CLOSED)throw Error("Engine CLOSED");};ka.prototype.p_b=function(){var ua,Xa;try{for(var Aa=c.__values(this.$o),La=Aa.next();!La.done;La=Aa.next()){Xa=La.value;Xa.Vk.clear();this.Zy(Xa.ea);}}catch(aa){var ab;ab={error:aa};}finally{try{La && !La.done && (ua=Aa.return) && ua.call(Aa);}finally{if(ab)throw ab.error;}}};ka.prototype.o_b=function(){var ua;try{for(var Aa=c.__values(this.iR),La=Aa.next();!La.done;La=Aa.next()){this.P$a(La.value);}}catch(ab){var Xa;Xa={error:ab};}finally{try{La && !La.done && (ua=Aa.return) && ua.call(Aa);}finally{if(Xa)throw Xa.error;}}};ka.prototype.kf=function(ua,Aa,La,Xa,ab,aa,na){var Ca;void 0 === na && (na=!1);Ca=!1;this.B0a(ua).forEach(function(Ra){if(!na || (0,p.bo)(Ra.Pd.value))Ca=Ra.kf(Aa,ua,La,Xa,ab,aa,na);});return Ca;};ka.prototype.hr=function(ua){return this.B0a(ua).some(function(Aa){return Aa.hr();});};ka.prototype.B0a=function(ua){return this.$o.filter(function(Aa){var La;for(Aa=Aa.ea;Aa.Wa;){Aa=Aa.Wa;}La=Aa.ea;return Object.keys(La.O).some(function(Xa){return La.O[Xa].J === ua;});}).map(function(Aa){return Aa.ea;});};ka.prototype.O5=function(){var ua;ua=new E.AEa();this.$o.forEach(function(Aa){var La,Xa;La=Aa.ea;Aa=Aa.LW;Xa=La.O5();Xa.mt=Aa;ua.add(La.id,Xa);});return ua;};ka.prototype.N5=function(){return this.CSb;};ka.prototype.qwb=function(){var ua,Aa;Aa=(0,R.VTa)(this.Z,this.kK);return {total:(ua={},ua[p.u.X]=this.kK.video || Infinity,ua[p.u.fa]=this.kK.audio || Infinity,ua[p.u.Ha]=this.kK.text || Infinity,ua.total=this.kK.total || Infinity,ua),vxa:Aa};};ka.prototype.$u=function(ua){var Aa;this.pA.$u(ua);null === (Aa=this.Gk) || void 0 === Aa?void 0:Aa.$u(ua);};ka.prototype.Dr=function(ua){this.pA.Dr(ua);};ka.prototype.lta=function(){var ua;ua=this.aH.reduce(function(Aa,La){return Math.max(La.weight,0) + Aa;},0);this.$o.forEach(function(Aa){Aa.LW=0 >= Aa.ea.weight?0:Aa.ea.weight / ua;});};ka.prototype.$_b=function(ua){var Aa;Aa=this;this.Gk && ua.requests.forEach(function(La){return Aa.Gk.Dr(La);});};ka.NTb=0;c.__decorate([(0,x.Tb)({methodName:"open"})],ka.prototype,"open",null);c.__decorate([(0,x.Tb)({methodName:"addPlaygraph",context:function(ua){var Aa,La;return {playgraphCount:null !== (La=null === (Aa=ua.A7a.$o) || void 0 === Aa?void 0:Aa.length) && void 0 !== La?La:0};}})],ka.prototype,"PR",null);c.__decorate([(0,x.Tb)({methodName:"removePlaygraph",context:function(ua){return {playgraphCount:ua.A7a.$o.length};}})],ka.prototype,"Zy",null);c.__decorate([(0,x.Tb)({methodName:"close"})],ka.prototype,"close",null);c.__decorate([(0,x.Tb)({methodName:"setStreamingMode",lp:!0})],ka.prototype,"x2b",null);c.__decorate([(0,x.Tb)({methodName:"setConcurrentStreamingDevice",lp:!0})],ka.prototype,"Q1b",null);c.__decorate([(0,x.Tb)({methodName:"notifyAseException",lp:!0})],ka.prototype,"xsa",null);c.__decorate([(0,x.Tb)({methodName:"updateViewable"})],ka.prototype,"CO",null);c.__decorate([(0,x.Tb)({methodName:"requestViewable"})],ka.prototype,"wo",null);c.__decorate([(0,x.Tb)({methodName:"removeViewable"})],ka.prototype,"nva",null);c.__decorate([(0,x.Tb)({methodName:"createViewable"})],ka.prototype,"jv",null);c.__decorate([(0,x.Tb)({methodName:"requestAdBreakHydration"})],ka.prototype,"fw",null);c.__decorate([(0,x.Tb)({methodName:"issueRequestOpportunity",ak:!0,return:!0})],ka.prototype,"c7",null);c.__decorate([(0,x.Tb)({methodName:"reportStreamingFailure",lp:!0})],ka.prototype,"kf",null);return ka;})();b.gAa=r;},1323:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.CK=void 0;c=a(5163);l=a(26967);f=a(19114);b.CK=function(k,d){var g,m,h;g=[function(n){return new (l.Gba.bind.apply(l.Gba,c.__spreadArray([void 0],c.__read(n.dXb),!1)))();}];if(k.$S){m=a(96855).mka;g.unshift(function(n,p){return m(n,p);});}if(k.UK){h=a(96855).mka;g.unshift(function(n,p){return h(n,p);});}return f.iP.J6({dXb:d},g);};},51157:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.P3=void 0;c=a(5163);l=a(49730);f=a(45331);k=a(35408);d=a(19114);b.P3=function(g,m,h){var n,p,q,u;n=[function(t){return new (f.Hba.bind.apply(f.Hba,c.__spreadArray([void 0],c.__read(t.tW),!1)))();}];p=(0,k.Ym)({ea:m[0]});l.K && h.trace("Creating playgraph",{Thc:p,xec:g.$S,Ve:g.UK});if(g.$S){q=a(18679);n.unshift(function(t,v){return q.zS({},t,v);});}if(g.UK){u=a(78085);n.unshift(function(t,v){return u.zS({},t,v);});}return d.iP.J6({tW:m,dia:[]},n);};},82181:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.e0b=b.DL=void 0;c=a(5163).__importDefault(a(35471));l=a(72145);b.DL=function(){var k;if(!f){k=new c.default.Console("ASEJS","media|asejs");f=new l.gAa(k);}return f;};b.e0b=function(){f=void 0;};},58793:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;r=(function(){function a(c){this.tj=c.tj;this.xv=this.MNb();}a.prototype.PR=function(c){c.events.on("requestsPruned",this.xv);};a.prototype.Zy=function(c){c.events.removeListener("requestsPruned",this.xv);};a.prototype.MNb=function(){var c;c=this;return function(){return c.tj();};};return a;})();b.BLa=r;},49550:function(r,b,a){var l,f,k,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var g;return l.__generator(this,function(m){switch(m.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(82181));})];case 1:return (g=m.Ta().DL,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.ST=void 0;l=a(5163);f=a(30570);k=l.__importDefault(a(35471));b.ST=function(g){var m;m=new k.default.Console("ASEJS","media|asejs");d || (d=new f.NLa(function(){return c();},g,m));return d;};},37953:function(r,b,a){var l;function c(f,k,d,g){return f && k?Math.min(f - k * d,f - g):(f || Infinity) - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.VTa=void 0;l=a(27364);b.VTa=function(f,k){var d,g,m,h,n,p,q,u;u=c(k.audio,k.Rdc,f.oka,null !== (g=f.AVa) && void 0 !== g?g:0);g=c(k.video,k.Ajc,f.oka,null !== (m=f.CVa) && void 0 !== m?m:0);m=c(k.text,k.Zic,f.oka,null !== (h=f.BVa) && void 0 !== h?h:0);return (d={},d[l.u.fa]=u,d[l.u.X]=g,d[l.u.Ha]=m,d.total=(k.total || Infinity) - (null !== (n=f.AVa) && void 0 !== n?n:0) - (null !== (p=f.CVa) && void 0 !== p?p:0) - (null !== (q=f.BVa) && void 0 !== q?q:0),d);};},16402:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NOa=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(60763);r=(function(){function d(g,m,h,n){this.cgb=g;this.console=m;this.aub=h;this.TW=n;this.events=new l.EventEmitter();this.xy=g.Bqa.Gs();}Object.defineProperties(d.prototype,{na:{get:function(){var g;return null === (g=this.cgb) || void 0 === g?void 0:g.na;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yz:{get:function(){var g;g=this;return (function(){return c.__awaiter(g,void 0,void 0,function(){var m;return c.__generator(this,function(h){switch(h.label){case 0:return (h.Qj.push([0,2,,3]),[4,this.cgb.yz]);case 1:return [2,h.Ta()];case 2:throw (m=h.Ta(),k.wea.cPb(m) && this.aub.kf(m),f.K && this.console.trace("Removing broken viewable entry due to error",this.TW),this.events.emit("error",{error:m}),m);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.NOa=r;},18998:function(r,b,a){var l;function c(f,k){var d;void 0 === k && (k=c);d="";f.gL && (d=null === f || void 0 === f?void 0:f.gL.map(k).reduce(function(g,m){return ("").concat(g,",").concat(m);}));return ("").concat(null === f || void 0 === f?void 0:f.name,"::").concat(null === f || void 0 === f?void 0:f.message,"::{").concat(null === f || void 0 === f?void 0:f.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.yba=void 0;l=a(5163);r=(function(f){function k(d,g){d=f.call(this,k.PHb(d,g)) || this;d.epb=g;d.name="AggregateError";return d;}l.__extends(k,f);k.PHb=function(d,g){return g.reduce(function(m,h){return ("").concat(m,"\n").concat(h);},d);};k.stringify=function(d){return c(d);};Object.defineProperties(k.prototype,{gL:{get:function(){return this.epb;},enumerable:!1,configurable:!0}});return k;})(Error);b.yba=r;},40507:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(59782),b);r.__exportStar(a(16785),b);r.__exportStar(a(93860),b);},59782:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16785:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},93860:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qOb=b.X2a=void 0;b.X2a=function(a){return void 0 !== a.Feb;};b.qOb=function(a){return void 0 !== a.xml && void 0 !== a.images;};},49030:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},75663:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85668:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mm=void 0;r=b.mm || (b.mm={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.vl=2]="STREAMING";},77518:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16537:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lu=b.XO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.iRb=2]="lowCpuPlaybackStarting";})(b.XO || (b.XO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.lu || (b.lu={}));},25850:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kc=void 0;r=a(5163);r.__exportStar(a(16537),b);r.__exportStar(a(75663),b);r.__exportStar(a(85668),b);r.__exportStar(a(77518),b);r.__exportStar(a(10441),b);r.__exportStar(a(40507),b);r.__exportStar(a(16785),b);r.__exportStar(a(65375),b);r.__exportStar(a(49030),b);r.__exportStar(a(92128),b);c=a(13043);Object.defineProperties(b,{kc:{enumerable:!0,get:function(){return c.kc;}}});},10441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65375:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},353:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AI=void 0;r=b.AI || (b.AI={});r[r.start=0]="start";r[r.end=1]="end";},64905:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63755:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},36570:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55651:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(353),b);r.__exportStar(a(36570),b);r.__exportStar(a(64905),b);r.__exportStar(a(63755),b);},92128:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(55651),b);},22209:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kq=void 0;c=a(5163).__importDefault(a(35471));l=a(53265);r=(function(){function f(k){k=("(").concat(k,")");this.V=new c.default.Console("ASEJS","media|asejs",k);this.Nga=[];}f.prototype.wv=function(k){var d;if(!this.Nga[k]){d=("[").concat(k,"]");this.Nga[k]=(0,l.Kh)(c.default,this.V,d);}return this.Nga[k];};return f;})();b.kq=new r(0);},73057:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x;Object.defineProperties(b,{__esModule:{value:!0}});b.JAa=b.Blb=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(10996);r=a(57196);d=a(78128);g=a(98705);m=a(9998);h=a(27364);n=c.__importDefault(a(35471));p=a(62558);a(97810);q=a(10391);u=a(73098);t=a(58628);v=a(16824);w=a(45768);y=a(42477);x=(function(){return function(z){this.mediaType=z;this.u4a=void 0;};})();b.Blb=x;a=(function(z){function A(B,C){var D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja;F=C.W;G=C.gv;E=C.Dp;H=C.config;M=C.VW;L=C.Jc;K=C.Aj;O=C.xFb;C=C.LH;J=z.call(this) || this;J.J=B;J.N1a=!1;J.t4a=0;J.KJ={};J.Ev=(D={},D[h.u.fa]={},D[h.u.X]={},D[h.u.Ha]={},D);J.wdc=[];J.Wpb=[];J.gx=[];J.XA=[];J.C1=!1;J.l7a=!1;J.C8b=[new x(h.u.fa),new x(h.u.X),new x(h.u.Ha)];J.rVa={z7:"liveEdgeCushion",CG:"maxMediaBufferAllowed",XK:"enableMissingSegmentsDetection",cT:"enableMissingSegmentsReplacement",y7:"liveAccurateFragmentTimestamps",kfc:"enableMissingSegmentsSkip",K7:"maxAttemptsOnFailure"};J.qVa=Object.keys(J.rVa).reduce(function(ra,ka){ra[J.rVa[ka]]=ka;return ra;},{});J.fQa=F;J.console=new n.default.Console("ASEJS","media|asejs","<" + String(J.J) + ">");J.config=J.Irb(F,H);J.$U=new v.VGa();J.events=new l.EventEmitter();J.jy=new w.nFa(J,J.console,J.config,function(ra){return J.events.emit("logdata",ra);});J.Jc=L;J.VW=M;J.LH=C;J.gv=G;J.Dp=!!E;I=[[],[],[]];N=[{},{},{}];R=[0,0];U=!1;["audio_tracks","video_tracks"].forEach(function(ra,ka){J.W[ra].forEach(function(ua,Aa){if(ua.type !== h.u.fa || !ua.ut && !1 !== ua.Wf)(Aa=new d.CI({na:J,jo:ua,mediaType:ka,Dp:J.Dp,kI:Aa,BE:Aa + (ka === h.u.fa?J.W.video_tracks.length:0)},J.config,J.console),ka === h.u.X && H.SEb && new q.KAa(H).JYb(Aa.Lf),ka === h.u.X && (ja=u.Zz.from({Et:ua.Hra,Us:ua.Gra})),I[ka].push(Aa),N[ka]=c.__assign(c.__assign({},N[ka]),Aa.VF()),Aa.maxBitrate > R[Aa.mediaType] && (R[Aa.mediaType]=Aa.maxBitrate),U=U || Aa.Rl);});});J.ba && J.W.timedtexttracks.forEach(function(ra,ka){var ua;if(!ra.ut && !1 !== ra.Wf){ua=h.u.Ha;ra=new d.CI({na:J,jo:ra,mediaType:ua,Dp:!1,kI:ka,BE:ka},J.config,J.console);I[ua].push(ra);N[ua]=c.__assign(c.__assign({},N[ua]),ra.VF());}});J.W.Bm && ((0,p.assert)(ja,"Should have video track if there are adverts"),J.Bm={ae:J.W.Bm.ae.map(function(ra){var ka;ka=c.__assign(c.__assign({},ra),{eu:ra.gk,gk:ja.normalize(ra.gk)});ra.Ve !== ra.ads && (ka.unnormalizedLocationMs=ka.eu,ka.locationMs=ka.gk);return ka;})});J.Wk=new m.$Ga(J.W,N,L,K,J.config,function(ra){return J.events.emit("logdata",ra);});B=O.zB;D=O.hr;J.oE=O.kf;J.hr=D;J.zB=B;J.v1=new g.$Da(J.Wk,J.config,J.eMb.bind(J),J.dMb.bind(J));J.v1.events.addListener("requestError",function(ra){J.ba && J.config.HQb && 404 === ra.$m && J.$U.v0b();});J.EQ=I;J.jaa=N;J.rM=R;J.Rl=U;return J;}c.__extends(A,z);Object.defineProperties(A.prototype,{W:{get:function(){return this.fQa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ba:{get:function(){var B,C;B=this.W;C=B.Jh;return "LIVE" === B.$f && !!C;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vV:{get:function(){var B;return !(null === (B=this.EQ[h.u.X][0]) || void 0 === B || !B.vV);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{P:{get:function(){return this.W.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vp:{get:function(){return this.W.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{duration:{get:function(){return this.W.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Tl:{get:function(){return this.C1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ay:{get:function(){(0,p.assert)(this.v1,"ErrorDirector is not available on old architecture prefetch viewables.");return this.v1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{fL:{get:function(){return this.ay.events;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Xt:{get:function(){return this.$U.Xt;},set:function(B){this.$U.Xt=B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Hqa:{get:function(){return this.KJ;},enumerable:!1,configurable:!0}});A.prototype.Oa=function(){this.close();this.We();};A.prototype.close=function(){var B;this.XA=[];null === (B=this.v1) || void 0 === B?void 0:B.Oa();this.Wk.Oa();this.C1=!0;};A.prototype.We=function(){this.jy && this.jy.We();};A.prototype.CO=function(B){var C,D;C=this;D=B.W;B=B.gv;(0,p.assert)(B === this.gv,"Updating Viewable clearplay not supported");(0,p.assert)(D.movieId === this.W.movieId,"Changing Viewable manifest movieId unsupported");["audio_tracks","video_tracks"].forEach(function(F,G){var E,H;E=D[F];H=C.EQ[G];(0,p.assert)(H.every(function(M){var L;L=E[M.kI];return L && L.zO === M.trackId && (L.type === h.u.X || !1 !== L.Wf);}),"Existing tracks must still exist and be hydrated in updated manifest");E.forEach(function(M,L){var K,O;if(M.type !== h.u.fa || !M.ut && !1 !== M.Wf){K=C.getTrackById(M.zO);if(K){M=M.streams;O=Object.keys(K.VF());(0,p.assert)(M.length === O.length,"Expected updated manifest track to have same number of streams");M.forEach(function(J){J=J.downloadable_id;(0,p.assert)(-1 !== O.indexOf(J),"Changing Viewable track streams unsupported");});}else (K=new d.CI({na:C,jo:M,mediaType:G,Dp:C.Dp,kI:L,BE:L + (G === h.u.fa?C.W.video_tracks.length:0)},C.config,C.console),H.push(K),C.jaa[G]=c.__assign(c.__assign({},C.jaa[G]),K.VF()),K.maxBitrate > C.rM[K.mediaType] && (C.rM[K.mediaType]=K.maxBitrate),(0,p.assert)(C.Rl || !K.Rl,"Can not update clear viewable with drm track."));}});});this.fQa=D;this.Wk.q2(this.W,this.jaa);};A.prototype.gNb=function(B,C){var D,F;D=this;(0,p.assert)(this.W.Bm,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.Bm,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.W.Bm.ae.some(function(G,E){var H,M;if(G.eh === C){H=D.Bm.ae[E];M=H.gk;H=H.eu;F=c.__assign(c.__assign({},B),{eu:H,gk:M,eh:C});G.Ve !== G.ads && (F.unnormalizedLocationMs=F.eu,F.locationMs=F.gk,F.adBreakToken=F.eh);D.Bm.ae[E]=F;return !0;}});return F;};A.prototype.TN=function(B){var C,D,F;C=B.Sp;D=B.ma;F=B.ola;B=B.PV;C && D?(this.S$=new k.ZMa(C,{ma:String(D),ola:!!F,oSb:this.config.j0.mx,Cvb:this.config.j0.lv},B),this.ay.TN(this.S$)):this.l7a || (B("SideChannel: pbcid/xid is missing."),this.l7a=!0);};A.prototype.Lpa=function(){return void 0 !== this.vp;};A.prototype.getTracks=function(B){return this.EQ[B];};A.prototype.getTrackById=function(B){var C;this.EQ.some(function(D){return D.some(function(F){if(F.trackId === B)return (C=F,!0);});});C || this.console.warn("getTrackById not found:",B,"length:",this.EQ.length);return C;};A.prototype.qoa=function(B,C){return (B=this.VF(B)) && B[C];};A.prototype.VF=function(B){return this.jaa[B];};A.prototype.sPb=function(B){var C,D;if(void 0 === B.E9 || void 0 === B.uua){C=this.Wk.iC.filter(function(F){return void 0 !== F.streams[B.Qb];})[0];D=C.children.filter(function(F){return F.urls.some(function(G){return G.stream.id === B.Qb;});})[0];B.E9=C.id;B.uua=D.id;}return {kqa:B.location === B.E9,tPb:B.Wb === B.uua};};A.prototype.Nwa=function(B,C,D){void 0 !== C && void 0 !== D && (this.$$a(B.mediaType,C),B.Nwa(C,D));};A.prototype.$$a=function(B,C){var D;D=this.config.lsa;("location" === D || "video_location" === D && B === h.u.X) && this.Jc.K$(C);};A.prototype.kf=function(B,C,D,F,G,E){(0,p.assert)(this.oE,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.oE(B,C,D,F,G,E);};A.prototype.vn=function(){var B;B=this;if(this.Tl)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);h.WP.forEach(function(C){B.x7b(C) && B.m7b(C);});this.f7b();return !0;};A.prototype.Zs=function(B,C){var D;D=this.getTracks(h.u.X)[0];(0,p.assert)(D);if(D.dG)return D.Zs(B,C);};A.prototype.x7b=function(B){var C;C=this;return this.Tl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.gx.reduce(function(D,F){return (0,f.dK)(D,F.Ed.filter(function(G){return G.mediaType === B;}));},[]).map(function(D){return C.Wk.lfb(C.J,D.Lf);}).every(function(D){return D;});};A.prototype.f7b=function(){(0,p.assert)(this.jy,"Headers not available on old architecture prefetch viewables.");this.jy.vn();};A.prototype.m7b=function(B){var C,D,E;D=[];if(this.Tl)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var F=c.__values(this.gx),G=F.next();!G.done;G=F.next()){E=G.value.vn(B);E.length && D.push.apply(D,E);}}catch(M){var H;H={error:M};}finally{try{G && !G.done && (C=F.return) && C.call(F);}finally{if(H)throw H.error;}}};A.prototype.Irb=function(B,C){var D,G,E;if((B=B.steeringAdditionalInfo) && B.streamingClientConfig && Object.keys(B.streamingClientConfig).length){B=B.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(B));for(var F in B){if(this.qVa.hasOwnProperty(F)){G=this.qVa[F];if(C.hasOwnProperty(G)){E=B[F];C.set?0 === C.set((D={},D[G]=E,D)) && this.console.trace("Invalid key" + F):C[G]=E;}}}}return C;};A.prototype.ph=function(){var B;B=this;this.Wk.ph();this.ay.ph();this.S$ && h.WP.forEach(function(C){B.S$.vwa("rebuffer",B.m0a(C).u4a);});};A.prototype.m0a=function(B){return this.C8b[B];};A.prototype.LF=function(B,C){return this.jy.LF(B,C);};A.prototype.wbb=function(B,C,D){this.XA.push({v:C,stream:B,wLb:D});};A.prototype.F$a=function(){this.XA=[];};A.prototype.v_b=function(B){this.XA=this.XA.filter(function(C){return C.stream !== B;});};A.prototype.u_b=function(B){this.XA=this.XA.filter(function(C){return C !== B;});};A.prototype.JL=function(){var B;B=this;return this.hr()?[]:this.XA.map(function(C){return new y.OOa(B,C);});};A.prototype.mI=function(B,C,D){(0,p.assert)(this.jy,"Headers not available on old architecture prefetch viewables.");return this.jy.mI(B,C,D);};A.prototype.DR=function(B,C){(0,p.assert)(this.jy,"Headers not available on old architecture prefetch viewables.");return this.jy.DR(B,C);};A.prototype.gMb=function(B){var C,D;C=B.Qb;D=B.mediaType;this.ba || this.l7b(D,B.stream.La);this.qoa(D,C).Z6b(n.default.PT()[D],this.Lpa()?this.config.TRb:0);this.events.emit("onHeaderFragments",B);};A.prototype.c_b=function(B){this.gx.push(B);};A.prototype.M6b=function(B){B=this.gx.indexOf(B);(0,p.assert)(-1 !== B,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.gx.splice(B,1);};A.prototype.ota=function(B){var C;null === (C=this.VW) || void 0 === C?void 0:C.$u(B);};A.prototype.UM=function(B){this.Tl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",B):void 0 !== B.location && this.$$a(B.mediaType,B.location);};A.prototype.VM=function(B){this.Tl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",B):this.ay.Iaa(B);};A.prototype.wr=function(B){var C;null === (C=this.VW) || void 0 === C?void 0:C.Dr(B);this.Tl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",B):this.hr() || this.ay.Iaa(B);};A.prototype.bW=function(B,C,D){var F;D && (null === (F=this.VW) || void 0 === F?void 0:F.Dr(B));};A.prototype.cW=function(B){var C,D,F,G,E,H,M;C=this;if(this.Tl)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",B);else {F=B.Uf;G=this.gx[0].Md(B.mediaType);E=null !== (D=null === G || void 0 === G?void 0:G.U3) && void 0 !== D?D:0;if(this.o3a(B)){B.UB || (B.UB={iaa:[],hSb:G?Math.min(3,null === G || void 0 === G?void 0:G.rKb(B)):3,x0b:n.default.time.xa()});-1 === B.UB.iaa.indexOf(B.Qb) && B.UB.iaa.push(B.Qb);H=B.UB.iaa.length;B.en || (H=this.dIb(E,H),B.en={hw:0,IN:void 0,A5a:H});}this.ay.Er(B,void 0,B.status,F,B.Ti);F=!1;if(this.o3a(B) && !B.stream.Eua(B.Rg)){(0,p.assert)(B.en,"Unexpected missing liveTemporaryNetworkRetryTracker");(0,p.assert)(B.UB,"Unexpected missing liveMissingSegmentRetryTracker");D=B.en;M=D.hw;H=D.A5a;D=n.default.time.xa();G=B.UB.x0b;B.en.IN || (M < H && D <= G + this.config.I4a?B.en.IN=setTimeout(function(){B.en.IN=void 0;C.Iya(B,!1);},this.config.n5b):this.config.XK?(H=B.UB.iaa.length,M=B.UB.hSb,0 < E || this.config.mM && H >= M || D > G + this.config.I4a?this.p7b(B):this.config.mM && H < M && (this.Iya(B,!0) || (F=!0))):this.config.mM && (this.Iya(B,!0) || (F=!0)));}else this.vn() || (F=!0);F && this.kf(B.mB || "unknown","NFErr_MC_StreamingFailure",B.Uf,B.status,B.Ti);}};A.prototype.xYb=function(){var B,C;this.efb(null === (B=this.W.Jh) || void 0 === B?void 0:B.dma,null === (C=this.W.Jh) || void 0 === C?void 0:C.O4,!0);};A.prototype.efb=function(B,C,D){var F,G,E,H,M;(0,p.assert)(this.W.Jh,"Missing manifest liveMetadata.");E=this.W.Jh;H=E.dma;M=E.O4;E=this.Hqa;this.KJ={startTime:null !== (F=null !== H && void 0 !== H?H:B) && void 0 !== F?F:E.startTime,endTime:null !== (G=null !== M && void 0 !== M?M:C) && void 0 !== G?G:E.endTime};B=this.KJ.startTime !== E.startTime;C=this.KJ.endTime !== E.endTime;(D || B || C) && this.events.emit("liveEventTimesUpdated",c.__assign({na:this},this.KJ));C && this.gx.forEach(function(L){L.yN();});};A.prototype.i7b=function(B,C){if(this.Ev[B].fB !== C.fB || this.Ev[B].gB !== C.gB)(this.Ev[B]=C,this.events.emit("liveLoggingInfoUpdated",{na:this,mediaType:B,info:C}));};A.prototype.AQb=function(){(0,p.assert)(this.ba,"liveEventCompleted called on viewable that is not live");return void 0 !== this.KJ.endTime;};A.prototype.JQb=function(){var B,C;(0,p.assert)(this.ba && this.W.Jh,"liveMetadata missing from manifest");B=this.getTracks(h.u.X)[0].Lf[0].Qb;C=this.W.Jh;B=C.lX[C.u4[B]];return new f.L(Number(B.u9a),B.N);};A.prototype.o3a=function(B){return this.ba && !B.Fe && void 0 !== B.Rg && 400 <= B.status && 499 >= B.status;};A.prototype.dIb=function(B,C){return this.config.XK?0 === B?1 === C?this.config.A7:this.config.ira:this.config.hma:this.config.A7;};A.prototype.Iya=function(B,C){var D,E;if(C && !B.Zwb())return !1;C && (B.en=void 0);try{for(var F=c.__values(this.gx),G=F.next();!G.done;G=F.next()){E=G.value.Md(B.mediaType);E && E.j7b(B,C);}}catch(M){var H;H={error:M};}finally{try{G && !G.done && (D=F.return) && D.call(F);}finally{if(H)throw H.error;}}return !0;};A.prototype.p7b=function(B){var C,G;try{for(var D=c.__values(this.gx),F=D.next();!F.done;F=D.next()){G=F.value.Md(B.mediaType);G && G.Jsb(B);}}catch(H){var E;E={error:H};}finally{try{F && !F.done && (C=D.return) && C.call(D);}finally{if(E)throw E.error;}}};A.prototype.l7b=function(B,C){this.Wpb[B]=C.zra;};A.prototype.eMb=function(B){var C,D,F;if(!this.C1){C=B.bPb;D=B.JVb;F=B.LVb;B=B.MVb;this.console.warn("Streaming failure, is permanent: " + C + ", last error code: " + D + ", last http code: " + F + ", last native code: " + B);C?(this.console.warn(" > Permanent failure, done"),C=this.kf("Permanent failure","NFErr_MC_StreamingFailure",D,F,B)):(this.console.warn(" > We are buffering, calling it!"),C=this.kf("Temporary failure while buffering","NFErr_MC_StreamingFailure",B,F,B,!0));C || (this.console.warn(" > Resetting failures"),this.ay.d$());}};A.prototype.dMb=function(){(0,p.assert)(this.zB,"Error handling not available on old architecture prefetch viewables.");this.C1 || (this.vn(),this.zB());};return A=c.__decorate([t.pL],A);})(r.$C);b.JAa=a;},9225:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nBa=void 0;c=a(5163);r=(function(){function l(f,k,d,g){this.J=f;this.wo=k;this.$V=d;this.kta=g;}Object.defineProperties(l.prototype,{na:{get:function(){var f;return null === (f=this.JY) || void 0 === f?void 0:f.na;},enumerable:!1,configurable:!0}});l.prototype.Oa=function(){var f;this.na && (this.na.M6b(this.nb),this.kta(this.na));null === (f=this.JY) || void 0 === f?void 0:f.xy.release();this.JY=void 0;};l.prototype.Bb=function(f){return c.__awaiter(this,void 0,void 0,function(){var k,d,g,m,h;return c.__generator(this,function(n){switch(n.label){case 0:return (this.nb=f,k=this.wo(this.J),d=k.yz,g=k.na,m=k.xy,this.JY={xy:m,na:g},g?(this.C2a(g,f,!1),[2,g]):[4,d]);case 1:return (h=n.Ta(),this.C2a(h,f,!0),[2,h]);}});});};l.prototype.C2a=function(f,k,d){this.JY && (this.JY.na=f,f.c_b(k),this.$V(k,f,d));};return l;})();b.nBa=r;},45768:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nFa=void 0;c=a(5163);l=a(22209);f=a(65593);k=c.__importDefault(a(35471));r=a(57196);d=a(62558);g=a(39139);a=(function(m){function h(n,p,q,u){var t;t=m.call(this,n) || this;t.yE=n;t.V=p;t.Z=q;t.Asa=u;t.XPa=[void 0,void 0];t.rga={gA:[Object.create(null),Object.create(null)]};t.me=g.jD.instance.Sx("headers","" + t.yE.J,!0,!1,{},t.Z);t.me.Bb();return t;}c.__extends(h,m);Object.defineProperties(h.prototype,{gA:{get:function(){return this.rga.gA;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{p1:{get:function(){return this.rga.p1;},set:function(n){this.rga.p1=n;},enumerable:!1,configurable:!0}});h.prototype.We=function(){var n;n=this;this.gA.forEach(function(p,q){for(var u in p){p[u].We();n.ela(q,u);}});this.me && g.jD.instance.m4(this.me);this.me=void 0;};h.prototype.LF=function(n,p){return this.gA[n][p];};h.prototype.mI=function(n,p,q){var u,t,v,w;u=this.Z;t=this.LF(n.mediaType,n.Qb);if(t)return (t.stream.La || t.X$ && this.KUa(t),!1);t=this.Npb;v=this.Opb;if(void 0 !== u.Zra && void 0 !== t && void 0 !== v){w=k.default.time.xa();if(w - t < u.Zra || w - v < u.Zra)return !1;}n=this.v6b(n,{v:p,offset:0},q);this.Opb=k.default.time.xa();return n;};h.prototype.v6b=function(n,p,q){var u,t,v,w;t=n.mediaType;l.kq.wv(t);if(this.LF(t,n.Qb))n=!1;else {v=this.Z.pdb && n.ba;w=v?0:p.offset;v=v?0:null !== (u=p.wa) && void 0 !== u?u:this.fpb(n);p=c.__assign(c.__assign({},p),{offset:w,wa:v});u=!!p.TS;w=!!p.KV;this.ZKb?q=this.ZKb(t,!!p.rT,u,w,!1):q || (q=this.me);(0,d.assert)(q);n.url && (this.yE.m0a(t).u4a=n.ZT(!0));if(!this.Mob(n,q,p).open())return (this.yE.kf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);n=!0;}return n;};h.prototype.vn=function(){var n,p,q;n=this;p=[];q=this.yE.ba;this.gA.forEach(function(u,t){var w;l.kq.wv(t);for(var v in u){t=u[v];w=t.Oya(q);1 === w?p.push(t):2 === w && n.yE.kf("swapUrl failure");}});return p;};h.prototype.wr=function(n,p){var q,u;q=n.mediaType;u=l.kq.wv(q);this.yE.Tl?u.warn("header onrequestcomplete ignored, session shutdown:",n.toString()):(this.Asa({type:"logdata",target:"startplay",Fc:{usedNativeDataView:n.X7b}}),n.g9 > n.qta && (this.XPa[q]=n.g9),n.X$ && this.KUa(n),this.ypb(n),this.Npb=k.default.time.xa());this.BF(n,p);};h.prototype.DR=function(n,p){var q,u,t,v;q=[];u=this.gA[n];for(t in u){v=u[t];v && !v.stream.La && v.pN === p && (this.ela(n,t),q.push({v:v.v,stream:v.stream,offset:v.offset,wa:v.wa,TS:v.TS,rT:v.rT,KV:v.KV,XM:v.XM}),v.We());}return q;};h.prototype.Dsb=function(n){this.gA[n.mediaType][n.Qb]=n;};h.prototype.ypb=function(n){var p,q,u,v;p=this.Z;q=l.kq.wv(n.mediaType);u=n.stream.La;if(p.Pka){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){v=u.get(t);q.trace("fragment: " + t + ", startPts: " + v.Ja.G + ", duration: " + v.Kd.G + ", offset: " + v.offset);}}this.rob(n);};h.prototype.rob=function(n){var p,q;p=n.mediaType;q=n.Qb;l.kq.wv(p);n.V7a && (n.V7a.forEach(function(u){(u=u.qoa(p,q)) && u !== n.stream && !u.Gh && u.Jyb(n.stream);}),n.V7a=void 0);this.yE.gMb(n);};h.prototype.Mob=function(n,p,q){var u,t;u=this;t=l.kq.wv(n.mediaType);n=new f.uAa(n,this.Z,p,q,this,q.v,!1,t);n.addListener("headerRequestCancelled",function(v){u.xpb(v.request);});this.Dsb(n);return n;};h.prototype.fpb=function(n){var p,q,u,t;p=n.sk;q=n.na;u=q.duration;t=this.Z;return n.ba?512:q.Dp?t.OYa?t.OYa:t.s6:t.V7b && p?p.offset + p.size:(n=this.XPa[n.mediaType])?n + 128:t.Xla?2292 + 12 * Math.ceil(u / 2E3):t.s6;};h.prototype.xpb=function(n){this.ela(n.mediaType,n.Qb);};h.prototype.ela=function(n,p){delete this.gA[n][p];};h.prototype.KUa=function(n){this.p1 === n.Qb && (this.p1=void 0);};return h;})(r.$C);b.nFa=a;},16824:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.VGa=void 0;r=a(5163);c=a(49730);l=r.__importDefault(a(35471));a=(function(){function f(){this.console=new l.default.Console("ASEJS","asejs|serverclock");}Object.defineProperties(f.prototype,{Xt:{get:function(){return void 0 === this.EH?(c.K && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),l.default.time.now()):l.default.time.xa() - this.EH;},set:function(k){this.tG=l.default.time.xa();this.uG=k;k=this.tG - this.uG;if(void 0 === this.EH || k < this.EH)this.EH=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$K:{get:function(){var k;k=l.default.time.xa();return void 0 === this.EH?{PUa:k}:{PUa:k,Xt:k - this.EH,tG:this.tG,uG:this.uG};},enumerable:!1,configurable:!0}});f.prototype.v0b=function(){void 0 !== this.tG && void 0 !== this.uG && (this.EH=this.tG - this.uG);};return f;})();b.VGa=a;},42663:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GJa=void 0;r=a(5163);c=a(50954);l=r.__importDefault(a(35471));a=(function(){function f(k,d){this.J=k;this.w8b=d;this.gv=!0;this.N1a=this.Rl=this.Dp=!1;this.P=("").concat(c.rq);this.ba=this.vV=!1;this.console=new l.default.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(f.prototype,{Xt:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return l.default.time.now();},enumerable:!1,configurable:!0}});f.prototype.getTrackById=function(){};f.prototype.ph=function(){};f.prototype.F$a=function(){};f.prototype.kf=function(){return !0;};return f;})();b.GJa=a;},42477:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OOa=void 0;r=(function(){function a(c,l){var f;this.na=c;this.aXa=l;f=l.stream;l=l.wLb;l=l();this.identifier=("").concat(f.J,"-").concat(f.mediaType,"-").concat(f.bitrate);this.mediaType=f.mediaType;this.jf=l.jf;this.Pd=l.Pd;this.ro=l.ro;this.uk=l.uk;this.Nk=l.Nk;this.fH=0;this.eH=Infinity;this.fq=this.Ty=1;this.lL=0;this.groupId=("").concat(c.J);this.gr=!0;this.li=this.cn=!1;}a.prototype.a7=function(){return {result:!0};};a.prototype.nG=function(){var c,l;c=this.aXa;l=c.stream;if(l.mI(c.v))return (this.na.v_b(l),{Ih:!0,reason:"success"});this.na.u_b(this.aXa);return {Ih:!1,reason:"viewableTryIssueHeaderRequest"};};a.prototype.toJSON=function(){return {mediaType:this.mediaType,mt:this.mt,jf:this.jf,Pd:this.Pd,ro:this.ro,uk:this.uk,Nk:this.Nk,lL:this.lL,fH:this.fH,Ty:this.Ty,eH:this.eH,fq:this.fq,Ws:this.Ws,hO:this.hO,groupId:this.groupId,gr:this.gr,cn:this.cn,li:this.li,identifier:this.identifier};};return a;})();b.OOa=r;},10996:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ZMa=void 0;r=a(5163);c=a(97810);a=r.__importDefault(a(35471));l=a.default.Mo;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function f(k,d,g){this.PV=g;this.Trb=new c.Bfa(k);this.ma=d.ma;this.zob=1E3 * d.oSb / d.Cvb;this.uDb=d.ola;this.NSa=!1;}f.prototype.Rs=function(k){var d,g,m;d={s_xid:this.ma,dl:this.uDb?1:0};k.PE && (d.bs=(0,c.uK)(Math.floor(k.PE / this.zob) + 1,1,5));k.B8 && (d.limit_rate=k.B8);k.wTa && (d.bb_reason=k.wTa);k.beb && (d.tm=k.beb);if(k.i8a){g=k.i8a;m=g.Rp;"HYBRID" === m?(d.hybrid=g.OL.eNb,d.cspr=g.OL.Ft,d.cu=g.OL.tja,d.cldl=g.OL.yva,d.h_ms=g.OL.pSb):"CCSP" === m && ((m=g.X6()) || !m && this.NSa) && (d.cpr_ss=g.jz,d.cpr_ca=g.Nx,d.cpr_rec=g.Xy,this.NSa=m);}k.Sia && (d.br="" + k.Sia.start + "+" + k.Sia.size);return this.xqb(d);};f.prototype.vwa=function(k,d){var g,m;try{g=new l(void 0,"notification");m=this.Rs({wTa:k});d && m && g.open(d,void 0,2,void 0,void 0,void 0,m);}catch(h){this.PV("SideChannel: Error when sending sendBlackBoxNotification. Error: " + h);}};f.prototype.xqb=function(k){var d;try{d=this.qrb(k);return this.Trb.encrypt(d);}catch(g){this.PV("SideChannel: Error when obfuscating msg. Error: " + g);}};f.prototype.qrb=function(k){return Object.keys(k).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(k[d]));}).join("&");};return f;})();b.ZMa=a;},3863:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.CKa=void 0;r=a(5163);c=a(42866);l=r.__importDefault(a(89956));f=l.default.qm;k=l.default.ks;d=a(27364);g=a(97810);m=r.__importDefault(a(76733));h=r.__importDefault(a(35471));a=(function(){function n(p,q,u,t,v){this.Ht=p;this.ov=q;this.Z=u;this.V=t;this.Ae=v;}n.prototype.gUb=function(p){var q;q=p.v;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{I:q.id,offset:c.L.Ma(this.Ht.aka).qa(q.je)},completePlayerStreamingTimestamp:c.L.Ma(this.Ht.yS),trackIndex:p.stream.track.BE};(0,g.Kq)(this.ov,p.type,p);};n.prototype.iUb=function(p,q,u){var t,v,w;v=this.Ae;w=this.Ht.gl.xe;w.Qbb(p);v === d.u.X && this.Z.s$ && (void 0 === w.wqa?w.Rbb(h.default.time.xa()):h.default.time.xa() - w.wqa > this.Z.s$ && (p.bitrate !== w.r4a && (h.default.storage.set("vb",p.bitrate),w.u2b(p.bitrate)),w.Rbb(h.default.time.xa())));w.q7 && w.q7 === p || (this.Ht.gl.n4b(q,w.q7,p),w.j2b(p),q=0,p.Lb && p.Lb.confidence && p.Lb.mb && (q=p.Lb.mb.Ca),u={I:this.Ht.nb.v.id,offset:c.L.Ma(u).qa(this.Ht.nb.v.je)},p={type:"streamSelected",nativetime:h.default.time.xa(),mediaType:v,streamId:p.id,trackIndex:p.track.BE,streamIndex:p.Zt,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.na) || void 0 === t?void 0:t.W},(0,g.Kq)(this.ov,p.type,p));};n.prototype.dUb=function(p,q,u){var t,v,w,y;t=q.na;v=t.Wk;w=this.Ht.gl.xe;y=t.sPb(q);t=y.kqa;y=y.tPb;u && q.Wb && !w.SU?(y=k.Bu,q.Wt=k.name[y],this.o7a(p,q.Wb,q.Wt,q.location,q.bitrate),w.SU=q.Wb):!u && q.Wb && q.Wb !== w.SU && (y=y?void 0 === w.SU?k.Bu:v.CH === k.cea?k.znb:k.Pba:k.ynb,q.Wt=k.name[y],this.o7a(p,q.Wb,q.Wt,q.location,q.bitrate),w.SU=q.Wb);w.hM || (y={type:"logdata",target:"startplay",fields:{}},this.Ae === f.fa?y.fields.alocid=q.location:this.Ae === f.X && (y.fields.locid=q.location),(0,g.Kq)(this.ov,y.type,y));u && q.location && !w.hM?(y=k.Bu,q.Wt=k.name[y],this.n7a(p,q.location,q.Pqa,q.Wb,q.qX,q.Wt,q.Yv),w.hM=q.location):!u && q.location && q.location !== w.hM && (y=t?void 0 === w.hM?k.Bu:v.CH === k.cea?k.Ykb:k.Pba:k.Xkb,q.Wt=k.name[y],this.n7a(p,q.location,q.Pqa,q.Wb,q.qX,q.Wt,q.Yv),q.Yv=void 0,w.hM=q.location);this.Z.hH || (q.j4a=q.location,q.q4a=q.Wb);};n.prototype.Dsa=function(p){p={type:"requestsPruned",requests:p};(0,g.Kq)(this.ov,p.type,p);};n.prototype.o7a=function(p,q,u,t,v){var w,y;if(this.Ae === f.Ha)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(w={},w[d.u.fa]="audio",w[d.u.X]="video",w[d.u.Ha]="subtitle",w)[this.Ae];w=m.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:v,confidence:w.confidence};w.confidence && (p.throughput=w.mb.Ca);this.Ht.gl.xe.SU && (p.oldserver=q);(0,g.Kq)(this.ov,p.type,p);}};n.prototype.n7a=function(p,q,u,t,v,w,y){var x,z;if(this.Ae === f.Ha)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[d.u.fa]="audio",x[d.u.X]="video",x[d.u.Ha]="subtitle",x)[this.Ae];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:u,serverid:t,servername:v,selreason:w,seldetail:y};(0,g.Kq)(this.ov,"locationSelected",p);}};n.prototype.qqb=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,g.Kq)(this.ov,p.type,p);};n.prototype.pHb=function(p){(0,g.Kq)(this.ov,"transportReport",p);};n.prototype.oHb=function(p){(0,g.Kq)(this.ov,"mediaRequestComplete",p);};return n;})();b.CKa=a;},99739:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x;Object.defineProperties(b,{__esModule:{value:!0}});b.AKa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(3863);d=a(57196);g=a(88577);m=a(27364);h=a(27364);n=a(88181);p=a(39266);q=a(97810);u=a(62558);t=c.__importDefault(a(35471));r=a(551);v=a(55011);w=a(39656);y=a(39139);x=a(58628);a=(function(z){function A(B,C,D,F,G,E,H,M,L,K,O,J){var I;I=z.call(this,B) || this;I.Z=C;I.ns=G;I.Dq=E;I.Hpb=H;I.Ru=K;I.Gk=J;I.events=new l.EventEmitter();I.connected=!1;I.Noa=!1;I.rs=!1;I.Wga=!1;I.m5=new g.VIa(I.mediaType,C,D,I);B="[" + I.mediaType + "]";I.V=(0,q.Kh)(t.default,D,B);I.eA=I.V.error.bind(I.V);I.Fs=I.V.warn.bind(I.V);I.vx=I.V.trace.bind(I.V);I.b2=H.G;I.mRa=M;I.dsa=new Set();I.U3=0;I.Yo=new k.CKa(I,F,I.Z,I.V,I.mediaType);I.Cq=new n.rMa(I,C,I.V,I.Yo,I.ns,I.mediaType,I.Ru,function(){return I.pn;});C.tk && (I.tk=new p.lNa(C.tk,I.V));L && (I.Gj=null !== O && void 0 !== O?O:(0,w.Sx)(I.mediaType,I.track.na,I.Z,I.V,I.track.ba,I.Yo.pHb.bind(I.Yo),I.Yo.oHb.bind(I.Yo),function(){}),I.Gj.on("created",function(){return I.events.emit("requestQueueCreated");}));return I;}c.__extends(A,z);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.Dq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.Dq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{nb:{get:function(){return this.ns;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{I:{get:function(){return this.ns.v.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{He:{get:function(){return this.Cq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Lf:{get:function(){return this.Dq.Lf;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{C3:{get:function(){return this.Cq.C3;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{b$:{get:function(){return this.Cq.b$;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{il:{get:function(){return this.b2;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{baa:{get:function(){var B;return null !== (B=this.Ab) && void 0 !== B?B:this.qy;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Mk:{get:function(){var B;return null !== (B=this.He.Mk) && void 0 !== B?B:this.baa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{yS:{get:function(){return this.He.yS;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{aka:{get:function(){return this.He.aka;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{QPb:{get:function(){var B;B=this.He.e4a;return null === B || void 0 === B?void 0:B.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{li:{get:function(){return !!this.ef && (this.Mv > this.ef.index || this.b2 >= this.ef.Va.G);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{otb:{get:function(){return this.li && 0 === this.He.UC;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Zh:{get:function(){return this.li && 0 === this.Cq.wWb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ita:{get:function(){var B;if(this.Wga)return !0;if(!this.Zh)return !1;B=this.UT();return this.Wga || (this.Wga=void 0 === B || B.Ita);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ytb:{get:function(){return !!this.He.e4a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{CA:{get:function(){return this.He.CA;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Or:{get:function(){return this.Pb?f.L.max(this.Pb.qa(this.LC),f.L.Ga):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kL:{get:function(){return this.nb.kL;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{J4a:{get:function(){return this.Rpb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{JBb:{get:function(){return this.He.La.Kd;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{gl:{get:function(){return this.mRa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{xe:{get:function(){return this.gl.xe;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{fo:{get:function(){return this.gl.xe.fo;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{N:{get:function(){var B,C;return null !== (C=null === (B=this.Xe) || void 0 === B?void 0:B.N) && void 0 !== C?C:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qb:{get:function(){var B;return null === (B=this.Xe) || void 0 === B?void 0:B.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{wb:{get:function(){var B;return null === (B=this.ef) || void 0 === B?void 0:B.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{pn:{get:function(){return this.nb.te.$c(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Poa:{get:function(){return this.He.Poa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kw:{get:function(){return this.He.kw;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{rxa:{get:function(){return this.He.rxa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qy:{get:function(){return this.Hpb.add(this.nb.te);},enumerable:!1,configurable:!0}});A.prototype.ER=function(){var B;B=this;this.Cq.ER(function(C){var D,F;F=C[0];C=null === (D=F.Ja) || void 0 === D?void 0:D.G;D=F.index;D < B.Mv && B.GH(C,D);});};A.prototype.reset=function(){this.He.reset();this.Xe && this.GH(this.Xe.Ja.G,this.Xe.index);this.Gj && this.nb.na.DR(this.mediaType,this.Gj);};A.prototype.Cf=function(B){var C;this.rs=!0;this.Cq.Cf(B);null === (C=this.mRa) || void 0 === C?void 0:C.xe.Oa();this.Gj && (this.nb.na.DR(this.mediaType,this.Gj),y.jD.instance.m4(this.Gj),this.Gj.removeAllListeners(),this.Gj=void 0);};A.prototype.toJSON=function(){return {started:this.kw,startOfSequence:this.rxa,segmentId:this.I,requestedBufferLevel:this.b$,viewableId:this.ns.na.J,hasFragments:this.Poa};};A.prototype.vn=function(B){return this.He.vn(B);};A.prototype.GH=function(B,C){this.b2=B;this.Mv=C;};A.prototype.uB=function(){return this.He.uB();};A.prototype.UT=function(){return this.nb.v0a(this.mediaType);};A.prototype.yK=function(B){return (B=this.He.IGb(B.G))?B.complete:!1;};Object.defineProperties(A.prototype,{jf:{get:function(){return this.ns.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{LC:{get:function(){var B,C,D,F;return null !== (F=null !== (B=this.He.LC) && void 0 !== B?B:null === (D=null === (C=this.Xe) || void 0 === C?void 0:C.Ja) || void 0 === D?void 0:D.add(this.nb.te)) && void 0 !== F?F:this.qy;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bdb:{get:function(){return f.L.Ma(this.b2);},enumerable:!1,configurable:!0}});A.prototype.Ceb=function(B,C,D){var F;(0,u.assert)(this.Gj);(0,u.assert)(!this.rs,"pipeline.tryIssueRequest on disabled pipeline");(0,u.assert)(!this.cn(),"pipeline.tryIssueRequest on done pipeline");(0,u.assert)(!this.li);if(!B.Gh)return (B=B.mI(this.nb.v,this.Gj))?{Ih:B,reason:"success"}:{Ih:B,reason:"pipelineTryIssueHeaderRequest"};if(B.ba)((0,u.assert)(this.track.ba,"Unexpected live stream."),B=this.y6b(B,this.Gj,D));else {F=B.wJb();(0,u.assert)(F,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(B.Gh,", headerFragments:").concat(F));B=this.z6b(B,F,this.Gj,C,D);}this.exb();return B;};A.prototype.yU=function(B,C){B && (this.Xe=B);C && (this.ef=C);(0,u.assert)(this.Xe);(0,u.assert)(this.ef);(0,u.assert)(void 0 === this.Mv);this.GH(this.Xe.Ja.G,this.Xe.index);};A.prototype.truncate=function(B){var C;C=this;(0,u.assert)(this.Xe,"expected first fragment to exist on updateStreaming");this.ef=B;this.li && (B=c.__read(this.Cq.Xrb(B),2),this.GH(B[0],B[1]),this.li && (this.He.qbb(),this.He.pUa(),Promise.resolve(function(){C.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:C.mediaType});})));};A.prototype.gr=function(){return this.cn()?!1:this.Pg()?!0:this.track.IV;};A.prototype.Pg=function(){return void 0 !== this.Xe && void 0 !== this.ef;};A.prototype.cn=function(){return this.rs || this.otb;};A.prototype.u3a=function(){var B,C,D;D=this.Z.so;if(null === (B=this.Gj) || void 0 === B?0:B.track)D=null === (C=this.Gj) || void 0 === C?void 0:C.track.so;return D;};Object.defineProperties(A.prototype,{t9a:{get:function(){var B;B=!0;this.Z.Eva && (B=this.connected);this.Z.Dva && (B=B && this.Noa);return B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{UVb:{get:function(){return void 0 !== this.tk;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{$7a:{get:function(){var B;return (null === (B=this.tk) || void 0 === B?0:B.q3())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.wr=function(B,C){this.Yo.gUb(B);"oncomplete" === this.Z.u2a && (this.Noa=!0);this.U3=0;this.BF(B,C);};A.prototype.UM=function(B){var C,D;B.Fe || this.Yo.iUb(B.stream,null === (C=B.Ab) || void 0 === C?void 0:C.G,null === (D=B.Ja) || void 0 === D?void 0:D.G);this.Yo.dUb(this.I,B.stream,B.Fe);this.k5(B);};A.prototype.TM=function(B){this.connected=!0;"onfirstbyte" === this.Z.u2a && (this.Noa=!0);this.vT(B);};A.prototype.M_a=function(B){var C,D;C=this.He.La;if(0 === C.length)return {La:[],h9:0,xr:0,wN:0};D=C.nT(B.G);0 > D && (D=void 0 === C.Ab || B.G <= C.Ab.G?0:C.length);return {La:C.n1b(D),h9:Math.max(0,C.iVa - D),xr:C.xr,wN:C.wN};};A.prototype.rB=function(){return this.track.rB();};A.prototype.rKb=function(B){return Math.min(this.Lf.indexOf(B.stream) + 1,this.Lf.length);};A.prototype.j7b=function(B,C){var D,F;D=this;if(C){if(this.Z.mM)if((C=this.Lf.indexOf(B.stream),-1 === C))this.eA("reissueLiveRequest: stream not found in stream list, falling back to first stream");else if((C=this.Lf[0 < C?Math.max(C - 1,0):Math.min(1,this.Lf.length - 1)],B.Ywb(C),!C.Gh)){F=this.Mk.G;this.nb.na.wbb(C,this.nb.v,function(){return {jf:D.jf,Pd:m.Rc.vl,ro:F,uk:F,Nk:D.Ru.sa.currentTime.G};});}}else this.vn(!C);};A.prototype.Jsb=function(B){this.dsa.add(B);this.U3+=1;this.Rpb=this.dsa.size;this.He.T_b(B);this.events.emit("liveMissingSegment",{type:"liveMissingSegment",I:B.index,mediaType:this.mediaType});this.Z.cT && this.Mv === B.index && this.GH(B.Va.G,this.Mv + 1);};A.prototype.kKb=function(){var B,C;(0,u.assert)(this.track.ba,"Unexpected live stream.");B=Array.from(this.dsa).reduce(function(D,F){return void 0 !== F.Rg && (void 0 === (null === D || void 0 === D?void 0:D.Rg) || D.Rg < F.Rg)?F:D;},void 0);if(B && void 0 !== B.Rg){C=B.Rg + 1;return B.stream.Vm().HT(C).Ja;}};A.prototype.z6b=function(B,C,D,F,G){var E,H,M,L,K,O,J,I,N,R;J=this.ns;I=J.na;N=this.mediaType;R=this.Mv;if(R >= C.length)return (this.Fs("makeRequest nextFragmentIndex:",R,"past fragments length:",C.length),{Ih:!1,reason:"insufficientFragments"});if(!this.Xe || !this.ef)return (this.Fs("makeRequest delayed, first or last fragment not set","first:",!!this.Xe,"last:",!!this.ef),{Ih:!1,reason:"noFirstOrLastFragment"});C=N === h.u.fa && !!this.Z.cz && (null === (E=this.nb.v.v) || void 0 === E?void 0:E.Xs) && this.Xe.Kd.G < this.Z.cz && void 0 !== this.Xe.Ia;E=N === h.u.fa && !!this.Z.cz && (null === (H=this.nb.v.v) || void 0 === H?void 0:H.Wn) && this.ef.Kd.G < this.Z.cz && void 0 !== this.ef.Ia;H=this.m5.L_a(B,R,C,E);if(N === h.u.fa && this.Z.cz){if(null === (M=this.nb.v.v) || void 0 === M?0:M.Xs)H.sv?H.Bbb():H.index === this.Xe.index + 1 && this.Xe.Kd.G < this.Z.cz && void 0 !== this.Xe.Ia && H.Bbb(this.Xe.Ia.end - this.Xe.Ia.start);if(null === (L=this.nb.v.v) || void 0 === L?0:L.Wn)H.Sk?H.Cbb():H.index === this.ef.index - 1 && this.ef.Kd.G < this.Z.cz && void 0 !== this.ef.Ia && H.Cbb(this.ef.Ia.end - this.ef.Ia.start);}if(this.Gk && !this.Gk.sUa(this.mediaType,H.wa))return {Ih:!1,reason:this.mediaType === h.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.tqa=H.region;H.Vt=G;null === (K=this.tk) || void 0 === K?void 0:K.FNb(H,B);H.Sk && N === h.u.X && this.Yo.qqb(J.v,H.Pb.G);this.Z.DG && (H.DG=this.Z.DG);H.location=B.location;H.Qc=B.Wb;H.Bic=B.Wt;(G=J.na.S$) && "OPEN_CONNECT_APPLIANCE" === B.Gr && (M=this.Z.LEb && this.mediaType === h.u.X && this.Z.so,H.rH=this.Z.E4 || N === h.u.fa && this.Z.B4 || N === h.u.X && this.Z.C4?F:void 0,H.IH=G.Rs({PE:J.Yn(this.mediaType),B8:this.Z.FEb?this.Z.B8:void 0,beb:String(t.default.time.xa()),i8a:F,Sia:M?{start:H.offset,size:H.wa}:void 0}));t.default.time.xa();D=this.He.bWa(H,D,B);if(!D.open()){this.Fs("MediaRequest.open error: " + D.Uf + " native: " + D.Ti);if(D.aborted)return {Ih:!1,reason:"requestAborted"};this.Fs("makeRequest caught:",D.Uf);I.kf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ih:!1,reason:"openAseMediaRequest"};}null === (O=this.tk) || void 0 === O?void 0:O.hFb(D,H,B);this.GH(D.Va.G,H.LV);return {Ih:!0,reason:"success"};};A.prototype.y6b=function(B,C,D){var F,G,E,H,M,L,K,O,J;E=this.ns;H=E.na;M=this.Mv;L=B.Vm();K=L.HT(M);O=K.Ja;K=K.Va;if(K.G > L.xWa)return {Ih:!1,reason:"exceedsLiveEdge"};if(this.Gk && !this.Gk.sUa(this.mediaType,0))return {Ih:!1,reason:this.mediaType === h.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};if((L=M === (null === (F=this.ef) || void 0 === F?void 0:F.index)) && this.mediaType === h.u.fa && (F=this.nb.Md(h.u.X)) && F.ef)J=F.ef.Va.G;F=M === (null === (G=this.Xe) || void 0 === G?void 0:G.index);G=this.mediaType === h.u.Ha?0:this.mediaType === h.u.fa && F?0:void 0;D={Rg:M,index:M,qb:O.ja,wb:K.ja,N:B.N,offset:0,wa:0,Vt:D,sv:F,Sk:L,dz:{Yd:E.v.u_a(),cM:E.v.ZX},lw:J,responseType:G};B=this.He.bWa(D,C,B);if(!B.open()){this.Fs("MediaRequest.open error: " + B.Uf + " native: " + B.Ti);if(B.aborted)return {Ih:!1,reason:"requestAborted"};this.Fs("makeRequest caught:",B.Uf);H.kf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ih:!1,reason:"openAseMediaRequest"};}this.GH(K.G,this.Mv + 1);return {Ih:!0,reason:"success"};};A.prototype.exb=function(){this.li && (this.He.qbb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return A=c.__decorate([x.pL],A);})(d.$C);b.AKa=a;(0,v.xk)(r.Aw,a);},57903:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.yAa=void 0;c=a(5163);r=a(57055);l=a(42866);f=a(42866);k=a(49730);d=c.__importDefault(a(35471));g=a(62663);m=a(31549);h=a(55759);n=a(91829);p=a(1918);q=a(77029);u=a(62558);t=a(37096);v=a(97810);a=(function(w){function y(){var x;x=null !== w && w.apply(this,arguments) || this;x.VQa=0;x.cha=0;x.j1=0;x.Rfa=0;return x;}c.__extends(y,w);y.prototype.Ava=function(x){var z,A,B,C;w.prototype.Ava.call(this,x);this.VQa++;this.cha++;this.qRa=d.default.time.xa();this.EJ || (this.EJ={Ayb:null === (z=x.Va) || void 0 === z?void 0:z.G,I3:null === (A=x.Ja) || void 0 === A?void 0:A.G,index:x.index},this.w1 || (this.w1=this.EJ));z=this.G1;A=!1;z && 100 > Math.abs(z.Pb.G - (null === (B=x.Ab) || void 0 === B?NaN:B.G)) && (this.j1+=x.Pb.G - z.Pb.G,this.Rfa++,A=!0);A || (this.j1=null === (C=x.Kd) || void 0 === C?void 0:C.G,this.Rfa=1);this.G1=x;};y.prototype.stop=function(){w.prototype.stop.call(this);this.cha=0;this.EJ=void 0;};y.prototype.V_a=function(){var x,z,A,B,C;z=this.Cs;A=z.T3;if(A){C=A.Md(this.Ae);C && C.He && (B=C.He.J0a());return {RM:B,currentBranch:{sId:A.v && A.v.id,cancelled:A.Qd},currentReceivedCount:z && z.HBb,totalReceivedCount:this.VQa,currentState:z && z.uWa || "Uninitialized",lastRequestPushed:this.G1 && ({contentEndPts:null === (x=this.G1.Va) || void 0 === x?void 0:x.G,fragmentIndex:this.G1.index}),tslp:this.qRa && d.default.time.xa() - this.qRa,cpts:this.j1,crq:this.Rfa,rslp:this.cha,firstRequestSSPushed:this.EJ && ({contentStartPts:this.EJ.I3,fragmentIndex:this.EJ.index}),firstRequestPushed:this.w1 && ({contentStartPts:this.w1.I3,fragmentIndex:this.w1.index})};}};return y;})((function(w){function y(x,z,A,B,C,D,F,G,E,H,M){var L;L=w.call(this) || this;L.eg=x;L.Ae=z;L.Z=B;L.V=C;L.Y=D;L.aua=F;L.yd=G;L.nl=E;L.kA=new f.qq(!1);L.hA=new f.qq(l.L.Ma(-Infinity));L.V=(0,v.Kh)(d.default,L.V,("AsePlayerBuffer [").concat(z,"]:"));L.Cs=new g.mBa(L.V,A,z);L.resume();D && F && G && (M?(L.sC=M,M.cv(D,G,L.eg)):L.SVa(),x=new n.hEa(null === D || void 0 === D?void 0:D.yd,l.L.Ma(L.Z.m8),C),L.Cs.r2(x),L.Z.ESa && (D=new p.EJa(null === D || void 0 === D?void 0:D.yd,L.Z.ESa,l.L.Ma(L.Z.Jtb),C),L.Cs.r2(D)),H && (L.cRa=new q.MMa(H,L.mediaType,C),L.Cs.r2(L.cRa)),k.K && L.Z.zEb && (C=new t.TGa(C),L.Cs.r2(C)));L.eg.on("requestAppended",function(K){L.kA.set(!0);K.request.Pb && L.hA.set(K.request.Pb);L.emit("requestAppended");});return L;}c.__extends(y,w);Object.defineProperties(y.prototype,{sr:{get:function(){return this.kA;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{m7:{get:function(){return this.hA;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sOb:{get:function(){return this.Cs.ji;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{JH:{get:function(){return this.eg.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.SVa=function(){(0,u.assert)(this.Y && this.aua && this.yd,"Player should be defined");this.sC && this.sC.jta();this.sC=new h.ULa(this.Ae,this.V,this.Y,this.eg,this.Y.events,this.aua,this.yd,this.nl);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});y.prototype.V_a=function(){};y.prototype.resume=function(){k.K && this.V.trace("resume");this.Fcb();};Object.defineProperties(y.prototype,{rub:{get:function(){return this.wJ;},enumerable:!1,configurable:!0}});y.prototype.xX=function(){this.eg.G8(!0);};y.prototype.reset=function(x,z){var A,B,C;void 0 === x && (x=!1);k.K && this.V.trace("AsePlayerBuffer.reset mediaTypes:",z);this.stop();this.eg.reset(x);this.kA.set(!1);this.hA.set(l.L.Ma(-Infinity));x || (this.wJ=void 0,null === (A=this.sC) || void 0 === A?void 0:A.reset(),x=null === (B=this.Y) || void 0 === B?void 0:B.Cg,null === (C=this.cRa) || void 0 === C?void 0:C.fVb(x,null !== z && void 0 !== z?z:x));};y.prototype.lf=function(x){void 0 === x && (x=!1);k.K && this.V.trace("restart");this.reset(x);this.Fcb(!0);};y.prototype.stop=function(){k.K && this.V.trace("stop");this.Cs.Pcb();};y.prototype.close=function(){var x;k.K && this.V.trace("close");null === (x=this.sC) || void 0 === x?void 0:x.close();};y.prototype.Oa=function(){this.stop();this.close();};y.prototype.VV=function(){this.Z.Rma && this.eg.eHb();this.eg.y4();};y.prototype.HC=function(x){this.eg.HC(x);};y.prototype.UGb=function(x){this.eg.ZTb(x);};y.prototype.bi=function(x){var z;return !(null === (z=this.sC) || void 0 === z || !z.bi(x));};y.prototype.Fcb=function(x){if(!this.Cs.ji || x)(this.Cs.p0b(),m.AsyncIterator.f7(this.Cs,this.BPb.bind(this)));};y.prototype.BPb=function(x){x.done || this.Ava(x.value);};y.prototype.Ava=function(x){var z,A,B,C,D,F,G,E;k.K && this.V.trace(("requestReceived: ").concat(null === (z=this.Cs.T3) || void 0 === z?void 0:z.v.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ia)));this.eg.endOfStream?k.K && this.V.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.wJ?(this.wJ.SPb=null === (F=x.Va) || void 0 === F?void 0:F.G,this.wJ.UPb=null === (G=x.Pb) || void 0 === G?void 0:G.G,this.wJ.k4a=x.Pb):this.wJ={vfc:null === (A=x.Ja) || void 0 === A?void 0:A.G,wfc:null === (B=x.Ab) || void 0 === B?void 0:B.G,SPb:null === (C=x.Va) || void 0 === C?void 0:C.G,UPb:null === (D=x.Pb) || void 0 === D?void 0:D.G,k4a:x.Pb},x.sv && x.stream.track.Rl && (null === (E=this.Y) || void 0 === E || !E.GU(x.na.J)) && this.emit("drmNeeded",{J:x.na.J,Xp:x.Ab}),this.eg.oub(x));};return y;})(r.EventEmitter));b.yAa=a;},13407:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cZ=void 0;c=a(5163);l=a(62558);r=a(55011);f=a(46892);a=a(551);k=(function(){function d(g,m){this.Ua=[];this.Pe=void 0;this.ic=0;this.V=g;m && m.length && (Array.isArray(m)?(this.Ua=m.slice(),this.CQ(0,this.Ua.length)):m instanceof d && (this.Ua=m.Ua.slice(),this.CQ(0,this.Ua.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ua.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ua.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ua[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sd:{get:function(){return this.Ua[this.Ua.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qb:{get:function(){return this.first && this.first.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wb:{get:function(){return this.Sd && this.Sd.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nq:{get:function(){return this.Pe;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wa:{get:function(){return this.ic;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{N:{get:function(){return this.first && this.first.N;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pn:{get:function(){return this.first && this.first.pn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{La:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});d.prototype.Y6b=function(g){this.ic+=g;};d.prototype.Oub=function(){var g;if(0 === this.Ua.length)((0,l.assert)(void 0 === this.Pe),(0,l.assert)(0 === this.ic));else {(0,l.assert)(this.Pe instanceof f.Ez);(0,l.assert)("number" === typeof this.ic);(0,l.assert)(void 0 !== this.Nq && this.Nq.qb === this.qb);g=this.Ua.reduce(function(m,h,n){return 0 === n || h.qb === m?h.wb:m;},0);(0,l.assert)(this.Nq.wb === g);(0,l.assert)(this.Ua.reduce(function(m,h,n){return 0 === n || h.qb === m?h.wb:m;},0) === this.Nq.wb);(0,l.assert)(this.Ua.reduce(function(m,h){return m + h.wa;},0) === this.ic);}};d.prototype.get=function(g){0 > g && (g+=this.Ua.length);return this.Ua[g];};d.prototype.push=function(g){this.Ua.push(g);this.CQ(this.Ua.length - 1);return this.length;};d.prototype.unshift=function(g){this.Ua.unshift(g);this.CQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ua.length)return (this.aha(this.Ua.length - 1),this.Ua.pop());};d.prototype.shift=function(){if(0 !== this.Ua.length)return (this.aha(0),this.Ua.shift());};d.prototype.splice=function(g,m){for(var h,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > g && (g+=this.Ua.length);0 > g && (g=0);g > this.Ua.length && (g=this.Ua.length);if(void 0 === m || 0 > m)m=0;m=Math.min(m,this.Ua.length - g);0 < m && this.aha(g,g + m);p=(h=this.Ua).splice.apply(h,c.__spreadArray([g,m],c.__read(n),!1));0 < n.length && this.CQ(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,m){void 0 === g && (g=0);void 0 === m && (m=this.Ua.length);0 > g && (g+=this.Ua.length);if(g >= this.Ua.length)return new d(this.V);m > this.Ua.length && (m=this.Ua.length);0 > m && (m+=this.Ua.length);return new d(this.V,this.Ua.slice(g,m));};d.prototype.qt=function(g){if(0 === this.Ua.length || g.qb >= this.wb)this.push(g);else if(g.wb <= this.qb)this.unshift(g);else {for(var m=0,h=this.Ua.length - 1,n;m < h - 1;){n=Math.floor((h + m) / 2);(0,l.assert)(n !== h && n !== m);g.qb >= this.Ua[n].wb?m=n:h=n;}(0,l.assert)(m !== h);(0,l.assert)(this.Ua[m].wb <= g.qb && this.Ua[h].qb >= g.wb);this.splice(h,0,g);}};d.prototype.remove=function(g){g=this.Ua.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],m=0;m < arguments.length;m++){g[m]=arguments[m];}g=g.map(function(h){return h.Ua;});return new d(this.V,Array.prototype.concat.apply(this.Ua,g));};d.prototype.forEach=function(g){var m;m=this;this.Ua.forEach(function(h,n){return g(h,n,m);});};d.prototype.some=function(g){var m;m=this;return this.Ua.some(function(h,n){return g(h,n,m);});};d.prototype.every=function(g){var m;m=this;return this.Ua.every(function(h,n){return g(h,n,m);});};d.prototype.map=function(g){var m;m=this;return this.Ua.map(function(h,n){return g(h,n,m);});};d.prototype.reduce=function(g,m){var h;h=this;return this.Ua.reduce(function(n,p,q){return g(n,p,q,h);},m);};d.prototype.indexOf=function(g){return this.Ua.indexOf(g);};d.prototype.find=function(g){var m,h;m=this;return this.Ua.some(function(n,p){h=p;return g(n,p,m);})?this.Ua[h]:void 0;};d.prototype.findIndex=function(g){var m,h;m=this;return this.Ua.some(function(n,p){h=p;return g(n,p,m);})?h:-1;};d.prototype.filter=function(g){var m;m=this;return new d(this.V,this.Ua.filter(function(h,n){return g(h,n,m);}));};d.prototype.h5=function(g){for(var m=this.Ua.length - 1;0 <= m;--m){g(this.Ua[m],m,this);}};d.prototype.lxa=function(g){for(var m=this.Ua.length - 1;0 <= m;--m){if(g(this.Ua[m],m,this))return !0;}return !1;};d.prototype.xma=function(g){if(this.empty || g < this.Ja.G || g >= this.Va.G)return -1;for(var m=0,h=this.Ua.length - 1,n;h > m;){n=Math.floor((h + m) / 2);if(g >= this.Ua[n].Ja.G && g < this.Ua[n].Va.G){h=n;break;}g < this.Ua[n].Va.G?h=n - 1:m=n + 1;}return h;};d.prototype.nT=function(g){if(this.empty || g < this.Ab.G || g >= this.Pb.G)return -1;for(var m=0,h=this.Ua.length - 1,n;h > m;){n=Math.floor((h + m) / 2);if(g >= this.Ua[n].Ab.G && g < this.Ua[n].Pb.G){h=n;break;}g < this.Ua[n].Pb.G?h=n - 1:m=n + 1;}return h;};d.prototype.YYa=function(g){g=this.nT(g);return 0 <= g?this.Ua[g]:void 0;};d.prototype.update=function(){this.Pe && (this.Pe.S1b(this.qb),this.AR(0));};d.prototype.AR=function(g){var m;m=this.Ua[g].wb;for(g+=1;g < this.Ua.length && m === this.Ua[g].qb;++g){m=this.Ua[g].wb;}g < this.Ua.length?void 0 === this.Pe?this.Pe=new f.Ez(this,{wb:m}):this.Pe.SN(m):void 0 === this.Pe?this.Pe=new f.Ez(this,{}):this.Pe.v3();};d.prototype.tJ=function(g,m){for(var h=g;h < m;++h){this.ic+=this.Ua[h].wa;}void 0 === this.Pe || 0 === g?this.AR(0):this.Pe.wb === this.wb?this.AR(g - 1):this.Ua[g].qb === this.Pe.wb && this.AR(g);};d.prototype.sx=function(g,m){var h;if(0 === g)(this.Pe=void 0,m < this.length && this.AR(m));else {h=this.Pe;h.wb > this.Ua[g - 1].wb && (m < this.length?h.SN(this.Ua[g - 1].wb):h.v3());}for(;g < m;++g){this.ic-=this.Ua[g].wa;}};d.prototype.CQ=function(g,m){void 0 === m && (m=g + 1);this.tJ(g,m);};d.prototype.aha=function(g,m){void 0 === m && (m=g + 1);this.sx(g,m);};return d;})();b.cZ=k;(0,r.xk)(a.Aw,k);},29930:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Bba=void 0;c=a(5163);a(62558);r=a(55011);l=c.__importDefault(a(89956));f=c.__importDefault(a(35471));k=a(35195);d=a(64406);g=f.default.Mo;m=a(83350);a=(function(h){var R8;R8=2;for(;R8 !== 3;){switch(R8){case 2:c.__extends(n,h);n.create=function(p,q,u,t,v,w,y,x){var q1P;q1P=2;for(;q1P !== 1;){switch(q1P){case 2:return !q.tk && t.Ia && p.mediaType === l.default.qm.X?new m.Kba(p,u,t,v,w,q,y,x):new n(p,u,t,v,w,q,y,x);break;}}};n.prototype.toString=function(){var t74;t74=2;for(;t74 !== 1;){switch(t74){case 2:var D8T="I";D8T+="D:";D8T+=" ";return D8T + this.yj() + ":" + k.lq.prototype.toString.call(this);break;}}};return n;break;}}function n(p,q,u,t,v,w,y,x){var D_d,z;D_d=2;for(;D_d !== 7;){switch(D_d){case 4:q=h.call(this,p,q,z,u,t,v,w,y) || this;q.Jy=!1;k.lq.Bb(q,p,v,u,x);return q;break;case 2:var I_7="me";I_7+="d";I_7+="ia";var w9V="m";w9V+="edia(";w9V+="edit)";var Y56="1";Y56+="SI";Y56+="YbZrNJCp";Y56+="9";Y56;z=u.Ia?w9V:I_7;void 0 === u.responseType && (u.responseType=u.Ia || g.tf && !g.tf.Nva.Zea?0:1);D_d=4;break;}}}})(d.dZ);b.Bba=a;(0,r.xk)(k.lq,a,!1);},35195:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.lq=void 0;c=a(5163);l=a(42866);f=a(62558);k=c.__importDefault(a(89956));d=a(94656);r=a(55011);g=a(89755);m=a(69028);h=a(46892);a=a(551);n=(function(p){function q(u,t,v,w){var y;y=p.call(this,u,v) || this;q.Bb(y,u,t,v,w);return y;}c.__extends(q,p);q.Bb=function(u,t,v,w,y){var x;m.BI.zpa(u,t,w);u.gg=w.index;u.dA=w.qb;u.us=w.wb;u.Qrb=w.Cb?w.Cb:t.Cb;u.dz=w.dz;u.v=v;u.Wna=y;u.DPa=!!w.sv;u.aQa=!!w.Sk;u.RQa=null !== (x=w.region) && void 0 !== x?x:0;u.CPa=!!w.Nma;u.$Pa=!!w.yt;u.Na=void 0 === w.l5 || void 0 === w.Zma || w.l5 === w.qb && w.Zma === w.wb?u:new h.Ez(u,{qb:w.l5,wb:w.Zma});u.gqb=w.fsa;u.sob=w.qj;u.Cpb=t.o6;u.Ah=w.Ia?u.h7a(w.Ia):void 0;u.pRa=w.lw;u.WR=!1;u.MPa=!1;u.xo=[];};q.eWa=function(u){for(var t=new Uint32Array(u.length),v=new Uint32Array(u.length),w=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.ic;t[B]=z.us - z.dA;v[B]=A;w[B]=z.stream.Zt;void 0 !== z.Cb && null !== z.Cb && (y[B]=z.Cb);x+=A;}return new d.cfa(t,v,u.length?u[0].N:1E3,x);};Object.defineProperties(q.prototype,{tOb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tt:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.gg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cb:{get:function(){return this.Qrb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qia:{get:function(){return 8 * this.wa / this.Kd.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qb:{get:function(){return this.dA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wb:{get:function(){return this.us;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pn:{get:function(){var u,t;return null !== (t=null === (u=this.Wna) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sv:{get:function(){return this.DPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Sk:{get:function(){return this.aQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.RQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Nma:{get:function(){return this.CPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yt:{get:function(){return this.$Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fsa:{get:function(){return this.gqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qj:{get:function(){return this.sob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ia:{get:function(){return this.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lw:{get:function(){return this.pRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wva:{get:function(){return this.Ah?this.Ah.end - this.Ah.start:this.$s;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{l5:{get:function(){return this.Na.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zma:{get:function(){return this.Na.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rHb:{get:function(){return this.Na.bB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oL:{get:function(){return this.Na.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$ma:{get:function(){return this.Na.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$s:{get:function(){var u;u=this.rHb;(0,f.assert)(u);return u / this.stream.za.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Loa:{get:function(){return this.MPa;},enumerable:!1,configurable:!0}});q.prototype.b7b=function(u,t){(0,f.assert)(u.N === this.N,"Cannot change content timestamp timescale");(0,f.assert)(t.N === this.N,"Cannot change content timestamp timescale");this.dA=u.ja;this.us=t.ja;};q.prototype.IRb=function(){this.DPa=!0;};q.prototype.v5a=function(){this.aQa=!0;};q.prototype.r2b=function(u){this.dz={Yd:u.u_a(),get cM() {return u.ZX;}};};q.prototype.UN=function(u){this.pRa=u;};q.prototype.o2b=function(u,t,v){this.RQa=u;this.CPa=t;this.$Pa=v;};q.prototype.Bi=function(u){var t,v;void 0 === u && (u={});t=this.stream.za.ja;v=this.Ah || ({start:0,end:this.$s});u=this.h7a(u);this.Na && this.Na !== this || (this.Na=new h.Ez(this,this));u.start > v.start && (this.dA=this.Na.qb + u.start * t);u.end < v.end && (this.us=this.Na.qb + u.end * t);this.Ah=c.__assign(c.__assign({},v),u);};q.prototype.vla=function(u){void 0 === u && (u=1);this.Ah?this.Bi({start:this.Ah.start + u,end:this.Ah.end}):this.Bi({start:u});};q.prototype.z4=function(u){this.Ah?this.Bi({start:this.Ah.start,end:(this.Ah.end || 0) - u}):this.Bi({start:0,end:-u});};q.prototype.ci=function(){this.Ia?this.Bi({start:this.Ia.start,end:this.Ia.start}):this.Bi({start:0,end:0});};q.prototype.s2b=function(u){this.Ah || this.Bi();this.Ah.V$=u;};q.prototype.Bbb=function(u){this.Ah || this.Bi();this.Ah.Xs=!0;u && (this.Ah.IYa=u);};q.prototype.Cbb=function(u){this.Ah || this.Bi();this.Ah.Wn=!0;u && (this.Ah.JYa=u);};q.prototype.fZa=function(u){var v;if(!(u < this.Ja.G || u >= this.Va.G) && this.qj && this.qj.length){u=new l.L(u + 1 - this.Ja.G,1E3).ih(this.stream.za);for(var t=this.qj.length - 1;0 <= t;--t){v=this.qj[t];if(v.Jj <= u)return v;}return {Jj:0,we:this.oL.G};}};q.prototype.LGb=function(u){var v;if(!(u < this.Ja.G || u >= this.Va.G) && this.qj && this.qj.length){u=new l.L(u + 1 - this.Ja.G,1E3).ih(this.stream.za);for(var t=this.qj.length - 1;0 <= t;--t){v=this.qj[t];if(v.Jj <= u)return v;}return {Jj:0,we:this.oL.G};}};q.prototype.WYa=function(u,t){var v,w,y;if(!(u < this.Ja.G || u >= this.Va.G)){if(!t && this.Cpb)return {Jj:0,we:this.Ja.G};v=this.za.ja;w=this.za.N;y=Math.floor(this.bB / v);u=Math.min((t?Math.ceil:Math.floor)((l.L.J6a(u,w) - this.qb + (t?-1:1) * (w / 1E3 - 1)) / v),y);v=l.L.gya(this.qb + u * v,w);return u === y?void 0:{Jj:u,we:v};}};q.prototype.JGb=function(u){return this.mediaType === k.default.qm.X?this.fZa(u):this.WYa(u,!1);};q.prototype.Bma=function(u){return this.mediaType === k.default.qm.X?this.LGb(u):this.WYa(u,!0);};q.prototype.Z2a=function(){return 0 < this.xo.length;};q.prototype.ioa=function(){(0,f.assert)(!this.aX,"Should not get response iterator more than once");this.aX=new g.aD(this.console);return this.aX.getIterator();};q.prototype.Oua=function(u,t){this.aX?(this.aX.enqueue(u),t && this.aX.uF()):this.xo.push(u);this.MPa=t;};q.prototype.vN=function(){this.xo=[];};q.prototype.Yha=function(u){this.ic+=u.wa;this.us=u.wb;this.Ah && (this.Na=new h.Ez(this,{qb:this.l5,wb:this.us}),this.Ah.end=this.$s);};q.prototype.Z$a=function(u){var t,v,w;t={type:"logdata",target:"endplay",fields:{}};v=this.mediaType === k.default.qm.fa?"audioedit":"videoedit";w=this.oL.equal(this.Ja);w=[w?this.Va.G:this.Ja.G,w?-this.Kd.G:this.Kd.G];u && w.push(u);t.fields[v]={type:"array",value:w};return t;};q.prototype.toString=function(){return ("[").concat(this.Qb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Ja.G,"-").concat(this.Va.G,",") + ("p:").concat(this.Ab.G,"-").concat(this.Pb.G,",d:").concat(this.Kd.G,"]");};q.prototype.toJSON=function(){return {movieId:this.P,streamId:this.Qb,bitrate:this.bitrate,index:this.index,startPts:this.Ja.G,endPts:this.Va.G,contentStartPts:this.Ja.G,contentEndPts:this.Va.G,fragmentStartPts:this.oL.equal(this.Ja)?void 0:this.oL.G,fragmentEndPts:this.$ma.equal(this.Va)?void 0:this.$ma.G,edit:this.Ia};};q.prototype.eZa=function(u){var v;if(this.qj)for(var t=0;t < this.qj.length;++t){if(this.qj[t].Jj === u)v=this.qj[t].offset;}return v;};q.prototype.h7a=function(u){var t,v;t=Math.max(u.start || 0,0);v=void 0 === u.end?this.$s:Math.min(this.$s,Math.max(t,0 > u.end?this.$s + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:v});};return q;})(m.BI);b.lq=n;(0,r.xk)(a.Aw,n);},2746:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sAa=void 0;c=a(5163);a(62558);l=a(91219);r=a(55011);f=a(13407);k=a(551);d=a(57196);g=a(46892);a=(function(m){function h(n,p){var q,u;q=this;u=[new f.cZ(n),new f.cZ(n),new f.cZ(n)];q=m.call(this,u,function(t){return t.complete?q.empty || t.qb <= q.iyb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.Hk=u[0];q.ij=u[1];q.Eq=u[2];q.ep=0;q.Efa=0;q.V=n;q.yq=p;return q;}c.__extends(h,m);Object.defineProperties(h.prototype,{wa:{get:function(){return this.Hk.wa + this.ij.wa + this.Eq.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N6b:{get:function(){return this.Eq;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.ij;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Hk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zZb:{get:function(){return this.ep;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{D3:{get:function(){return this.Hk.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xr:{get:function(){return this.Hk.wa + this.ij.wa - this.ep;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{O6b:{get:function(){return this.Eq.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wN:{get:function(){return this.wa - this.ep;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{first:{get:function(){return this.IHb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sd:{get:function(){return this.Xub();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zla:{get:function(){return !this.Hk.empty || this.Eq.empty || this.ij.empty?this.first:this.ij.qb < this.Eq.qb?this.ij.first:this.Eq.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{x4a:{get:function(){return this.Eq.empty || this.ij.empty?this.Sd:this.ij.wb < this.Eq.wb?this.Eq.Sd:this.ij.Sd;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pZa:{get:function(){return this.Eq.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N:{get:function(){return this.first && this.first.N;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qb:{get:function(){return this.zla && this.zla.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wb:{get:function(){return this.x4a && this.x4a.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pn:{get:function(){return this.first && this.first.pn;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{iyb:{get:function(){return this.Hk.empty?this.qb:this.Hk.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hyb:{get:function(){var n;return this.Hk.empty?null === (n=this.Ja) || void 0 === n?void 0:n.G:this.Hk.Va.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gVa:{get:function(){var n;return this.Hk.empty?null === (n=this.Ab) || void 0 === n?void 0:n.G:this.Hk.Pb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{w8a:{get:function(){var n,p;return (null === (n=this.ij.Pb) || void 0 === n?void 0:n.G) || (null === (p=this.Hk.Pb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{UC:{get:function(){return this.Eq.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zj:{get:function(){return this.ij.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{iVa:{get:function(){return this.Hk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ta:{get:function(){return this.Hk.concat(this.ij);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nq:{get:function(){return this.Pe;},enumerable:!1,configurable:!0}});h.prototype.tJ=function(n){var p;n.aborted?++this.Efa:this.ep+=n.bytesReceived || 0;if(this.empty)this.Pe=new g.Ez(this,{});else if(n.qb !== this.wb)if(n.qb > this.Pe.wb)this.Pe.SN(this.Pe.wb);else if(n.qb < this.qb || n.qb === this.Pe.wb){p=n.wb;this.bHb(function(q,u){return q.qb - u.qb;},function(q){p=q.qb === p?q.wb:p;});p === Math.max(this.wb,n.wb)?this.Pe.v3():this.Pe.SN(p);}n.Pbb(this);};h.prototype.sx=function(n){n.aborted?--this.Efa:this.ep-=n.bytesReceived;this.empty?this.Pe=void 0:n.qb !== this.wb && n.wb <= this.Pe.wb && n.qb > this.Pe.qb && this.Pe.SN(n.qb);n.Hxb();};h.prototype.update=function(){var n;this.Hk.update();this.ij.update();this.Eq.update();if(this.Pe){n=this.map(function(u){return u;});n.sort(function(u,t){return u.qb - t.qb;});this.Pe.v3();for(var p=n[0].wb,q=1;q < n.length;++q){if(n[q].qb !== p){this.Pe.SN(p);break;}p=n[q].wb;}}};h.prototype.push=function(n){this.tJ(n);return m.prototype.push.call(this,n);};h.prototype.shift=function(){var n;n=m.prototype.shift.call(this);n && this.sx(n);return n;};h.prototype.pop=function(){var n;n=m.prototype.pop.call(this);n && this.sx(n);return n;};h.prototype.unshift=function(n){this.tJ(n);return m.prototype.unshift.call(this,n);};h.prototype.qt=function(n){this.tJ(n);m.prototype.qt.call(this,n);};h.prototype.remove=function(n){if(!m.prototype.remove.call(this,n))return !1;this.sx(n);return !0;};h.prototype.splice=function(n,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=m.prototype.splice.apply(this,c.__spreadArray([n,p],c.__read(q),!1));q.forEach(this.tJ.bind(this));u.forEach(this.sx.bind(this));return u;};h.prototype.XYb=function(n){var p;p=this;this.reduce(function(q,u,t){u.aborted && !u.Jy && (n && n(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};h.prototype.xma=function(n){return this.ZYa(function(p){return p.xma(n);});};h.prototype.nT=function(n){return this.ZYa(function(p){return p.nT(n);});};h.prototype.YYa=function(n){n=this.nT(n);return -1 !== n?this.get(n):void 0;};h.prototype.n1b=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};h.prototype.UM=function(n){this.move(n);this.k5(n);};h.prototype.VM=function(n,p){this.ep+=p;this.xT(n,p);};h.prototype.wr=function(n,p){this.ep+=p;this.fcb();this.BF(n,p);};h.prototype.bW=function(n,p,q){this.ep-=n.bytesReceived;++this.Efa;this.nL(n,p,q);};h.prototype.dW=function(n,p,q){this.ij.Y6b(p - q);this.Yma(n,p,q);};h.prototype.CVb=function(){this.fcb();};h.prototype.fcb=function(){for(;this.ij.first && (this.ij.first.complete || this.ij.first.Jy) && (this.Hk.empty?this.ij.first === this.zla:this.ij.first.qb === this.Hk.wb);){this.N2b();}};return h;})(l.lCa);b.sAa=a;(0,r.xk)(d.$C,a,!1);(0,r.xk)(k.Aw,a);},18621:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cba=void 0;c=a(5163);l=a(69028);r=(function(f){function k(d,g,m,h){var n;n=f.call(this,d,m) || this;n.X$=!1;n.rT=!1;n.KV=!1;n.TS=!1;n.pN=void 0;k.x2a(n,d,g,m,h);return n;}c.__extends(k,f);k.x2a=function(d,g,m,h,n){l.BI.zpa(d,g,h);d.v=m;d.bE=h.Hh;d.ZD=h.XM;d.wPa=h.tF;d.V=n;};Object.defineProperties(k.prototype,{Fe:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hh:{get:function(){return this.bE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{XM:{get:function(){return this.ZD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tF:{get:function(){return this.wPa;},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {movieId:this.P,streamId:this.Qb,bitrate:this.bitrate};};return k;})(l.BI);b.Cba=r;},65593:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u){return {Fe:!0,Vt:{vg:n.Fb.Ek},Qc:u,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.uAa=void 0;l=a(5163);f=a(36418);k=a(42866);r=a(57055);d=l.__importDefault(a(35471));g=a(97810);m=a(55011);h=a(62558);n=a(27364);p=a(18621);a=a(64406);q=d.default.MediaSource;a=(function(u){function t(v,w,y,x,z,A,B,C){var D,F,G;D=y.track;B=(B?"(cache)":"") + v.id + " header";F=x.offset;G=x.wa;x.XM && (F+=x.XM.byteLength,G-=x.XM.byteLength);x=l.__assign(l.__assign(l.__assign({},x),c(x.Qc)),{offset:F,wa:G});w=u.call(this,v,D,B,x,z,A,w,C) || this;w.pN=y;w.psa=0;p.Cba.x2a(w,v,A,x,C);w.rT=!!x.rT;w.KV=!!x.KV;w.TS=!!x.TS;w.qta=x.wa;w.X$=!!x.X$;++w.psa;return w;}l.__extends(t,u);Object.defineProperties(t.prototype,{Fe:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{g9:{get:function(){return this.Mqb;},enumerable:!1,configurable:!0}});t.prototype.We=function(){var v;if(!this.complete){v={type:"headerRequestCancelled",request:this};this.emit(v.type,v);}u.prototype.We.call(this);};t.prototype.wT=function(v){this.stream.Rsa();u.prototype.wT.call(this,v);};t.prototype.nL=function(v,w,y){this.stream.V8();u.prototype.nL.call(this,v,w,y);};t.prototype.wr=function(v,w){var y;y=v.response;y && this.qob(y);(0,h.assert)(this.ZD);v.vN();this.Kqb()?(this.stream.V8(),u.prototype.wr.call(this,v,w)):this.s2?(this.PFb(v.offset + v.wa,this.s2),u.prototype.wr.call(this,v,w)):u.prototype.cW.call(this,v);};t.prototype.PFb=function(v,w){this.CYa(this.pF,this.label + " (" + this.psa + ")",c(this.Qc),{offset:v,wa:w});++this.psa;};t.prototype.Kqb=function(){var v,w,y,x,z,A,B;x=this.config;z=new f.pq(t.pTb,this.stream,this.ZD,this.stream.ba?["moov"]:["sidx"],x.gWb,{Gic:this.stream.track.sua,t8a:void 0 === this.za,web:!q.tf || !q.tf.Txb,oya:x.oya,Cm:x.Cm,EO:this.config.EO,y0b:!0,Y$:!q.tf || !q.tf.zTb,qva:this.config.qva});A=z.parse({za:this.za});this.X7b=x.EO && z.EMb;if(A.Qv){(0,h.assert)(A.Hh);this.bE=A.Hh;this.Mqb=A.g9;this.wPa=!!A.aFb;void 0 === this.za && void 0 === A.za && this.V.error("No frame duration available for " + this.Qb);z=A.za?new k.L(A.za):this.za;B=void 0;if(this.stream.mediaType === n.u.X && (null === (v=x.aN) || void 0 === v?0:v.enabled))if(null === (w=this.stream.AH) || void 0 === w?0:w.length)B=this.stream.AH;else if((v=this.stream.Gv.AH,0 < (null === v || void 0 === v?void 0:v.length)))for((B=new Uint8Array(v.length),y=0);y < v.length;y++){B[y]=v[y].Cb;}else if(null === (y=A.vw) || void 0 === y?0:y.length)for((B=new Uint8Array(A.vw.length),y=0);y < A.vw.length;y++){B[y]=A.vw[y];}this.stream.Qsa(A.Hh,A.N,z,A.La,A.EM,A.qj,B,A.trackId);this.ZD=void 0;}else this.s2=A.s2 || 0;return !!A.Qv;};t.prototype.qob=function(v){this.ZD=this.ZD?(0,g.xK)(this.ZD,v):v;};t.pTb=new d.default.Console("MP4","media|asejs");return t;})(a.dZ);b.uAa=a;(0,m.xk)(p.Cba,a,!1,!1);(0,m.xk)(r.EventEmitter,a);},54790:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Dba=void 0;c=a(5163);c.__importDefault(a(35471));l=a(62558);r=(function(f){function k(d,g,m,h,n,p,q){g=f.call(this,d,g,m,h,n,p,q) || this;g.Idb=0;(0,l.assert)(0 === m.responseType);(0,l.assert)(m.Rg);g.Rg=m.Rg;d=d.Vm();g.Idb=d.Mt.G;return g;}c.__extends(k,f);return k;})(a(29930).Bba);b.Dba=r;},46541:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Fba=void 0;c=a(5163);l=a(50954);f=a(49730);r=(function(k){function d(g,m,h,n,p,q,u,t,v,w,y,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);g=k.call(this,h,v,{index:0,offset:0,wa:0,qb:p,wb:q,N:n,sv:x,Sk:z,lw:y},w) || this;g.eWb=h;g.console=t;g.v=v;f.K && g.console.log(("AsePaddingRequest [").concat(g.mediaType,"], constructed ").concat(g.toString()) + (", ").concat(m.byteLength," bytes") + (", ").concat(g.$s," samples"));g.Oua(m,!0);return g;}c.__extends(d,k);Object.defineProperties(d.prototype,{profile:{get:function(){return this.eWb.profile;},enumerable:!1,configurable:!0}});d.prototype.abort=function(){return !1;};d.prototype.toJSON=function(){var g,m,h,n,p;return {viewableId:l.rq,startPts:null === (g=this.Ab) || void 0 === g?void 0:g.G,endPts:(null === (m=this.Ab) || void 0 === m?void 0:m.G) + (null === (h=this.Kd) || void 0 === h?void 0:h.G),"contentStartTicks:":this.qb,contentEndTicks:this.wb,contentStartPts:null === (n=this.Ja) || void 0 === n?void 0:n.G,contentEndPts:null === (p=this.Va) || void 0 === p?void 0:p.G};};d.prototype.toString=function(){return ("[padding c:").concat(this.Ja.G,"-").concat(this.Va.G,",") + ("p:").concat(this.Ab.G,"-").concat(this.Pb.G,",") + ("d:").concat(this.Va.G - this.Ja.G,"]");};return d;})(a(35195).lq);b.Fba=r;},57196:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$C=b.DAa=void 0;c=a(5163);r=(function(){function l(f){this.yq=f;}l.prototype.Pbb=function(f){this.yq=f;};l.prototype.Hxb=function(){this.yq=void 0;};l.prototype.wT=function(f){var k,d;null === (d=null === (k=this.yq) || void 0 === k?void 0:k.ota) || void 0 === d?void 0:d.call(k,f);};l.prototype.k5=function(f){var k,d;null === (d=null === (k=this.yq) || void 0 === k?void 0:k.UM) || void 0 === d?void 0:d.call(k,f);};l.prototype.vT=function(f){var k,d;null === (d=null === (k=this.yq) || void 0 === k?void 0:k.TM) || void 0 === d?void 0:d.call(k,f);};l.prototype.xT=function(f,k){var d,g;null === (g=null === (d=this.yq) || void 0 === d?void 0:d.VM) || void 0 === g?void 0:g.call(d,f,k);};l.prototype.BF=function(f,k){var d,g;null === (g=null === (d=this.yq) || void 0 === d?void 0:d.wr) || void 0 === g?void 0:g.call(d,f,k);};l.prototype.xZa=function(f){var k,d;null === (d=null === (k=this.yq) || void 0 === k?void 0:k.cW) || void 0 === d?void 0:d.call(k,f);};l.prototype.nL=function(f,k,d){var g,m;null === (m=null === (g=this.yq) || void 0 === g?void 0:g.bW) || void 0 === m?void 0:m.call(g,f,k,d);};l.prototype.Yma=function(f,k,d){var g,m;null === (m=null === (g=this.yq) || void 0 === g?void 0:g.dW) || void 0 === m?void 0:m.call(g,f,k,d);};l.prototype.wZa=function(f){var k,d;null === (d=null === (k=this.yq) || void 0 === k?void 0:k.nta) || void 0 === d?void 0:d.call(k,f);};return l;})();b.DAa=r;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);return f;})(r);b.$C=r;r.prototype.ota=r.prototype.wT;r.prototype.UM=r.prototype.k5;r.prototype.TM=r.prototype.vT;r.prototype.VM=r.prototype.xT;r.prototype.wr=r.prototype.BF;r.prototype.cW=r.prototype.xZa;r.prototype.bW=r.prototype.nL;r.prototype.dW=r.prototype.Yma;r.prototype.nta=r.prototype.wZa;},64406:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.dZ=b.lm=void 0;c=a(5163);l=a(57055);f=a(36418);r=a(55011);k=a(62558);a(26973);d=a(7033);g=a(93161);m=a(57196);a=a(69028);(function(h){h[h.HIa=0]="NOTHING_APPENDED";h[h.m0=1]="PARTIAL";h[h.pm=2]="COMPLETE";h[h.Bk=3]="ERROR";})(b.lm || (b.lm={}));a=(function(h){function n(p,q,u,t,v,w,y,x){var z;z=h.call(this,p,t) || this;z.pF=q;z.label=u;z.properties=t;z.v=w;z.config=y;z.console=x;z.events=new l.EventEmitter();z.Xa=d.Ig.qu;z.VD=0;z.$Q=-Infinity;z.rd=[];z.Ova=0;z.Pbb(v);z.Xa=d.Ig.qu;z.Rf=p.ZT(!!t.Fe,t.Rg);z.fE=p.location || t.location;z.vR=p.Wb || t.Qc;z.Rg=t.Rg;z.QVa(q,u,t);return z;}c.__extends(n,h);Object.defineProperties(n.prototype,{Fe:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{c9:{get:function(){return this.Xa >= d.Ig.OPENED && this.Xa < d.Ig.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{active:{get:function(){return this.Xa >= d.Ig.TO && this.Xa < d.Ig.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$ua:{get:function(){return this.Xa === d.Ig.ul;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{complete:{get:function(){return this.Xa === d.Ig.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aborted:{get:function(){return this.Xa === d.Ig.Ur;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{url:{get:function(){return this.Rf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{status:{get:function(){var p;return (null === (p=this.gM) || void 0 === p?void 0:p.status) || this.rd[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Uf:{get:function(){var p;return null === (p=this.gM) || void 0 === p?void 0:p.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mB:{get:function(){var p;return null === (p=this.gM) || void 0 === p?void 0:p.mB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ti:{get:function(){var p;return null === (p=this.gM) || void 0 === p?void 0:p.Ti;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bytesReceived:{get:function(){return this.VD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ki:{get:function(){return this.$Q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{location:{get:function(){return this.fE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Qc:{get:function(){return this.vR;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mcb:{get:function(){return this.properties.IH;},enumerable:!1,configurable:!0}});n.prototype.Nwa=function(p,q){this.fE=p;this.vR=q;};n.prototype.Oya=function(p){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.na;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Qb,"mediaRequest:",this,"stream:",q),1);t=q.ZT(this.Fe,this.Rg);if(this.url !== t || p)if((u.Nwa(this,q.location,q.Wb),!this.TX(t)))return (this.console.warn("swapUrl failed: ",this.mB),2);return 0;};n.prototype.Zwb=function(){return 0 >= this.wa && 1 <= this.rd.length && void 0 !== this.rd[0].Uf;};n.prototype.Ywb=function(p){(0,k.assert)(0 >= this.wa,"AseRequest.changeStream is only supported for open range requests");(0,k.assert)(1 <= this.rd.length && void 0 !== this.rd[0].Uf,"AseRequest.changeStream only supported when open range request has failed");(0,k.assert)(this.stream.track === p.track,"AseStream.changeStream cannot change stream to a different track");this.v2b(p);this.Oya();};n.prototype.Deb=function(){var u;for(var p,q;this.Ova < this.rd.length && (q=this.rd[this.Ova]).response;){u=++this.Ova === this.rd.length;null === (p=this.Oua) || void 0 === p?void 0:p.call(this,q.response,u);q.vN();}};n.prototype.QVa=function(p,q,u){var t,v;if(0 < u.wa)u.DG && u.wa > u.DG?this.dZb(p,q,u,u.DG,u):this.jH(p,q,u,u);else if(this.Tta())this.jH(p,q,u,u);else {t=u.offset;v=this.config.BQb;this.config.EWa && (u=c.__assign(c.__assign({},u),{responseType:0}));this.jH(p,q,u,{offset:t,wa:v});}};n.prototype.dZb=function(p,q,u,t,v){var w,y;t=Math.ceil(v.wa / t);w=v.offset;for(v=v.wa;0 < v;--t){y=Math.ceil(v / t);this.jH(p,q,u,{offset:w,wa:y});w+=y;v-=y;}};n.prototype.Tta=function(){return !!this.pF.W4b || this.config.pdb || this.pF.config.type === g.platform.GI.Ha;};n.prototype.jH=function(p,q,u,t){p=new d.QIa(this.stream,this.Rf,p,q,u,t,this,this.v,this.config,this.console);this.rd.push(p);this.state >= d.Ig.OPENED && (p.open(),this.state >= d.Ig.pm && (this.Xa=d.Ig.OPENED,this.wT(this)));};n.prototype.Dr=function(p){var q;q=this.rd.indexOf(p);-1 !== q && (this.rd.splice(q,1),0 < this.ic && ((0,k.assert)(this.ic >= p.wa),this.ic-=p.wa));};n.prototype.CYa=function(p,q,u,t){this.jH(p,q,u,t);this.ic+=t.wa;};n.prototype.open=function(){var p;null === (p=this.Iga) || void 0 === p?void 0:p.iVb();if(p=this.rd.every(function(q){return q.open();}))(this.Xa=d.Ig.OPENED,this.wT(this));return p;};n.prototype.abort=function(){var p,q;p=this.active;q=this.c9;this.Xa=d.Ig.Ur;this.rd.forEach(function(u){return u.abort();});this.nL(this,p,q);return !0;};n.prototype.We=function(){this.rd.forEach(function(p){return p.We();});};n.prototype.TX=function(p){this.Rf=p;return this.rd.map(function(q){return q.TX(p);}).some(function(q){return q;});};n.prototype.bLb=function(){(0,k.assert)(0 < this.rd.length);return this.rd[0].response;};n.prototype.getResponseHeader=function(p,q){var u;u=null;this.rd.some(function(t){return !!(u=t.getResponseHeader(p,q));});return u;};n.prototype.getAllResponseHeaders=function(p){var q;q=null;this.rd.some(function(u){return !!(q=u.getAllResponseHeaders(p));});return q;};n.prototype.yj=function(){return 1 === this.rd.length?this.rd[0].yj():"(" + this.rd.map(function(p){return p.yj();}).join(", ") + ")";};n.prototype.ota=function(){};n.prototype.UM=function(p){var q;this.state > d.Ig.OPENED || (this.Xa=d.Ig.TO,this.$Q=Math.max(this.$Q,p.ki),null === (q=this.Iga) || void 0 === q?void 0:q.cVb(),this.k5(this));};n.prototype.TM=function(p){var q,u;0 >= this.wa && !this.Tta() && (u=this.cZb(p,this.offset + p.wa));this.state <= d.Ig.TO && (this.mta(p,0),this.Xa=d.Ig.ul,null === (q=this.Iga) || void 0 === q?void 0:q.ZUb(),this.Deb(),this.vT(this));void 0 !== u && this.dW(p,u,this.wa);};n.prototype.cZb=function(p,q){var u,t;u=p.IIb();if(void 0 !== u){t=u - q;0 < t && this.jH(p.pF,this.label,this.properties,{offset:q,wa:t});return u;}this.bMb(p);};n.prototype.bMb=function(p){this.yVa=(this.yVa || 0) + 1;1 >= this.yVa && (this.Dr(p),p.abort(),this.QVa(p.pF,this.label,this.properties));};n.prototype.VM=function(p,q){this.mta(p,q);this.xT(this,q);};n.prototype.wr=function(p,q){var u,t,v,w,y;if(!(this.state > d.Ig.ul)){if(this.config.EWa && this.mediaType !== g.u.Ha && this.tOb && p === this.rd[0] && p.response instanceof ArrayBuffer){t=f.XI.FYa(new DataView(p.response));if(t){v=t.kya;w=t.mZa;t=t.Wva;if(void 0 === w || void 0 === t)(w=void 0 === w?this.mediaType === g.u.X?this.stream.za.$c(this.Np).ja:0:0,w=new g.L(v + w,this.stream.Np));else {t=this.stream.za.oo(t);w=new g.L(v + w,this.stream.Np);y=this.Kd;!t.equal(this.Kd) && this.console.error("fragment times mismatch:",("decode ").concat(v),("presentation ").concat(w.lb()),("duration ").concat(t.lb()),("expected ").concat(y.lb()));}}}this.mta(p,q);this.Deb();this.rd.every(function(x){return x.complete;})?(this.Xa=d.Ig.pm,null === (u=this.Iga) || void 0 === u?void 0:u.MM(),this.BF(this,q),this.We()):this.xT(this,q);}};n.prototype.nta=function(){this.wZa(this);};n.prototype.cW=function(p){var q;this.console.warn("AseRequest.onrequesterror:",this.toString());q=p.status;(416 === q || 206 === q) && 0 >= this.wa && !this.Tta()?(p.abort(),p.We(),this.Dr(p),this.jH(p.pF,this.label,this.properties,{offset:p.offset,wa:Math.max(Math.ceil(p.wa / 2),1)})):(this.gM=p,this.xZa(this));};n.prototype.bW=function(){var p,q;if(this.state !== d.Ig.Ur){this.console.warn("AseRequest.onrequestaborted:",this.toString());p=this.active;q=this.c9;this.Xa=d.Ig.Ur;this.nL(this,p,q);}};n.prototype.dW=function(p,q,u){this.ic+=q - u;p={type:"updatedBytes",HTb:q,qta:u};this.events.emit(p.type,p);this.Yma(this,q,u);};n.prototype.mta=function(p,q){this.gM === p && (this.gM=void 0);this.$Q=Math.max(this.$Q,p.ki);this.VD+=q;};return n;})(a.BI);b.dZ=a;(0,r.xk)(m.DAa,a,!1);},19616:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Jba=void 0;c=a(5163);l=a(42866);f=a(87034);k=a(4399);d=a(62558);g=a(57578);m=c.__importDefault(a(35471));h=a(35195);r=(function(){function n(p,q,u){var t,v,w;this.Z=q;this.V=u;this.IQa=l.L.Ga;this.Dq=p.track;this.Z1=p.Zt;this.Gv=p.Gv;this.Jpb=this.mediaType !== f.u.Ha?this.mV.ii:!1;this.xrb=p.q5b;this.Ua=void 0;this.bE=p.Hh;q=p.fr;this.fr=void 0 === q?!0:q;this.q4=p.q4;this.FJ=void 0;this.hQa=this.Ofa=0;this.url=this.qX=this.Wb=this.Wt=this.Pqa=this.location=this.mb=this.Lb=void 0;this.BB=!1;this.kqa=this.Ld=void 0;this.GQ=new Set();p=this.Z;!this.ba && (q=p && "object" === typeof p.H9 && p.H9[this.profile],"object" === typeof q && (q=q[this.bitrate])) && (this.IQa=new l.L(q.ticks,q.timescale));this.oqb=0 <= (null === (t=p.bTa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (v=p.aN) || void 0 === v?0:v.ffc) && this.mediaType === f.u.X && (t=this.Gv,0 < (null === (w=t.AH) || void 0 === w?void 0:w.length))){w=t.AH.splice(0,t.AH.length);t=new Uint8Array(w.length);for(v=0;v < w.length;v++){t[v]=w[v].Cb;}this.AH=t;}}Object.defineProperties(n.prototype,{Gh:{get:function(){return this.ba?!!this.bE:!!this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$2a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{na:{get:function(){return this.Dq.na;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{J:{get:function(){return this.na.J;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.Dq.P;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Dq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{za:{get:function(){return this.Dq.za;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){return this.Dq.N;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Np:{get:function(){return this.Dq.Np;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.Dq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.Dq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mV:{get:function(){if(this.mediaType !== f.u.Ha)return this.Gv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Zt:{get:function(){return this.Z1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Qb:{get:function(){var p;return this.mediaType === f.u.Ha?null !== (p=this.xrb) && void 0 !== p?p:"":this.mV.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{id:{get:function(){return this.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ii:{get:function(){return this.Jpb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ba:{get:function(){return this.track.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bitrate:{get:function(){return this.mediaType === f.u.Ha?0:this.mV.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Cb:{get:function(){var p;if(this.L4)return this.L4;if(this.mediaType === f.u.X)return null !== (p=this.Gv.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{h0b:{get:function(){if(this.mediaType === f.u.X)return this.Gv.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$W:{get:function(){if(this.mediaType === f.u.X)return this.Gv.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.mediaType === f.u.Ha?"timedtext":this.mV.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Hd:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sk:{get:function(){if(this.mediaType === f.u.X)return this.Gv.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Hf:{get:function(){return this.IQa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mt:{get:function(){return this.ba?this.Vm().Mt:l.L.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{c5:{get:function(){return this.track.c5;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{o6:{get:function(){return this.oqb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{La:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Iv:{get:function(){return this.Ua && this.Ua.Iv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{tv:{get:function(){return void 0 !== this.FJ?this.FJ:this.mPb();},set:function(p){this.FJ=p;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{lG:{get:function(){return this.fr && !this.BB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Hh:{get:function(){return this.bE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{FOb:{get:function(){return this.mediaType === f.u.fa || this.mediaType === f.u.X && (-1 !== this.Hd.indexOf("h264bpl") || -1 !== this.Hd.indexOf("h264mpl") || -1 !== this.Hd.indexOf("hevc") && -1 === this.Hd.indexOf("do"));},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wOb:{get:function(){(0,d.assert)(!!this.La,"Initial header should have been received already");return this.na.Lpa() && -1 < this.Hd.indexOf("h264mpl") && void 0 === this.La.Xha;},enumerable:!1,configurable:!0}});n.prototype.LF=function(){return this.na.LF(this.mediaType,this.Qb);};n.prototype.wJb=function(){var p;p=this.LF();return p && p.stream.La;};n.prototype.mI=function(p,q){return this.na.mI(this,p,q);};n.prototype.Rsa=function(){this.track.Rsa();};n.prototype.V8=function(){this.track.V8();};n.prototype.Qsa=function(p,q,u,t,v,w,y,x){this.ba || t && void 0 !== t.Kr && (this.track.Gh || void 0 !== t.bf && t.bf.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.ba && this.Z.Cm && this.Hf && 0 === t.Kr && (t.Kr+=this.Hf.$c(t.N).ja),this.Gh || (this.bE=p,this.track.Qsa(this,q,u,t,w,x),this.ba || (this.Ua=new k.xNa(this.Z1,this.track.Eo,t,v,w,y,this.P)),this.track.aVb(this))):this.ba || (t?this.V.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.Kr) + "," + this.track.Gh + "," + this.track.sua + "," + (void 0 !== t.bf) + "," + !(!t.bf || !t.bf.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.V.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};n.prototype.Jyb=function(p){this.Gh || (this.track.Kyb(p.track),this.Ua=p.La,this.bE=p.Hh);};n.prototype.Zn=function(p){return new h.lq(this,void 0,this.La.get(p));};n.prototype.E_a=function(p){var q;q=this.Zn(p.index);p.Ia && (q.Bi(p.Ia),q.UN(p.lw));return q;};n.prototype.Z6b=function(p,q){this.Ofa=p;this.hQa=q;};n.prototype.Kxb=function(){this.mb=this.Lb=this.Wb=this.location=this.url=void 0;};n.prototype.Wm=function(){switch(this.mediaType){case f.u.fa:return this.hIb();case f.u.X:return this.SLb();case f.u.Ha:return this.BLb();default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};n.prototype.ZT=function(p,q,u){var t,v,w;return this.ba?(u=null === (t=u || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (v=null === u || void 0 === u?void 0:u[0]) && void 0 !== v?v:"",v=null !== (w=null === u || void 0 === u?void 0:u[1]) && void 0 !== w?w:"",p?p=this.Vm().WNb:(void 0 === q && this.V.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Vm().media.replace("$Number$",q.toString())),t + "/" + p + (v?"?" + v:"")):u || this.url;};n.prototype.Vm=function(){var p,q,u,t,v,w,y;p=this;(0,d.assert)(this.ba && this.na.W.Jh,"liveMetadata missing from manifest");q=this.na.W.Jh;q=q.lX[q.u4[this.Qb]];u=new Date(q.Y2).getTime();t=Math.max(0,this.na.Xt - u - this.Z.z7);v=Number(q.CX);w=new l.L(Number(q.u9a),q.N);y=new l.L(q.duration,q.N);return c.__assign(c.__assign({},q),{Hia:u,xWa:t,CX:v,Mt:w,Kd:y,HT:function(x){var z,A,B,C;z=y.$c(p.N);if(p.Z.y7 && p.mediaType === f.u.fa){A=p.c5.$c(p.N);B=p.za.$c(p.Np);C=Math.ceil(z.oo(x - v).qa(A).ih(B));z=Math.ceil(z.oo(x - v + 1).qa(A).ih(B));C=B.oo(C).add(A).$c(p.N);A=B.oo(z).add(A).$c(p.N);}else (C=z.oo(x - v),A=C.add(z));return {Ja:C,Va:A};}});};n.prototype.oWb=function(p){var q,u,t,v,w,y,x,z,A;if(p){p.split(";").some(function(B){if(0 === B.indexOf("sc="))return (u=B.slice(3),!0);});if(u && (p=this.Z.lCb,this.na.AQb() && (p=Math.max(p,this.Z.mCb)),!(m.default.time.xa() - this.na.t4a < p))){(0,d.assert)(null === (q=this.na.W.NA) || void 0 === q?void 0:q.Sp,"Missing pbcid for OC side channel message decryption.");q=new g.Bfa(this.na.W.NA.Sp).decrypt(u,!0);try{t=JSON.parse(q);v=t.time;w=Number(v);isNaN(w)?this.V.error(("Invalid live server time in OC side channel message. time:").concat(v)):this.na.Xt=w;y=t["live-msg-start"];x=t["live-msg-end"];void 0 !== y && isNaN(new Date(y).getTime()) || void 0 !== x && isNaN(new Date(x).getTime())?this.V.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(y,", live-msg-end:").concat(x)):this.na.efb(y,x);z=t["encoder-tag"];A=t["encoder-region"];z && A || this.V.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(z,", encoder-region:").concat(A));this.na.i7b(this.mediaType,{gB:z,fB:A});this.na.t4a=m.default.time.xa();}catch(B){this.V.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(q));}}}};n.prototype.Eua=function(p){return !this.GQ.has(p);};n.prototype.wsb=function(p){this.GQ.has(p)?this.V.trace("segment already blocked: " + p):(this.V.trace("addBlockedLiveSegment: " + p),this.GQ.add(p));};n.prototype.r_b=function(p){this.GQ.has(p) && (this.V.trace("removeBlockedSegment: " + p),this.GQ.delete(p));};n.prototype.toJSON=function(){return {movieId:this.P,mediaType:this.mediaType,streamId:this.Qb,bitrate:this.bitrate,streamIndex:this.Zt,isAvailable:this.fr,fittable:this.tv,vmaf:this.Cb,resolutionWidth:this.h0b,resolutionHeight:this.$W};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Qb + ":" + this.bitrate;};n.prototype.mPb=function(){var p,q,u,t,v,w,y;if(!this.Gh)return !0;if(this.track.Zoa >= this.bitrate)return this.FJ=!0;if(this.track.f5a <= this.bitrate)return this.FJ=!1;(y=this.ba?this.Z.X7 * this.bitrate / 8 * (this.Z.cC + (null !== (q=null === (p=this.na) || void 0 === p?void 0:p.LH.G) && void 0 !== q?q:0)) < this.Ofa:this.Ua.mwb(this.Z.cC,this.Ofa,null !== (t=null === (u=this.na) || void 0 === u?void 0:u.LH.G) && void 0 !== t?t:0,null !== (w=null === (v=this.na) || void 0 === v?void 0:v.LH.wa) && void 0 !== w?w:0,this.hQa))?this.track.sua && !this.ii && this.track.Rl || (this.track.Zoa=this.bitrate):this.track.f5a=this.bitrate;return this.FJ=y;};n.prototype.SLb=function(){return c.__assign(c.__assign({},this.track.Wm()),{profile:this.Hd});};n.prototype.hIb=function(){return c.__assign(c.__assign({},this.track.Wm()),{profile:this.Hd,bitrate:this.bitrate});};n.prototype.BLb=function(){return c.__assign(c.__assign({},this.track.Wm()),{profile:this.Hd});};return n;})();b.Jba=r;},69028:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.BI=void 0;a(62558);r=(function(){function c(l,f){c.zpa(this,l,f);}c.zpa=function(l,f,k){l.Fd=f;l.ic=k.wa;l.Yb=k.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Fd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wa:{get:function(){return this.ic;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Yb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{na:{get:function(){return this.Fd.na;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.Fd.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Fd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Qb:{get:function(){return this.Fd.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Fd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Fd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{N:{get:function(){return this.Fd.N;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Np:{get:function(){return this.Fd.Np;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{za:{get:function(){return this.Fd.za;},enumerable:!1,configurable:!0}});c.prototype.v2b=function(l){this.Fd=l;};return c;})();b.BI=r;},46892:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ez=void 0;r=a(55011);a=a(551);c=(function(){function l(f,k){this.Gn=f;this.dA=k.qb;this.us=k.wb;}Object.defineProperties(l.prototype,{qb:{get:function(){return void 0 !== this.dA?this.dA:this.Gn.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wb:{get:function(){return void 0 !== this.us?this.us:this.Gn.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N:{get:function(){return this.Gn.N;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pn:{get:function(){return this.Gn.pn;},enumerable:!1,configurable:!0}});l.prototype.S1b=function(f){this.dA=f;};l.prototype.SN=function(f){this.us=f;};l.prototype.v3=function(){this.us=void 0;};return l;})();b.Ez=c;(0,r.xk)(a.Aw,c);},551:function(r,b,a){var f;function c(k,d){return void 0 === k?void 0:0 === k?f.L.Ga:new f.L(k,d);}function l(k,d){return void 0 === k || void 0 === d?void 0:k + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Aw=void 0;f=a(42866);r=(function(){function k(){}Object.defineProperties(k.prototype,{bB:{get:function(){var d,g;d=this.wb;g=this.qb;return (void 0 === d || void 0 === g?void 0:d - g) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jXb:{get:function(){return l(this.qb,this.pn);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fXb:{get:function(){return l(this.wb,this.pn);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kd:{get:function(){return c(this.bB,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ja:{get:function(){return c(this.qb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Va:{get:function(){return c(this.wb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ab:{get:function(){return c(this.jXb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Pb:{get:function(){return c(this.fXb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Jua:{get:function(){return c(this.pn,this.N);},enumerable:!1,configurable:!0}});return k;})();b.Aw=r;},78128:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.CI=void 0;c=a(5163);l=a(42866);f=a(87034);k=a(26218);d=a(62558);g=a(97810);m=a(61765);h=a(73098);n=a(92141);p=a(19616);r=(function(){function q(u,t,v){this.Z=t;this.V=v;this.Ku=new g.$Ma();this.M1=0;this.jo=u.jo;this.na=u.na;this.mediaType=u.mediaType;this.kI=u.kI;this.BE=u.BE;this.mediaType === f.u.X?(t=this.jo,v=c.__read(t.streams,1)[0],this.jrb=new n.qJ({w:t.maxWidth,$q:t.maxHeight},{w:t.M8a,$q:t.N8a}),void 0 !== v.framerate_value && void 0 !== v.framerate_scale && (this.kga=h.Zz.from({Et:v.framerate_value,Us:v.framerate_scale}),this.Lga=this.kga.za()),void 0 !== t.Hra && void 0 !== t.Gra && (this.Xpb=h.Zz.from({Et:t.Hra,Us:t.Gra}))):this.mediaType === f.u.fa && (this.Dob=this.jo.streams[0].channels,this.lrb=48E3);this.jb=(this.GJ=this.Lga) && this.GJ.N;this.mediaType === f.u.Ha && (this.jb=1E3);this.pga=this.EQa=!1;this.Zoa=-Infinity;this.f5a=Infinity;u=q.Pob(this,u.Dp);t=u.maxBitrate;v=u.Lf;this.Rl=u.Rl;this.maxBitrate=t;this.Lf=v;this.wrb=v.reduce(function(w,y){w[y.Qb]=y;return w;},{});!1;}q.Pob=function(u,t){var v,w,y,x,z,A,B,C;v=u.Z;w=u.mediaType === f.u.X;y=!1;x=0;z=[];if(u.mediaType === f.u.fa || u.mediaType === f.u.X){A=u.jo;B=A.streams.some(function(D){return D.ii;});A.streams.forEach(function(D,F){var G,E,H;G=D.bitrate;E=!0;if(w){H=D.ii;E=t?!0:H === B;y=y || H;}E && G > x && (x=G);D=new p.Jba({Gv:D,Zt:F,track:u,fr:E},v,u.V);z.push(D);});}else if(u.mediaType === f.u.Ha){C=u.jo;A=C.downloadableIds["imsc1.1"];if(C=C.ttDownloadables["imsc1.1"])(A=new p.Jba({Gv:C,Zt:0,track:u,fr:!0,q5b:A,Hh:[]},v,u.V),z.push(A),u.Ku.set(A));}return {Rl:y,maxBitrate:x,Lf:z};};Object.defineProperties(q.prototype,{IV:{get:function(){return !this.Gh && 0 === this.M1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gh:{get:function(){var u;return this.mediaType === f.u.Ha?!0:this.ba?!(null === (u=this.Ku.value) || void 0 === u || !u.Gh):!!this.Eo && !!this.Ku.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sua:{get:function(){return this.EQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{P:{get:function(){return String(this.na.P);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === f.u.Ha?this.jo.id:this.jo.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{no:{get:function(){return this.jqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{za:{get:function(){return this.GJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.kga;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{N7:{get:function(){return this.Xpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lk:{get:function(){return this.jrb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Dob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.lrb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === f.u.Ha?this.jo.rawTrackType:this.jo.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{NH:{get:function(){return this.mediaType === f.u.Ha?this.jo.rawTrackType:this.jo.NH;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{N:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Np:{get:function(){return this.iqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Eo:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dG:{get:function(){return this.Ku.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Lma:{get:function(){return this.Ku;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vV:{get:function(){return this.Lf.some(function(u){var t;return 1 < ((null === (t=u.Hh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ba:{get:function(){return this.na.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{c5:{get:function(){return this.npb || l.L.Ga;},set:function(u){this.npb=u;},enumerable:!1,configurable:!0}});q.prototype.qoa=function(u){return this.VF()[u];};q.prototype.VF=function(){return this.wrb;};q.prototype.equals=function(u){return !!u && this.P === u.P && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.Rsa=function(){this.M1++;};q.prototype.V8=function(){0 < this.M1 && this.M1--;};q.prototype.Qsa=function(u,t,v,w,y,x){if(this.ba || w && void 0 !== w.Kr && (this.Gh || void 0 !== w.bf && w.bf.length)){if(u.ii || !u.track.Rl)this.EQa=!0;if(this.Gh)!this.pga && !this.ba && w.bf && w.bf.length > this.Eo.length && (this.Ic=new k.qfa(this.mediaType,this.za,w,y),this.Ku.sab(),this.Zoa=-Infinity,this.pga=!0);else {this.gRa(t);this.jqb=x;void 0 !== v && this.mediaType === f.u.X && this.Z.Q0b && (v=h.Zz.FZa(v).za());if(v=v || this.Lga)(this.fRa(v || this.Lga),void 0 === this.N && this.hRa(v.N));this.ba || (this.Ic=new k.qfa(this.mediaType,this.za,w,y));if(u.ii || !u.track.Rl)this.pga=!0;}}else this.ba || this.V && this.V.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.aVb=function(u){void 0 === this.Ku.value && this.Ku.set(u);};q.prototype.Kyb=function(u){this.Gh || (this.hRa(u.N),this.gRa(u.Np),this.fRa(u.za),this.Ic=u.Eo,u.Lma.value?this.Ku.set(u.Lma.value):this.Ku.sab());};q.prototype.YUb=function(u){var t,v;t=u.kya;u=u.mZa;if(this.mediaType !== f.u.fa || void 0 === u)return !1;v=this.na.JQb().$c(this.Np);t=new l.L(t + u,this.Np).qa(v);u=Math.floor(t.ih(this.za));this.c5=t.qa(this.za.oo(u));return !0;};q.prototype.Zs=function(u,t,v,w){var y;(0,d.assert)(this.dG);y=this.dG;this.ba && (t=Math.min(t,this.rB().G));return (0,m.Zs)(this.mediaType,u,y,t,v,w);};q.prototype.xF=function(u,t,v){var w,y,x,z,A;(0,d.assert)(this.dG);y=this.dG;if(this.ba){x=this.na.W.Jh;z=null === x || void 0 === x?void 0:x.O4;A=void 0;if(z)A=new Date(z).getTime();else if(z=this.na.Hqa.endTime)(A=new Date(z).getTime() + this.Z.zQb,t=Infinity);Infinity === t && void 0 !== A && (t=y.Vm().Hia,z=null !== (w=null === x || void 0 === x?void 0:x.N4) && void 0 !== w?w:0,t=A - t + z,0 > t && this.V.error("AseTrack.findLastFragment negative pts.","liveMetadata:",JSON.stringify(x),"eventEndTime:",this.na.Hqa.endTime),(0,d.assert)(0 <= t));}return (0,m.xF)(this.mediaType,u,y,t,v);};q.prototype.Wm=function(){switch(this.mediaType){case f.u.fa:return ((0,d.assert)(this.mediaType === f.u.fa),(0,d.assert)(void 0 !== this.channels),(0,d.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,NH:this.NH,bitrate:this.Lf[this.Lf.length - 1].bitrate,sampleRate:this.sampleRate,no:this.no});case f.u.X:return ((0,d.assert)(this.mediaType === f.u.X),(0,d.assert)(void 0 !== this.N7),(0,d.assert)(void 0 !== this.lk),{J:this.na.J,Rl:this.Rl,profile:this.profile,Efc:this.N7.Et,Dfc:this.N7.Us,NH:this.NH,lk:this.lk,maxWidth:this.lk.lk.w,maxHeight:this.lk.lk.$q,M8a:this.lk.m8a.w,N8a:this.lk.m8a.$q,no:this.no});case f.u.Ha:return ((0,d.assert)(this.mediaType === f.u.Ha),{profile:this.profile,NH:this.NH});default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};q.prototype.toJSON=function(){return {movieId:this.P,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.rB=function(){(0,d.assert)(this.ba,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return l.L.Ma(Math.max(0,this.s_a() - this.Z.wG));};q.prototype.OJb=function(u){(0,d.assert)(this.ba,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.s_a() - u.G > 1E3 * this.na.Wk.KQb?"DVR":"LIVE";};q.prototype.s_a=function(){var u;(0,d.assert)(this.ba,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (null !== (u=this.dG) && void 0 !== u?u:this.Lf[0]).Vm().xWa;};q.prototype.hRa=function(u){this.jb=u;};q.prototype.gRa=function(u){this.iqb=u;};q.prototype.fRa=function(u){new h.Zz(u.N,u.ja).za();this.GJ=u;this.mediaType === f.u.X && (this.kga=h.Zz.FZa(u));};return q;})();b.CI=r;},83350:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Kba=void 0;c=a(5163);a(36418);c.__importDefault(a(35471));a(62558);r=a(55011);l=a(35195);a=(function(f){function k(d,g,m,h,n,p,q,u){var t;t=c.__assign(c.__assign({},m),{offset:m.offset,wa:m.fsa + 8,DG:void 0,responseType:0});h=f.call(this,d,g,"moof",t,h,n,p,q) || this;h.Jy=!1;l.lq.Bb(h,d,n,m,u);h.sSb=h.pwb(m,t.wa);h.CYa(g,"mdat",m,h.sSb);return h;}c.__extends(k,f);k.prototype.pwb=function(d,g){var m;g={offset:d.offset + g,wa:d.wa - g};if(this.Ia){if(0 < this.Ia.start){m=this.eZa(this.Ia.start);m && (g.offset=d.offset + m,g.wa=d.wa - m);}this.Ia.end < this.$s && (m=this.eZa(this.Ia.end)) && (g.wa-=d.wa - m);}return g;};k.prototype.toString=function(){return "ID: " + this.yj() + ":" + f.prototype.toString.call(this);};return k;})(a(64406).dZ);b.Kba=a;(0,r.xk)(l.lq,a);},10391:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KAa=void 0;c=a(42866);r=(function(){function l(f){this.config=f;}l.prototype.JYb=function(f){var k,d,g;k=this.config;d=[];g=[];f.forEach(function(q,u){void 0 === q.Cb?g.push(u):d.push(u);});if(0 !== g.length)for(var m=-1,h=-1,n=function(q){var u,t,v,w,y,x;u=g[q];t=f[u];if(0 === q || u !== g[q - 1] + 1)(m=d[(0,c.oia)(d,function(z){return z < u;})] || -1,h=d[(0,c.av)(d,function(z){return z > u;})] || -1);v=0;w=k.iSb;q=0;y=k.jSb;-1 < h && (w=f[h].bitrate,y=f[h].Cb);-1 < m && (q=f[m].Cb,v=f[m].bitrate);w=Math.log(w);v=0 === v?0:Math.log(v);x=Math.log(t.bitrate);t.L4=Math.max(0,Math.min(110,Math.round((q * (w - x) + y * (x - v)) / (w - v) * 100) / 100));},p=0;p < g.length;p++){n(p);}};return l;})();b.KAa=r;},31549:function(r,b,a){var f,k,d,g,m,h,n;function c(p){return p && "function" === typeof p.Ag?!0:!1;}function l(p){return c(p) && (p=typeof p.EOb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.uib=b.NFb=b.DOb=b.lhb=b.AsyncIterator=void 0;f=a(5163);k=a(49730);g=(function(){function p(q){var u;u=this;this.Bpb=q;this.XQ=!1;this.Zqb=function(t){return u.BYb(t);};this.LVa();}p.f7=function(q,u){function t(){var v;v=q.next();v.then(function(w){l(q) && q.EOb || u(w);});v.then(function(w){return !w.done && t();});}t();};Object.defineProperties(p.prototype,{ry:{get:function(){return this.XQ;},enumerable:!1,configurable:!0}});p.fJb=function(){return new m([]);};p.voa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{WL:{get:function(){return this.rs || !1;},enumerable:!1,configurable:!0}});p.prototype.Ag=function(){this.cancel();};p.prototype.cancel=function(){this.AQa();this.rs=!0;return this.Nfa;};p.prototype.next=function(){return this.rs?this.Nfa:Promise.race([this.Nfa,this.Bpb()]).then(this.Zqb);};p.prototype.BYb=function(q){q.done && (this.XQ=!0,this.Ag());this.WL || (this.AQa(),this.LVa());return q;};p.prototype.LVa=function(){var q;q=this;this.Nfa=new Promise(function(u){q.AQa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=g;m=(function(p){function q(u){var t;t=p.call(this,function(){return t.jKb();}) || this;t.HE=u;t.index=0;return t;}f.__extends(q,p);q.prototype.Ag=function(){c(this.HE) && this.HE.Ag();p.prototype.Ag.call(this);};q.prototype.jKb=function(){return this.HE.length > this.index?Promise.resolve({value:this.HE[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.lhb=m;b.DOb=c;b.NFb=l;h=(function(p){function q(u,t,v){var w;w=p.call(this,function(){return w.nsa();}) || this;w.console=t;w.Ik=v;w.Cua=!1;Array.isArray(u)?w.eR=new m(u):w.eR=u;return w;}f.__extends(q,p);q.prototype.DYb=function(u){var t;this.Cua=!1;t=this.console;k.K && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.IJ)return (c(u) && u.Ag(),g.voa());Array.isArray(u)?this.Ik=new m(u):this.Ik=u;return this.nsa();};q.prototype.CYb=function(u){var t;t=this.console;k.K && t && t.trace("CompoundIterator: processNextInnerResult",this.IJ,u.done);if(!u.done || this.IJ)return u;this.Ik=void 0;return this.nsa();};q.prototype.Ag=function(){var u;u=this.console;k.K && u && u.trace("CompoundIterator: dispose");this.IJ=!0;p.prototype.Ag.call(this);c(this.eR) && this.eR.Ag();c(this.Ik) && this.Ik.Ag();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.IJ," ").concat(this.eR," ").concat(this.Ik);};q.prototype.nsa=function(){var u,t;u=this;t=this.console;k.K && t && t.trace("CompoundIterator: nextImpl");if(this.Ik)return (k.K && t && t.trace("CompoundIterator: getNextInner"),this.Ik.next().then(function(v){return u.CYb(v);}));this.Cua=!0;k.K && t && t.trace("CompoundIterator: getNextOuter");return this.eR.next().then(function(v){return u.DYb(v);});};return q;})(g);b.uib=h;b.map=function(p,q,u){return new n(p,q,u);};n=(function(p){function q(u,t,v){var w;w=p.call(this,function(){return w.tpb();}) || this;w.source=u;w.sra=t;w.eka=v;return w;}f.__extends(q,p);q.prototype.Ag=function(){c(this.source) && this.source.Ag();p.prototype.Ag.call(this);};q.prototype.tpb=function(){var u,t,v;u=this.eka;t=this.sra;v=this.source;k.K && u && u.trace("MappedIterator: Requesting next");return v.next().then(function(w){return w.done?w:t(w.value);});};return q;})(g);b.flatten=function(p,q,u){return new h(p,q,u);};},89755:function(r,b,a){var f,k,d,g,m,h,n,p;function c(q,u){return q.done?q:{value:{value:q.value,BRa:u}};}function l(q){q.BRa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Sub=b.knb=b.aD=void 0;f=a(5163);r=a(57055);k=a(31549);d=a(49730);g=f.__importDefault(a(35471));m=a(97810);h=a(62558);a=a(55011);n=(function(){function q(u,t){this.console=u;this.Nf=t;this.mqb=this.NQ=0;this.dg=[];this.console=(0,m.Kh)(g.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{RCb:{get:function(){return this.NQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hVa:{get:function(){var u,t,v;for(t=0;t < this.dg.length;t++){v=this.dg[t];if(!v.JU || (null === (u=v.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ry:{get:function(){return 0 === this.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cva:{get:function(){var u;for(u=0;u < this.dg.length && this.dg[u].eqa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=f.__read(this.dg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{osa:{get:function(){var u;for(u=0;u < this.dg.length && this.dg[u].JU;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.uF=function(){var u;if(void 0 === this.Nf){u=this.console;d.K && u && u.trace("QueueIterator: enqueueEnd");this.Gya(this.osa - (this.Nf || 0));}};q.prototype.wk=function(){return this.dg.map(function(u){return u.item;});};q.prototype.jY=function(){this.sf || (this.sf=this.dg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.sf;};q.prototype.Gya=function(u){var t;d.K && this.console.trace("updateCount",{Bhc:this.Nf,Sn:u});if(void 0 !== this.Nf){t=this.dg[this.Nf];t && this.Fpa(t);}this.Nf=void 0 === this.Nf?u:void 0 === u?u:this.Nf + u;void 0 !== this.Nf && (this.Nf=Math.max(0,this.Nf),(t=this.dg[this.Nf]) && t.oG.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;d.K && this.console.trace("Enqueue called");t=this.osa;this.u3();return this.VYb(t,{value:u,done:!1}).YWa.promise;};q.prototype.qab=function(){d.K && this.console.trace("resetEnd");this.Gya(void 0);};q.prototype.clear=function(u){var t,v,w;d.K && this.console.trace("clear");this.Hua();t=this.Cva;v=this.dg.length - t;if(0 < v){w={index:t,Gsa:v};d.K && this.console.trace("Removing items",w);this.dg.splice(t,v);this.u3();this.emit("onRemoved",w);}for(v=1;v < t;v++){this.Fpa(this.dg[v]);}this.Nf=void 0;this.Gya(u?u + t:u);this.NQ && (this.NQ=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,m.Kh)(g.default,this.console,"QueueIteratorInstance::");return new p(this,function(v){return u.q0a(v);},t);};q.prototype.QCb=function(){var u;if(0 < this.Cva){u=f.__read(this.dg,1)[0];u.JU && (d.K && this.console.trace("dequeue",u.id),this.Hua(1),this.emit("onDequeue",u.oG.promise));}};q.prototype.remove=function(u){var t,v,w;for(t=0;t < this.dg.length;t++){v=this.dg[t];w=v.item;if(w && !w.done && w.value === u){this.dg.splice(t,1);this.Nf && this.Nf > t && this.Nf--;this.u3();d.K && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:t,Gsa:1});break;}}};q.prototype.Hua=function(u){var t;u=u || Math.min(this.Cva,this.osa);if(0 < u){t=this.dg.splice(0,u);this.u3();this.Nf && (this.Nf-=u);d.K && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(v){v.YWa.resolve();});});this.emit("onRemoved",{index:0,Gsa:u});this.NQ+=u;}};q.prototype.q0a=function(u){var t;d.K && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.y2a(u);t=this.dg[u];t.Z_b.resolve();u=t.oG.promise;d.K && this.console.trace("getNextItem:return",{id:t.id});}else (d.K && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.VYb=function(u,t){var v;v=!t.done && t.value;v=v && v.toJSON?v.toJSON():v;d.K && this.console.trace("Providing result",{Rtb:u,item:v});this.y2a(u);u=this.dg[u];v=u.oG.resolve;v(t);return u;};q.prototype.y2a=function(u){var t;if(void 0 === this.dg[u]){t={};this.Fpa(t);this.dg[u]=t;u === this.Nf && t.oG.resolve({done:!0});d.K && this.console.trace("Item initialized",{Rtb:u});}};q.prototype.yka=function(u){var t;t={};t.promise=new Promise(function(v,w){t.resolve=function(y){v(y);u && u(y);};t.reject=w;});return t;};q.prototype.Fpa=function(u){var t;t=this;u.oG=this.yka(function(v){u.item=v;u.JU=!0;d.K && t.console.trace("Item resolved",{id:u.id});});u.id && u.eqa && !u.JU && (u.oG.resolve({done:!0}),d.K && this.console.warn("Overwriting requested queue item",u.id));u.YWa=this.yka();u.Z_b=this.yka(function(){u.eqa=!0;d.K && t.console.trace("Item requested",{id:u.id});});u.id=this.mqb++;u.eqa=!1;u.JU=!1;u.item=void 0;};q.prototype.u3=function(){this.sf=void 0;};q.prototype.ina=function(){var u,t,v;u=this;t=(0,m.Kh)(g.default,this.console,"QueueIteratorInstance::");v=new p(this,function(w){var y,x;if(0 === u.count)return k.AsyncIterator.voa();y=u.q0a(w);x=u.dg[0];return y.then(function(z){return c(z,function(){v.WL || (x === u.dg[0]?u.QCb():(0,h.assert)(!u.dg.filter(function(A){return A.oG.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return v;};return q;})();b.aD=n;(0,a.xk)(r.EventEmitter,n);p=(function(q){function u(t,v,w){var y;y=q.call(this,function(){d.K && y.console.trace("Next item requested",{index:y.index});return y.C0b(y.index++);}) || this;y.parent=t;y.C0b=v;y.console=w;y.IJ=!1;y.index=0;y.xga=!1;y.J7a=function(x){var z;z=x.index;x=x.Gsa;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;d.K && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}f.__extends(u,q);u.prototype.Ag=function(){this.console.trace("disposed");this.IJ=!0;this.We();q.prototype.Ag.call(this);};u.prototype.next=function(){this.WL || this.Epa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.We();return q.prototype.cancel.call(this);};u.prototype.We=function(){this.parent.vr("onRemoved",this.J7a);this.xga=!1;};u.prototype.Epa=function(){this.xga || (this.xga=!0,this.parent.on("onRemoved",this.J7a));};return u;})(k.AsyncIterator);b.knb=p;b.Sub=function(q){return (0,k.map)(q,l);};},62663:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mBa=void 0;c=a(5163);l=a(31549);f=a(49730);r=(function(){function k(d,g,m){this.V=d;this.yob=g;this.Ae=m;this.o1=0;this.F1=!1;this.DQ=[];this.YD=void 0;f.K && d.trace(("BranchRequestIterator [").concat(this.Ae,"]: created"));}Object.defineProperties(k.prototype,{HBb:{get:function(){return this.o1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{T3:{get:function(){return this.pPa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ji:{get:function(){return this.F1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uWa:{get:function(){return this.Ik?this.Ik.ry?"Complete":this.Ik.Cua?"WaitingForBranch":void 0 !== this.YD && 0 !== this.YD?("In Policy ").concat(this.DQ[this.YD].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.bQa);},enumerable:!1,configurable:!0}});k.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,m,h;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Ik;if(!d)return [3,6];this.YD=void 0;return [4,d.next()];case 1:(g=n.Ta(),m=0,n.label=2);case 2:if(!(m < this.DQ.length))return [3,5];this.YD=m;h=this.DQ[m];return [4,h.process(g)];case 3:(g=n.Ta(),n.label=4);case 4:return (m++,[3,2]);case 5:this.YD=void 0;if(g.done || this.Ik !== d)return [2,{done:!0}];this.o1++;g.value.BRa();return [2,{done:!1,value:g.value.value}];case 6:return [2,l.AsyncIterator.voa()];}});});};k.prototype.p0b=function(){this.Pcb();this.FZb();};k.prototype.Pcb=function(){var d;if(this.Ik){this.bQa=this.uWa;d=this.Ik;d && d.Ag();this.DQ.forEach(function(g){return g.reset();});d && f.K && this.V.trace(("BranchRequestIterator [").concat(this.Ae,"]: Disposing iterator that was on branch "),this.T3 && this.T3.v.id);this.F1=!1;this.YD=this.Ik=void 0;}};k.prototype.r2=function(d){this.DQ.push(d);};k.prototype.FZb=function(){var d,g,m,h;d=this;if(!this.F1){g=this.V;m=this.yob;h=this.Ae;this.o1=0;this.bQa=this.pPa=void 0;this.Ik=(0,l.flatten)((0,l.map)(m.gLb(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.pPa=n,this.o1=0,f.K && g.trace(("BranchRequestIterator [").concat(this.Ae,"]: new branch ").concat(n.v.id)),[4,n.uB(h)]);case 1:if(p=q.Ta())return [2,{value:p}];f.K && g.error(("BranchRequestIterator [").concat(this.Ae,"]: skipping branch ").concat(n.v.id));return [2,{value:[]}];}});});},g),g);this.F1=!0;}};return k;})();b.mBa=r;},76666:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){return p === d.u.X?0:p === d.u.fa?1:p === d.u.Ha?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Uba=b.Gz=b.Alb=b.qI=void 0;l=a(5163);f=a(57055);k=a(49730);d=a(27364);g=l.__importDefault(a(35471));m=a(97810);h=a(62558);b.qI=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.Alb={qI:b.qI};(function(p){p[p.qu=0]="CREATED";p[p.bP=1]="CANCELLED";})(n=b.Gz || (b.Gz={}));r=(function(){function p(q,u,t,v,w){this.Ji=q;this.HPa=u;this.Gu=t;this.bn=v;this.Xa=n.qu;this.TJ=[];this.events=new f.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,m.Kh)(g.default,w,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Qd:{get:function(){return this.Xa === n.bP;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{v:{get:function(){return this.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ed:{get:function(){return this.TJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.HPa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.Bb=function(){return l.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Pb && (u=q.Pb.qa(this.bn),this.qw(u,"init from parent")),q.LO.then(function(){var v;if(!t.Qd){v=t.parent;(0,h.assert)(v,"Parent is undefined after parent normalization");v.Pb && (v=v.Pb.qa(t.bn),t.qw(v,"parent normalization"));}}));return [2];});});};p.prototype.qw=function(q,u){void 0 === u && (u="unknown");k.K && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.Gu.G,".  ").concat(u));this.Gu=q;};p.prototype.v0a=function(q){var t;if(!this.Qd)for(var u=this.parent;u;){t=u.PF(q);if(t)return t;u=u.parent;}};p.prototype.Cf=function(){this.HPa=void 0;};p.prototype.n6=function(q){return this.Ed.some(function(u){return u.mediaType === q;});};return p;})();b.Uba=r;},22494:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y;Object.defineProperties(b,{__esModule:{value:!0}});b.kBa=b.Gz=void 0;c=a(5163);l=a(42866);f=a(42866);k=a(39139);d=a(27364);r=a(551);g=a(55011);m=a(62558);h=a(90187);n=a(1104);p=a(49730);q=a(58628);u=a(39656);t=a(13326);v=a(76666);w=a(6173);(function(x){x[x.qu=0]="CREATED";x[x.bP=1]="CANCELLED";})(y=b.Gz || (b.Gz={}));a=(function(x){function z(A,B,C,D,F,G,E,H,M,L,K,O,J){B=x.call(this,D,M,E,G,B) || this;B.Z=A;B.nW=C;B.U_a=F;B.mga=H;B.HQ=L;B.Ru=K;B.sI=O;B.Gk=J;B.Av=new n.VP();B.zva=0;B.Mb=void 0;B.lz=void 0;B.Op=new f.Kz();B.F6=new f.Kz();B.Ssa=B.PNb();return B;}c.__extends(z,x);Object.defineProperties(z.prototype,{Ed:{get:function(){var A;this.Zm && 0 === (null === (A=this.TJ) || void 0 === A?void 0:A.length) && this.U_a && (p.K && this.console.trace("Branch getting initial tracks"),this.TJ=this.U_a(this.na).sort(v.qI),p.K && this.console.trace("Branch got initial tracks:",this.TJ));return this.TJ;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{bK:{get:function(){return this.Zh?this.Xq().every(function(A){return A.He.bK;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{wSa:{get:function(){return this.Xq().some(function(A){return A.ytb;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{li:{get:function(){var A;return !(null === (A=this.jd) || void 0 === A || !A.li);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zh:{get:function(){var A;return !(null === (A=this.jd) || void 0 === A || !A.Zh);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{CA:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.CA) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Pg:{get:function(){var A;return !(null === (A=this.jd) || void 0 === A || !A.Pg);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{LO:{get:function(){return this.Op.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zm:{get:function(){var A;return !(null === (A=this.sI) || void 0 === A || !A.na);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{m6:{get:function(){return !!this.Ed.length && this.Ed.every(function(A){return A.Gh;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{na:{get:function(){(0,m.assert)(this.sI.na,"viewable should be available");return this.sI.na;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{N:{get:function(){var A;return (null === (A=this.jd) || void 0 === A?void 0:A.N) || this.bn.N;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qb:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.qb) && void 0 !== B?B:this.bn.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{wb:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.wb) && void 0 !== B?B:this.v.Ef.$c(this.bn.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pn:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.pn) && void 0 !== B?B:this.te.$c(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qy:{get:function(){var A,B,C;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.qy) && void 0 !== B?B:null === (C=this.bn) || void 0 === C?void 0:C.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{kL:{get:function(){var A,B;B=null === (A=this.v.v.Rq) || void 0 === A?void 0:A[0];return B && this.Ja?l.L.Ma(Math.max(0,B[0] - this.Ja.G - this.v.je.G)):l.L.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zr:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.zr) && void 0 !== B?B:this.v.je.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$G:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.$G) && void 0 !== B?B:this.v.Ef.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{u7:{get:function(){var A;return null === (A=this.jd) || void 0 === A?void 0:A.u7;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{te:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.te) && void 0 !== B?B:this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Or:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.Or) && void 0 !== B?B:this.v.Ef.qa(this.bn || this.v.je);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Mk:{get:function(){var A;return null === (A=this.jd) || void 0 === A?void 0:A.Mk;},enumerable:!1,configurable:!0}});z.prototype.Bb=function(){return c.__awaiter(this,void 0,void 0,function(){var A,B,C;C=this;return c.__generator(this,function(D){switch(D.label){case 0:x.prototype.Bb.call(this);if(this.Qd)return [2];p.K && this.console.log(("AseBranch {").concat(this.v.id,"} awaiting viewable"));return [4,this.sI.Bb(this)];case 1:D.Ta();p.K && this.console.log(("AseBranch {").concat(this.v.id,"} viewable available, branch ").concat(this.Qd?"cancelled":"active"));if(this.Qd)return [2];A=this.Ed.map(function(F){var G;return null === (G=C.parent) || void 0 === G?void 0:G.IL(F.mediaType);});this.Fbb(this.bn);this.Ed.some(function(F){F.mediaType === d.u.Ha && C.Tbb(F);});return [4,this.QYa()];case 2:return (D.Ta(),p.K && this.console.log(("AseBranch {").concat(this.v.id,"} have headers")),this.Qd?[2]:(B=this.parent)?[4,B.LO]:[3,4]);case 3:D.Ta();if(this.Qd)return [2];this.PAb(A);D.label=4;case 4:return (this.normalize(),[2]);}});});};z.prototype.PAb=function(A){var B;B=this;this.Av.forEach(function(C){var D,F;F=null === (D=B.parent) || void 0 === D?void 0:D.IL(C.mediaType);(0,m.assert)(F,"Parent state should be defined");-1 === (null === A || void 0 === A?void 0:A.indexOf(F)) && (C.gl.xe.Oa(),D=new h.jfa(function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.IL(C.mediaType);}),C.gl.xe=D);F=void 0;});A=void 0;};z.prototype.QYa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.m6?this.F6.resolve():(this.na.events.on("onHeaderFragments",this.Ssa),this.events.emit("needsRequest"));return [2,this.F6.promise];});});};z.prototype.PNb=function(){var A;A=this;return function(){!A.Qd && A.m6 && (A.na.events.vr("onHeaderFragments",A.Ssa),A.F6.resolve());};};z.prototype.normalize=function(){this.Qd || (this.jd=new w.WIa(this,this.Z,this.console,this.na,this.nW,this.Ji,this.bn,this.Av.items,this.Gu,this.mga,this.HQ,this.events,this.Ru,this.Gk),this.Bla(this.jd.$A),this.Op.resolve(this.jd));};z.prototype.yN=function(){var A;null === (A=this.jd) || void 0 === A?void 0:A.yN();};z.prototype.update=function(A){var B;this.Ji=A;(null === (B=this.jd) || void 0 === B?0:B.update(A)) && this.Bla(!0);};z.prototype.qw=function(A,B){var C;void 0 === B && (B="unknown");x.prototype.qw.call(this,A,B);null === (C=this.jd) || void 0 === C?void 0:C.qw(A);};z.prototype.uB=function(A){return c.__awaiter(this,void 0,void 0,function(){var B;return c.__generator(this,function(C){switch(C.label){case 0:return [4,this.Op];case 1:return (B=C.Ta(),[2,null === B || void 0 === B?void 0:B.uB(A)]);}});});};z.prototype.reset=function(){var A;null === (A=this.jd) || void 0 === A?void 0:A.reset();};z.prototype.Cf=function(A){var B;void 0 === A && (A="other");x.prototype.Cf.call(this,A);this.Xa=y.bP;this.Zm && this.na.events.vr("onHeaderFragments",this.Ssa);null === (B=this.jd) || void 0 === B?void 0:B.Cf(A);this.Av.forEach(function(C){C.cancel();C.gl.xe.Oa();});this.sI.Oa();this.lz && (this.lz.removeAllListeners(),p.K && this.console.trace("AseBranch destroying textRequestQueue:",this.lz),k.jD.instance.m4(this.lz),this.lz=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:A});this.events.removeAllListeners();};z.prototype.L6=function(A){var B;return !(null === (B=this.jd) || void 0 === B || !B.L6(A));};z.prototype.Md=function(A){var B;return null === (B=this.jd) || void 0 === B?void 0:B.Md(A);};z.prototype.n6=function(A){return this.Ed.some(function(B){return B.mediaType === A;});};z.prototype.Xq=function(A){var B,C;void 0 === A && (A=v.qI);return null !== (C=null === (B=this.jd) || void 0 === B?void 0:B.Xq(A)) && void 0 !== C?C:[];};z.prototype.IL=function(A){var B,C;return (null === (B=this.Md(A)) || void 0 === B?void 0:B.gl.xe) || (null === (C=this.Av.get(A)) || void 0 === C?void 0:C.gl.xe);};z.prototype.M5=function(){var A,B,C;if(!this.m6)return this.Av.items;C=null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.M5()) && void 0 !== B?B:[];p.K && this.console.trace("getMediaStreamables returning:",C);return C;};z.prototype.PF=function(A){var B;return (null === (B=this.jd) || void 0 === B?void 0:B.PF(A)) || this.Av.get(A);};z.prototype.Yn=function(A,B){var C;return (null === (C=this.jd) || void 0 === C?void 0:C.Yn(A,B)) || 0;};z.prototype.rL=function(){var A;return (null === (A=this.jd) || void 0 === A?void 0:A.rL()) || ({});};z.prototype.vL=function(A){var B;return (null === (B=this.jd) || void 0 === B?void 0:B.vL(A)) || this.qy.G;};z.prototype.hz=function(A,B,C){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E,H;H=this;return c.__generator(this,function(M){switch(M.label){case 0:p.K && this.console.trace("Branch.setTracks:",A);this.TJ=A.sort(v.qI);this.Fbb(B);if(!this.Pg)return [3,4];(0,m.assert)(this.jd);D=this.Av.filter(function(L){return L.track.Gh;}).items;F=this.jd.gfb(D,B,C);G=F.OS;E=F.$A;G && this.Bla(E);if(this.m6)return [3,4];this.F6=new f.Kz();this.Op=new f.Kz();p.K && this.console.log(("AseBranch {").concat(this.v.id,"} setTracks waiting for headers"));return [4,this.QYa()];case 1:return (M.Ta(),this.Qd?[2]:this.parent?[4,this.parent.LO]:[3,3]);case 2:(M.Ta(),M.label=3);case 3:(this.jd.gfb(this.Av.items,B,C),p.K && this.console.log(("AseBranch {").concat(this.v.id,"} setTracks pipelines updated")),this.Op.resolve(this.jd),this.events.emit("needsRequest"),M.label=4);case 4:return (A.some(function(L){if(L.mediaType === d.u.Ha)return (H.Tbb(L),!0);}),[2]);}});});};z.prototype.Tbb=function(A){var B;B=this;this.Mb=A;this.lz || (this.lz=(0,u.Sx)(d.u.Ha,this.na,this.Z,this.console,!0,function(C){B.nW.emit("transportReport",C);},function(){},function(C,D){return B.console.error("Handled text streaming error",{failure:C,code:D});}),p.K && this.console.trace("AseBranch created textRequestQueue:",this.lz));};z.prototype.Fbb=function(A){var B,C;B=this;this.zva=0;C=this.Ed;this.na.ba || (C=C.filter(function(D){return D.mediaType !== d.u.Ha;}));C=C.map(function(D){var F;F=B.Av.find(function(G){return G.track === D;});F || (++B.zva,F=new t.oFa(B,D,function(){var G;return null !== (G=null === A || void 0 === A?void 0:A.add(B.te)) && void 0 !== G?G:l.L.Ga;},null !== A && void 0 !== A?A:l.L.Ga,B.Z,B.console,function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.IL(D.mediaType);},B.nW,function(){0 === --B.zva && B.events.emit("requestQueuesCreated");}));return F;});this.Av=new n.VP(C);};z.prototype.vn=function(A){var B;return (null === (B=this.jd) || void 0 === B?void 0:B.vn(A)) || [];};z.prototype.yK=function(A){var B;return !(null === (B=this.jd) || void 0 === B || !B.yK(A));};z.prototype.z5=function(A){return this.jd?this.jd.z5(A):l.L.Ga;};z.prototype.Faa=function(A){var B;return !(null === (B=this.jd) || void 0 === B || !B.Faa(A));};z.prototype.Bla=function(A){A={type:"branchNormalized",segmentContentStart:this.v.je,branchContentStart:this.Ja,branchContentEnd:this.Va,didNormalizeSegment:A};this.events.emit(A.type,A);p.K && this.console.trace("branchNormalized:",A);};z.prototype.toJSON=function(){var A;return (null === (A=this.jd) || void 0 === A?void 0:A.toJSON()) || ({});};return z=c.__decorate([q.pL],z);})(v.Uba);b.kBa=a;(0,g.xk)(r.Aw,a);},13326:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oFa=void 0;c=a(39656);l=a(39139);f=a(27364);k=a(90187);d=a(35548);g=a(62558);r=(function(){function m(h,n,p,q,u,t,v,w,y){this.nb=h;this.track=n;this.U3b=p;this.N3b=q;this.config=u;this.console=t;this.events=w;this.sVb=y;this.Mv=0;this.t9a=this.Zh=!1;this.gl=this.nBb(v);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{I:{get:function(){return this.nb.v.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jf:{get:function(){return this.nb.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{baa:{get:function(){return this.U3b();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mk:{get:function(){return this.baa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{LC:{get:function(){return this.baa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bdb:{get:function(){return this.N3b;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kL:{get:function(){return this.nb.kL;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gj:{get:function(){return this.me || (this.me=this.Sx());},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{li:{get:function(){return !this.track.IV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ita:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.gr=function(){return this.track.IV;};m.prototype.cn=function(){return this.track.Gh;};m.prototype.Pg=function(){return !1;};m.prototype.M_a=function(){return {La:[],h9:0,xr:0,wN:0};};m.prototype.c6b=function(){var h;(0,g.assert)(this.cn());h=this.Gj;this.me=void 0;return h;};m.prototype.Ceb=function(h){return (h=h.mI(this.nb.v,this.Gj))?{Ih:h,reason:"success"}:{Ih:h,reason:"pipelineTryIssueHeaderRequest"};};m.prototype.cancel=function(){this.me && (this.nb.na.DR(this.mediaType,this.me),l.jD.instance.m4(this.me),this.me.removeAllListeners(),this.me=void 0);};m.prototype.u3a=function(){var h,n,p;p=this.config.so;if(null === (h=this.Gj) || void 0 === h?0:h.track)p=null === (n=this.Gj) || void 0 === n?void 0:n.track.so;return p;};m.prototype.UT=function(){return this.nb.v0a(this.mediaType);};m.prototype.nBb=function(h){var n,p,q;n=this.mediaType === f.u.fa?this.config.Kub:this.track.ba?this.config.Kqa:this.config.$cb;h=new k.jfa(h);h.A2b(this.track);p=this.config;q=this.mediaType;return new d.pQ(n,this.config,h,p.E4 || q === f.u.fa && p.B4 || q === f.u.X && p.C4);};m.prototype.Sx=function(){var h,n;h=this;n=(0,c.Sx)(this.mediaType,this.track.na,this.config,this.console,this.track.ba,function(p){return h.events.emit("transportReport",p);},function(p){return h.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.sVb);return n;};return m;})();b.oFa=r;},6173:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w;function c(y,x){return (y.mediaType === h.u.X?0:1) - (x.mediaType === h.u.X?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.WIa=b.Ymb=void 0;l=a(5163);f=a(42866);k=a(42866);d=a(99739);g=a(57196);m=a(31549);h=a(27364);n=a(40115);p=a(62558);q=l.__importDefault(a(35471));r=a(551);u=a(55011);t=a(1104);v=a(7460);w=a(97810);b.Ymb={qI:c};a=(function(y){function x(z,A,B,C,D,F,G,E,H,M,L,K,O,J){var I,N;N=y.call(this,C) || this;N.nb=z;N.Z=A;N.na=C;N.nW=D;N.Ji=F;N.Gu=H;N.mga=M;N.HQ=L;N.events=K;N.Ru=O;N.Gk=J;N.lj=new t.VP([]);N.rs=!1;N.VPa=0;N.kPa=N.SUb.bind(N);(0,p.assert)(C.J === N.v.J || isNaN(C.J) && isNaN(N.v.J));z=F.id && F.id.length?"{" + F.id + "}":"";N.console=(0,w.Kh)(q.default,B,z);N.bn=null !== G && void 0 !== G?G:N.v.je;B=N.parent;N.zQa=null === B || void 0 === B?void 0:B.Pb;null === (I=N.HQ) || void 0 === I?void 0:I.addListener(N.kPa);E=N.UVa(E,N.bn,!!B).$A;N.$A=E;return N;}l.__extends(x,y);Object.defineProperties(x.prototype,{Qd:{get:function(){return this.rs;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{v:{get:function(){return this.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{li:{get:function(){return this.lj.every(function(z){return z.li;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Zh:{get:function(){return this.lj.every(function(z){return z.Zh;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{CA:{get:function(){return this.Xq().reduce(function(z,A){return z + A.CA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pg:{get:function(){return this.Xq().every(function(z){return z.Pg();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ed:{get:function(){return this.nb.Ed;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{N:{get:function(){return this.kR.N;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{qb:{get:function(){return this.kR.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{wb:{get:function(){return this.kR.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{pn:{get:function(){return this.te.$c(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{qy:{get:function(){return this.bn.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{zr:{get:function(){return this.v.je.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$G:{get:function(){return this.v.Ef.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{u7:{get:function(){return this.lj.reduce(function(z,A){return z && A.Pb?f.L.max(z,A.Pb):A.Pb?A.Pb:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Mk:{get:function(){return this.lj.reduce(function(z,A){A=A.Mk;return z && A?f.L.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Or:{get:function(){return this.kR.Or;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{te:{get:function(){return this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.nb.parent;},enumerable:!1,configurable:!0}});x.prototype.gfb=function(z,A,B){var C;void 0 === A && (A=null !== (C=this.Ja) && void 0 !== C?C:this.bn);return this.UVa(z,A,B);};x.prototype.yN=function(){var z,A,B,C;if(this.jE){z=this.Ji;A=l.__read(this.jE.yN(z,z.Ef),3);B=A[0];z=A[1];A=A[2];C=this.Md(h.u.fa);C && ((0,p.assert)(B,"branch.renormalize: audioLastFragment should be defined"),C.truncate(B));if(B=this.Md(h.u.X))((0,p.assert)(z,"branch.renormalize: videoLastFragment should be defined"),B.truncate(z));if(z=this.Md(h.u.Ha))((0,p.assert)(A,"branch.renormalize: lastTextFragment should be defined"),z.truncate(A));this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(z){var A;A=z.Ef.wsa(this.Ji.Ef);this.Ji=z;return A && this.jE?(this.yN(),!0):!1;};x.prototype.qw=function(z){this.te.equal(z) || (this.Gu=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.uB=function(z){return l.__awaiter(this,void 0,void 0,function(){var A;return l.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Ta(),(A=this.Md(z))?[2,A.uB()]:[2,m.AsyncIterator.fJb()]);}});});};x.prototype.ER=function(){this.lj.forEach(function(z){return z.ER();});};x.prototype.reset=function(){this.lj.forEach(function(z){z.reset();});};x.prototype.Cf=function(z){var A,B;this.rs || (this.rs=!0,null === (A=this.jE) || void 0 === A?void 0:A.We(),this.jE=void 0,this.lj.forEach(function(C){C.Cf("aborted" === z);}),null === (B=this.HQ) || void 0 === B?void 0:B.removeListener(this.kPa));};x.prototype.L6=function(){return !0;};x.prototype.Md=function(z){return this.lj.get(z);};x.prototype.Xq=function(z){void 0 === z && (z=c);return this.lj.items.slice().sort(z);};x.prototype.M5=function(){return this.lj.items;};x.prototype.PF=function(z){return this.Md(z);};x.prototype.Yn=function(z,A){z=this.Md(z);if(!z)return 0;if(A)return z.b$;A=z.yS;if(void 0 === A)return 0;z=this.mga();return A - z;};x.prototype.rL=function(){var z,A,B,C,D,F,G;G=null === (z=this.Md(h.u.fa)) || void 0 === z?void 0:z.C3;z=null === (A=this.Md(h.u.X)) || void 0 === A?void 0:A.C3;return {Saa:null !== (B=null === z || void 0 === z?void 0:z.G) && void 0 !== B?B:0,k2:null !== (C=null === G || void 0 === G?void 0:G.G) && void 0 !== C?C:0,AY:null !== (D=null === z || void 0 === z?void 0:z.wa) && void 0 !== D?D:0,GR:null !== (F=null === G || void 0 === G?void 0:G.wa) && void 0 !== F?F:0};};x.prototype.vL=function(z){var A;return (z=this.Md(z))?null !== (A=z.yS) && void 0 !== A?A:0:0;};x.prototype.vn=function(z){var A;z=this.Md(z);A=this.na.ba;return (null === z || void 0 === z?void 0:z.vn(A)) || [];};x.prototype.SUb=function(z){z=z.newValue;(0,h.bo)(z) && this.iE();};x.prototype.yK=function(z){return this.lj.every(function(A){return A.yK(z);});};x.prototype.z5=function(z){var A,B;return null !== (B=null === (A=this.lj.get(z)) || void 0 === A?void 0:A.JBb) && void 0 !== B?B:f.L.Ga;};x.prototype.Faa=function(z){var A,B,C,D;A=this.kR.QPb;if(!A)return !1;z=(0,k.wc)(z,function(F){return A.G <= F.Ja.G;});if(!z)return !1;B=z.Ja;z=!1;C=l.__read((0,v.pva)(this.Z,this.lj,B),3);B=C[0];D=C[1];C=C[2];D && (this.Md(h.u.X).truncate(D),z=!0);B && (this.Md(h.u.fa).truncate(B),z=!0);C && (this.Md(h.u.Ha).truncate(C),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.wr=function(z,A){this.rs || ((0,p.assert)(!z.Fe),this.iE(),this.events.emit("requestComplete",{type:"requestComplete",nb:this.nb}),this.Zh && this.Gqb());this.BF(z,A);};x.prototype.VM=function(z,A){this.Z.eYa && this.iE(!0);this.xT(z,A);};x.prototype.TM=function(z){this.Z.eYa && this.iE(!0);this.vT(z);};x.prototype.UVa=function(z,A,B){var C,D,F;C=this;D=new t.VP();F=!1;z.forEach(function(G){var E;E=C.lj.find(function(H){return H.track === G.track;});void 0 === E?(F=!0,E=new d.AKa(C,C.Z,C.console,C.nW,C.nb,G.track,A,G.gl,!0,C.Ru,G.c6b(),C.Gk),C.ZNb(E)):(C.lj.remove(E),E.ER());D.add(E);});this.lj.forEach(function(G){return G.Cf();});this.lj=D;return F?this.normalize(A,B):{OS:!1,$A:!1};};x.prototype.ZNb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.li && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});z.events.on("liveMissingSegment",function(B){return A.events.emit("liveMissingSegment",B);});};x.prototype.normalize=function(z,A){var B;null === (B=this.jE) || void 0 === B?void 0:B.We();this.jE=new n.BKa({console:this.console,config:this.Z,na:this.na,v:this.v,nC:this.lj,Ja:z,Va:this.v.Ef,splice:A});this.kR=this.lj.tua;A=this.jE.normalize();z=A.OS;A=A.$A;z && this.zQa && (this.Gu=this.zQa.qa(this.Ja));return {OS:z,$A:A};};x.prototype.S2b=function(z){var A;return (0,h.bo)((null === (A=this.HQ) || void 0 === A?void 0:A.value) || h.Rc.vl) && (!z || this.VPa + this.Z.Xra < q.default.time.xa());};x.prototype.iE=function(z){void 0 === z && (z=!1);this.S2b(z) && (this.VPa=q.default.time.xa(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Gqb=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A,B;return {segment:this.v.id,branchOffset:null === (z=this.te) || void 0 === z?void 0:z.G,viewableId:this.Ji.J,contentStartPts:null === (A=this.Ja) || void 0 === A?void 0:A.G,contentEndPts:null === (B=this.Va) || void 0 === B?void 0:B.G};};return x;})(g.$C);b.WIa=a;(0,u.xk)(r.Aw,a);},86787:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.FJa=b.Gz=void 0;c=a(5163);l=a(8604);f=a(42866);k=a(27364);r=a(551);d=a(55011);g=a(89755);m=a(62558);h=a(97810);n=c.__importDefault(a(35471));p=a(30923);q=a(38509);a=a(76666);(function(t){t[t.qu=0]="CREATED";t[t.bP=1]="CANCELLED";})(u=b.Gz || (b.Gz={}));a=(function(t){function v(w,y,x,z,A,B){w=t.call(this,y,z,x,f.L.Ga,(0,h.Kh)(n.default,w,"AsePadding")) || this;w.na=A;w.config=B;w.rI=new g.aD(w.console);w.GA=new g.aD(w.console);w.Op=new f.Kz();w.console.trace(("PaddingBranch {").concat(y.id,"}: created"));return w;}c.__extends(v,t);v.prototype.rAb=function(w){return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B,C,D,F;F=this;return c.__generator(this,function(G){switch(G.label){case 0:return [4,this.hYb()];case 1:return (y=G.Ta(),x=y.Hf,z=y.wd,A=y.bitrate,B=y.no,C=(0,h.Kh)(n.default,this.console,"[0]"),this.GA=new g.aD(C),D=p.iD.instance().HX.O9a(this.na,x,z,A,B,w,this.v,this.ZZa.bind(this),this.config,C),D.forEach(function(E){return F.GA.enqueue(E);}),this.GA.uF(),[2]);}});});};v.prototype.xBb=function(w){var y,x,z;return c.__awaiter(this,void 0,void 0,function(){var A,B,C,D,F,G,E,H,M,L,K,O,J;J=this;return c.__generator(this,function(I){switch(I.label){case 0:return [4,this.jYb()];case 1:return (A=I.Ta(),B=A.profile,C=A.bv,D=A.no,F=l.xz.some(function(N){return -1 !== B.indexOf(N);})?B:"h264hpl",G=null === (z=null === (x=null === (y=this.parent) || void 0 === y?void 0:y.Md(k.u.X)) || void 0 === x?void 0:x.track.za) || void 0 === z?void 0:z.ava(),(0,m.assert)(G,"padding branches should always have a frameRate"),E=(0,h.Kh)(n.default,this.console,"[0]"),H=p.iD.instance().HX.Q9a(this.na,this.na.w8b,F,G,C,D,w,this.v,this.ZZa.bind(this),E),M=H.Ja,L=H.Va,K=H.duration,O=H.La,this.v.normalize(M,L,[]),O.forEach(function(N){return J.rI.enqueue(N);}),this.rI.uF(),this.c8b=K,[2,{duration:K}]);}});});};Object.defineProperties(v.prototype,{li:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Zh:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{CA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Pg:{get:function(){return this.Op.Lva;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{LO:{get:function(){return this.Op.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Zm:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{N:{get:function(){return this.v.je.N;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qb:{get:function(){return this.v.je.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wb:{get:function(){return this.v.Ef.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{pn:{get:function(){return this.te.$c(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qy:{get:function(){return this.v.je.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{kL:{get:function(){(0,m.assert)(!this.v.v.Rq,"exit zone not supported for padding segments");return f.L.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{bK:{get:function(){return this.GA && this.rI?this.GA.ry && this.rI.ry:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wSa:{get:function(){return !(!this.GA && !this.rI);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{zr:{get:function(){return this.v.je.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{$G:{get:function(){return this.v.Ef.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{u7:{get:function(){return this.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Mk:{get:function(){return this.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{te:{get:function(){return this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Jra:{get:function(){var w;return null !== (w=this.kQa) && void 0 !== w?w:this.v.Ef.qa(this.v.je);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Or:{get:function(){return f.L.Ga;},enumerable:!1,configurable:!0}});v.prototype.Bb=function(){return c.__awaiter(this,void 0,void 0,function(){var w;return c.__generator(this,function(y){switch(y.label){case 0:(t.prototype.Bb.call(this),y.label=1);case 1:return (y.Qj.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.v.id,"}: init")),this.parent?[4,this.parent.LO]:[3,3]);case 2:(y.Ta(),y.label=3);case 3:return (this.kQa=this.v.Ef.qa(this.v.je),[4,this.cWa([k.u.fa,k.u.X])]);case 4:return (y.Ta(),this.Op.resolve(),[3,6]);case 5:w=y.Ta();if(!this.Qd)throw w;return [3,6];case 6:return [2];}});});};v.prototype.update=function(w){this.Ji=w;};v.prototype.uB=function(w){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.v.id,"}: getRequestIterator(").concat(w,")"));return w === k.u.fa?[2,this.GA.ina()]:[2,this.rI.ina()];});});};v.prototype.reset=function(){};v.prototype.Cf=function(w){void 0 === w && (w="other");t.prototype.Cf.call(this,w);this.Xa=u.bP;this.kQa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:w});this.events.removeAllListeners();};v.prototype.L6=function(){return !0;};v.prototype.Md=function(){};v.prototype.n6=function(w){return [k.u.fa,k.u.X].some(function(y){return y === w;});};v.prototype.Xq=function(){return [];};v.prototype.IL=function(w){var y;return null === (y=this.parent) || void 0 === y?void 0:y.IL(w);};v.prototype.M5=function(){return [];};v.prototype.PF=function(){};v.prototype.Yn=function(){return this.Jra.G;};v.prototype.rL=function(){return {};};v.prototype.vL=function(){return this.v.Ef.G;};v.prototype.hz=function(w,y,x,z){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(A){switch(A.label){case 0:return [4,this.Op.promise];case 1:return (A.Ta(),this.parent?[4,this.parent.LO]:[3,3]);case 2:(A.Ta(),A.label=3);case 3:return [4,this.cWa(z)];case 4:return (A.Ta(),[2]);}});});};v.prototype.cWa=function(w){return c.__awaiter(this,void 0,void 0,function(){var y,x;return c.__generator(this,function(z){switch(z.label){case 0:y=f.L.Ga;if(-1 === w.indexOf(k.u.X))return [3,2];this.rI.clear();return [4,this.xBb(this.Jra)];case 1:(x=z.Ta(),y=x.duration,z.label=2);case 2:if(-1 === w.indexOf(k.u.fa))return [3,4];this.GA.clear();this.console.trace(("AsePaddingBranch {").concat(this.v.id,"}: video duration ").concat(y.lb()));return [4,this.rAb(this.c8b)];case 3:(z.Ta(),z.label=4);case 4:return [2];}});});};v.prototype.vn=function(){return [];};v.prototype.yK=function(w){var y,x;return !!((null === (y=this.Pb) || void 0 === y?0:y.greaterThan(w)) && (null === (x=this.Ab) || void 0 === x?0:x.lessThan(w)));};v.prototype.z5=function(){return this.Jra;};v.prototype.Faa=function(){return !1;};v.prototype.toJSON=function(){var w,y;return {segment:this.v.id,viewableId:this.Ji.J,contentStartPts:null === (w=this.Ja) || void 0 === w?void 0:w.G,contentEndPts:null === (y=this.Va) || void 0 === y?void 0:y.G};};v.prototype.jYb=function(){var w,y,x,z,A,B,C;return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E;return c.__generator(this,function(H){switch(H.label){case 0:return (D=null === (y=null === (w=this.parent) || void 0 === w?void 0:w.Md(k.u.X)) || void 0 === y?void 0:y.xe.fo)?[3,2]:[4,null === (z=null === (x=this.parent) || void 0 === x?void 0:x.Md(k.u.X)) || void 0 === z?void 0:z.xe.igb];case 1:H.Ta();if(this.Qd)return [2,Promise.reject()];H.label=2;case 2:return (D=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Md(k.u.X)) || void 0 === B?void 0:B.xe.fo,(0,m.assert)(D,"Parent of padding branch must have last selected video stream"),F=null === (C=D.track.lk) || void 0 === C?void 0:C.bv,G=D.track.no,E=D.Hd,[2,{profile:E,bv:F,no:G}]);}});});};v.prototype.hYb=function(){var w,y,x,z,A,B;return c.__awaiter(this,void 0,void 0,function(){var C,D,F,G,E;return c.__generator(this,function(H){switch(H.label){case 0:return (C=null === (y=null === (w=this.parent) || void 0 === w?void 0:w.Md(k.u.fa)) || void 0 === y?void 0:y.xe.fo)?[3,2]:[4,null === (z=null === (x=this.parent) || void 0 === x?void 0:x.Md(k.u.fa)) || void 0 === z?void 0:z.xe.igb];case 1:H.Ta();if(this.Qd)return [2,Promise.reject()];H.label=2;case 2:return (C=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Md(k.u.fa)) || void 0 === B?void 0:B.xe.fo,(0,m.assert)(C,"Parent of padding branch must have last selected audio stream"),D=C.Hf || f.L.Ga,F=(0,q.qna)(C.profile),G=C.bitrate,E=C.track.no,[2,{Hf:D,wd:F,bitrate:G,no:E}]);}});});};v.prototype.ZZa=function(w,y){return this.Gu.add(y).$c(w).ja;};return v;})(a.Uba);b.FJa=a;(0,d.xk)(r.Aw,a);},74029:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vVa=void 0;c=a(50954);l=a(42866);f=a(42663);k=a(22494);b.vVa=function(d){var g,m,h,n,p,q,u,t,v,w,y,x;g=d.config;m=d.console;h=d.gua;n=d.v;p=d.events;q=d.BH;u=d.bn;t=d.te;v=d.et;w=d.Pd;y=d.yd;x=d.sI;d=d.FTa;n.J === c.rq && g.UK?(p=new f.GJa(n.J,g.xta),q=l.L.Ga,g=new (a(86787).FJa)(m,n,q,h.R5.bind(h),p,g)):g=new k.kBa(g,m,p,n,q,u,t,v,h.R5.bind(h),w,y,x,d);return g;};},23800:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eD=void 0;c=a(15913);l=a(62558);r=(function(){function f(k){this.config=k;this.reset();}f.instance=function(){(0,l.assert)(void 0 !== f.ys);return f.ys;};f.ryb=function(k){f.ys=new f(k);};f.prototype.push=function(k){this.aj && this.aj.push(k);};f.prototype.Lb=function(){if(this.aj)return (this.aj.Mx(),this.aj.wi([.25,.5,.75,.9,.95,.99]).map(function(k){return k?parseFloat(k.toFixed(1)):0;}));};f.prototype.reset=function(){this.config.KEb && this.config.dda && (this.aj=new c.TDigest(this.config.dda.c,this.config.dda.maxc));};return f;})();b.eD=r;},87425:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=b.Dt=void 0;c=a(5163);r=a(57055);l=a(42866);f=a(42866);k=a(22209);d=c.__importDefault(a(89956));g=a(27364);m=c.__importDefault(a(35471));h=a(62558);n=a(29308);p=a(64406);q=a(7881);u=a(97810);t=a(31549);v=a(54790);b.Dt=function(w){return w.qa(l.L.Ma(w.uH));};a=(function(w){function y(x,z,A,B,C,D){var F,G;F=this;F=w.call(this) || this;F.Ae=x;F.ig=z;F.Sc=A;F.Z=B;F.Y=C;F.In=D;F.vRa=!1;F.vPa=!1;F.wR=!1;F.V=k.kq.wv(F.Ae);F.eA=F.V.error.bind(F.V);F.Fs=F.V.warn.bind(F.V);F.vx=F.V.trace.bind(F.V);null === (G=A.events) || void 0 === G?void 0:G.addListener("ready",function(){F.fx();});F.c6a=new n.mIa(F.Z,F.Ae,F.ig.tf,F.V);F.reset();return F;}c.__extends(y,w);Object.defineProperties(y.prototype,{endOfStream:{get:function(){return this.QQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{S4b:{get:function(){return !!this.Sc.cFb;},enumerable:!1,configurable:!0}});y.prototype.reset=function(x){var z,A,B;null === (z=this.uQa) || void 0 === z?void 0:z.Oa();x || (this.ux=[]);this.Cga=this.x1=this.eE=void 0;this.$z && (this.$z.Qd=!0,this.$z.iterator.Ag(),this.$z=void 0);this.vJ && (this.vJ.Qd=!0,this.vJ.iterator.Ag(),this.vJ=void 0);this.$fa=!1;this.JJ=void 0;this.wR=this.QQ=!1;this.iRa(l.L.Ga);null === (B=(A=this.Sc).reset) || void 0 === B?void 0:B.call(A);this.c6a.reset();};y.prototype.eHb=function(){this.x1=!0;};y.prototype.y4=function(){this.vPa=!0;this.fx();};y.prototype.HC=function(x){this.vRa=x;};y.prototype.oub=function(x){this.ux.push(x);this.fx();};y.prototype.vz=function(){this.fx();};y.prototype.ZTb=function(x){this.Z.gia && void 0 === this.Cga && this.fPa(x,0);this.fx();};y.prototype.G8=function(x,z){var A,B,C,D;A=this;void 0 === x && (x=!1);this.QQ || (this.QQ=!0,this.fx(),!x && this.S4b) || (z && this.In && this.Z.ICb?(x=l.L.Ma(this.Z.H5b),z=z.qa(x),x=(0,q.dba)(this.In,z,!0),z=x.Mf,x=x.promise,null === (B=this.uQa) || void 0 === B?void 0:B.Oa(),this.uQa=z,x.then(function(){var F,G;A.QQ && (null === (G=(F=A.Sc).endOfStream) || void 0 === G?void 0:G.call(F));})):null === (D=(C=this.Sc).endOfStream) || void 0 === D?void 0:D.call(C));};y.prototype.iRa=function(x){var z;null !== (z=this.Arb) && void 0 !== z && z.equal(x) || (this.Arb=x,this.Sc.Ubb(x.ja,x.N));};y.prototype.fx=function(){var x,z,A,B,C,D,F,G;C=this.Z;if(!this.$z && !this.vJ && this.ux.length)if(this.Sc && !1 !== this.Sc.ready){D=this.ux[0];if(D.aborted)(this.Fs("aborted fragment should not appear in the toAppend list:",D.toString(),"complete:",D.complete),this.pR("@" + m.default.time.xa() + ", append: removing aborted fragment from toAppend: " + D.toString()),this.ux.shift());else {F=D.stream;G=F.na;if(F.Gh)if((D.sv && !this.wR && (null === (z=(x=this.Sc).Gcb) || void 0 === z?void 0:z.call(x,{J:F.track.na.J,h3a:F.ii}),this.wR=!0),this.P2b(F,D.index)))(this.x1=!1,this.fPa(F,D.index));else if((x=this.Y.GU(G.J),F=this.vNb(F),x || F || !this.$fa && !C.gza))if((x=this.M0a(D),this.Ae === d.default.qm.fa && (D.Sk || D.yt || (null === (A=D.Ia) || void 0 === A?0:A.Wn)) && D.Ia && !C.CN && !this.QQ && this.ux.length <= (D.Sk || D.yt?1:2) && x > C.m8 && (null === (B=D.dz) || void 0 === B || !B.cM)))this.Y0b();else {this.$fa || (this.$fa=F);this.ux.shift();try{this.Gtb(D);}catch(E){throw (this.V.error(E),E);}}}}else this.pR("@" + m.default.time.xa() + ", append: not appending, sourceBuffer not ready");};y.prototype.Y0b=function(){var x;x=this;this.In && (this.lqa?this.lqa.Y2a || this.lqa.lf():this.lqa=this.In.Rx(function(){return x.HPb();},"JIT Appender"));};y.prototype.HPb=function(){var x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:if(1 !== this.ux.length)return [3,3];x=this.ux[0];if(!x.Sk && !x.yt || (null === (B=x.dz) || void 0 === B?0:B.cM))return [2];z=this.M0a(x);A=this.Z.m8;return z > A?[4,q.Jg.YC(l.L.Ma(z - A))]:[3,2];case 1:(C.Ta(),C.label=2);case 2:return (this.fx(),[3,0]);case 3:return [2];}});};y.prototype.M0a=function(x){var z;return (null === (z=x.Ab) || void 0 === z?NaN:z.G) - this.Y.Jd.G;};y.prototype.P2b=function(x,z){var A;A=x.Hh;(0,h.assert)(A);return 0 === A.length?this.x1=!1:this.x1 || void 0 === this.eE || x.Qb !== this.eE.Qb?!0:1 < A.length?(0,f.oia)(A,function(B){return B.Ye <= z;}) !== this.eE.m3a:!1;};y.prototype.vNb=function(x){if(x.mediaType === g.u.fa || !x.ii)return !0;if(void 0 === this.eE)return !1;if(!x.track.vV)return !x.ii;x=x.Hh;(0,h.assert)(x);return !1 === x[this.eE.m3a].tF;};y.prototype.fPa=function(x,z){var A,B,C,D;if(!this.vRa || this.vPa){if(x.Hh && 0 !== x.Hh.length){C=x.Hh.reduce(function(F,G,E){return G.Ye <= z?E:F;},0);D=x.Hh[C];this.eE || (null === (B=(A=this.Sc).Gcb) || void 0 === B?void 0:B.call(A,{J:x.track.na.J,h3a:x.ii}),this.wR=!0);if(!this.Sc.appendBuffer(D.data,{Fe:!0,profile:x.profile,bitrate:x.bitrate,Qb:x.Qb}))throw (this.Fs("appendHeader error: " + this.Sc.error),this.pR("@" + m.default.time.xa() + ", appendHeader error: " + this.Sc.error),Error("appendHeaderError"));this.pR("@" + m.default.time.xa() + ", header appended, streamId: " + x.Qb);this.eE={Qb:x.Qb,m3a:C};this.frb(x.Qb,C);}this.fx();}};y.prototype.Gtb=function(x){var z,A,B,C,D;z=this;C=x.Jua || l.L.Ga;D=x.v;D.Ef && !D.Ef.equal(l.L.Jp) && (C=D.Ef.add(C).uh,Infinity === this.ig.duration || this.ig.duration < C) && (this.ig.duration=C);C=void 0 !== x.lw?l.L.Ma(x.lw).add(x.Jua):void 0;D=null === (A=this.ux[0]) || void 0 === A?void 0:A.Ab;A={endOfStream:this.endOfStream || !(null === (B=x.dz) || void 0 === B || !B.cM),yM:C,msa:D};D=this.c6a.append(x,A);B=D.ci;C=D.si;A=D.xo;D=D.offset;null === C || void 0 === C?void 0:C.forEach(function(F){return z.emit(F.type,F);});C=x.stream;C.ba && (D=D.qa(C.Mt.$c(C.N)));this.iRa(D);B && (x.Sk || x.yt) && x.ci();C=p.lm.HIa;B || (this.Ae === g.u.fa || this.Ae === g.u.X?C=this.Dtb(x,A):this.Ae === g.u.Ha && (C=this.Ltb(x)));switch(C){case p.lm.Bk:this.tob(x);break;case p.lm.m0:this.Cga=x;break;case p.lm.pm:this.Psa(x);this.Cga=x;break;case p.lm.HIa:this.E7a(x,!0);}};y.prototype.qdb=function(){var x;return m.default.Mo.tf.Nva.Zea || !(null === (x=this.ig.tf) || void 0 === x || !x.qdb);};y.prototype.Dtb=function(x,z){return this.qdb()?this.Etb(x,z):this.Ftb(x,z);};y.prototype.Etb=function(x,z){var A,B,C;A=this;B=(0,u.ora)(x);if((z=(z || x.xo).every(function(D,F){return A.Sc.appendBuffer(D,0 === F?B:void 0);})) && !x.Loa){z=x.ioa();C={Na:x,iterator:z,Qd:!1};this.$z=C;t.AsyncIterator.f7(z,function(D){C.Qd || (D.done?(A.$z=void 0,A.Psa(x)):A.Sc.appendBuffer(D.value,B));});z=p.lm.m0;}else z=z?p.lm.pm:p.lm.Bk;return z;};y.prototype.Ftb=function(x,z){var A,B,C,D;A=this;B=(0,u.ora)(x);z || (z=x.xo);if(x.Loa)C=(C=this.nVa(z,B))?p.lm.pm:p.lm.Bk;else {C=x.ioa();D={Na:x,iterator:C,Qd:!1};this.$z=D;t.AsyncIterator.f7(C,function(F){D.Qd || (F.done?(A.nVa(z,B),A.$z=void 0,A.Psa(x)):z.push(F.value));});C=p.lm.m0;}return C;};y.prototype.nVa=function(x,z){x=1 < x.length?(0,u.xK)(x):x[0];return this.Sc.appendBuffer(x,z);};y.prototype.Ltb=function(x){var z,A,B,C;z=this;(0,h.assert)(x instanceof v.Dba);A=x.xo;if(x.Loa){(0,h.assert)(A.every(function(D){return D instanceof ArrayBuffer;}));Promise.resolve().then(function(){return z.PXa(x,A);});B=p.lm.pm;}else {B=x.ioa();C={Na:x,iterator:B,Qd:!1};this.vJ=C;t.AsyncIterator.f7(B,function(D){C.Qd || (D.done?(z.vJ=void 0,(0,h.assert)(A.every(function(F){return F instanceof ArrayBuffer;})),z.PXa(x,A)):A.push(D.value));});B=p.lm.m0;}return B;};y.prototype.PXa=function(x,z){var A,B;z=(0,u.xK)(z);z=new Uint8Array(z);z=m.default.Tka(z);(0,h.assert)(z);B=x.Sk && (null === (A=x.dz) || void 0 === A?void 0:A.cM);x={type:"subtitleData",I:x.Rg,fb:x.Ja.G,cf:x.Va.G,Br:x.Idb,Feb:z,endOfStream:B};this.ig.events.emit(x.type,x);};y.prototype.Psa=function(x){var z;void 0 === this.JJ || this.Ae !== d.default.qm.fa || x.Ab.equal(this.JJ) || (this.JJ=void 0);this.pR("@" + m.default.time.xa() + ", request appended, type: " + x.mediaType + ", streamId: " + x.Qb + ", pts: " + (null === (z=x.Ab) || void 0 === z?void 0:z.G) + "-" + x.Pb.G);this.E7a(x,!1);};y.prototype.E7a=function(x,z){var A,B,C;x.Sk || x.yt?(this.JJ=z?x.Ab:x.Pb,null === (B=(A=this.Sc).cFb) || void 0 === B?void 0:B.call(A,x.dz),this.wR=!1,(null === (C=x.dz) || void 0 === C?0:C.cM) && this.G8(!1,this.JJ)):this.JJ=void 0;x.WR=!0;x.vN();this.grb(x);this.fx();};y.prototype.tob=function(x){if(void 0 !== this.Sc.error){if("done" === this.Sc.error)return;this.eA("failure to append queued mediaRequest:",null === x || void 0 === x?void 0:x.toString(),"err:",JSON.stringify(this.Sc.error));throw this.Sc.error;}x=Error("failure to append queued mediaRequest: " + (null === x || void 0 === x?void 0:x.toString()) + " err: " + this.Sc.error);this.eA(x.message);throw x;};y.prototype.frb=function(x,z){x={type:"headerAppended",mediaType:this.Ae,streamId:x,isIndex:z};this.emit(x.type,x);};y.prototype.grb=function(x){x={type:"requestAppended",mediaType:this.Ae,request:x};this.emit(x.type,x);};y.prototype.pR=function(x){x={type:"managerdebugevent",message:x};this.emit(x.type,x);};return y;})(r.EventEmitter);b.wBa=a;},78764:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xBa=void 0;c=a(57055);l=a(27364);f=a(62558);r=(function(){function k(d,g){this.V=d;this.ppb=g;this.Vu=this.Fu=this.hp=0;this.bha=new Map();}k.prototype.$u=function(d){var g,m,h;g=this;if(!d.Fe){m=d.wa;if(0 >= m){h=new c.ye();h.on(d.events,"updatedBytes",function(n){g.MRa(d,n.HTb - n.qta);h.clear();g.bha.delete(d);});this.bha.set(d,h);}else this.MRa(d,m);}};k.prototype.Dr=function(d){var g;if(!d.Fe){g=d.wa;0 < g && (this.hp-=g,d.mediaType === l.u.fa?this.Fu-=g:this.Vu-=g,(0,f.assert)(this.hp === this.Fu + this.Vu),(0,f.assert)(0 <= this.hp),(0,f.assert)(0 <= this.Fu),(0,f.assert)(0 <= this.Vu));this.bha.delete(d);}};k.prototype.sUa=function(d,g){var m;(0,f.assert)(this.hp === this.Fu + this.Vu);m=this.ppb();if(void 0 !== m.total && this.hp + g > m.total)return !1;m=d === l.u.fa?m.audio:m.video;d=d === l.u.fa?this.Fu:this.Vu;return void 0 !== m && d + g > m?!1:!0;};k.prototype.MRa=function(d,g){this.hp+=g;d.mediaType === l.u.fa?this.Fu+=g:this.Vu+=g;(0,f.assert)(this.hp === this.Fu + this.Vu);(0,f.assert)(0 < this.hp);(0,f.assert)(0 <= this.Fu);(0,f.assert)(0 <= this.Vu);};return k;})();b.xBa=r;},59322:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.d_a=b.g_a=b.fva=b.hja=b.uda=void 0;c=a(5163);l=c.__importDefault(a(35471));f=a(62558);k=a(97810);r=(function(){function g(m,h,n){void 0 === n && (n={});this.config=m;this.qFb=h;this.dh=[];this.fja=new k.Uh();this.PTa=new k.Uh();this.options=c.__assign({ko:10},n);}Object.defineProperties(g.prototype,{isEnabled:{get:function(){return this.config.hEb;},enumerable:!1,configurable:!0}});g.prototype.Xna=function(m,h){var n;if(!this.isEnabled)return h();n=this.fIb(m);if(n)return n.value;h=h();this.qt(m,h);return h;};g.prototype.findIndex=function(m){var h,n,p,q;h=Infinity;n=Infinity;if(this.options.FR || this.options.uN){p=l.default.time.xa();this.options.uN && (h=p - this.options.uN);this.options.FR && (n=p - this.options.FR);}for(p=0;p < this.dh.length;p++){q=this.dh[p];if(this.options.uN && q.v4a < h){this.dh.splice(p,this.dh.length - p);break;}if(this.options.FR && q.Qn < n)(this.dh.splice(p,1),p--);else if(this.qFb(q.key,m))return p;}return -1;};g.prototype.fIb=function(m){var h;m=this.findIndex(m);if(-1 !== m){h=this.dh[m];this.dh.splice(m,1);this.dh.unshift(h);this.options.uN && (h.v4a=l.default.time.xa());this.PTa.push(m);this.fja.push(1);return h;}this.fja.push(0);};g.prototype.qt=function(m,h){this.dh.unshift({key:m,value:h});if(this.options.uN || this.options.FR)(m=l.default.time.xa(),this.options.uN && (this.dh[0].v4a=m),this.options.FR && (this.dh[0].Qn=m));this.fxb();};g.prototype.fxb=function(){this.dh.length > this.options.ko && this.dh.pop();};g.prototype.clear=function(){this.dh=[];};return g;})();b.uda=r;d=new WeakMap();b.hja=function(g){void 0 === g && (g="default");return function(m,h,n){var p;p=n.value;n.value=function(q){var u,t,v;u=this;v=null === (t=d.get(this)) || void 0 === t?void 0:t[g];(0,f.assert)(v,"lruCache not defined");return v.Xna(q,function(){return p.call(u,q);});};};};b.fva=function(g,m,h){d.has(g) || d.set(g,{});d.get(g)[m]=h;};b.g_a=function(g){var m;if(!d.has(g))return [];m=d.get(g);return Object.keys(m).map(function(h){return m[h];});};b.d_a=function(g){return d.has(g)?d.get(g):{};};},97021:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vyb={Bt:["minInitVideoBitrate",-Infinity],Fy:["maxInitVideoBitrate",Infinity],DV:["minInitAudioBitrate",-Infinity],qV:["maxInitAudioBitrate",Infinity],e8:["minAcceptableVideoBitrate",-Infinity],BV:["minAcceptableVMAF",0],QSb:["minAcceptableVMAFRebufferScalingFactor",0],Vra:["minAllowedVideoBitrate",-Infinity],NRb:["maxAllowedVideoBitrate",Infinity],HG:["minAllowedVmaf",-Infinity],B5a:["maxAllowedVmaf",Infinity],gO:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],G4:["enableResolutionVMAFStreamFilter",!1],Ota:["percentCapTitlesForResolutionVMAFStreamFilter",100],f$:["resolutionVMAFCappingRuleList",[]],f2a:["ignoreUserFilterOnEmptyResult",!0],cC:["minRequiredBuffer",2E4],k8:["minRequiredAudioBuffer",0],ur:["minPrebufSize",5800],Xra:["minCheckBufferingCompleteInterval",200],eYa:["enableMoreFrequentBufferingCompleteCheck",!1],y6a:["minimumBufferingCompleteInterval",1E4],Dva:["requireDownloadDataAtBuffering",!1],u2a:["indicatorForDownloadDataAtBuffering","oncomplete"],Eva:["requireSetupConnectionDuringBuffering",!1],Yua:["rebufferingFactor",1],qr:["maxBufferingTime",2E3],Wya:["useMaxPrebufSize",!0],$B:["maxPrebufSize",4E4],Dra:["maxRebufSize",Infinity],E6:["initialBitrateSelectionCurve",null],z2a:["initSelectionLowerBound",-Infinity],B2a:["initSelectionUpperBound",Infinity],aY:["throughputPercentForAudio",15],Kia:["bandwidthMargin",0],Mia:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],oTa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Gx:76376,scale:18862.4,gamma:3.0569}],Lia:["bandwidthMarginContinuous",!1],pTa:["bandwidthMarginForAudio",!0],Nxa:["switchConfigBasedOnInSessionTput",!0],hka:["conservBandwidthMargin",20],jka:["conservBandwidthMarginTputThreshold",6E3],ika:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],zdb:["switchAlgoBasedOnHistIQR",!1],Oxa:["switchConfigBasedOnThroughputHistory","iqr"],Q5a:["maxPlayerStateToSwitchConfig",-1],d5a:["lowEndMarkingCriteria","iqr"],aGa:["IQRThreshold",.5],U1a:["histIQRCalcToUse","simple"],Ls:["bandwidthManifold",{curves:[{min:.05,max:.82,Gx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Gx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],tV:["maxTotalBufferLevelPerSession",0],P1a:["highWatermarkLevel",3E4],geb:["toStableThreshold",3E4],Aaa:["toUnstableThreshold",0],jxa:["skipBitrateInUpswitch",!1],lza:["watermarkLevelForSkipStart",8E3],hxa:["simulationDurationStrategy","default"],n3b:["simulationFullBufferPercentage",1],w6a:["minSimulationDuration",2E4],Era:["maxSimulationDuration",3E5],Tya:["upperThroughputPredictionFactor",1.6],Woa:["highStreamRetentionWindow",9E4],bra:["lowStreamTransitionWindow",51E4],Yoa:["highStreamRetentionWindowUp",5E5],dra:["lowStreamTransitionWindowUp",1E5],Xoa:["highStreamRetentionWindowDown",6E5],cra:["lowStreamTransitionWindowDown",0],Voa:["highStreamInfeasibleBitrateFactor",.5],Ay:["lowestBufForUpswitch",9E3],dV:["lockPeriodAfterDownswitch",15E3],hra:["lowWatermarkLevel",15E3],By:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],jra:["lowestWaterMarkLevelBufferRelaxed",!1],X7:["mediaRate",1.5],tM:["maxTrailingBufferLen",15E3],zia:["audioBufferTargetAvailableSize",262144],aza:["videoBufferTargetAvailableSize",1048576],Y5a:["maxVideoTrailingBufferSize",8388608],C5a:["maxAudioTrailingBufferSize",393216],U4:["fastUpswitchFactor",3],$Fb:["fastUpswitchFactorWithoutHeaders",3],ZFb:["fastUpswitchFactorForNextSegment",1],sma:["fastDownswitchFactor",3],CG:["maxMediaBufferAllowed",27E4],mhc:["minMediaBufferLen",1E4],pcb:["simulatePartialBlocks",!0],ocb:["simulateBufferFull",!0],kka:["considerConnectTime",!0],gka:["connectTimeMultiplier",1],xQb:["liveDvrSwitchThresholdms",1E4],F5a:["maxDomainFailureWaitDuration",3E4],zYa:["exhaustAllLocationsForFailure",!0],M5a:["maxNetworkErrorsDuringBuffering",20],L7:["maxBufferingTimeAllowedWithNetworkError",6E4],cK:["alwaysRunUnderflowTimer",!0],MYa:["fastDomainSelectionBwThreshold",2E3],Qdb:["throughputProbingEnterThreshold",4E4],Rdb:["throughputProbingExitThreshold",34E3],U4a:["locationProbingTimeout",1E4],TYa:["finalLocationSelectionBwThreshold",1E4],Odb:["throughputHighConfidenceLevel",.75],Pdb:["throughputLowConfidenceLevel",.4],Oqa:["locationStatisticsUpdateInterval",6E4],XQb:["locationSelectorPersistFailures",!0],fYa:["enablePerfBasedLocationSwitch",!1],Tgc:["maxRateMaxFragmentGroups",4500],FEb:["enableNginxRateLimit",!1],B8:["nginxSendingRate",4E4],z5a:["maxActiveRequestsSABCell100",2],nab:["resetActiveRequestsAtSessionInit",!0],E4:["enableHybridPacing",!1],tja:["catchUpMode",!1],dSb:["maxSegHint",4],yva:["requestLevelLogging",!1],oEb:["enableCsprNonPipelined",!1],B4:["enableCprAudio",!1],C4:["enableCprVideo",!1],mEb:["enableCprAudioNonPipelined",!1],nEb:["enableCprVideoNonPipelined",!0],HEb:["enablePaceReportLogging",!1],ZVb:["paceRateSelectorAlgorithm","default"],$Vb:["paceRateSelectorAlgorithmAudio","default"],aWb:["paceRateSelectorAlgorithmNonPipelined","default"],Ocb:["staticPacingRateKbps",0],x3:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],L6b:["unpacedFragmentInterval",0],rNb:["ignorePacedRequestStrategy","none"],hW:["pacedThresholdPct",.1],Ala:["effectivePaceRateFactor",1],i_b:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],cWb:["pacingTargetBufferStrategy","implicit"],h5b:["targetBufferLevelStddevMultiplier",1],g5b:["targetBufferLevelDurationMs",0],ZSb:["minTargetBufferLevelMs",27E4],wxa:["stddevPredictorMultiplier",-.3],xxa:["stddevPredictorUpperMultiplier",2],d4b:["stddevPredictorSource","deliverytime"],Jja:["ciPredictorSource","throughput-ci"],$Xa:["enableInitialTputLogging",!1],ZXa:["enableInitialThroughputHistory",!1],s6:["headerRequestSize",4096],Xla:["estimateHeaderSize",!0],T6a:["neverWipeHeaderCache",!1],V7b:["useSidxInfoFromManifestForHeaderRequestSize",!1],gWb:["parseAdditionalBoxesMp4Header",!0],OYa:["fastPlayHeaderRequestSize",0],DG:["maxRequestSize",0],EV:["minRequestSize",65536],g8:["minBufferLenForHeaderDownloading",1E4],x3b:["smartHeaderPreDownloading",!1],iEb:["enableAllHeadersPreDownloading",!1],so:["pipelineEnabled",!0],Bra:["maxParallelConnections",3],R7b:["usePipelineForAudio",!1],Q7b:["usePipelineDetectionForAudio",!1],T7b:["usePipelineForText",!0],wcb:["socketReceiveBufferSize",0],S2:["audioSocketReceiveBufferSize",32768],Yaa:["videoSocketReceiveBufferSize",65536],t5b:["textSocketReceiveBufferSize",32768],Efb:["usePipelineDetectionForVideo",!1],bTb:["minVideoSocketReceiveBufferSize",65536],Toa:["headersSocketReceiveBufferSize",32768],L2b:["shareDownloadTracks",!0],M2b:["shareOpenRangeTracks",!1],pdb:["supportOpenRangeRequests",!0],kDb:["disableHeaderDownloadTracks",!1],Zra:["minTimeBetweenHeaderRequests",void 0],uW:["prebufferTimeLimit",6E4],o6a:["minBufferLevelForTrackSwitch",2E3],IEb:["enablePenaltyForLongConnectTime",!1],Lta:["penaltyFactorForLongConnectTime",2],Zqa:["longConnectTimeThreshold",200],Vha:["additionalBufferingLongConnectTime",2E3],Wha:["additionalBufferingPerFailure",8E3],IW:["rebufferCheckDuration",6E4],YK:["enableOCSideChannel",!0],lCb:["decryptOCSideChannelMinInterval",1E3],mCb:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],wua:["probeRequestTimeoutMilliseconds",3E4],Uhc:["probeRequestConnectTimeoutMilliseconds",8E3],j0:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],LEb:["enableSCByteRangeHints",!1],Zeb:["updateDrmRequestOnNetworkFailure",!0],H5b:["timeBeforeEndOfStreamBufferMark",6E3],yra:["maxFastPlayBufferInMs",2E4],SRb:["maxFastPlayContentTimeThresholdMs",112E3],H5a:["maxFastPlayBitThreshold",2E8],D5a:["maxBufferingCompleteBufferInMs",Infinity],Jvb:["bufferingCompleteOnMemoryLimit",!1],Wra:["minAudioMediaRequestSizeBytes",0],$ra:["minVideoMediaRequestSizeBytes",0],PRb:["maxAudioMediaRequestSizeBytes",Infinity],lSb:["maxVideoMediaRequestSizeBytes",Infinity],XRb:["maxMediaRequestSizeBytesInFraction",1],Kv:["minAudioMediaRequestDuration",0],Iy:["minVideoMediaRequestDuration",0],j8:["minMediaRequestDuration",0],ORb:["maxAudioMediaRequestDuration",Infinity],kSb:["maxVideoMediaRequestDuration",Infinity],O7:["maxMediaRequestDuration",Infinity],aia:["allowFirstRequestAggregation",!1],fhc:["minAudioMediaRequestDurationCache",0],qhc:["minVideoMediaRequestDurationCache",0],$ka:["defaultHeaderCacheSize",4],Zka:["defaultHeaderCacheDataPrefetchMs",0],S7b:["usePipelineForBranchedAudio",!0],n8:["minimumTimeBeforeBranchDecision",2E3],cTb:["minimumAppendedMediaBeforePlayback",5E3],aSb:["maxRequestsToAttachOnBranchActivation",void 0],m8:["minimumJustInTimeBufferLevel",3E3],jfc:["enableJustInTimeAppends",!1],ESa:["appendPacingFactor",0],Jtb:["appendPacingThreshold",3E3],cec:["branchEndPtsIntervalMs",250],mgc:["ignorePtsJustBeforeCurrentSegment",!1],TRb:["maxFragsForFittableOnBranching",300],ksa:["networkFailureResetWaitMs",2E3],jsa:["networkFailureAbandonMs",6E4],P7:["maxThrottledNetworkFailures",5],saa:["throttledNetworkFailureThresholdMs",200],gra:["lowThroughputThreshold",400],fma:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],G5b:["timeAtEachBitrateRoundRobin",1E4],D0b:["roundRobinDirection","forward"],bNb:["httpsConnectErrorAsPerm",!1],cYa:["enableManagerDebugTraces",!1],m5a:["managerDebugMessageInterval",1E3],l5a:["managerDebugMessageCount",20],CN:["requireAudioStreamToEncompassVideo",!1],$cb:["ase_stream_selector","optimized"],Kub:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Kqa:["liveStreamSelectorAlgorithm","livesimple"],Ndb:["throughputDiscountForLive",.8],Mdb:["throughputDiscountExponentBC",1.5],wG:["liveTargetBufferDuration",1E4],z7:["liveEdgeCushion",2E3],A7:["liveMaxTemporaryRequestErrorRetries",4],ira:["lowerStreamLiveMaxTemporaryRequestErrorRetries",2],I4a:["liveMaxRetriesDurationFor404Errors",6E3],hma:["explorationPhaseLiveMaxTemporaryRequestErrorRetries",1],BQb:["liveInitialFetchSizeBytes",1024],HQb:["liveResyncClockOn404Error",!0],zQb:["liveEndSlateMaxDuration",6E4],mM:["liveSwitchStreamsOnErrorInPipeline",!0],y7:["liveAccurateFragmentTimestamps",!1],XK:["enableMissingSegmentsDetection",!1],cT:["enableMissingSegmentsReplacement",!1],Q0b:["sanitizeMediaVideoFrameDuration",!0],EWa:["debugFragmentTimes",!1],n5b:["temporaryRequestFailureRetryIntervalMs",500],Hla:["enableLiveTemporaryRequestRetries",!0],K7:["maxAttemptsOnFailure",18],Ila:["enableMaxAttemptsOnFailure",!0],xpa:["initBitrateSelectorAlgorithm","default"],Yia:["bufferingSelectorAlgorithm","default"],o4b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],hYa:["enableThroughputTraceResearchData",!1],Sdb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],bic:["researchEnvironmentEnabled",!1],NEb:["enableStreamSelectionAugmentData",!1],Pub:["augmentDataNumOfChunks",30],Pka:["ase_dump_fragments",!1],Qka:["ase_location_history",0],FWa:["ase_throughput",0],wta:["paddingDurationMs",1E3],xta:["paddingMediaType","padding"],tk:["stallAtFrameCount",void 0],Ccb:["stallAtFrameCountAudio",void 0],tra:["marginPredictor","simple"],wfb:["useBackupUnderflowTimer",!0],STb:["noDuplicateUnderflowTimer",!1],sjc:["useManifestDrmHeader",!0],ujc:["useOnlyManifestDrmHeader",!0],lsa:["networkMeasurementGranularity","video_location"],FTb:["netIntrStoreWindow",36E3],vhc:["minNetIntrDuration",8E3],kpb:["fastHistoricBandwidthExpirationTime",10368E3],Epb:["bandwidthExpirationTime",5184E3],jpb:["failureExpirationTime",86400],BQa:["historyTimeOfDayGranularity",4],gpb:["expandDownloadTime",!0],eqb:["minimumMeasurementTime",500],dqb:["minimumMeasurementBytes",131072],Xqb:["throughputMeasurementTimeout",2E3],Wqb:["initThroughputMeasureDataSize",262144],Spb:["historicBandwidthUpdateInterval",2E3],Gdc:["throughputPredictor","ewma"],owa:["secondThroughputEstimator","slidingwindow"],Uab:["secondThroughputMeasureWindowInMs",3E5],Fdc:["throughputMeasureWindow",5E3],Hdc:["throughputWarmupTime",5E3],Edc:["throughputIQRMeasureWindow",1E3],odc:["IQRBucketizerWindow",15E3],K5a:["maxIQRSamples",100],r6a:["minIQRSamples",5],Bdc:["connectTimeHalflife",10],udc:["responseTimeHalflife",10],SPa:["historicThroughputHalflife",14400],RPa:["historicResponseTimeHalflife",100],QPa:["historicHttpResponseTimeHalflife",100],sFa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],sQa:["minReportedNetIntrDuration",4E3],Ddc:["throughputBucketMs",500],rdc:["bucketHoltWintersWindow",2E3],apb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],hpb:["experimentalFilter",["throughput-wssl"]],UQa:["reportedFilters",[]],gga:["filterDefinitionOverrides",{}],Vob:["defaultFilter","throughput-ewma"],Wob:["defaultFilterField","average"],nrb:["secondaryFilter","throughput-sw"],rPa:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],TEb:["enableWsslEstimate",!1],Wgc:["maxWsslRequestSize",131072],Vgc:["maxWsslRequestRatio",.2],xgb:["wsslAggregationMethod","max"],gYa:["enableSessionHistoryReport",!0],FXa:["earlyStageEstimatePeriod",1E4],w4a:["lateStageEstimatePeriod",3E4],N5a:["maxNumSessionHistoryStored",10],v6a:["minSessionHistoryDuration",3E5],Zfc:["highAndStableModelName","baseline"],ifc:["enableHighAndStablePredictor",!1],nhc:["minNumSessionHistory",5],$dc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Yfc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],$fc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Iha:["addHeaderDataToNetworkMonitor",!0],qxa:["startMonitorOnLoadStart",!1],tva:["reportFailedRequestsToNetworkMonitor",!1],l9:["periodicHistoryPersistMs",0],s$:["saveVideoBitrateMs",0],isa:["needMinimumNetworkConfidence",!0],Pia:["biasTowardHistoricalThroughput",!1],Ggc:["logMemoryUsage",!1],hH:["probeServerWhenError",!0],SR:["allowSwitchback",!0],A9a:["probeDetailDenominator",100],M7:["maxDelayToReportFailure",300],rtb:["allowParallelStreaming",!0],Zgc:["mediaPrefetchDisabled",!1],ghc:["minBufferLevelToAllowPrefetch",5E3],ON:["seamlessAudio",!1],pic:["seamlessAudioProfiles",[]],qic:["seamlessAudioProfilesAndTitles",{}],mwa:["seamlessAudioMaximumSyncError",void 0],nwa:["seamlessAudioMinimumSyncError",void 0],O2a:["insertSilentFrames",0],Ipa:["insertSilentFramesOnSeek",!1],P2a:["insertSilentFramesOnSeekForTitles",[]],dOb:["insertSilentFramesOnSeekCount",3],Afc:["forceDiscontinuityAtTransition",!0],Uic:["supportAudioResetOnDiscontinuity",void 0],Tic:["supportAudioEasingOnDiscontinuity",void 0],UDb:["editCompleteFragments",!0],dTb:["minimumAudioFramesPerFragment",1],XR:["applyProfileTimestampOffset",!1],Cm:["applyProfileStreamingOffset",!0],H9:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],bTa:["audioProfilesNonSyncSamples",["xheaac-dash"]],s6b:["truncateEndOfStreamAudio",!1],M7b:["useDpiAssumedAacEncoderDelay",!0],Z7:["mediaSourceSupportsNegativePts",!1],f8:["minAudioPtsGap",void 0],Gub:["audioOverlapGuardSampleCount",2],KEb:["enableRecordJSBridgePerf",!1],dda:["JSBridgeTDigestConfig",{maxc:25,c:.5}],B5b:["throughputThresholdSelectorParam",0],J7b:["upswitchDuringBufferingFactor",2],wtb:["allowUpswitchDuringBuffering",!1],Aec:["contentOverrides",void 0],Bec:["contentProfileOverrides",void 0],S1a:["hindsightDenominator",0],R1a:["hindsightDebugDenominator",0],cgc:["hindsightAlgorithmsEnabled",[]],T1a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],DSa:["appendMediaRequestOnComplete",!1],gza:["waitForDrmToAppendMedia",!1],G8b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],Rma:["forceAppendHeadersAfterDrm",!1],HWa:["declareBufferingCompleteAtSegmentEnd",!1],pV:["maxActiveRequestsPerSession",void 0],Fqa:["limitAudioDiscountByMaxAudioBitrate",!1],gia:["appendFirstHeaderOnComplete",!0],maa:["strictBufferCapacityCheck",!1],YR:["aseReportDenominator",0],tia:["aseReportIntervalMs",3E5],Ytb:["aseReportMaxStreamSelections",400],K4a:["liveReportSendIntervalMs",6E4],Jqa:["liveReportCollectIntervalMs",5E3],oya:["translateToVp9Draft",!1],qva:["reorderTrakMvex",!1],UX:["switchableAudioProfiles",[]],Iub:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Bdb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Lub:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Mub:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],W5a:["maxStartingVideoVMAF",110],Ct:["minStartingVideoVMAF",1],HR:["activateSelectStartingVMAF",!1],D$:["selectStartingVMAFTDigest",-1],QN:["selectStartingVMAFMethod","fallback"],abb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],aN:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],Vec:["disablePtsStartsEvent",!0],y$a:["recordFirstFragmentOnSubBranchCreate",!0],x5a:["markRequestActiveOnFirstByte",!1],eaa:["stopOnAllInactiveRequests",!1],RXa:["enableActiveRequestsInFilters",!1],EO:["useNativeDataViewMethods",!0],Wtb:["aseDiagnostics",[{fd:"queue-audit",enabled:!0},{fd:"task-audit",enabled:!0},{fd:"trace-ShimSession",enabled:!0},{fd:"trace-engine",enabled:!0},{fd:"trace-RequestPacer",enabled:!0},{fd:"trace-BufferStateTracker",enabled:!0},{fd:"trace-GraphStreamingProcess",enabled:!0},{fd:"trace-AsePlaygraph",enabled:!0},{fd:"playgraph-branch-audit",enabled:!0},{fd:"content-playgraph",enabled:!0},{fd:"trace-CphAsePlaygraph",enabled:!0},{fd:"trace-GraphLocation",enabled:!0},{fd:"cache-ads::gls",enabled:!0},{fd:"cache-content::gls",enabled:!0}]],jEb:["enableAseReporting",!0],tvb:["branchDistanceThreshold",6E4],J7:["maxAllowedOutstandingRequests",4],Yra:["minStreamableConcurrencyWindow",3E3],fSb:["maxStreamableConcurrencyWindow",Infinity],Cxa:["streamableConcurrencyFactor",.3],lS:["bufferingConcurrencyWindow",7800],Tia:["branchCreationThreshold",12E4],D4:["enableDiscontiguousBuffering",!1],Uma:["forceImmediateTransitionTypeForTitles",[]],Tma:["forceImmediateTransitionExitZone",0],oka:["contiguousBufferMultiplier",3],AVa:["contiguousBufferMinimumAudio",1048576],CVa:["contiguousBufferMinimumVideo",8388608],BVa:["contiguousBufferMinimumText",0],JXb:["prefetchBudgetInBytes",0],r$a:["rebufferRiskHalfLife",1E4],vY:["useBufferSizeLimiter",!1],W7b:["useStaticBufferSizeLimiter",!1],MXb:["prefetchWeightBudget",32],bsa:["minimumDownstreamBranchProbability",.075],Vya:["useExitZones",!0],NXb:["prefetchWhilePlaying",!0],SXb:["prefetcherSoftReset",!0],nXb:["playgraphDefaultWeight",65520],ICb:["delayNotificationOfEoS",!1],BSb:["memDeadlockShouldCheckMemory",!0],ASb:["memDeadlockOverageThreshold",.9],zSb:["memDeadlockMaxUtilizationPercentage",.5],iXb:["playerPtsPadding",1],lhc:["minFragmentVmaf",void 0],$S:["enableCombinedPlaygraphs",!0],UK:["enableAdPlaygraphs",!0],F4:["enablePrerollForInitialSeek",!1],gma:["excludedContentPlaygraphIds",[]],o1a:["graphSelectorSetAudioRate",!1],SEb:["enableVmafEstimationFromBitrate",!1],iSb:["maxVMAFMappingBitrate",16E3],jSb:["maxVMAFMappingVMAF",110],Twb:["cdndldistEnabled",!1],cz:["segmentFadeDuration",400],z$:["segmentFadeInDuration",-1],A$:["segmentFadeOutDuration",-1],uM:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],h$:["retainSbrOnFade",!1],N2a:["insertSilentFrameOnFade",!0],Fhc:["optimizeEditedFragments",!1],xdb:["supportsPtsChanged",!0],hEb:["enableAdLruCaches",!1],USa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],zEb:["enableLiveRequestLogger",!1],$1a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],P5a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],WC:["usePrioritySetTimeout",!1],jUa:["centralizeClockSchedulers",!0],mTa:["backOffSetTimeout",!0],j_b:["rehydrateSkippableAdBreaks",!0],Iic:["skipIntroPlaygraphEnabled",!1]};b.pg=b.vyb;},2362:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81883:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Sna=b.ttb=void 0;b.ttb=function(a){return a.ON;};b.Sna=function(a,c){return void 0 !== a.f8?a.f8:c && void 0 !== c.f8?c.f8:100;};},39656:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Sx=void 0;c=a(49730);l=a(39139);f=a(62558);b.Sx=function(k,d,g,m,h,n,p,q){var u;c.K && m.trace("AsePlaygraph.createRequestQueue()");u=l.jD.instance.Sx(k,d.P,!0,!1,{dB:g.dB,ba:h},g);u.Vk.on(u,"networkfailing",function(){var t;c.K && m.trace("requestQueue OnNetworkFailing: ",u);u.pma && ((0,f.assert)(u.qma),null === (t=d.ay) || void 0 === t?void 0:t.Er(void 0,u.qma,void 0,u.Uf,u.Ti));d.vn();});u.Vk.on(u,"error",function(){q(u.Uf,u.Ti);});u.on("transportreport",function(t){t.Kla=d.$U.$K;n(t);});u.on("mediaRequestComplete",p);u.Bb();return u;};},39139:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.jD=void 0;c=a(5163);l=c.__importDefault(a(89956));f=a(27364);k=c.__importDefault(a(35471));d=a(28302);r=(function(){function g(m){this.RD=m;this.Ed=[];this.console=new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(g,{instance:{get:function(){var m;if(void 0 === g.ys){m=a(35471)["default"];g.ys=new g(m.GI);}return g.ys;},enumerable:!1,configurable:!0}});g.reset=function(){g.ys=void 0;};g.prototype.Sx=function(m,h,n,p,q,u){var t;t=u.L2b?this.EGb(n,h,m,u.M2b):-1;-1 === t?(t={track:this.HAb(n,p,m,q,u),Ai:n,P:h,Y9a:m,yC:[],Qn:!1,kF:!1},this.Ed.push(t),this.EZb(t),m=!1):(m=!0,t=this.Ed[t]);m=new d.tMa(this.console,t.track,t.Qn,m);t.yC.push(m);return m;};g.prototype.EZb=function(m){function h(){m.Qn=!0;m.track.removeListener("created",h);}m.track.on("created",h);};g.prototype.m4=function(m){var h,n;m.Vs();h=this.pT(function(p){return p.track === m.track;});if(-1 !== h){if((h=this.Ed[h],1 === h.yC.length))(h.track.Vs(),h.kF=!0);else {n=h.yC.indexOf(m);0 <= n && h.yC.splice(n,1);}}else m.track.Vs();};g.prototype.xf=function(){this.RD.xf();};g.prototype.HAb=function(m,h,n,p,q){var u,t,v,w,y,x;u=this;v=!1;w=t=!1;y=p.ba;m?n === f.u.X?(m=1,q.so?(w=!0,m=q.Bra):q.pV && 2 < q.pV && (w=!0,m=q.pV),t=y?!!q.wY:q.wY || !w,t={type:this.RD.X,openRange:t,pipeline:w,connections:m,socketBufferSize:q.Yaa,minRequestSize:q.EV}):n === f.u.fa?(v=q.so && (q.R7b || h && q.S7b),t=y?!!q.wY:q.wY || !v,t={type:this.RD.fa,openRange:t,pipeline:v,connections:1,socketBufferSize:q.S2,minRequestSize:q.EV}):n === f.u.Ha?(t=y?!!q.wY:q.wY || !q.T7b,t={type:this.RD.Ha,openRange:t,pipeline:q.so,connections:1,socketBufferSize:q.t5b,minRequestSize:q.EV}):t={type:q.kDb?this.RD.X:this.RD.Yjb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Toa,minRequestSize:q.EV}:t={type:n === f.u.fa?l.default.qm.fa:l.default.qm.X,openRange:!1,pipeline:!1,connections:1,socketBufferSize:n === f.u.fa?q.S2:q.Yaa,minRequestSize:q.EV};x=new this.RD(t,p);x.so=w;x.on("transportreport",function(z){var A;A=u.pT(function(B){return B.track === x;});-1 !== A && (A=u.Ed[A],A.yC.length && A.yC[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=u.pT(function(B){return B.track === x;});-1 !== A && (A=u.Ed[A],A.yC.length && A.yC[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=u.pT(function(A){return A.track === x;});-1 !== z && u.Ed.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.so=!1;if(y)x.bva(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(v && q.Q7b || q.Efb)q.Efb && x.config.type === f.u.X?x.bva(c.__assign(c.__assign({},x.config),{socketBufferSize:q.bTb,pipeline:!1,openRange:!0,connections:1})):x.bva(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};g.prototype.EGb=function(m,h,n,p){return this.pT(function(q){return !q.kF && (!p && q.track.config.Ehc || !m?!q.Ai && q.Y9a === n:q.Ai && q.P === h && q.Y9a === n);});};g.prototype.pT=function(m){for(var h=0;h < this.Ed.length;++h){if(m(this.Ed[h]))return h;}return -1;};return g;})();b.jD=r;},28302:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tMa=void 0;c=a(5163);l=a(57055);r=(function(f){function k(d,g,m,h){var n;n=f.call(this) || this;n.V=d;n.track=g;n.Qn=!1;n.yga=!1;n.Vk=new l.ye();n.Vk.on(g,"networkfailing",function(){n.emit("networkfailing");});n.Vk.on(g,"error",function(){n.V.warn("requestQueue got error");n.emit("error");});if(m)(n.Qn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Vk.on(g,"created",function(){n.Qn=!0;n.emit("created");});n.yga=h;return n;}c.__extends(k,f);Object.defineProperties(k.prototype,{pma:{get:function(){return this.track.pma;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Uf:{get:function(){return this.track.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ti:{get:function(){return this.track.Ti;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qma:{get:function(){return this.track.qma;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});k.prototype.Bb=function(){var d,g;this.yga || (null === (g=(d=this.track).Bb) || void 0 === g?void 0:g.call(d),this.yga=!0);};k.prototype.toString=function(){return this.track.toString();};k.prototype.toJSON=function(){return this.track;};k.prototype.Vs=function(){this.Vk.clear();};return k;})(l.EventEmitter);b.tMa=r;},89956:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(87034);b["default"]={e$b:{Bu:0,ucc:1,name:["STARTUP","STEADY"]},x_:{Ek:0,tcc:1,cob:2,name:["STARTING","STABLE","UNSTABLE"]},qm:{fa:r.u.fa,X:r.u.X,Ha:r.u.Ha,name:["AUDIO","VIDEO","TEXT"]},Tac:{fa:r.u.fa,X:r.u.X,Ha:r.u.Ha,name:["AUDIO","VIDEO","TEXT"]},Pf:{URL:0,KD:1,LOCATION:2,xu:3,name:["URL","SERVER","LOCATION","NETWORK"]},rl:{HAVE_NOTHING:0,NI:1,MI:2,tP:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ks:{N9b:0,vac:1,Ybc:2,ubc:3,Sbc:4,Ucc:5,Aac:6,Sac:7,Bu:8,Bk:9,cea:10,Smb:11,Pba:12,Ykb:13,Xkb:14,znb:15,ynb:16,blb:17,Qnb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},Y$b:{xu:0,A$b:1,name:["NETWORK","DECODE"]},rcc:{B$b:"delayedSeamless",Hac:"hideLongTransition"}};},49730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K=!1;},98705:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.$Da=void 0;c=a(5163);l=a(57055);f=c.__importStar(a(17267));k=c.__importDefault(a(35471));d=new k.default.Console("ASEJS_ERROR_DIRECTOR","asejs");g=c.__importDefault(a(89956));m=a(34425);h=a(83386);n=k.default.Mo;p=n.QZ;q={};u={};r=[g.default.Pf.xu,!1];a=[g.default.Pf.xu,!0];t=[g.default.Pf.KD,!1];v=[g.default.Pf.KD,!0];w=[g.default.Pf.URL,!0];y=[g.default.Pf.URL,!1];x=[g.default.Pf.URL,!1];z=[-1,!1];A=[g.default.Pf.KD,!1];q[p.F9b]=t;q[p.UNKNOWN_ERROR]=t;q[p.xbc]=t;q[p.Qib]=t;q[p.FCa]=t;q[p.bjb]=t;q[p.Uib]=v;q[p.iib]=v;q[p.OBa]=A;q[p.MBa]=A;q[p.jib]=z;q[p.kib]=A;q[p.lib]=A;q[p.fib]=t;q[p.hib]=t;q[p.NBa]=r;q[p.gib]=t;q[p.eib]=A;q[p.n$b]=v;q[p.bkb]=A;q[p.fFa]=A;q[p.eFa]=A;q[p.bFa]=A;q[p.cFa]=A;q[p.akb]=w;q[p.Rca]=v;q[p.Tca]=w;q[p.Sca]=a;q[p.iFa]=a;q[p.Uca]=v;q[p.dkb]=w;q[p.O_]=A;q[p.gFa]=v;q[p.ckb]=v;q[p.Xib]=v;q[p.Rib]=t;q[p.Enb]=t;q[p.Hib]=t;q[p.Iib]=t;q[p.Jib]=t;q[p.Kib]=t;q[p.Lib]=t;q[p.Mib]=t;q[p.Nib]=t;q[p.Oib]=t;q[p.Pib]=t;q[p.Sib]=t;q[p.Tib]=t;q[p.Vib]=t;q[p.Wib]=t;q[p.Yib]=t;q[p.Zib]=t;q[p.$ib]=t;q[p.ajb]=t;q[p.cjb]=t;q[p.djb]=t;q[p.Dnb]=A;q[p.TIMEOUT]=r;u[p.OBa]=!0;u[p.fFa]=!0;u[p.eFa]=!0;u[p.cFa]=!0;u[p.FCa]=!0;r=(function(){function B(C,D,F,G){var B0A;B0A=2;for(;B0A !== 18;){switch(B0A){case 6:var t13="netwo";t13+="rkF";t13+="a";t13+="iled";q[p.bFa]=D.bNb?v:A;this.Vk.addListener(this.Wk,t13,this.jMb.bind(this));this.jM=k.default.time.xa();this.kv=0;B0A=11;break;case 9:var w9Y="1SIYbZrN";w9Y+="J";w9Y+="Cp9";this.Vk=new l.ye();w9Y;this.EUa=new h.Qea();B0A=6;break;case 11:this.Vxa={};this.vua=new m.WLa(C,G,D);this.Fla=!1;this.G3=0;B0A=18;break;case 2:this.Wk=C;this.config=D;this.Joa=F;this.zB=G;this.events=new l.EventEmitter();B0A=9;break;}}}var h4z;h4z=2;for(;h4z !== 13;){switch(h4z){case 6:B.prototype.OUa=function(){var h0e;h0e=2;for(;h0e !== 1;){switch(h0e){case 2:var a9j="Clea";a9j+="red u";a9j+="nd";a9j+="erflow t";a9j+="imeout";this.qY && (clearTimeout(this.qY),this.qY=void 0,d.info(a9j));h0e=1;break;}}};return B;break;case 3:B.prototype.jMb=function(C){var V8H,D,F,G,E,H,M,L;V8H=2;for(;V8H !== 7;){switch(V8H){case 2:var V$F="Net";V$F+="work";V$F+=" ha";V$F+="s faile";V$F+="d ";var n$x=" last ";n$x+="success was";n$x+=" ";var J0k="tem";J0k+="po";J0k+="ra";J0k+="rily";var M$6="pe";M$6+="rma";M$6+="ne";M$6+="n";M$6+="tly";var J8i=" ";J8i+="m";J8i+="s a";J8i+="g";J8i+="o";(D=this,F=k.default.time.xa() - this.jM,G=C,E=this.config);f9YlG.G6s(0);d.warn(f9YlG.u_w(J8i,C?M$6:J0k,F,n$x,V$F));!C && F > E.jsa && (G=!0);V8H=4;break;case 4:V8H=this.vy?3:9;break;case 9:var p$s="tem";p$s+="p";p$s+="o";p$s+="raryNetworkError";var x18="te";x18+="mpo";x18+="raryNetwor";x18+="kErr";x18+="or";C || this.events.emit(x18,{type:p$s,errorCode:H,httpCode:M,nativeCode:L});G?(this.FN && (clearTimeout(this.FN),this.FN=void 0),this.OUa(),this.vua.reset(),this.Joa({bPb:C,JVb:H,LVb:M,MVb:L})):this.FN || (this.FN=setTimeout(function(){var k$i;k$i=2;for(;k$i !== 5;){switch(k$i){case 2:D.FN=void 0;D.d$();k$i=5;break;}}},E.ksa));V8H=7;break;case 3:(H=this.vy.Uf,M=this.vy.$m,L=this.vy.Ti);V8H=9;break;}}};B.prototype.d$=function(){var P1y,C;P1y=2;for(;P1y !== 5;){switch(P1y){case 2:C=this;this.EUa.fia || this.EUa.sgb(function(){var V_z;V_z=2;for(;V_z !== 1;){switch(V_z){case 2:C.FN || (C.Wk.d$(),C.Vxa={},C.zB());V_z=1;break;}}});P1y=5;break;}}};B.prototype.Iaa=function(C){var s4U,D;s4U=2;for(;s4U !== 6;){switch(s4U){case 4:this.Fla=!1;this.G3=0;this.Wk.ba && void 0 !== C.Rg && !C.stream.Eua(C.Rg) && this.Wk.S_a(C.stream).Js.r_b(C.Rg);D.hH && this.vua.Iaa(C);s4U=7;break;case 2:D=this.config;this.jM=Math.max(C.ki || k.default.time.xa(),this.jM);this.OUa();s4U=4;break;case 7:var I$U="up";I$U+="datingLastSuc";I$U+="cessEvent";var P7q="u";P7q+="pdatingLastSuccessEv";P7q+="ent";this.events.emit(P7q,{type:I$U});s4U=6;break;}}};B.prototype.ph=function(){var J65,C,D,F;J65=2;for(;J65 !== 3;){switch(J65){case 2:(C=this,D=this.config,F=D.L7);this.jM=Math.max(k.default.time.xa(),this.jM);J65=5;break;case 5:var E5y="m";E5y+="s";var K2L="Setting u";K2L+="nderflow ";K2L+="ti";K2L+="meout in ";!D.wfb || this.qY || D.STb || (d.info(K2L + F + E5y),this.qY=setTimeout(function(){var m63;m63=2;for(;m63 !== 4;){switch(m63){case 2:var t2s="ms, s";t2s+="ince underflow with no su";t2s+="ccess";var R2m="Forcing per";R2m+="manent ";R2m+="net";R2m+="work";R2m+=" failure after ";f9YlG.G6s(1);d.info(f9YlG.u_w(F,R2m,t2s));C.qY=void 0;C.Wk.Er(g.default.Pf.xu,!0);m63=4;break;}}},F));this.config.Ila && (this.Fla=!0);J65=3;break;}}};h4z=6;break;case 2:B.prototype.Oa=function(){var z38;z38=2;for(;z38 !== 1;){switch(z38){case 2:this.Vk.clear();z38=1;break;}}};B.prototype.TN=function(C){var q37;q37=2;for(;q37 !== 1;){switch(q37){case 2:this.T$=C;q37=1;break;case 4:this.T$=C;q37=2;break;}}};B.prototype.Er=function(C,D,F,G,E){var p5Y,ja,H,M,L,K,O,J,I,N,R,ka,ua,u5g,da,P,h7F,l2E,U6C,U,ra,X7z,Xa,ab,aa,na,Ca,Ra,Aa,La,K2d,T2B,S0h;p5Y=2;for(;p5Y !== 44;){switch(p5Y){case 20:U=C.en;ja=U.hw;U=U.A5a;p5Y=17;break;case 2:I=n.QZ.name;I=G?I[G]:void 0;(N=this.config,R=this.Wk);p5Y=4;break;case 32:p5Y=D?31:30;break;case 4:var A62=" : critical error";A62+=" co";A62+="u";A62+="nt = ";var U7e=" o";U7e+="n";U7e+=" ";var C_g=" h";C_g+="ttp";C_g+="C";C_g+="ode ";var j6q="Fail";j6q+="ur";j6q+="e ";d.warn(j6q + I + C_g + F + U7e + JSON.stringify(C?C:D) + A62 + this.kv);p5Y=3;break;case 11:p5Y=R.ba && C?10:15;break;case 10:p5Y=this.config.Hla && C.en?20:16;break;case 31:D=R.I1b(D.host,D.port).map(function(sa){var q4u,Ha;q4u=2;for(;q4u !== 5;){switch(q4u){case 2:return {url:(null === (Ha=sa.url.stream.Js) || void 0 === Ha?void 0:Ha.ZT(!0)) || "",Qc:sa.Wb.id,Wb:sa.Wb,stream:sa.url.stream,urls:sa.Wb.urls};break;}}}).filter(function(sa){var r9S;r9S=2;for(;r9S !== 1;){switch(r9S){case 2:return "" !== sa.url;break;}}});p5Y=21;break;case 25:p5Y=U !== z?24:44;break;case 3:p5Y=G && f.isArray(q[G])?9:28;break;case 16:var V9c="Tre";V9c+="at HTTP_RESPONSE_5XX as SERV";V9c+="ER_THROTTLE error for live streaming";G === p.Uca && (d.info(V9c),U=A);p5Y=15;break;case 35:p5Y=N.hH?34:33;break;case 21:(ka=U[0],ua=U[1]);p5Y=35;break;case 9:p5Y=this.Fla?8:12;break;case 22:D=R.T0a(C).map(function(sa){var h7$;h7$=2;for(;h7$ !== 1;){switch(h7$){case 2:return {url:C.url,Qc:sa.id,Wb:sa,stream:ra,urls:sa.urls,I:C.Rg};break;}}});p5Y=21;break;case 33:try{u5g=2;for(;u5g !== 13;){switch(u5g){case 1:u5g=!P.done?5:13;break;case 5:Xa=P.value;na=Xa.Qc;ab=Xa.urls;aa=Xa.url;u5g=8;break;case 14:P=da.next();u5g=1;break;case 8:u5g=U === A && !this.J_b(na)?13:7;break;case 7:var a4V="e";a4V+="r";a4V+="r";a4V+="or";ab.some(function(sa){var k41;k41=2;for(;k41 !== 5;){switch(k41){case 2:R.Er(ka,ua,sa.url);return ka === g.default.Pf.KD;break;}}});!this.T$ || 0 !== F && void 0 !== F || this.T$.vwa(a4V,aa);u5g=14;break;case 2:(da=c.__values(D),P=da.next());u5g=1;break;}}}catch(sa){var Y;Y={error:sa};}finally{h7F=2;for(;h7F !== 1;){switch(h7F){case 2:try{l2E=2;for(;l2E !== 1;){switch(l2E){case 2:P && !P.done && (M=da.return) && M.call(da);l2E=1;break;}}}finally{U6C=2;for(;U6C !== 5;){switch(U6C){case 2:U6C=Y?1:5;break;case 1:throw Y.error;U6C=5;break;case 9:throw Y.error;U6C=8;break;}}}h7F=1;break;}}}p5Y=44;break;case 12:U=q[G];p5Y=11;break;case 8:p5Y=this.G3 >= this.config.K7?7:13;break;case 13:this.G3++;p5Y=12;break;case 7:var z$c=" consecut";z$c+="ive network failure mode in underflow ";z$c+="mode";var i7F="Forcing permanent n";i7F+="etwo";i7F+="rk";i7F+=" failure aft";i7F+="er ";d.info(i7F + this.G3 + z$c);this.Wk.Er(g.default.Pf.xu,!0);p5Y=14;break;case 14:return;break;case 28:var l0X="Unmapp";l0X+="ed failur";l0X+="e code in JSASE error director :";l0X+=" ";f9YlG.L4_(2);d.error(f9YlG.T5R(l0X,G));p5Y=44;break;case 15:var m25="crit";m25+="icalN";m25+="etwo";m25+="rk";m25+="Error";var D7V="critica";D7V+="lNet";D7V+="w";D7V+="orkError";var M8L="requ";M8L+="e";M8L+="stEr";M8L+="ror";var L_r="r";L_r+="eque";L_r+="s";L_r+="tErr";L_r+="or";this.vy={$m:F,Uf:G,LYa:I,Ti:E};this.events.emit(L_r,{type:M8L,$m:F});u[G] && (++this.kv,this.events.emit(D7V,{type:m25,Uf:G}));p5Y=25;break;case 29:return;break;case 23:ra=R.S_a(C.stream);p5Y=22;break;case 34:try{X7z=2;for(;X7z !== 8;){switch(X7z){case 9:La=Aa.next();X7z=1;break;case 5:var u9s="err";u9s+="o";u9s+="r";var p2W=" Reached lim";p2W+="it,";p2W+=" marking url as failed and changi";p2W+="ng stream ";var V7f="]";V7f+=" segmentId";V7f+=" ";var O4g=" Retry c";O4g+="ount ";O4g+="increa";O4g+="sing ";var k1k="]";k1k+=" ";k1k+="segment";k1k+="Id ";var H$h=" Retry in progress";H$h+=" already, skip";H$h+=" updating retry counter";H$h+="s";(Xa=La.value,ab=Xa.urls,aa=Xa.url,na=Xa.Qc,Ca=Xa.stream,Ra=Xa.Wb);U === A || U === t?this.vua.rYb(Xa,{qSa:na,oY:U,$m:F,Uf:G,LYa:I,Ti:E}):this.config.Hla && U === y && (null === (L=null === Ca || void 0 === Ca?void 0:Ca.Js) || void 0 === L?0:L.ba) && (null === (K=null === Ca || void 0 === Ca?void 0:Ca.Js) || void 0 === K?void 0:K.Wb) === Ra.id && C && C.en?(ja=C.en.hw,C.en.IN?d.log(C.mediaType + " " + C.Rg + H$h + ja):(C.en.hw=ja + 1,d.log("[" + C.mediaType + k1k + C.Rg + O4g + ja + 1),Ca.Js.wsb(C.Rg || 0))):this.config.Hla && U === x && (null === (O=null === Ca || void 0 === Ca?void 0:Ca.Js) || void 0 === O?0:O.ba) && (null === (J=null === Ca || void 0 === Ca?void 0:Ca.Js) || void 0 === J?void 0:J.Wb) === Ra.id && C && C.en?(d.log("[" + C.mediaType + V7f + C.Rg + p2W + C.en.hw),R.I_b(C.stream.url,ka,ua)):ab.some(function(sa){var b3q;b3q=2;for(;b3q !== 5;){switch(b3q){case 2:R.Er(ka,ua,sa.url);return ka === g.default.Pf.KD;break;}}});!this.T$ || 0 !== F && void 0 !== F || this.T$.vwa(u9s,aa);X7z=9;break;case 1:X7z=!La.done?5:8;break;case 2:(Aa=c.__values(D),La=Aa.next());X7z=1;break;}}}catch(sa){var Q;Q={error:sa};}finally{K2d=2;for(;K2d !== 1;){switch(K2d){case 2:try{T2B=2;for(;T2B !== 1;){switch(T2B){case 2:La && !La.done && (H=Aa.return) && H.call(Aa);T2B=1;break;}}}finally{S0h=2;for(;S0h !== 5;){switch(S0h){case 2:S0h=Q?1:5;break;case 3:S0h=Q?2:4;break;case 1:throw Q.error;S0h=5;break;}}}K2d=1;break;}}}p5Y=44;break;case 17:var f$9=" m";f$9+="ax retrie";f$9+="s:";var u09="Treating ${htt";u09+="pCode} a";u09+="s UR";u09+="L_THROTTLE error for live streaming";u09+=" retry count:";var L8i=" max";L8i+=" ";L8i+="ret";L8i+="rie";L8i+="s:";var C$H=" as URL_";C$H+="TEMP error fo";C$H+="r live streaming retry count:";var l5s="T";l5s+="re";l5s+="ating";l5s+=" ";ja < U?(d.info(l5s.concat(F,C$H),ja,L8i,U),U=y):(d.info(u09,ja,f$9,U),U=x);p5Y=15;break;case 24:p5Y=C?23:32;break;case 30:var H$y="Invalid a";H$y+="ffected for network ";H$y+="fai";H$y+="lure";d.error(H$y);p5Y=29;break;}}};B.prototype.J_b=function(C){var V_D,D,F,G;V_D=2;for(;V_D !== 7;){switch(V_D){case 1:V_D=G?5:8;break;case 8:this.Vxa[C]={Sd:D,count:1};V_D=7;break;case 2:(D=k.default.time.xa(),F=this.config,G=this.Vxa[C]);V_D=1;break;case 4:(G.Sd=D,G.count=1);V_D=7;break;case 9:return G.$y=!0;break;case 3:V_D=!(G.Sd >= D - F.saa || G.$y || (G.Sd=D,++G.count,G.count < F.P7))?9:7;break;case 5:V_D=G.Sd < this.jM?4:3;break;}}};h4z=3;break;}}})();b.$Da=r;},59263:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.BAa=void 0;c=a(5163);l=a(57055);f=c.__importDefault(a(35471)).default.fj;r=(function(k){function d(g){var m;m=k.call(this) || this;m.GQa=g;m.z1=g.groupId;m.H1=new l.ye();m.H1.on(m,f.Ck.bQ,m.yqb);m.H1.on(m,f.Ck.Sz,m.Rga);return m;}c.__extends(d,k);d.prototype.EVb=function(g,m,h){f.prototype.open.call(this,g,m,h);};d.prototype.c2b=function(g){this.z1=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.z1;},enumerable:!1,configurable:!0}});d.prototype.We=function(){this.H1 && this.H1.clear();f.prototype.We.call(this);};d.prototype.yqb=function(g){this.GQa.sYb(g.probed,g.affected);this.We();};d.prototype.Rga=function(g){this.GQa.pYb(g.probed,g.affected);this.We();};return d;})(f);b.BAa=r;},34425:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.WLa=void 0;c=a(62558);l=a(59263);f=a(35471)["default"];new f.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function k(d,g,m){this.aR=d;this.zB=g;this.config=m;this.Ys={};this.uC={};this.sE=!0;this.groupId=1;}k.prototype.rYb=function(d,g){var m,h,n,p,q,u,t,v,w,y;m=this;h=this.config;n=d.Qc;p=d.stream;q=d.Wb.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");u=[];t=p.ri[0];v=!1;w=this.Ys[n];y=f.time.xa();if(!w)w=this.K2b(n,y,g,d);else if(w.Sd >= y - h.saa)return;w.$y || (t && q.id === t.id && (d.isPrimary=!0),w.Sd=y,w.$y=!1,w.error=g,++w.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,C,D;B=x.Wb.id;C=B + "-" + n;D=m.uC[C];if(void 0 === D || void 0 === D.AW)(D && D.hm && clearTimeout(D.hm),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.Js) || void 0 === A?0:A.ba)?m.PJb(d.stream.Js,d.I,x.url):x.url,(0,c.assert)(x,("Unexpected probeUrl: ").concat(x)),z=m.YVa(x,d,B),m.uC[C]={ia:!1,count:0,AW:z.yj()},u.push(z.yj()),v=!0);-1 === w.Dwa.indexOf(B) && w.Dwa.push(B);}),0 < u.length && (h={ts:f.time.xa(),es:g.qSa,fc:g.Uf,fn:g.LYa,nc:g.Ti,pb:u,gid:this.groupId},g.$m && (h.hc=g.$m),this.xG(h,"errpb")),v && this.groupId++));};k.prototype.YVa=function(d,g,m){var h,n;h=new l.BAa(this);n="random=" + parseInt(("").concat(1E7 * Math.random()));h.EVb(d + (-1 !== d.indexOf("?")?"&":"?") + n,g,m);return h;};k.prototype.K2b=function(d,g,m,h){var n;n=this.Ys[d];h=h.Wb.location;n || (n=this.Ys[d]={count:0,Sd:g,$y:!1,error:m,Dwa:[],xua:{},location:h,I:m.I,mfc:m});return n;};k.prototype.getState=function(d){return this.Ys[d];};k.prototype.Ixb=function(d){this.Ys[d]=void 0;};k.prototype.xG=function(d,g){var m;if(this.sE){m={type:"logdata",target:"endplay",fields:{}};m.fields[g]={type:"array",value:d,adjust:["ts"]};this.aR.Asa(m);}};k.prototype.PJb=function(d,g,m){var h;h=void 0 === g || g === d.Vm().CX;return d.ZT(h,h?void 0:g,m);};k.prototype.sYb=function(d,g){var m,h,n,p,q,u,t,v,w,y,x,z;m=this;p=this.aR;q=this.config;u=g.Qc;t=this.Ys[u];if(t){v=d.url;w=this.uC[d.Qc + "-" + u];if(w){y=t.error;w && w.hm && clearTimeout(w.hm);w.ia=!0;w.count=0;w.AW=void 0;t.xua[d.Qc]=!0;w=this.Ys[d.Qc];if((null === w || void 0 === w?0:w.$y) && q.SR){p.rab(d.Qc,w.error.oY[1]);if(this.sE){x={ts:f.time.xa(),id:d.requestId,servid:g.Qc,gid:d.groupId?d.groupId:-1};this.xG(x,"errst");}this.Ys[d.Qc]=void 0;this.zB();}if(v !== g.url){z=this.uC[u + "-" + u];z && z.ia || (u=null === w || void 0 === w?void 0:w.location,q=Math.min((null === (n=null === (h=null === u || void 0 === u?void 0:u.Lb) || void 0 === h?void 0:h.zv) || void 0 === n?void 0:n.Ca) || Math.random() * q.M7,q.M7),setTimeout(function(){var A;if(!(!1 !== t.$y || z && z.ia) && (t.$y=!0,p.Er(y.oY[0],y.oY[1],g.stream.Js.url,y),m.sE)){A={ts:f.time.xa(),id:d.requestId,servid:g.Qc,gid:d.groupId?d.groupId:-1};m.xG(A,"erep");}},q));}this.sE && (x={ts:f.time.xa(),id:d.requestId,result:1,servid:d.Qc,gid:d.groupId?d.groupId:-1},this.xG(x,"pbres"));}}};k.prototype.pYb=function(d,g){var m,h,n,p,q,u,t,v,w,y,x,z,A;m=this;p=this.aR;q=this.config;u=g.Qc;t=this.Ys[u];v=d.Qc;w=this.uC[v + "-" + u];if(w)if(t){y=0;w.ia=!1;w.AW=void 0;t.xua[v]=!1;x=t.Dwa;if(q.SR && v === u && g.isPrimary){z=t.location;z=(null === (n=null === (h=null === z || void 0 === z?void 0:z.Lb) || void 0 === h?void 0:h.zv) || void 0 === n?void 0:n.Ca) || 300 * Math.random();h=Math.min(z * Math.pow(2,w.count),12E4);h+=Math.random() * (1E4 > h?100:1E4);w.hm=setTimeout(function(){var B;w.hm=void 0;B=m.YVa(d.url,g,v);B.c2b(d.groupId);w.AW=B.yj();},h);}++w.count;if(v === u && (y=0,x.forEach(function(B){!1 === t.xua[B] && y++;}),x.length === y && t.count >= q.P7)){A=t.error;t.$y=!0;q=g.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.Er(A.oY[0],A.oY[1],B.url,A);m.sE && (B={ts:f.time.xa(),id:-1,servid:B.Wb.id},m.xG(B,"erep"));});}this.sE && (q={ts:f.time.xa(),id:d.requestId,result:0,servid:d.Qc,gid:d.groupId?d.groupId:-1},this.xG(q,"pbres"));}else w && (w.ia=!1,w.AW=void 0);};k.prototype.Iaa=function(d){var g,m,h;if(d.url){m=this.aR;h=m.E1b(d.url);h || (h=null === (g=this.aR.T0a(d)[0]) || void 0 === g?void 0:g.id);h && (d=this.Ys[h]) && d.$y && this.config.SR && (m.rab(d.error.qSa,!1),this.sE && (m={ts:f.time.xa(),id:-1,servid:h},this.xG(m,"errst")),this.Ixb(h),(h=this.uC[h + "-" + h]) && h.hm && clearTimeout(h.hm));}};k.prototype.reset=function(){var d,g,m;d=this.uC;for(m in d){d.hasOwnProperty(m) && (g=d[m + "-" + m]) && g.hm && clearTimeout(g.hm);}this.uC={};this.Ys={};};return k;})();b.WLa=r;},40717:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.IXa=b.MOb=b.j3a=b.K0a=void 0;c=a(42866);b.K0a=function(l,f){if((l=l.nb.v.dw) && 0 !== l.length)return (0,c.wc)(l,function(k){return k.Ja.G <= f && f < k.Va.G;});};b.j3a=function(l,f){return f.index === l.Xe.index?!0:(l=l.nb.v.dw) && 0 !== l.length?l.some(function(k){k=k.Ja;return f.Ja.yy(k) && k.lessThan(f.Va);}):!1;};b.MOb=function(l,f){return f.index === l.ef.index?!0:(l=l.nb.v.dw) && 0 !== l.length?l.some(function(k){k=k.Va;return f.Ja.lessThan(k) && k.yy(f.Va);}):!1;};b.IXa=function(l,f,k,d){var g,m,h,n,p,q,u,t;l=null === (g=f.Ia) || void 0 === g?void 0:g.start;g=null === (m=f.Ia) || void 0 === m?void 0:m.end;t=m=!1;if((null === d || void 0 === d?0:d.ZOb) || (null === d || void 0 === d || !d.KOb) && f.Ja.lessThan(k.Ja)){if(u=f.Bma(k.Ja.G))(u=(null !== (n=null === (h=f.Ia) || void 0 === h?void 0:h.start) && void 0 !== n?n:0) + u.Jj,l=Math.max(null !== l && void 0 !== l?l:0,u));u=k.Ja.G;m=!0;}if((null === d || void 0 === d || !d.ROb) && f.Va.greaterThan(k.Va)){if(u=f.Bma(k.Va.G))(u=(null !== (q=null === (p=f.Ia) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Jj,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),f.LV=f.index);u=k.Va.G;t=!0;}if(void 0 !== l || void 0 !== g)(f.Bi({start:l,end:g}),void 0 !== u && (!f.lw || u > f.lw) && f.UN(u));f.o2b(k.region,m,t);};},41714:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hAa=void 0;c=a(5163);l=a(86786);r=(function(){function f(k,d){this.jk=k;this.filter=d;this.G5a=Math.max(k.max_n || 10,0);this.reset();}f.prototype.reset=function(){this.JW=[];this.offset=0;this.nw=this.NC=null;this.filter.reset();this.fY=null;};f.prototype.add=function(k,d,g){var m;m=this.nw;null !== m && g > m && (this.offset+=Math.max(d - m,0),this.nw=null);for((0,l.M2a)(this.JW,[d - this.offset,g - this.offset,k]);this.JW && this.JW.length > this.G5a;){k=c.__read(this.JW.shift(),3);this.filter.add(k[2],k[0],k[1]);}this.fY=null;};f.prototype.get=function(k,d){var g,n;if(!this.fY){this.fY=this.filter.Pn();try{for(var m=c.__values(this.JW),h=m.next();!h.done;h=m.next()){n=c.__read(h.value,3);this.fY.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (g=m.return) && g.call(m);}finally{if(p)throw p.error;}}}p=this.nw;return this.fY.get((null === p?k:p) - this.offset,d);};f.prototype.Pn=function(){var k;k=new f(this.jk,this.filter.Pn());k.nw=this.nw;k.offset=this.offset;return k;};f.prototype.start=function(k){var d;d=this.nw;null !== d && k > d && (this.offset+=k - d,this.nw=null);this.filter.start(k - this.offset);};f.prototype.stop=function(k){this.nw=null === this.nw?k:Math.min(this.nw,k);this.filter.stop(k - this.offset);};f.prototype.flush=function(){this.filter.flush();};f.prototype.toString=function(){return "AggregatingFilter(" + this.G5a + ", " + this.filter.toString() + ")";};return f;})();b.hAa=r;},45762:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bD=void 0;r=(function(){var G93;G93=2;for(;G93 !== 9;){switch(G93){case 2:a.prototype.start=function(c){var j3O;j3O=2;for(;j3O !== 1;){switch(j3O){case 2:this.jg?c < this.jg?(this.nE+=this.jg - c,this.jg=c):this.dc && c > this.dc && (this.dc=this.jg=c):this.dc=this.jg=c;j3O=1;break;}}};a.prototype.stop=function(c){var L1r;L1r=2;for(;L1r !== 1;){switch(L1r){case 2:this.dc && c > this.dc && (this.nE+=c - this.dc,this.dc=c);L1r=1;break;}}};a.prototype.add=function(c,l,f){var W9x;W9x=2;for(;W9x !== 4;){switch(W9x){case 2:this.start(l);this.stop(f);this.ic+=c;W9x=4;break;}}};a.prototype.get=function(){var s2D;s2D=2;for(;s2D !== 1;){switch(s2D){case 2:return {Ca:this.nE?Math.floor(8 * this.ic / this.nE):null,mXa:this.nE || 0};break;}}};return a;break;}}function a(){var U5g;U5g=2;for(;U5g !== 4;){switch(U5g){case 2:var F$J="1SIY";F$J+="b";F$J+="ZrN";F$J+="J";F$J+="Cp9";this.nE=this.ic=0;this.dc=this.jg=void 0;F$J;U5g=4;break;}}}})();b.bD=r;},75265:function(r,b,a){var l,f;function c(k){this.Z={sV:k.maxc || 25,cka:k.c || .5,S8b:k.w || 15E3,zvb:k.b || 5E3};l.call(this,this.Z.S8b,this.Z.zvb);this.tR();}l=a(7977);f=a(15913).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.Gt(0);l.prototype.shift.call(this);null !== k && (this.Te.push(k,1),this.uA=!0);return k;};c.prototype.flush=function(){var k;k=this.get();this.Te.push(k,1);this.uA=!0;l.prototype.reset.call(this);return k;};c.prototype.get=function(){return this.c1a();};c.prototype.CL=function(){var k;k=this.c1a();return {min:k.min,p10:k.sta,p25:k.Pp,p50:k.ln,p75:k.Qp,p90:k.tta,max:k.max,centroidSize:k.Uwb,sampleSize:k.sampleSize,centroids:k.rj};};c.prototype.c1a=function(){var k;if(0 === this.Te.size())return null;k=this.Te.wi([0,.1,.25,.5,.75,.9,1]);if(k[2] === k[4])return null;if(this.uA || !this.dh)(this.uA=!1,this.dh={min:k[0],sta:k[1],Pp:k[2],ln:k[3],Qp:k[4],tta:k[5],max:k[6],wi:this.Te.wi.bind(this.Te),Uwb:this.Te.size(),sampleSize:this.Te.n,rj:this.CIb(),CL:this.CL.bind(this)});return this.dh;};c.prototype.CIb=function(){var k;if(0 === this.Te.size())return null;if(!this.uA && this.dh)return this.dh.centroids;k=this.Te.wi([.25,.75]);if(k[0] === k[1])return null;this.Te.size() > this.Z.sV && this.Te.Mx();k=this.Te.wk(!1).map(function(d){return {mean:d.Gf,n:d.n};});return JSON.stringify(k);};c.prototype.Y0a=function(){return this.Te.summary();};c.prototype.size=function(){return this.Te.size();};c.prototype.toString=function(){return "btdtput(" + this.tha + "," + this.zh + "," + this.Kn + "): " + this.Te.summary();};c.prototype.tR=function(){this.Te=new f(this.Z.cka,this.Z.sV);};r.exports=c;},62012:function(r,b,a){var l,f;function c(k,d,g,m){l.call(this,g,m);this.Ou=new f(k);this.cqb=d;}l=a(7977);f=a(26208);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.Gt(0);l.prototype.shift.call(this);null !== k && this.Ou.cSa(k);return k;};c.prototype.flush=function(){var k;k=this.get();this.Ou.cSa(k);l.prototype.reset.call(this);return k;};c.prototype.get=function(){var k;k=this.VT();return {sampleSize:this.$T(),Pta:k,rsa:k.ln?(k.Qp - k.Pp) / k.ln:void 0};};c.prototype.$T=function(){return this.Ou.$T();};c.prototype.VT=function(){return this.Ou.$T() < this.cqb?{Pp:void 0,ln:void 0,Qp:void 0,sampleSize:void 0,wi:void 0}:{Pp:this.Ou.pK(25),ln:this.Ou.pK(50),Qp:this.Ou.pK(75),sampleSize:this.Ou.$T(),wi:this.Ou.pK.bind(this.Ou)};};c.prototype.toString=function(){return "biqr(" + this.tha + "," + this.zh + "," + this.Kn + ")";};r.exports=c;},72245:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZBa=void 0;c=a(45762);r=(function(){function l(){var x99;x99=2;for(;x99 !== 5;){switch(x99){case 2:var L5X="1SIYbZr";L5X+="NJCp";L5X+="9";this.Q1={};L5X;x99=5;break;}}}var r1d;r1d=2;for(;r1d !== 9;){switch(r1d){case 2:l.prototype.add=function(f,k,d,g){var T5k,m;T5k=2;for(;T5k !== 4;){switch(T5k){case 2:m=this.Q1;void 0 === m[g] && (m[g]=new c.bD());m[g].add(f,k,d);T5k=4;break;}}};l.prototype.start=function(f,k){var u_u,d;u_u=2;for(;u_u !== 4;){switch(u_u){case 2:d=this.Q1;void 0 === d[k] && (d[k]=new c.bD());d[k].start(f);u_u=4;break;}}};l.prototype.stop=function(f,k){var t8e,d;t8e=2;for(;t8e !== 5;){switch(t8e){case 2:d=this.Q1;void 0 !== d[k] && d[k].stop(f);t8e=5;break;}}};l.prototype.get=function(){var s$C,f,k,d,g,m,h;s$C=2;for(;s$C !== 8;){switch(s$C){case 9:return d;break;case 3:g++;s$C=1;break;case 2:(f=this.Q1,k=Object.keys(f).map(function(n){var W15;W15=2;for(;W15 !== 1;){switch(W15){case 2:return parseInt(n);break;}}}),d=[],g=0);s$C=1;break;case 1:s$C=g < k.length?5:9;break;case 5:(m=k[g],h=f[m].get());h && d.push({cdnid:m,avtp:h.Ca,tm:h.mXa});s$C=3;break;}}};return l;break;}}})();b.ZBa=r;},78632:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mCa=void 0;c=a(5163);l=a(15913);new (c.__importDefault(a(35471)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function f(k){this.config=k;this.dka=k.c;this.Ara=k.Xgc;this.gV=k.gV;this.lU=k.lU;this.H6=k.H6;this.V2b=k.Iec;this.YF=k.YF;this.E5a=k.E5a;this.reset();}f.prototype.reset=function(){this.aj=new l.TDigest(this.dka,this.Ara);this.dc=null;};f.prototype.add=function(k,d,g){var m,h,n,u;g=Math.max(g - d,1);k=8 * k / g;if(this.V2b){null === this.dc && (this.dc=d);h=Math.pow(2,(d - this.dc) / this.YF);n=g * h;if(h >= this.E5a){n=new l.TDigest(this.dka,this.Ara);try{for(var p=c.__values(this.aj.wk()),q=p.next();!q.done;q=p.next()){u=q.value;n.push(u.Gf,u.n / h);}}catch(v){var t;t={error:v};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(t)throw t.error;}}this.aj=n;n=g;this.dc=d;}this.aj.push(k,n);}else this.aj.push(k,g);};f.prototype.get=function(){var k;k=this.aj.wi([this.gV,this.lU,this.H6]);return {low:k[0] || 0,high:k[1] || 0,initial:k[2] || 0};};f.prototype.Pn=function(){var k,d,g,n;d=new f(this.config);g=new l.TDigest(this.dka,this.Ara);try{for(var m=c.__values(this.aj.wk()),h=m.next();!h.done;h=m.next()){n=h.value;g.push(n.Gf,n.n);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (k=m.return) && k.call(m);}finally{if(p)throw p.error;}}d.aj=g;return d;};f.prototype.flush=function(){};f.prototype.start=function(){};f.prototype.stop=function(){};return f;})();b.mCa=r;},19253:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.WCa=b.kjb=b.VCa=b.Ojb=b.ljb=void 0;c=a(5163);l=a(34238);a=(function(){return function(){};})();b.ljb=a;f=(function(){function k(d,g,m,h,n){this.alpha=d;this.Ca=g;this.weight=h;this.efa=m * this.weight;this.gY=n;}k.prototype.Pn=function(){return new k(this.alpha,this.Ca,this.Je,this.weight,this.gY);};Object.defineProperties(k.prototype,{Je:{get:function(){return this.weight?this.efa / this.weight:0;},enumerable:!1,configurable:!0}});k.prototype.update=function(d,g,m){var h,n,p,q;h=this.alpha;n=this.weight;p=this.gY;q=h * (d - p);5 < q && (this.weight/=Math.exp(q),this.gY=p=d);d=Math.exp(h * (g - p)) - Math.exp(h * (d - p));g=this.weight+=d;h=this.Ca;this.Ca=p=h + d * (m - h) / g;this.efa=n?this.efa * (g - d) / n + d * (m - p) * (m - h):0;};return k;})();b.Ojb=f;r=(function(){var N8B;N8B=2;function k(d){var F8J,g,m;F8J=2;for(;F8J !== 7;){switch(F8J){case 4:this.YF=d.hl;this.q6a=g;this.XSb=m;this.reset();F8J=7;break;case 2:var u2f="1SIY";u2f+="b";u2f+="ZrNJCp9";this.jk=d;u2f;(g=d.min_b,m=d.min_iv);F8J=4;break;}}}for(;N8B !== 14;){switch(N8B){case 2:k.prototype.Pn=function(d){var A_z;A_z=2;for(;A_z !== 8;){switch(A_z){case 2:d || (d=new k(this.jk));d.Nr=this.Nr;d.NC=this.NC;d.OH=this.OH.Pn();A_z=3;break;case 3:d.PH=this.PH.Pn();return d;break;}}};k.prototype.reset=function(){var D62,d;D62=2;for(;D62 !== 3;){switch(D62){case 2:d=-Math.log(.5) / this.YF;this.OH=new f(d,0,0,0,0);this.PH=new f(d,0,0,0,0);this.Nr=this.NC=null;D62=3;break;}}};k.prototype.start=function(d){var Z4t;Z4t=2;for(;Z4t !== 1;){switch(Z4t){case 2:null === this.Nr && (this.Nr=d);Z4t=1;break;}}};N8B=4;break;case 4:k.prototype.add=function(d,g,m){var X4F=f9YlG;var Q3t,h;Q3t=2;for(;Q3t !== 7;){switch(Q3t){case 2:h=this.Nr;this.Nr=null === h?g:Math.min(h,g);h=this.NC;this.NC=null === h?m:Math.max(h,m);Q3t=3;break;case 3:X4F.G6s(3);h=Math.max(X4F.u_w(m,g),1);X4F.G6s(4);this.OH.update(g,m,X4F.T5R(h,d));X4F.L4_(5);this.PH.update(g,m,X4F.u_w(8,d,h));Q3t=7;break;}}};k.prototype.get=function(d,g){var j5T=f9YlG;var L3r,v,w,m,h,n,p,q,u,t;L3r=2;for(;L3r !== 16;){switch(L3r){case 17:(q=this.OH,u=this.PH);L3r=20;break;case 6:n=Math.max(n,p);L3r=14;break;case 20:d=q.weight;g=u.weight;return {Ca:d?q.Ca:null,Je:d?q.Je:null,hK:g?u.Ca:null,IO:g?u.Je:null};break;case 1:L3r=0 < n?5:17;break;case 10:n=1E-11 < v?Math.max(w / v,n):n + 2 * t / p;L3r=14;break;case 12:(v=new l.V_(p,t).Nwb(n),w=p - v[1]);j5T.L4_(6);var c2F=j5T.u_w(0,17,18);v=c2F - v[0];L3r=10;break;case 14:j5T.L4_(3);q.update(j5T.u_w(h,m),j5T.u_w(d,m,j5T.L4_(3)),j5T.u_w(n,g,j5T.L4_(4)));L3r=13;break;case 5:L3r=(q=new f(q.alpha,q.Ca,q.Je,q.weight,q.gY),u=new f(u.alpha,u.Ca,u.Je,u.weight,u.gY),0 < q.weight && 0 !== g)?4:20;break;case 7:L3r=0 === t?6:12;break;case 2:(m=this.Nr || 0,h=this.NC || 0,n=d - h,p=this.XSb,q=this.OH,u=this.PH);L3r=1;break;case 4:void 0 === g && (g=this.q6a);n >= p && (g=Math.min(g,this.q6a));p=g * q.Ca;j5T.G6s(7);var v2n=j5T.u_w(10,150,2,15);t=Math.pow(g,v2n) * q.Je;L3r=7;break;case 13:j5T.L4_(3);u.update(j5T.T5R(h,m),j5T.T5R(d,m),0);L3r=20;break;}}};N8B=9;break;case 9:k.prototype.toString=function(){var h7w;h7w=2;for(;h7w !== 1;){switch(h7w){case 2:var a8d="D";a8d+="eli";a8d+="v";a8d+="eryDist(";return a8d.concat(this.YF,")");break;}}};k.prototype.stop=function(){};k.prototype.flush=function(){};return k;break;}}})();b.VCa=r;a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);return d;})(a);b.kjb=a;r=(function(k){function d(g){var m;m=k.call(this,g) || this;m.jk=g;return m;}c.__extends(d,k);d.prototype.get=function(){var g,m,h;if(0 === this.OH.weight || 0 === this.PH.weight)return {low:null,high:null,initial:null};switch(this.jk.AM){case "deliverytime":g=this.OH;g=new l.V_(g.Ca,g.Je);(m=this.jk.accuracy,h=this.jk.VRb);return {low:8 / g.Uv(this.jk.lU,m,h),high:8 / g.Uv(this.jk.gV,m,h),initial:8 / g.Uv(this.jk.H6,m,h)};default:return (g=this.PH,g=new l.V_(g.Ca,g.Je),m=this.jk.accuracy,h=this.jk.VRb,{low:g.Uv(this.jk.gV,m,h),high:g.Uv(this.jk.lU,m,h),initial:g.Uv(this.jk.H6,m,h)});}};d.prototype.Pn=function(){var g;g=new d(this.jk);k.prototype.Pn.call(this,g);return g;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.jk.gV,this.jk.lU),"])");};return d;})(r);b.WCa=r;},36253:function(r,b,a){var k;function c(d){this.reset();this.k2b(d);}function l(d){this.setInterval(d);this.reset();}function f(d){this.fA=new l(d);this.Yb=0;this.Hc=null;}k=a(17267);c.prototype.k2b=function(d){this.uJ=Math.pow(.5,1 / d);this.VQ=d;};c.prototype.reset=function(d){d && d.Ca && k.yb(d.Ca)?d.Je && k.yb(d.Je)?(this.Iu=this.Gpb,this.Uo=d.Ca,this.bA=d.Je + d.Ca * d.Ca):(this.Iu=this.Gpb,this.Uo=d.Ca,this.bA=d.Ca * d.Ca):this.bA=this.Uo=this.Iu=0;};c.prototype.add=function(d){var g;if(k.yb(d)){this.Iu++;g=this.uJ;this.Uo=g * this.Uo + (1 - g) * d;this.bA=g * this.bA + (1 - g) * d * d;}};c.prototype.goa=function(){var d,g,m;if(0 === this.Iu)return {Ca:0,Je:0};d=this.Uo;g=this.bA;m=1 - Math.pow(this.uJ,this.Iu);d/=m;g/=m;m=d * d;return {Ca:d,Je:g > m?g - m:0};};c.prototype.get=function(){var d;d=this.goa();return {Ca:Math.floor(d.Ca),Je:Math.floor(d.Je)};};c.prototype.getState=function(){return 0 === this.Iu?null:{a:Number(this.Uo.toPrecision(6)),s:Number(this.bA.toPrecision(6)),n:this.Iu};};c.prototype.Jf=function(d){if(k.tc(d) || !k.has(d,"a") || !k.has(d,"s") || !k.isFinite(d.a) || !k.isFinite(d.s))return (this.bA=this.Uo=this.Iu=0,!1);this.Uo=d.a;this.bA=d.s;k.has(d,"n") && k.yb(d.n)?this.Iu=d.n:this.Iu=16 * this.VQ;return !0;};l.prototype.setInterval=function(d){this.VQ=d;this.uJ=-Math.log(.5) / d;};l.prototype.reset=function(d){this.dc=this.jg=null;d && k.isFinite(d.Ca)?this.Uo=d.Ca:this.Uo=0;};l.prototype.start=function(d){k.tc(this.jg) && (this.dc=this.jg=d);};l.prototype.add=function(d,g,m){var h,n,p;k.tc(this.jg) && (this.dc=this.jg=g);this.jg=Math.min(this.jg,g);g=Math.max(m - g,1);h=this.uJ;n=Math.max(m,this.dc);p=n - this.dc;m=n - m;this.Uo=this.Uo * (0 < p?Math.exp(-h * p):1) + 8 * d / g * (1 - Math.exp(-h * g)) * (0 < m?Math.exp(-h * m):1);this.dc=n;};l.prototype.get=function(d){var g;d=Math.max(d,this.dc);g=this.Uo * Math.exp(-this.uJ * (d - this.dc));d=1 - Math.exp(-this.uJ * (d - this.jg));0 < d && (g/=d);return {Ca:Math.floor(g)};};l.prototype.toString=function(){return "ewmav(" + this.VQ + ")";};f.prototype.setInterval=function(d){this.fA.setInterval(d);};f.prototype.reset=function(d){this.fA.reset(d);this.Yb=0;this.Hc=null;};f.prototype.start=function(d){!k.tc(this.Hc) && d > this.Hc && (this.Yb+=d - this.Hc,this.Hc=null);this.fA.start(d - this.Yb);};f.prototype.add=function(d,g,m){!k.tc(this.Hc) && m > this.Hc && (this.Yb+=g > this.Hc?g - this.Hc:0,this.Hc=null);this.fA.add(d,g - this.Yb,m - this.Yb);};f.prototype.stop=function(d){this.Hc=Math.max(k.tc(this.fA.dc)?0:this.fA.dc + this.Yb,k.tc(this.Hc)?d:Math.min(this.Hc,d));};f.prototype.get=function(d){return this.fA.get((k.tc(this.Hc)?d:this.Hc) - this.Yb);};f.prototype.toString=function(){return this.fA.toString();};r.exports={pjb:c,x$b:l,njb:f};},61739:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x;function c(z){this.config=z;this.Xob=z.rPa;}l=a(99039).fea;f=a(78632).mCa;k=a(45762).bD;b=a(36253);d=b.pjb;g=b.njb;m=a(78142).ojb;h=a(19253).VCa;n=a(19253).WCa;p=a(78142).job;q=a(62012);u=a(75265);t=a(65877).KNa;v=a(69615);w=a(81253);y=a(90402).mLa;x=a(41714).hAa;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,C,D,F;B=this.Xob[z];C=A[z];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":F=new l(this.config,new m(D.mw));break;case "discontiguous-ewma":F=new l(this.config,new g(D.mw));break;case "initial-discontiguous-ewma":F=new y(new g(D.mw),D.playerStates);break;case "wssl":F=new p(D.mw,D.max_n);break;case "iqr":F=new q(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":F=new u(D);break;case "ci":F=new l(this.config,new x(D,new f(D)));break;case "discrete-ewma":F=new d(D.hl);break;case "tdigest-history":F=new t(D);break;case "iqr-history":F=new v(D);break;case "avtp":F=new k();break;case "entropy":F=new w(D);break;case "deliverytime":F=new l(this.config,new x(D,new h(D)));break;case "deliverytime-ci":F=new l(this.config,new x(D,new n(D)));}F && (F.type=D.type);return F;};r.exports=c;},52733:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KIa=void 0;r=a(5163).__importDefault(a(35471));c=a(27364);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(f,k){this.config=f;this.T8=k;this.reset();}l.prototype.reset=function(){this.confidence=c.Uw.HAVE_NOTHING;this.startTime=this.wa=0;};l.prototype.Pn=function(){var f;f=new l(this.config,this.T8);f.confidence=this.confidence;f.wa=this.wa;f.startTime=this.startTime;return f;};l.prototype.add=function(f,k,d){0 === this.startTime && (this.startTime=k,this.wa=0);this.wa+=f;f=d - this.startTime;this.confidence=Math.max(this.confidence,c.Uw.NI);this.confidence < c.Uw.MI && (f > this.config.eqb || this.wa > this.config.dqb) && (this.confidence=c.Uw.MI);this.confidence < c.Uw.tP && (f > this.config.Xqb || this.wa > this.config.Wqb) && (this.confidence=c.Uw.tP,this.T8());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.KIa=a;},81253:function(r,b,a){var l;function c(f){var k,d;k=f.sw;d=f.mw;this.UJ=k;this.Jfa={uhd:f.uhdl,hd:f.hdl};this.Kn=Math.max(Math.ceil(1 * k / d),1);this.fqb=f.mins || 1;l.call(this,k,d);this.reset();}l=a(7977);new (a(35471)["default"].Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.Gi.map(function(f,k){this.gSa(f,this.dna(k));},this);};c.prototype.hwb=function(){var f,k,d,g,m,h,n,t;f=this.Jfa;for(k in f){if(f.hasOwnProperty(k)){d=f[k];g=this.nha[k];m=this.mha[k];if(g.first){h=g.first;n=g.gH;void 0 !== n && (m[h][n]+=1);g.first=void 0;}g=[];h=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,u=0;u < d;u++){q+=m[u][p];}h+=q;g.push(q);}q=-1;if(h > this.fqb){for(p=q=0;p < n;p++){if(0 < g[p])for(u=0;u < d;u++){t=m[u][p];0 < t && (q-=t * Math.log(1 * t / g[p]));}}q/=h * Math.log(2);}this.cga[k]=q;}}return this.cga;};c.prototype.gSa=function(f,k){var h,n;for(var d=this.Kn,g=this.Jfa;this.r1.length >= d;){this.r1.shift();}for(;this.t1.length >= d;){this.t1.shift();}this.r1.push(f);this.t1.push(k);f=this.r1.reduce(function(p,q){return p + q;},0);k=this.t1.reduce(function(p,q){return p + q;},0);if(0 < k){f=8 * f / k;for(var m in g){if(g.hasOwnProperty(m)){k=this.nha[m];d=this.mha[m];h=this.eZb(f,g[m]);n=k.gH;void 0 !== n?d[h][n]+=1:k.first=h;k.gH=h;}}}};c.prototype.eZb=function(f,k){for(var d=0;d < k.length && f > k[d];){d+=1;}return d;};c.prototype.shift=function(){this.gSa(this.Gi[0],this.dna(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var f,k,d,g,m,h,n;this.nha={};this.r1=[];this.t1=[];this.mha={};this.cga={};f=this.Jfa;for(k in f){if(f.hasOwnProperty(k)){d=this.mha;g=k;h=void 0;n=Array(h);h=m=f[k].length + 1;for(var p=0;p < h;p++){n[p]=Array(m);for(var q=0;q < m;q++){n[p][q]=0;}}d[g]=n;this.nha[k]={first:void 0,gH:void 0};this.cga[k]=0;}}l.prototype.reset.call(this);};r.exports=c;},99039:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fea=void 0;new (a(35471)["default"].Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,f){this.config=l;this.filter=f;}c.prototype.Pn=function(){return new c(this.config,this.filter);};c.prototype.Z2b=function(l,f,k,d){var g,m,h;h=d.rH;if(!h || !h.X6())return !0;switch(this.config.rNb){case "requested":return !1;case "requested-low":return (h=h.ewa(this.config.Ala),h.u6a() > ((null === (g=d.Vt) || void 0 === g?void 0:g.xW) || 0));case "inferred":h=h.ewa(this.config.Ala);l=h.wra(l,f,k,this.config.hW);if(!l)break;return h.u6a() > ((null === (m=d.Vt) || void 0 === m?void 0:m.xW) || 0);case "inferred-strict":if((h=h.ewa(this.config.Ala),h.wra(l,f,k,this.config.hW)))return !1;}return !0;};c.prototype.add=function(l,f,k,d){this.Z2b(l,f,k,d) && this.filter.add(l,f,k,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.fea=r;},90402:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mLa=void 0;r=(function(){function a(c,l){this.Zj=0;this.filter=c;this.t9=l;this.Zj=0;}a.prototype.oV=function(c){return 0 < this.t9.filter(function(l){var f;return l === (null === (f=c.Vt) || void 0 === f?void 0:f.vg);}).length;};a.prototype.add=function(c,l,f,k){this.oV(k) && this.filter.add(c,l,f,k);};a.prototype.start=function(c,l){this.filter.start && this.oV(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.oV(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Zj=0;this.filter.reset && this.filter.reset();};a.prototype.ew=function(c,l){this.oV(l) && (this.Zj+=1,this.filter.ew && this.filter.ew(c,l));};a.prototype.gw=function(c,l,f){this.oV(f) && (this.Zj=Math.max(this.Zj - 1,0),0 === this.Zj && this.stop(c,f),this.filter.gw && this.filter.gw(c,f));};return a;})();b.mLa=r;},78142:function(r,b,a){var k;function c(d){this.UJ=d;this.reset();}function l(d){this.Kn=new c(d);this.Yb=0;this.Hc=null;}function f(d,g){this.UJ=d;this.iQa=g;this.reset();}k=a(17267);c.prototype.LQa=function(d,g){this.dc+=d;this.jj+=d;this.ic+=g;this.Ii.push({d:d,b:g});};c.prototype.lR=function(){var d;for(;this.jj > this.UJ;){d=this.Ii.shift();this.ic-=d.b;this.jj-=d.d;}};c.prototype.reset=function(){this.Ii=[];this.dc=null;this.jj=this.ic=0;};c.prototype.setInterval=function(d){this.UJ=d;this.lR();};c.prototype.start=function(d){k.tc(this.dc) && (this.dc=d);};c.prototype.add=function(d,g,m){k.tc(this.dc) && (this.dc=g);g > this.dc && this.LQa(g - this.dc,0);this.LQa(m > this.dc?m - this.dc:0,d);this.lR();};c.prototype.get=function(){return {Ca:Math.floor(8 * this.ic / this.jj),Je:0};};l.prototype.reset=function(){this.Kn.reset();this.Yb=0;this.Hc=null;};l.prototype.add=function(d,g,m){!k.tc(this.Hc) && m > this.Hc && (g > this.Hc && (this.Yb+=g - this.Hc),this.Hc=null);this.Kn.add(d,g - this.Yb,m - this.Yb);};l.prototype.start=function(d){!k.tc(this.Hc) && d > this.Hc && (this.Yb+=d - this.Hc,this.Hc=null);this.Kn.start(d - this.Yb);};l.prototype.stop=function(d){this.Hc=k.tc(this.Hc)?d:Math.min(d,this.Hc);};l.prototype.get=function(){return this.Kn.get();};l.prototype.setInterval=function(d){this.Kn.setInterval(d);};f.prototype.reset=function(){this.Ii=[];this.ic=this.jj=0;};f.prototype.add=function(d,g,m,h){void 0 !== h && !0 === h && (g=m - g,this.jj+=g,this.ic+=d,this.Ii.push({d:g,b:d}),this.lR());};f.prototype.lR=function(){var d;for(;this.jj > this.UJ || this.Ii.length > this.iQa;){d=this.Ii.shift();this.ic-=d.b;this.jj-=d.d;}};f.prototype.start=function(){};f.prototype.stop=function(){};f.prototype.get=function(){return {Ca:Math.floor(8 * this.ic / this.jj),Je:0};};f.prototype.setInterval=function(d,g){this.UJ=d;this.iQa=g;this.lR();};r.exports={w$b:c,ojb:l,job:f};},88577:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VIa=b.Tjb=void 0;c=a(5163);l=c.__importDefault(a(35471));f=a(87034);k=a(49730);d=a(40717);g=a(97810);r=(function(){return function(m,h,n,p){this.Z=h;this.Ht=p;p="[" + m + "]";n=(0,g.Kh)(l.default,n,p);this.t6a=m === f.u.X?h.$ra:h.Wra;p=l.default.PT()[m];this.rV=m === f.u.X?h.lSb:h.PRb;this.rV=Math.min(h.XRb * p,this.rV);k.K && n.trace("This pipeline's buffer size ",p,this.rV);this.j8=(m === f.u.X?h.Iy:h.Kv) || h.j8;this.O7=(m === f.u.X?h.kSb:h.ORb) || h.O7;this.aia=h.aia;};})();b.Tjb=r;r=(function(m){function h(n,p,q,u){return m.call(this,n,p,q,u) || this;}c.__extends(h,m);h.prototype.L_a=function(n,p,q,u){var t,v,w,y,x,z,A,B,C;void 0 === q && (q=!1);void 0 === u && (u=!1);w=this.Ht;y=n.na.Lpa();x=w.Xe.index;z=w.ef.index;A=p === x;B=p === z;if(!B || A && w.Xe.Ia){if(A){C=n.E_a(w.Xe);C.UN(w.Xe.lw);B && (w.Xe.Ia || w.ef.Ia) && C.Bi({start:null === (t=C.Ia) || void 0 === t?void 0:t.start,end:null === (v=w.ef.Ia) || void 0 === v?void 0:v.end});}else C=n.Zn(p);}else (C=n.E_a(w.ef),C.UN(w.ef.lw));C.LV=p + 1;if(t=(0,d.K0a)(w,w.il))(k.K && w.vx("getFragmentForRequest pts:",w.il,"in region:",t,"previous region:",w.tqa),v=void 0 === w.tqa || w.tqa !== t.region,(0,d.IXa)(w.V,C,t,{KOb:A,ROb:B,ZOb:v}));B && (C.v5a(),C.r2b(w.nb.v));A && C.IRb();A=n.La.Ir;if(!(C.LV === p || null !== A && void 0 !== A && A.k3a(p) || y || !this.aia && C.Ia || q && !(p > x + 1) || u && !(p < z - 2)))for((q=u?z - 1:z,++p);p < n.La.length && p < q && (C.wa < this.t6a || C.Kd.G < this.j8) && (1 === C.stream.Hh.length || this.Ewb(n,p));++p){u=n.Zn(p);if(null === A || void 0 === A?0:A.k3a(p))break;if((0,d.j3a)(w,u))break;if(C.Kd.add(u.Kd).G > this.O7)break;if(C.wa + u.wa > this.rV)break;C.Yha(u);C.LV=p + 1;k.K && w.vx("getFragmentForRequest: extended fragment startPts:",C.Ja.G,"to duration:",C.Kd.G,"size:",C.wa,"min request size:",this.t6a,"max request size:",this.rV,"min request duration:",this.j8,"max request duration:",this.O7,"edit:",C.Ia);}k.K && w.vx("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.Nma,"lastRequestInRegion:",C.yt,"nextIndex:",C.LV);return C;};h.prototype.Ewb=function(n,p){return !n.Hh.some(function(q){return p === q.Ye;});};return h;})(r);b.VIa=r;},61765:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lYa=b.xF=b.Zs=b.G5=void 0;c=a(35195);l=a(27364);f=a(62558);k=a(22209);b.G5=function(d,g){return d.cy(g,void 0,!0);};b.Zs=function(d,g,m,h,n,p){var q,u,t,v;k.kq.wv(d);if(m.ba){g=m.N;n=m.Vm();p=n.CX;q=n.Kd.$c(g);q=p + Math.floor(h / q.G);d === l.u.fa && (q=Math.max(p,q - 1));h=n.HT(q);d=h.Ja;h=h.Va;(0,f.assert)(d.N === g,"Expected fragment start timestamp to be in stream timescale");(0,f.assert)(h.N === g,"Expected fragment end timestamps to be in stream timescale");return new c.lq(m,void 0,{index:q,qb:d.ja,wb:h.ja,N:g,offset:0,wa:0});}(0,f.assert)(m.La,"findFirstFragment called without stream fragments");u=m.La;h=Math.max(m.La.em(0),h);d === l.u.fa && !p && g.Cm && !g.XR && m.Hf && (h=Math.max(m.La.em(0),h + m.Hf.G));q=(0,b.G5)(u,h);t=m.Zn(q);if(t.Va.G < h)return t;v=t.JGb(h);v?(0 < v.Jj && t.Bi({start:v.Jj}),d !== l.u.fa || g.Z7 || (0 > v.we && t.Bi({start:v.Jj}),v.we < (g.Cm && !g.XR && m.Hf?Math.floor(m.Hf.G):0) && t.vla())):h >= t.Va.G && q < u.length - 1 && (t=m.Zn(q + 1));d === l.u.X && n && t.Va.G === n && q < u.length - 1 && (t=m.Zn(q + 1));d === l.u.fa && !t.Ia && (g.O2a || g.UDb) && p && t.Bi({});t.UN(h);return t;};b.xF=function(d,g,m,h,n,p){var q,u;k.kq.wv(d);if(m.ba)return (n=g=q=Infinity,d=m.N,void 0 !== h && Infinity !== h && (g=m.Vm(),n=g.CX,p=g.Kd.$c(d),q=n + Math.floor(h / p.G),0 === h % p.G && (q=Math.max(n,q - 1)),g=g.HT(q),h=g.Va,g=g.Ja.ja,n=h.ja),new c.lq(m,void 0,{index:q,qb:g,wb:n,N:d,offset:0,wa:0}));q=m.La;void 0 === h && (h=q.cf);if(n && (n=n.zGb(m,h,d,g,p)))return n;n=q.za;p=h?h + (0,b.lYa)(d,n,g.CN,g.ON):q.eT(q.length - 1);q=q.cy(p,void 0,!0);n=m.Zn(q);0 === q || n.Ja.G !== h || d !== l.u.X && g.CN || (--q,n=m.Zn(q));p=d === l.u.X?p:h;if(p < n.Va.G){u=n.Bma(p);u && 0 !== u.Jj?n.Bi({end:u.Jj}):d === l.u.fa && (u || p < n.Ja.G) && 0 !== q?n=m.Zn(q - 1):d !== l.u.X || m.wOb && !u || 0 === q || (n=m.Zn(q - 1));}d === l.u.fa && !n.Ia && g.O2a && n.Bi();n.UN(h);return n;};b.lYa=function(d,g,m,h){var n;return d === l.u.X || h?0:m?null !== (n=null === g || void 0 === g?void 0:g.G) && void 0 !== n?n:0:g?-g.G:0;};},58628:function(r,b,a){var l,f,k,d,g,m;function c(h,n){return h - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.Wjb=b.pL=void 0;l=a(5163);f=a(49730);k=l.__importDefault(a(35471));d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).Ujb;b.pL=function(h,n){var p;if(!d)return h;p=new m(h.name,n);return (function(q){function u(){for(var t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}t=q.apply(this,l.__spreadArray([],l.__read(t),!1)) || this;t.IZa=p.MAb(t);return t;}l.__extends(u,q);return u;})(h);};m=(function(){function h(n,p){this.name=n;this.eka=p;this.HB=[];this.hOb=0;}Object.defineProperties(h,{console:{get:function(){g || (g=new k.default.Console("GCTAGGER"));return g;},enumerable:!1,configurable:!0}});h.prototype.MAb=function(n){var p,q;if(d){p=this.eka;p || (p=h.console);if(!n.IZa && "undefined" !== typeof nrdp){n={type:this.name,id:this.hOb++};this.HB.push(n.id);q=JSON.stringify(n);q=nrdp.IZa(q,(function(u,t,v,w){u.HB.splice(u.HB.indexOf(t),1);u.HB=u.HB.sort(c);for(var y=[],x=0;x < u.HB.length && 5 > x;x++){y.push(u.HB[x]);}null === w || void 0 === w?void 0:w.error(("Removing instance for ").concat(v,"/").concat(t,". ") + ("").concat(u.HB.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,n.id,n.type,p));f.K && p && p.info("Creating tagged instance",n);return q;}}};return h;})();b.Wjb=m;},14386:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce((0,f.p6a)(function(q){return q.ro;}),p).ro;}Object.defineProperties(b,{__esModule:{value:!0}});b.CEa=void 0;l=a(5163);f=a(42866);k=a(72072);d=a(27364);g=a(33285);m=l.__importDefault(a(35471));h=a(2663);r=(function(){function n(p,q){this.V=p;this.config=q;this.s4a=0;this.Xg=new g.Du({ko:10,kn:this,source:"GraphStreamingProcess"});}n.prototype.L7a=function(p,q){var u,t,v,w,y,x,z,A,B,F,G,E,H,M;v=!1;w=[];if(0 < q.length){y=this.F3b(q);x=y.some(function(K){return 1 === (0,h.XTa)(K) && (0,d.bo)(K.Pd);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var C=l.__values(y),D=C.next();!D.done;D=C.next()){F=D.value;if(F.gr && (!B || F.groupId === B))if(F.li)B=F.groupId;else if("global" !== A[F.mediaType]){G=F.a7(p,null !== (t=F.mt) && void 0 !== t?t:1);E=(0,k.o$a)(G.reason);E && (A[F.mediaType]=E,(0,f.F2)(z,F));if(G.result){H=c(z,F);if(this.pxb(F,x,H)){M=F.nG();this.Uqa(w,F,M.reason);M.Ih && (this.s4a=m.default.time.xa());if(v=M.Ih)break;if("globalVideoMemoryLimit" === M.reason || "globalAudioMemoryLimit" === M.reason){this.V.trace("GSP.onRequestOpportunity stopping at memory limit:",M.reason);break;}"pipelineTryIssueHeaderRequest" === M.reason && (B=F.groupId);}else if((this.Uqa(w,F,"concurrencyCheck"),!E))break;}else this.Uqa(w,F,G.reason);}}}catch(K){var L;L={error:K};}finally{try{D && !D.done && (u=C.return) && u.call(C);}finally{if(L)throw L.error;}}}this.Xg.Is({streamableCount:q.length,streamableReasons:w,lastSuccessfulIssueRequestMs:this.s4a});return v;};n.prototype.F3b=function(p){return this.nYb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.p4b;});};n.prototype.nYb=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,h.WTa)(q.config,u,q.V),p4b:u};});};n.prototype.Uqa=function(p,q,u){this.Xg.enabled && p.push(this.xLb(u,q));};n.prototype.xLb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Pd,currentPlayerMs:q.Nk,pathCompletePlayerMs:q.ro,streamingPlayerMs:q.uk};};n.prototype.pxb=function(p,q,u){return this.config.lS && (q || (0,d.bo)(p.Pd))?this.qxb(p,u):this.rxb(p,u);};n.prototype.sxb=function(p){return p.uk <= p.ro;};n.prototype.rxb=function(p,q){return p.uk - (p.Nk > q?p.Nk:q) <= Math.max(this.config.Yra,Math.min((p.ro - p.Nk) * this.config.Cxa,this.config.fSb));};n.prototype.qxb=function(p,q){var u,t;if(void 0 === this.config.lS)return !0;u=this.config.lS;t=p.Nk + u;return p.uk <= t?!0:this.sxb(p) && q >= t && p.uk - q < u;};l.__decorate([(0,g.Tb)({methodName:"onRequestOpportunity",ak:!0})],n.prototype,"L7a",null);return n;})();b.CEa=r;},2663:function(r,b,a){var p,q,u;function c(t){return t.uk - t.Nk;}function l(t,v){return Math.exp(-(Math.log(2) / t) * v);}function f(t,v){t=Math.log(2) * v / t;return (1 - Math.exp(-t)) / t;}function k(t,v){var w,y,x,z,A;w=v.fH;y=v.eH;x=v.Ty;if(0 === v.jf.length)return {u2:!1};z=v.jf[0];v=z.mf;A=z.CB;z=z.duration;if(!A || 1 === x)return {u2:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(w < y)return {u2:!1};y=w - y;w=x + y / z * (1 - x);z-=y;A=A * (1 - w) / (1 - x);t=v * w / x * l(t,z) + A * f(t,z);(0,q.assert)(1 >= t);return {u2:!0,jtb:t};}function d(t){var v,w,y,x,z;v=t.Ws;w=t.hO;y=t.fq;x=t.uk;z=t.Nk;t=t.lL;(0,q.assert)(void 0 !== w);(0,q.assert)(void 0 !== v);y=1 - y;x-=z;t?(z=w - t - x,v-=t,0 >= z?t=Math.max(0,(w - t) / v):(w=v - z,t=0 < w?x / w:0,y*=0 < w?w / v:1)):(z=w - x,0 >= z?t=w / v:(w=v - z,t=0 < w?x / w:0,y*=0 < w?w / v:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function g(t,v){t=Math.log(2) / t.r$a;return m(v) * Math.exp(-t * c(v));}function m(t){var v;return (null !== (v=t.mt) && void 0 !== v?v:1) * t.jf.reduce(function(w,y){var x;x=y.CB;return w * (y.mf + (void 0 === x?0:x));},1);}function h(t){var v,w,y,x;if(0 === t.jf.length)return 0;w=0;if(1 > t.Ty){w=t.fH;y=t.eH;x=null !== (v=t.jf[0].duration) && void 0 !== v?v:0;w=Math.max(0,Math.min(x,w - (y - x)));}return t.jf.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - w;}function n(t){return t.jf.filter(function(v){return !v.CB;}).reduce(function(v,w){return v * w.mf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.oja=b.XTa=b.wwb=b.WTa=b.Awb=void 0;p=a(27364);q=a(62558);u=a(49730);b.Awb=c;b.WTa=function(t,v,w){var y,x,z,A,B,C,D,F;if(!t.D4 || (0,p.bo)(v.Pd))return g(t,v);x=t.r$a;t=c(v);z=h(v);A=n(v);B=k(x,v);C=B.u2;B=B.jtb;B=void 0 === B?1:B;D=1 > v.fq?d(v):1;F=(null !== (y=v.mt) && void 0 !== y?y:1) * A * l(x,t - z) * B * D * v.jf.filter(function(G,E){return G.CB && (0 < E || !C);}).reduce(function(G,E){var H,M;H=E.CB;M=E.duration;M=void 0 === M?0:M;H=void 0 === H?0:H;E=E.mf * l(x,M) + H * f(x,M);return G * E;},1);u.K && (null === w || void 0 === w?void 0:w.log(("{").concat(v.groupId,"} [").concat(v.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(v.fq,", ") + ("pssp: ").concat(v.Ty,", ") + ("streamingDuration: ").concat(v.hO,", ") + ("duration: ").concat(v.Ws,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(v.jf)," => ").concat(F)));return F;};b.wwb=g;b.XTa=m;b.oja=n;},93161:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.qTb=b.platform=b.pg=b.oFb=b.ey=b.ST=b.DL=b.qRb=b.EG=b.a8=b.Fb=b.u=b.Iz=b.Rc=b.qJ=b.Uh=b.xp=b.tQ=b.Ph=b.kc=b.RP=b.Cu=b.yQ=b.qq=b.L=void 0;c=a(5163);l=a(42866);Object.defineProperties(b,{L:{enumerable:!0,get:function(){return l.L;}}});Object.defineProperties(b,{qq:{enumerable:!0,get:function(){return l.qq;}}});c.__exportStar(a(43434),b);c.__exportStar(a(2362),b);f=a(42186);Object.defineProperties(b,{yQ:{enumerable:!0,get:function(){return f.yQ;}}});Object.defineProperties(b,{Cu:{enumerable:!0,get:function(){return f.Cu;}}});Object.defineProperties(b,{RP:{enumerable:!0,get:function(){return f.RP;}}});c.__exportStar(a(56742),b);c.__exportStar(a(52E3),b);c.__exportStar(a(7881),b);c.__exportStar(a(60763),b);c.__exportStar(a(25850),b);c.__exportStar(a(93860),b);k=a(13043);Object.defineProperties(b,{kc:{enumerable:!0,get:function(){return k.kc;}}});Object.defineProperties(b,{Ph:{enumerable:!0,get:function(){return k.Ph;}}});d=a(85177);Object.defineProperties(b,{tQ:{enumerable:!0,get:function(){return d.tQ;}}});g=a(93514);Object.defineProperties(b,{xp:{enumerable:!0,get:function(){return g.xp;}}});m=a(97810);Object.defineProperties(b,{Uh:{enumerable:!0,get:function(){return m.Uh;}}});h=a(92141);Object.defineProperties(b,{qJ:{enumerable:!0,get:function(){return h.qJ;}}});n=a(27364);Object.defineProperties(b,{Rc:{enumerable:!0,get:function(){return n.Rc;}}});Object.defineProperties(b,{Iz:{enumerable:!0,get:function(){return n.Iz;}}});Object.defineProperties(b,{u:{enumerable:!0,get:function(){return n.u;}}});Object.defineProperties(b,{Fb:{enumerable:!0,get:function(){return n.Fb;}}});Object.defineProperties(b,{a8:{enumerable:!0,get:function(){return n.a8;}}});Object.defineProperties(b,{EG:{enumerable:!0,get:function(){return n.EG;}}});b.qRb=function(q){b.platform.ipa(q);};b.DL=function(q){b.platform.ipa(q);return Promise.resolve().then(function(){return c.__importStar(a(82181));}).then(function(u){return u.DL();});};b.ST=function(q,u){b.platform.ipa(q);return Promise.resolve().then(function(){return c.__importStar(a(49550));}).then(function(t){return t.ST(u);});};b.ey=function(){return a(71866)["default"];};r=c.__importDefault(a(89956));b.oFb=r.default;r=a(97021);b.pg=r.pg;r=c.__importDefault(a(35471));b.platform=r.default;p=a(65656);b.qTb=function(){return {pq:p.pq};};},43434:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9998:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(28578),b);},28578:function(r,b,a){var m,h,n,p,q,u,t,v,w;function c(y){var x,z,A;y=y.parent;x=!1;if(y && y.children){z={};z[v.Dk]=[];z[v.Sh]=[];z[v.TEMPORARY]=[];A=y.children;A.forEach(function(B){B && z[B.Ld].push(B);});0 < z[v.Dk].length || (z[v.Sh].length === A.length?y.Ld !== v.Sh && (y.Ld=v.Sh,t.error("PERM failing :",p.default.Pf.name[y.Qm] + " " + y.id),x=!0):(y.Ld === v.Dk && (y.Ld=v.TEMPORARY,t.error("TEMP failing :",p.default.Pf.name[y.Qm] + " " + y.id),x=!0),z[v.TEMPORARY].forEach(function(B){B.Ld=v.Dk;})),x && c(y));}}function l(y){var z;for(var x=[];y;y=y.parent){switch(y.Qm){case p.default.Pf.KD:z=y;x.unshift(z.id + "(" + z.name + ")");break;case p.default.Pf.LOCATION:x.unshift(y.id);break;case p.default.Pf.URL:x.unshift("<url for " + y.stream.bitrate + ">");}}return x.length?"/" + x.join("/"):"";}function f(y){var x;if((y=y.parent) && 0 < y.children.length && y.Ld !== v.Dk){x={};x[v.Dk]=[];x[v.Sh]=[];x[v.TEMPORARY]=[];y.children.forEach(function(z){z && x[z.Ld].push(z);});0 < x[v.Dk].length && (y.Ld=v.Dk,f(y));}}function k(y){return y.Ld !== v.Dk;}function d(y){switch(y.Ld){case v.Dk:return "OK";case v.Sh:return "FAILED PERMANENTLY";case v.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function g(y,x){if(y.Ld === v.TEMPORARY || y.Ld === v.Sh && x)y.Ld=v.Dk;y.children && y.children.forEach(function(z){z && g(z,x);});}Object.defineProperties(b,{__esModule:{value:!0}});b.$Ga=void 0;m=a(5163);h=m.__importStar(a(17267));r=a(57055);n=a(27364);p=m.__importDefault(a(89956));q=m.__importDefault(a(35471));u=a(62558);t=new q.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(y){y[y.Dk=0]="OK";y[y.TEMPORARY=1]="TEMPORARY";y[y.Sh=2]="PERMANENT";})(v || (v={}));(function(y){y[y.Bu=0]="STARTUP";y[y.nnb=1]="REBUFFER";})(w || (w={}));a=(function(y){var M3u;M3u=2;function x(z,A,B,C,D,F){var h1q,G;h1q=2;for(;h1q !== 25;){switch(h1q){case 27:var J67="1SI";J67+="Yb";J67+="ZrNJC";J67+="p9";J67;return G;break;case 10:var Z4l="netw";Z4l+="o";Z4l+="r";Z4l+="k";G.Yk={id:Z4l,Qm:p.default.Pf.xu,Ld:v.Dk,Yv:void 0,parent:void 0,children:G.iC};G.I1=null;G.ez=null;G.CH=p.default.ks.Bu;h1q=17;break;case 14:G.urls={};G.streams={};G.iC=[];G.GM=!1;h1q=10;break;case 8:G.vYb=w.Bu;G.ri={};G.qk={};h1q=14;break;case 3:var B7y="L";B7y+="I";B7y+="V";B7y+="E";G.rqb=F;G.YPa=B7y;h1q=8;break;case 2:G=y.call(this) || this;G.Jc=B;G.Aj=C;G.config=D;h1q=3;break;case 17:var J1U="L";J1U+="I";J1U+="V";J1U+="E";B=z.Jh;G.ba=J1U === z.$f && !!B;G.q2(z,A,p.default.ks.Bu);h1q=27;break;}}}for(;M3u !== 22;){switch(M3u){case 19:x.prototype.IYb=function(z){var w7v,B,C,D,k7R,F,G,o75,v1y,r6W;function A(H){var K4p;K4p=2;for(;K4p !== 1;){switch(K4p){case 2:Object.keys(H).forEach(function(M){var C1R,K,L;C1R=2;for(;C1R !== 9;){switch(C1R){case 4:var z9F="LI";z9F+="V";z9F+="E";K=C.streams[M];C.streams[M]=K?m.__assign(m.__assign({},K),L):{id:M,bitrate:L.bitrate,Cb:null,type:L.mediaType,clear:L.ii?!1:!0,fr:!0,urls:[],DO:{},ri:[],Js:L,Iqa:C.ba?z9F:void 0};C1R=9;break;case 5:C1R=L?4:9;break;case 2:L=H[M];D.add(M);C1R=5;break;}}});K4p=1;break;}}}w7v=2;for(;w7v !== 4;){switch(w7v){case 2:(C=this,D=new Set());try{k7R=2;for(;k7R !== 3;){switch(k7R){case 2:(F=m.__values(z),G=F.next());k7R=1;break;case 4:G=F.next();k7R=1;break;case 5:A(G.value);k7R=4;break;case 6:A(G.value);k7R=9;break;case 1:k7R=!G.done?5:3;break;case 14:G=F.next();k7R=0;break;}}}catch(H){var E;E={error:H};}finally{o75=2;for(;o75 !== 1;){switch(o75){case 2:try{v1y=2;for(;v1y !== 1;){switch(v1y){case 2:G && !G.done && (B=F.return) && B.call(F);v1y=1;break;}}}finally{r6W=2;for(;r6W !== 5;){switch(r6W){case 1:throw E.error;r6W=5;break;case 3:r6W=E?9:7;break;case 2:r6W=E?1:5;break;}}}o75=1;break;}}}Object.keys(this.streams).forEach(function(H){var B90;B90=2;for(;B90 !== 1;){switch(B90){case 2:D.has(H) || delete C.streams[H];B90=1;break;}}});w7v=4;break;}}};x.prototype.G9a=function(z,A,B){var P6x,C;P6x=2;for(;P6x !== 5;){switch(P6x){case 2:C=this;A.streams.forEach(function(D){var E9U;E9U=2;for(;E9U !== 1;){switch(E9U){case 2:C.H9a(z,D.downloadable_id,D,B);E9U=1;break;}}});P6x=5;break;}}};x.prototype.zYb=function(z,A){var D8f,B;D8f=2;for(;D8f !== 4;){switch(D8f){case 2:var h$Y="n";h$Y+="o";h$Y+="n";h$Y+="e";D8f=h$Y !== z.id?1:4;break;case 1:var G8Q="im";G8Q+="s";G8Q+="c1.1";var a3D="i";a3D+="m";a3D+="sc1";a3D+=".";a3D+="1";B=z.downloadableIds[a3D];(z=z.ttDownloadables[G8Q]) && B && this.H9a(n.u.Ha,B,z,A);D8f=4;break;}}};M3u=16;break;case 10:x.prototype.ph=function(){var J$z;J$z=2;for(;J$z !== 1;){switch(J$z){case 2:this.O_b(w.nnb);J$z=1;break;}}};x.prototype.Oa=function(){var h0F;h0F=2;for(;h0F !== 1;){switch(h0F){case 2:this.config.XQb && this.JWb();h0F=1;break;}}};M3u=19;break;case 16:x.prototype.H9a=function(z,A,B,C){var b9D,F,D;b9D=2;for(;b9D !== 10;){switch(b9D){case 5:C="";D=0;F=null;z !== n.u.Ha && (C=B.content_profile,D=B.bitrate,z === n.u.X && (F=B.vmaf));b9D=8;break;case 7:this.streams[D.id]=D;b9D=6;break;case 1:b9D=h.oh(D) && C?5:12;break;case 8:var o6i="L";o6i+="I";o6i+="V";o6i+="E";var m1Y="n";m1Y+="o";m1Y+="n";m1Y+="e";m1Y+="-";D={id:A,bitrate:D,Cb:F,type:z,profile:C,clear:0 === C.indexOf(m1Y),fr:!0,urls:[],DO:{},ri:[],Iqa:this.ba?o6i:void 0};b9D=7;break;case 12:b9D=!D && !C?11:6;break;case 2:D=this.streams[A];b9D=1;break;case 11:return;break;case 6:this.AYb(D,B.urls);h.zp(D.DO,function(G){var T1x;T1x=2;for(;T1x !== 1;){switch(T1x){case 2:G.sort(function(E,H){var b2O;b2O=2;for(;b2O !== 1;){switch(b2O){case 2:return E.Wb.bc - H.Wb.bc;break;case 4:return E.Wb.bc / H.Wb.bc;break;}}});T1x=1;break;}}});D.ri=D.ri.sort(function(G,E){var W3S;W3S=2;for(;W3S !== 1;){switch(W3S){case 2:return G.level - E.level || G.bc - E.bc;break;}}});b9D=10;break;}}};x.prototype.AYb=function(z,A){var K60,B;K60=2;for(;K60 !== 5;){switch(K60){case 2:B=this;A.forEach(function(C){var d6V,D,F,G,E,H;d6V=2;for(;d6V !== 14;){switch(d6V){case 2:(D=C.url,F=B.urls[D],G=B.qk[C.cdn_id]);B.ba && (E=C.liveOcaCapabilities);d6V=5;break;case 4:h.oh(F) && (F={id:D,Qm:p.default.Pf.URL,Ld:v.Dk,Yv:void 0,parent:G,children:[],url:D,Wb:G,stream:z,B7:E},B.urls[D]=F,G.children.push(F));H=G.location;z.urls.push(F);0 === z.ri.filter(function(M){var W$0;W$0=2;for(;W$0 !== 1;){switch(W$0){case 2:return M.id === H.id;break;case 4:return M.id == H.id;break;}}}).length && z.ri.push(H);H.streams[z.id]=z;(C=z.DO[H.id])?C.push(F):z.DO[H.id]=[F];d6V=14;break;case 5:d6V=G?4:14;break;}}});K60=5;break;}}};x.prototype.k7b=function(){var A_d,C,z,A,B;A_d=2;for(;A_d !== 6;){switch(A_d){case 4:C=q.default.time.xa();A_d=3;break;case 5:return null;break;case 3:A_d=null === this.I1 || this.I1 + A.Oqa < C?9:8;break;case 1:A_d=0 === B.length?5:4;break;case 8:B.sort(function(D,F){var a_6;a_6=2;for(;a_6 !== 1;){switch(a_6){case 2:return D.level - F.level || D.bc - F.bc;break;}}});return B;break;case 2:(z=this,A=this.config,B=this.iC.filter(function(D){var a8$;a8$=2;for(;a8$ !== 1;){switch(a8$){case 2:return !k(D) && 0 !== D.level;break;case 4:return +k(D) || 4 === D.level;break;}}}));A_d=1;break;case 9:(B.forEach(function(D){var C9h;C9h=2;for(;C9h !== 1;){switch(C9h){case 2:D.id !== z.Jc.location && (D.Lb=z.Aj.get(D.id));C9h=1;break;}}}),this.I1=C);A_d=8;break;}}};x.prototype.O_b=function(z){var l0s,A;l0s=2;for(;l0s !== 4;){switch(l0s){case 2:A=this.Jc.location;this.vYb=z;this.iC.forEach(function(B){var N0H;N0H=2;for(;N0H !== 1;){switch(N0H){case 2:B.id !== A && B.Lb && B.Lb.confidence > p.default.rl.NI && (B.Lb.confidence=p.default.rl.NI);N0H=1;break;}}});l0s=4;break;}}};M3u=25;break;case 25:x.prototype.JWb=function(){var n2N,z;n2N=2;for(;n2N !== 5;){switch(n2N){case 2:z=this;this.GM || this.iC.forEach(function(A){var A05;A05=2;for(;A05 !== 1;){switch(A05){case 2:A.Ld === v.TEMPORARY && z.Aj.fail(A.id,q.default.time.xa());A05=1;break;}}});n2N=5;break;}}};x.prototype.dump=function(){};return x;break;case 14:x.prototype.I_b=function(z,A,B){var P$X,C,D,y1F;P$X=2;for(;P$X !== 16;){switch(P$X){case 20:P$X=y1F === v.TEMPORARY?7:19;break;case 10:this.dump();P$X=16;break;case 17:var g6l="Invalid";g6l+=" failure sta";g6l+="t";g6l+="e";throw Error(g6l);P$X=7;break;case 2:C=this.urls[z];z=this.Yk.Ld;D=B?v.Sh:v.TEMPORARY;P$X=4;break;case 4:P$X=C && D !== C.Ld?3:16;break;case 13:var q8C="n";q8C+="et";q8C+="workF";q8C+="ai";q8C+="led";var b8x="Emitting";b8x+=" networkFailed, ";b8x+="perm";b8x+="an";b8x+="ent =";A > z && (t.warn(b8x,A === v.Sh),this.emit(q8C,A === v.Sh));this.ez=null;this.CH=p.default.ks.Bk;P$X=10;break;case 7:C.Ld=D;this.GM=this.GM || k(this.Yk);A=this.Yk.Ld;P$X=13;break;case 8:return;break;case 9:y1F=C.Ld;P$X=y1F === v.Sh?8:20;break;case 3:var c_K=" : ";c_K+="wa";c_K+="s ";var x2k=" ";x2k+="a";x2k+="t";x2k+=" ";var c$p=" f";c$p+="ail";c$p+="ure reported for ";var p$L="T";p$L+="E";p$L+="M";p$L+="P";var l7w="P";l7w+="E";l7w+="R";l7w+="M";t.warn((B?l7w:p$L) + c$p + p.default.Pf.name[A] + x2k + l(C) + c_K + d(C));P$X=9;break;case 18:P$X=17;break;case 19:P$X=y1F === v.Dk?7:18;break;}}};x.prototype.rab=function(z,A){var k_I;k_I=2;for(;k_I !== 3;){switch(k_I){case 1:(g(z,A),f(z));k_I=5;break;case 5:this.ez=null;this.CH=p.default.ks.cea;k_I=3;break;case 2:k_I=(z=this.qk[z])?1:5;break;}}};x.prototype.d$=function(){var A1v;A1v=2;for(;A1v !== 1;){switch(A1v){case 2:g(this.Yk,!1);A1v=1;break;case 4:g(this.Yk,+7);A1v=7;break;}}};x.prototype.Asa=function(z){var g6M;g6M=2;for(;g6M !== 1;){switch(g6M){case 2:this.rqb(z);g6M=1;break;case 4:this.rqb(z);g6M=6;break;}}};M3u=10;break;case 9:x.prototype.q2=function(z,A,B){var d$V,C,D,F,G,E;d$V=2;for(;d$V !== 26;){switch(d$V){case 2:C=this;void 0 === B && (B=p.default.ks.blb);z.locations.forEach(function(H){var N6_,M,L,K,O;N6_=2;for(;N6_ !== 7;){switch(N6_){case 2:M=H.key;N6_=1;break;case 4:(L=[],K=C.Aj.get(M),O=C.Yk);H={id:M,Qm:p.default.Pf.LOCATION,Ld:v.Dk,bc:H.rank,level:H.level,weight:H.weight,Yv:void 0,parent:O,children:L,qk:L,streams:{},Lb:K};C.ri[H.id]=H;O.children.push(H);N6_=7;break;case 1:N6_=C.ri[M]?5:4;break;case 5:(C.ri[M].bc=H.rank,C.ri[M].level=H.level,C.ri[M].weight=H.weight);N6_=7;break;}}});this.I1=q.default.time.xa();this.iC.sort(function(H,M){var g1I;g1I=2;for(;g1I !== 1;){switch(g1I){case 2:return H.level - M.level || H.bc - M.bc;break;}}});d$V=9;break;case 10:null === (D=z.timedtexttracks) || void 0 === D?void 0:D.forEach(function(H){var P$A;P$A=2;for(;P$A !== 1;){switch(P$A){case 2:C.zYb(H,E);P$A=1;break;case 4:C.zYb(H,E);P$A=0;break;}}});z=this.iC.filter(function(H){var e_H,M;e_H=2;for(;e_H !== 4;){switch(e_H){case 2:M=H.qk.every(function(L){var o02;o02=2;for(;o02 !== 1;){switch(o02){case 4:f9YlG.G6s(8);var f8K=f9YlG.u_w(19,13,18,18);return f8K !== L.urls.length;break;case 2:return 0 === L.urls.length;break;}}});M && (H.qk.forEach(function(L){var h$T;h$T=2;for(;h$T !== 1;){switch(h$T){case 2:C.qk[L.id]=void 0;h$T=1;break;}}}),C.ri[H.id]=void 0,H.parent=void 0,H.children.length=0,H.streams={});return !M;break;}}});z.forEach(function(H){var l$g;l$g=2;for(;l$g !== 1;){switch(l$g){case 2:H.qk.sort(function(M,L){var C97;C97=2;for(;C97 !== 1;){switch(C97){case 4:return M.bc + L.bc;break;case 2:return M.bc - L.bc;break;}}});l$g=1;break;}}});d$V=18;break;case 15:this.CH=B;this.dump();d$V=26;break;case 18:this.iC=z;this.Yk.children=z;this.ez=null;d$V=15;break;case 9:var g8s="L";g8s+="I";g8s+="V";g8s+="E";var w$3="L";w$3+="IV";w$3+="E";z.servers.forEach(function(H){var z3g,M,L,K;z3g=2;for(;z3g !== 14;){switch(z3g){case 1:z3g=C.qk[M]?5:4;break;case 2:M=H.id;z3g=1;break;case 4:L=C.ri[H.key];z3g=3;break;case 3:z3g=L?9:14;break;case 9:K=[];H={id:M,Qm:p.default.Pf.KD,Ld:v.Dk,Yv:void 0,parent:L,children:K,urls:K,name:H.name,type:H.type,bc:H.rank,location:L};C.qk[H.id]=H;z3g=6;break;case 6:L.children.push(H);z3g=14;break;case 5:C.qk[M].bc=H.rank;z3g=14;break;}}});(F=z.$f,G=z.Jh);(0,u.assert)(this.ba && w$3 === F && !!G || !this.ba && g8s !== F && !G);d$V=6;break;case 6:this.ba && (this.KQb=G.CUb);E=!0;A && (E=!1,this.IYb(A));z.audio_tracks.forEach(function(H){var p5w;p5w=2;for(;p5w !== 1;){switch(p5w){case 2:C.G9a(n.u.fa,H,E);p5w=1;break;}}});z.video_tracks.forEach(function(H){var s3u;s3u=2;for(;s3u !== 1;){switch(s3u){case 2:C.G9a(n.u.X,H,E);s3u=1;break;}}});d$V=10;break;}}};x.prototype.lfb=function(z,A,B){var H4N,G,E,M,H,C,D,F;H4N=2;for(;H4N !== 16;){switch(H4N){case 8:return !1;break;case 18:var e3Y="(";e3Y+="e";e3Y+="mpty st";e3Y+="ream ";e3Y+="list)";var k0E="Did not find a URL ";k0E+="fo";k0E+="r AN";k0E+="Y stre";k0E+="am...";var F72="networ";F72+="k";F72+="Failed";var t2Y="Ne";t2Y+="twork has failed, not upda";t2Y+="tin";t2Y+="g stream selection";A.forEach(function(L,K){var y_p,O;y_p=2;for(;y_p !== 5;){switch(y_p){case 2:var W4B=" K";W4B+="b";W4B+="p";W4B+="s)";var K3h=" ";K3h+="(";var N_W="]";N_W+=" ";var S31="Failin";S31+="g ";S31+="stream [";O=L.id;M.some(function(J){var M0Z,I,N;M0Z=2;for(;M0Z !== 8;){switch(M0Z){case 2:I=J.streams[O];M0Z=1;break;case 1:M0Z=!I?5:4;break;case 5:return !1;break;case 4:N=I.ri[0];void 0 === L.E9 && (L.E9=N.id,L.uua=I.DO[N.id][0].Wb.id);return I.DO[J.id].some(function(R){var n7N,U;n7N=2;for(;n7N !== 20;){switch(n7N){case 1:return (R.Wb.Ld === v.TEMPORARY && (L.Ld=v.TEMPORARY),D.hH && L.Wb === R.Wb.id && R.Wb.Yv && (L.Yv=R.Wb.Yv),!1);break;case 14:L.Gr=R.Wb.type;n7N=13;break;case 2:n7N=k(R.Wb)?1:5;break;case 10:return !0;break;case 13:F && (I.Iqa=B);L.Lb=D.Pia?J.Lb.confidence >= p.default.rl.MI || G.confidence < H?J.Lb:G:G.confidence === p.default.rl.HAVE_NOTHING || J.Lb.confidence >= p.default.rl.MI?J.Lb:G;D.ZXa && !L.Lb.pt && (L.Lb.pt=J.Lb.pt);n7N=10;break;case 3:var n_d="locatio";n_d+="nfa";n_d+="il";n_d+="ov";n_d+="er";var z$x="serverfail";z$x+="ov";z$x+="er";var e1$="perfo";e1$+="rmanc";e1$+="e";var X_j="u";X_j+="nk";X_j+="n";X_j+="own";U=X_j;L.location !== J.id && (D.hH?L.kqa=J.id === N.id:U=J !== M[0] && F && I.Iqa !== B?"" + p.default.ks.Qnb:J !== M[0]?"" + p.default.ks.Pba:void 0 === L.location?"" + p.default.ks.Bu:h.oh(L.j4a) || L.j4a === J.id?h.oh(L.q4a) || L.q4a === R.Wb.id?e1$:z$x:n_d,L.location=J.id,L.Pqa=J.level,L.Wt=U);L.url=R.url;L.Wb=R.Wb.id;L.qX=R.Wb.name;n7N=14;break;case 5:n7N=k(R) || F && !R.B7.some(function(ja){var o0r=f9YlG;var F9d;F9d=2;for(;F9d !== 1;){switch(F9d){case 2:o0r.G6s(9);return o0r.T5R(B,ja);break;case 4:o0r.L4_(10);return o0r.u_w(ja,B);break;}}})?4:3;break;case 4:return !1;break;}}});break;}}})?(L.BB=!1,L.Ld=void 0,L.fr && ++E):L.Ld && L.Ld === v.TEMPORARY?C.Yk.Ld=v.TEMPORARY:L.BB || (t.warn(S31 + K + N_W + O + K3h + L.bitrate + W4B),L.Kxb(),L.BB=!0);y_p=5;break;}}});return k(this.Yk)?(t.warn(t2Y),this.GM=!0,this.emit(F72,this.Yk.Ld === v.Sh),!1):E?!0:(t.warn(k0E + (A.length?"":e3Y)),this.Er(p.default.Pf.xu,!0),!1);break;case 4:(G=this.Jc.get(),E=0);q.default.Qs && q.default.Qs(z);H4N=9;break;case 11:return (this.Er(p.default.Pf.xu,!1),!1);break;case 10:M=this.ez;H4N=20;break;case 7:H=p.default.rl.NI;D.isa && (H=p.default.rl.MI);this.Jc.location && G.confidence >= H && (z=this.ri[this.Jc.location]) && (z.Lb=G);h.tc(this.ez) && (this.ez=this.k7b());H4N=12;break;case 20:H4N=!M.length?19:18;break;case 2:(C=this,D=this.config,F=!1);this.ba && void 0 !== B && B !== this.YPa && (void 0 === this.ZPa || q.default.time.xa() - this.ZPa > D.xQb) && (this.YPa=B,this.ZPa=q.default.time.xa(),F=!0);F && (this.ez=null);H4N=4;break;case 19:return (this.Er(p.default.Pf.xu,!1),!1);break;case 9:H4N=k(this.Yk)?8:7;break;case 12:H4N=!this.ez?11:10;break;}}};x.prototype.I1b=function(z,A){var J_C,B,C;J_C=2;for(;J_C !== 4;){switch(J_C){case 2:(B=[],C=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(D,F){var h2F,G,E,H,M;h2F=2;for(;h2F !== 13;){switch(h2F){case 2:D=D.Wb;G=F.match(C);h2F=5;break;case 8:h2F=h.sg(H) && h.sg(G) && H === z && G == A?7:13;break;case 5:h2F=G && 4 === G.length?4:13;break;case 4:var u9i="8";u9i+="0";var Q7H="4";Q7H+="4";Q7H+="3";(E="s" === G[1],H=G[2]);G=G[3];G.length || (G=E?Q7H:u9i);h2F=8;break;case 7:D.urls.some(function(L){var A7d;A7d=2;for(;A7d !== 5;){switch(A7d){case 2:A7d=L.url === F?1:5;break;case 1:return (M=L,!0);break;case 9:return (M=L,+3);break;}}});M && B.push({url:M,Wb:D});h2F=13;break;}}});return B;break;}}};x.prototype.Er=function(z,A,B,C){var I7S,Z2U,D,F,G;I7S=2;for(;I7S !== 25;){switch(I7S){case 5:D=D.parent;I7S=1;break;case 16:I7S=Z2U === v.Dk?6:15;break;case 7:return;break;case 15:I7S=27;break;case 1:I7S=D && D.parent && D.Qm !== z?5:4;break;case 3:I7S=G !== D.Ld?9:25;break;case 10:this.ez=null;this.CH=p.default.ks.Bk;C && (this.CH=p.default.ks.Smb,D.Yv=C);this.dump();I7S=25;break;case 27:var N1o="In";N1o+="valid failure";N1o+=" st";N1o+="ate";throw Error(N1o);I7S=6;break;case 26:var X4S="Una";X4S+="ble t";X4S+="o find failure entity";X4S+=" for URL ";f9YlG.G6s(2);t.warn(f9YlG.T5R(X4S,B));I7S=25;break;case 6:var J0K="net";J0K+="w";J0K+="orkFai";J0K+="led";var d4E="Emi";d4E+="tting netwo";d4E+="rkFailed, p";d4E+="ermanent =";D.Ld=G;c(D);this.GM=this.GM || k(this.Yk);z=this.Yk.Ld;z > F && (t.warn(d4E,z === v.Sh),this.emit(J0K,z === v.Sh));I7S=10;break;case 8:Z2U=D.Ld;I7S=Z2U === v.Sh?7:17;break;case 4:I7S=D?3:26;break;case 2:(D=z !== p.default.Pf.xu && B?this.urls[B]:this.Yk,F=this.Yk.Ld,G=A?v.Sh:v.TEMPORARY);I7S=1;break;case 17:I7S=Z2U === v.TEMPORARY?6:16;break;case 9:var x7D=" :";x7D+=" was";x7D+=" ";var U9_=" ";U9_+="at";U9_+=" ";var l$O=" ";l$O+="failu";l$O+="re ";l$O+="rep";l$O+="orted for ";var r53="T";r53+="E";r53+="M";r53+="P";var H1k="P";H1k+="E";H1k+="R";H1k+="M";t.warn((A?H1k:r53) + l$O + p.default.Pf.name[z] + U9_ + l(D) + x7D + d(D));I7S=8;break;}}};M3u=14;break;case 2:m.__extends(x,y);x.prototype.Tq=function(){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:return k(this.Yk);break;}}};x.prototype.E1b=function(z){var Y7T;Y7T=2;for(;Y7T !== 5;){switch(Y7T){case 1:return z.parent.id;break;case 2:Y7T=(z=this.urls[z]) && z.parent?1:5;break;}}};x.prototype.T0a=function(z){var C2k,A,B,W2m,C,D,F,u7w,M4D,B9t;C2k=2;for(;C2k !== 4;){switch(C2k){case 2:B=[];try{W2m=2;for(;W2m !== 9;){switch(W2m){case 2:(C=m.__values(Object.keys(this.urls)),D=C.next());W2m=1;break;case 1:W2m=!D.done?5:9;break;case 12:D=C.next();W2m=7;break;case 6:W2m=-D.done?3:3;break;case 5:F=this.urls[D.value];F.url === z.stream.url && B.push(F.Wb);W2m=3;break;case 3:D=C.next();W2m=1;break;}}}catch(E){var G;G={error:E};}finally{u7w=2;for(;u7w !== 1;){switch(u7w){case 2:try{M4D=2;for(;M4D !== 1;){switch(M4D){case 2:D && !D.done && (A=C.return) && A.call(C);M4D=1;break;}}}finally{B9t=2;for(;B9t !== 5;){switch(B9t){case 1:throw G.error;B9t=5;break;case 3:B9t=G?3:1;break;case 2:B9t=G?1:5;break;}}}u7w=1;break;}}}return B;break;}}};x.prototype.S_a=function(z){var N8c;N8c=2;for(;N8c !== 1;){switch(N8c){case 2:for(var A in this.streams){if(this.streams[A].Js === z){return this.streams[A];}}N8c=1;break;}}};M3u=9;break;}}})(r.EventEmitter);b.$Ga=a;},86102:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.h0a=void 0;b.h0a=function(a){var c;a=a.Jh;if(!a)return 0;c=a.lX;return 1E3 * Object.keys(c).reduce(function(l,f){f=c[f];return Math.max(l,f.duration / f.N);},0);};},1104:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VP=void 0;c=a(42866);l=a(62558);f=a(27364);r=(function(){function k(d){var g;void 0 === d && (d=[]);g=this;this.items=d;d.forEach(function(m){return g.Hya(m);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tua:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(d){switch(d){case f.u.X:return this.video;case f.u.fa:return this.audio;case f.u.Ha:return this.text;}};k.prototype.every=function(d){return this.items.every(d);};k.prototype.some=function(d){return this.items.some(d);};k.prototype.forEach=function(d){this.items.forEach(d);};k.prototype.find=function(d){return (0,c.wc)(this.items,d);};k.prototype.reduce=function(d,g){return this.items.reduce(d,g);};k.prototype.filter=function(d){return new k(this.items.filter(d));};k.prototype.replace=function(d,g){var m;m=this.items.indexOf(d);(0,l.assert)(-1 < m);(0,l.assert)(d.mediaType === g.mediaType);this.items[m]=g;this.Hya(g);};k.prototype.add=function(d){this.items.push(d);this.Hya(d);};k.prototype.remove=function(d){var g;g=this.items.indexOf(d);if(-1 === g)return !1;this.items.splice(g,1);this.Exb(d.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};k.prototype.Hya=function(d){switch(d.mediaType){case f.u.X:this.video=d;break;case f.u.fa:this.audio=d;break;case f.u.Ha:this.text=d;}};k.prototype.Exb=function(d){switch(d){case f.u.X:this.video=void 0;break;case f.u.fa:this.audio=void 0;break;case f.u.Ha:this.text=void 0;}};return k;})();b.VP=r;},50625:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.OAa=void 0;c=a(42866);l=a(81883);r=(function(){function f(k,d,g,m){this.config=d;this.tf=g;this.console=m;this.za=k.za;}f.prototype.append=function(k,d){var g,m,h,n,p,q,u,t,v,w,y,x,z;if(k.ci)return k;m=!1;h=(0,l.Sna)(this.config,this.tf);n=k.Na;p=k.offset;q=k.mf;u=k.si;t=n.Pb;v=n.Ab;w=n.yt;w=n.Sk || w;if(!k.Na.Ia || !w || q)return k;y=n.Va.qa(n.Ja);w=Math.floor(y.ih(this.za));x=null !== (g=d.msa) && void 0 !== g?g:t.qa(this.za.oo(2));t=x.qa(v);g=w;z=!1;d.msa && (d=this.UTa(y,t,t),g=d.Kj,z=d.b7a);h=x.qa(c.L.Ma(h));v=c.L.max(h.qa(v),c.L.Ga);z || (v=this.UTa(y,v,t),g=v.Kj,v.b7a && (--g,this.za.oo(g)));g < (this.config.dTb || 1)?m=!0:0 < w - g && k.Na.z4(w - g);return {Na:n,offset:p,mf:q,ci:m,si:u};};f.prototype.UTa=function(k,d,g){var m;k=c.L.min(k,d);k=Math.floor(k.ih(this.za));d=this.za.oo(k);g=g.qa(d);m=0 < k && g.lessThan(c.L.My);return {Kj:k,lic:d,Hfc:g,b7a:m};};return f;})();b.OAa=r;},3973:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Lba=void 0;c=a(42866);l=a(49730);r=(function(){function f(k){this.console=k;}f.prototype.append=function(k){var d,g,m,h,n,p;if(k.ci)return k;d=k.Na;g=k.offset;m=k.si;h=d.Ja;n=d.Va;p=h.add(g);g=n.add(g);p=this.iM && p.qa(this.iM);this.iM=g;if(void 0 === p || p.equal(c.L.Ga))return k;k.si=m || [];d={stream:d.Qb,pts:h.G,gap:p.G};k.si.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});l.K && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return k;};return f;})();b.Lba=r;},33507:function(r,b,a){var f,k,d,g,m,h;function c(n,p,q,u,t,v){var w,y,x,z,A,B,C;if(void 0 !== n.V$ || void 0 !== n.exa || n.Xs || n.Wn){w=n.end - n.start;y=Array(w);x=n.Xs;z=n.IYa?n.IYa - 1:0;A=n.JYa?n.JYa - 1:0;B=Math.min(w,Math.max(n.V$ || 0,v && x && !z?1:0));n=Math.min(w - B,Math.max(n.exa || 0,v && p && !A?1:0));v=Math.floor(u.ih(q));q=Math.max(0,Math.min(w - B - n,x?Math.max(0,v - z):0));C=Math.max(0,Math.min(w - B - n - q,p?Math.max(0,v - A):0));q=B + q;u=w - n - C;A=A?0:Math.max(0,v + 1 - C);v=(1 - t) / (v + 1);for(C=0;C < w;++C){y[C]=C < B?-Infinity:C >= w - n?-Infinity:x && C < q?l(t + (C - B + z) * v):p && C >= u?l(1 - (C - u + A + 1) * v):0;}return y;}}function l(n){return 20 * Math.log(n) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.PAa=void 0;f=a(5163);k=a(36418);d=a(42866);g=a(97810);m=a(62558);h=a(27364);r=a(60513);r=(function(n){var y5J;y5J=2;function p(q,u,t){var M5$,v;M5$=2;for(;M5$ !== 6;){switch(M5$){case 7:return v;break;case 2:var i5V="1";i5V+="SIYbZrN";i5V+="J";i5V+="C";i5V+="p9";i5V;v=n.call(this,q,h.u.fa) || this;v.console=q;v.config=u;M5$=3;break;case 3:v.z$=d.L.Ma(0 <= u.z$?u.z$:u.cz);v.A$=d.L.Ma(0 <= u.A$?u.A$:u.cz);v.uM=Math.pow(10,(u.uM[t] || -44) / 20);M5$=7;break;}}}for(;y5J !== 9;){switch(y5J){case 2:f.__extends(p,n);p.prototype.Ia=function(q,u){var J5w,t,w,y,x,v;J5w=2;for(;J5w !== 33;){switch(J5w){case 2:var o0U="Audi";o0U+="oMediaFragmentEditor [${fragment.mediaType}]: Att";o0U+="empt to edit";o0U+=" appended f";o0U+="ragment";void 0 === u && (u=!0);t=[];(0,m.assert)(!q.WR,o0U);J5w=4;break;case 10:J5w=!y?20:19;break;case 12:(w=this.WDb(q,v[0],u),y=w.ia,x=w.ho);J5w=11;break;case 17:x=q.Ia.start;J5w=16;break;case 25:w=q.data;J5w=24;break;case 4:J5w=!q.Ia?3:9;break;case 11:w=w.data;J5w=10;break;case 14:return {ia:!1};break;case 16:J5w=q.Ia.end !== q.$s || q.Ia.exa || q.Ia.Wn?15:35;break;case 24:J5w=!y?23:22;break;case 3:return {ia:!0};break;case 20:return {ia:y};break;case 21:y=w;J5w=35;break;case 19:x && t.push(x);y=w;J5w=17;break;case 35:y && 1 < v.length && (y=null === y || void 0 === y?void 0:y.concat(v.slice(1)));return {ia:!0,si:t,xo:y};break;case 23:return {ia:y};break;case 8:J5w=!(v[0] instanceof ArrayBuffer)?7:6;break;case 22:x && t.push(x);J5w=21;break;case 13:J5w=0 < q.Ia.start || q.Ia.V$ || q.Ia.Xs?12:16;break;case 9:v=q.xo;J5w=8;break;case 7:return {ia:!0};break;case 6:J5w=0 >= q.Kd.ja?14:13;break;case 15:q=this.XDb(q,y?(0,g.xK)(y):v[0],x,u);y=q.ia;x=q.ho;J5w=25;break;}}};p.prototype.WDb=function(q,u,t){var Q1_,v;Q1_=2;for(;Q1_ !== 6;){switch(Q1_){case 9:return {ia:!0};break;case 3:Q1_=!(q.Ia.start || v || q.Ia.Xs || t)?9:8;break;case 8:var b91=" ";b91+="ed";b91+="it failed";var C2L="]";C2L+=":";C2L+=" ";var L1$="A";L1$+="udioMediaFrag";L1$+="mentE";L1$+="di";L1$+="tor [";t=c(q.Ia,t,q.za,this.z$,this.uM,this.config.N2a);return (u=new k.hs(this.r8,q.stream,u).L$a({Jj:q.Ia.start,N:q.Np,zx:t,Jva:!1,tH:this.config.h$,AG:l(this.uM)}))?{ia:!0,ho:q.Z$a(v),data:u.Na}:(this.console.error(L1$.concat(q.mediaType,C2L).concat(q.toString(),b91)),{ia:!1});break;case 2:void 0 === t && (t=!0);(0,m.assert)(q.Ia);v=q.Ia.V$;t=!(!q.Ia.Wn || !t);Q1_=3;break;}}};y5J=4;break;case 4:p.prototype.XDb=function(q,u,t,v){var v3A,w;v3A=2;for(;v3A !== 14;){switch(v3A){case 9:v3A=q.Ia.end === q.$s && !w && !q.Ia.Xs && !v?8:7;break;case 7:var u9t=" e";u9t+="dit fa";u9t+="il";u9t+="ed";var t_7="]";t_7+=":";t_7+=" ";var J_O="AudioMedi";J_O+="aFragme";J_O+="ntEditor [";v=c(q.Ia,v,q.za,this.A$,this.uM,this.config.N2a);return (u=new k.hs(this.r8,q.stream,u).S$a({Jj:q.Ia.end - t,N:q.Np,zx:v,Jva:!1,tH:this.config.h$,AG:l(this.uM)}))?{ia:!0,ho:q.Z$a(w),data:u.Na}:(this.console.error(J_O.concat(q.mediaType,t_7).concat(q.toString(),u9t)),{ia:!1});break;case 4:w=q.Ia.exa;v=!(!q.Ia.Wn || !v);v3A=9;break;case 8:return {ia:!0};break;case 2:void 0 === t && (t=0);void 0 === v && (v=!0);(0,m.assert)(q.Ia);v3A=4;break;}}};return p;break;}}})(r.Hda);b.PAa=r;},56764:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.QAa=void 0;c=a(49730);r=(function(){function l(f){this.console=f;}l.prototype.append=function(f,k){var d,g,m,h,n,p,q;if(f.ci)return f;d=!1;g=f.Na;m=f.offset;h=f.mf;f=f.si;k=k.yM;n=g.Pb;if(this.$l && n.lessThan(this.$l.Pb)){p=this.$l.yM.qa(g.Ab);q=g.Pb.qa(this.$l.yM);q.lessThan(p) && (c.K && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(g) + (", current error: ").concat(p.lb()) + (", discard error: ").concat(q.lb())),d=!0);}this.$l=(g.Sk || g.yt) && k?{yM:k,Pb:n}:void 0;return {Na:g,offset:m,mf:h,ci:d,si:f};};return l;})();b.QAa=r;},36304:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oGa=void 0;r=(function(){function a(c){this.XW=!1;this.k3b=c.dOb;}a.prototype.append=function(c){c.Na.Ia && (c.Na.s2b(this.XW?0:this.k3b),this.XW=!0);return c;};return a;})();b.oGa=r;},60513:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hda=void 0;c=a(5163).__importDefault(a(35471));b.Hda=(function(){return function(l,f){this.console=l;this.mediaType=f;this.r8=new c.default.Console("MP4","media|asejs");};})();},29308:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.mIa=void 0;c=a(42866);l=a(27364);f=a(62558);k=a(66649);d=a(33446);g=a(99548);m=a(35559);h=a(55142);n=a(36304);p=a(50625);q=a(56764);u=a(33507);t=a(3973);v=a(91659);r=(function(){function w(y,x,z,A){this.config=y;this.mediaType=x;this.tf=z;this.console=A;}w.prototype.append=function(y,x){var z,A,B,C,D,F;void 0 === this.track?this.Epa(y.stream):this.track !== y.stream.track && ((0,f.assert)(this.track.za),(0,f.assert)(y.stream.track.za),this.track=y.stream.track);(0,f.assert)(void 0 !== this.wp);C={Na:y,offset:null !== (z=y.Jua) && void 0 !== z?z:c.L.Ga,mf:this.config.ON,ci:!1};C=this.wp.reduce(function(G,E){return E.append(G,x);},C);D=C.Na;z=C.offset;F=C.ci;C=C.si;C=void 0 === C?[]:C;D.Ia && ((0,f.assert)(y.Ia,"Fragments must be marked for edit at request time"),y.Bi(D.Ia));if(F || !this.Kra)return {offset:z,ci:F};y=this.Kra.Ia(y,!(null === (B=null === (A=y.v) || void 0 === A?void 0:A.v) || void 0 === B || !B.Wn));A=y.ia;B=y.si;y=y.xo;Array.prototype.push.apply(C,void 0 === B?[]:B);return {offset:z,ci:!A,si:C,xo:y};};w.prototype.reset=function(){this.wp=this.track=void 0;};w.prototype.Epa=function(y){var x,z;this.track=y.track;this.mediaType === l.u.fa?this.Kra=new u.PAa(this.console,this.config,y.profile):y.FOb && (this.Kra=new v.COa(this.console,this.config));this.wp=[];if(this.mediaType === l.u.fa){this.config.ON && this.wp.push(new g.KMa(this.config,y.track,this.console));z=this.nja(y);z.equal(c.L.Ga)?this.config.Cm && y.Hf && this.Ipa(y.na.J) && this.wp.push(new n.oGa(this.config)):this.wp.push(new k.Kea(z));this.config.Z7 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.lb(),", ") + ("").concat(null === (x=y.Hf) || void 0 === x?void 0:x.lb())),this.wp.push(new m.JIa(this.config,y,this.console)));this.$Ob()?(this.config.tk || this.wp.push(new p.OAa(y,this.config,this.tf,this.console)),this.config.ON && this.wp.push(new t.Lba(this.console)),this.wp.push(new d.XIa(this.config,y,this.console)),this.d3b(y) && ((0,f.assert)(y.za),this.wp.push(this.zyb(y.Hf || c.L.Ga,y.za,z)))):(this.wp.push(new q.QAa(this.console)),this.config.ON && this.wp.push(new t.Lba(this.console)));}};w.prototype.Ipa=function(y){return this.config.Ipa || this.config.P2a && -1 !== this.config.P2a.indexOf(y);};w.prototype.nja=function(y){return k.Kea.nja(this.config,y.Hf,this.tf,this.console);};w.prototype.$Ob=function(){return !this.config.CN;};w.prototype.d3b=function(y){return this.config.s6b && this.config.Cm && !!y.Hf;};w.prototype.zyb=function(y,x,z){return new h.lOa(y.qa(z),x,this.console);};return w;})();b.mIa=r;},35559:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JIa=void 0;c=a(42866);l=a(62558);f=a(49730);r=(function(){function k(d,g,m){var h;this.console=m;this.XW=!1;(0,l.assert)(g.za,"NegativePtsGuard: stream.frameDuration must exist.");this.za=g.za;this.Cm=d.Cm;this.Hf=null !== (h=g.Hf) && void 0 !== h?h:c.L.Ga;}k.prototype.append=function(d){var g,m,h,n,p;if(this.XW || d.ci)return d;g=d.Na;m=d.offset;h=d.mf;d=d.si;if(g.Ia){n=g.Ja.qa(this.Cm?this.Hf:c.L.Ga).add(m);if(n.lessThan(c.L.Ga)){p=Math.ceil(n.oo(-1).ih(this.za));f.K && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Hf.lb(),", ") + ("request content start ").concat(g.Ja.lb(),", ") + ("current timestamp offset ").concat(m.lb()," => ") + ("firstPlatformTimestamp ").concat(n.lb(),"."));g.vla(p);}}this.XW=!0;return {Na:g,offset:m,mf:h,ci:!1,si:d};};return k;})();b.JIa=r;},33446:function(r,b,a){var l,f,k,d;function c(g){return ("").concat(g.lb()," (nrdp: ").concat(g.uH,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.XIa=void 0;l=a(42866);f=a(87425);k=a(49730);d=a(62558);r=(function(){function g(m,h,n){this.console=n;this.offset=l.L.Ga;this.Hf=m.Cm?h.Hf || l.L.Ga:l.L.Ga;this.Mt=h.Mt || l.L.Ga;(0,d.assert)(h.za);this.za=h.za;}g.prototype.append=function(m){var h,n,p,q;if(m.ci)return m;h=m.Na;n=m.offset;p=m.mf;q=m.si;void 0 !== this.g4a && ((0,d.assert)(void 0 !== this.sqa),h.Ja.add(m.offset).equal(this.g4a)?(m=this.twb(h,n.add(this.offset)).G - this.sqa,0 > m?this.offset=this.offset.add(l.L.My):0 === m?this.offset.lessThan(l.L.Ga) && (this.offset=this.offset.add(l.L.My)):1 === m?this.offset.greaterThan(l.L.Ga) && (this.offset=this.offset.qa(l.L.My)):this.offset=this.offset.qa(l.L.My)):this.offset=l.L.Ga);this.sqa=this.swb(h,n.add(this.offset)).G;this.g4a=h.Va.add(n);return {Na:h,offset:n.add(this.offset),mf:p,ci:!1,si:q};};g.prototype.twb=function(m,h){var n,p;m=this.mSa(m.Ja);h=h.qa(this.Mt);n=(0,f.Dt)(m).add((0,f.Dt)(h));p=m.add(h).qa(n);k.K && this.console.trace("NrdpRounding: content start " + c(m) + ", adjusted offset: " + c(h) + ", start rounding error: " + (0,f.Dt)(m).toString() + ", adjusted offset rounding error: " + (0,f.Dt)(h).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.lb() + ", (" + m.uH + h.uH + "ms), last fragment end nrdp: " + this.sqa);return p;};g.prototype.swb=function(m,h){var n,p,q;n=this.za;m=this.mSa(m.Va);h=h.qa(this.Mt);p=(0,f.Dt)(m.qa(n)).add((0,f.Dt)(n)).add((0,f.Dt)(h));q=m.add(h).qa(p);k.K && this.console.trace("NrdpRounding: content end: start of last frame:" + c(m.qa(n)) + ", frame duration: " + c(n) + ", adjusted offset: " + c(h) + ", timestamp rounding error: " + (0,f.Dt)(m.qa(n)).toString() + ", frame duration rouding error: " + (0,f.Dt)(n).toString() + ", adjusted offset rounding error: " + (0,f.Dt)(h).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.lb() + ", (" + m.qa(n).uH + n.uH + h.uH + "ms)");return q;};g.prototype.mSa=function(m){return m.add(this.Mt).qa(this.Hf);};return g;})();b.XIa=r;},66649:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Kea=void 0;c=a(42866);l=a(49730);r=(function(){function f(k){this.Hf=k;}f.nja=function(k,d,g,m){var h;h=c.L.Ga;d && (g=null === g || void 0 === g?void 0:g.Tec,k.M7b && void 0 !== g && 0 <= g?(k=new c.L(g,48E3),h=d.add(k),l.K && m.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(k) + (" for ASE applied offset of ").concat(h,"."))):k.XR && (h=d));return h;};f.prototype.append=function(k){var d,g,m;d=k.mf;g=k.ci;m=k.si;return {Na:k.Na,offset:k.offset.add(this.Hf),mf:d,ci:g,si:m};};return f;})();b.Kea=r;},99548:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.KMa=void 0;c=a(42866);l=a(62558);f=a(49730);r=(function(){function k(d,g,m){this.config=d;this.console=m;this.dv=c.L.Ga;(0,l.assert)(g.za);this.za=g.za;g=g.Lf[0].profile;this.l8=this.eKb(g,this.za);this.R7=this.$Jb(g,this.za);this.o6=-1 !== d.bTa.indexOf(g);}k.prototype.append=function(d,g){var m,h,n,p,q;if(d.ci)return d;m=d.Na;h=d.offset;n=d.si;n=void 0 === n?[]:n;d=d.mf;p=g.yM;g=g.msa;if(this.Nta){q=this.jTb(m,this.Nta);m.Ia && !this.o6 && this.Gia(q)?(f.K && this.console.trace("SeamlessAudio: dropping first frame"),m.vla(1),this.dv=q):(this.dv=q.add(this.za),this.jTa(this.dv) || (f.K && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + m.Ab.lb() + " error would be " + this.dv.lb() + " (editing " + (m.Ia?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:m.Qb,pts:m.Ja.G}}}}),this.dv=c.L.Ga,d=!1));this.Nta=void 0;}if(m.Sk || m.yt)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!m.Ia || !g && m.yt || (q=this.kTb(m,p,g),g && this.o6 && q.hi(this.za)?(f.K && this.console.trace("SeamlessAudio: dropping last two frames"),m.z4(2)):q.hi(c.L.Ga) && (f.K && this.console.trace("SeamlessAudio: dropping last frame"),m.z4(1))),this.Nta=p);(0,l.assert)(this.jTa(this.dv));this.iM=m.Pb;return {Na:m,offset:h.add(this.dv),mf:d,ci:0 === m.Wva,si:n.length?n:void 0};};k.prototype.kTb=function(d,g,m){var h;if(m)h=this.dv.add(d.Pb.qa(m)).qa(this.za);else (h=d.Pb.qa(g),h=this.dv.add(h).qa(this.za));f.K && this.console.trace("SeamlessAudio: fragment end: " + d.Pb.lb() + ", splice " + g.lb() + ", next start " + (null === m || void 0 === m?void 0:m.lb()) + ", error " + h.add(this.za).lb() + ", error with frame drop " + h.lb() + ", is" + (this.Gia(h)?"":" not") + " within bounds of [" + this.l8.lb() + " and " + this.R7.lb() + ")");return h;};k.prototype.jTb=function(d,g){var m;(0,l.assert)(this.iM);m=this.dv.add(this.iM.qa(d.Ab)).qa(this.za);f.K && this.console.trace("SeamlessAudio: fragment start: " + d.Ab.lb() + ", splice " + g.lb() + ", last fragment end: " + this.iM.lb() + ", error " + m.add(this.za).lb() + ", error with frame drop " + m.lb() + ", is" + (this.Gia(m)?"":" not") + " within bounds of [" + this.l8.lb() + " and " + this.R7.lb() + ")");return m;};k.prototype.Gia=function(d){return d.lessThan(this.R7) && d.hi(this.l8);};k.prototype.jTa=function(d){return d.lessThan(this.R7.add(c.L.My)) && d.hi(this.l8.qa(c.L.My));};k.prototype.$Jb=function(d,g){return "object" === typeof this.config.mwa && void 0 !== this.config.mwa[d]?(d=new c.L(this.config.mwa[d],1E3).$c(g.N).add(new c.L(1,g.N)),c.L.min(g,d)):g;};k.prototype.eKb=function(d,g){var m;if("object" === typeof this.config.nwa && void 0 !== this.config.nwa[d]){m=g.ih(-2);d=new c.L(this.config.nwa[d],1E3).$c(g.N).qa(new c.L(1,g.N));return c.L.max(m,d);}return new c.L(-12,1E3);};return k;})();b.KMa=r;},55142:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lOa=void 0;c=a(42866);l=a(49730);r=(function(){function f(k,d,g){this.Hf=k;this.za=d;this.console=g;}f.prototype.append=function(k,d){var g,m,h,n,p,q;g=k.Na;m=k.offset;h=k.mf;n=k.si;k=k.ci;if(!k){p=d.endOfStream;d=d.yM;if(p && d){p=g.Ja.qa(this.Hf).add(m);q=g.Va.qa(this.Hf).add(m);d=d.qa(c.L.My);l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.lb() + "-" + q.lb() + " vs media splice point at " + d.lb());p.add(this.za).hi(d)?(l.K && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),k=!0):q.hi(d) && (d=Math.ceil(q.qa(d).ih(this.za)),g.Ia?(l.K && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),g.z4(d)):(l.K && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),k=!0));}else p && l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {Na:g,offset:m,mf:h,ci:k,si:n};};return f;})();b.lOa=r;},91659:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.COa=void 0;c=a(5163);l=a(36418);f=a(62558);k=a(97810);d=a(83350);g=a(93161);r=(function(m){function h(n,p){var q;q=m.call(this,n,g.u.X) || this;q.console=n;q.config=p;return q;}c.__extends(h,m);h.prototype.Ia=function(n){var p,q,u,t,v,w,y;if(!(n.Ia && n instanceof d.Kba))return {ia:!0};p=n.xo;if(!(p[0] instanceof ArrayBuffer))return {ia:!0};q=p[0];u=q.slice(0,q.byteLength - 8);t=new DataView(q);q=t.getUint32(u.byteLength);(0,f.assert)("mdat" === (0,l.hx)(t.getUint32(u.byteLength + 4)));v=0 < n.Ia.start;t=n.Ia.end < n.$s;if(!v && !t)return {ia:!0};if(v){v=new l.hs(this.r8,n.stream,u);w=v.L$a(n.Ia.start,n.N);}if(t && !1 !== w){v=new l.hs(this.r8,n.stream,w?(0,k.xK)(w.Na):u);y=v.S$a(n.Ia.end - n.Ia.start,n.N);}u=(n=t?y:w)?n.Na:[u];q=this.ftb(w,y,q);u.push((0,l.YB)(q - 8));1 < p.length && (u=u.concat(p.slice(1)));return {ia:!0,xo:u};};h.prototype.ftb=function(n,p,q){n && ((0,f.assert)(void 0 !== n.aq),(0,f.assert)(void 0 !== n.xN),q-=n.aq);p && ((0,f.assert)(void 0 !== p.aq),(0,f.assert)(void 0 !== p.xN),q-=p.aq,n && (0,f.assert)(void 0 !== n.aq));return q;};return h;})(a(60513).Hda);b.COa=r;},59012:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.AEa=void 0;c=a(62558);l=a(60580);r=(function(){function f(){this.global=new l.XP();this.aH={};}f.prototype.add=function(k,d){(0,c.assert)(void 0 === this.aH[k],"Cannot add new memory object for playgraph");this.aH[k]=d;this.global.add(d.Nq);this.global.add(d.PS);};return f;})();b.AEa=r;},60580:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XP=void 0;c=a(27364);r=(function(){function l(){this[c.u.fa]=0;this[c.u.X]=0;this[c.u.Ha]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.u.fa] + this[c.u.X] + this[c.u.Ha];},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this[c.u.fa]+=Math.max(f[c.u.fa] || 0,0);this[c.u.X]+=Math.max(f[c.u.X] || 0,0);this[c.u.Ha]+=Math.max(f[c.u.Ha] || 0,0);};l.prototype.Lha=function(f,k){this[f]+=Math.max(k || 0,0);};return l;})();b.XP=r;c.u.fa;c.u.X;c.u.Ha;},92523:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xLa=void 0;c=a(60580);r=(function(){function l(){this.Nq=new c.XP();this.PS=new c.XP();}Object.defineProperties(l.prototype,{total:{get:function(){var f;f=new c.XP();f.add(this.Nq);f.add(this.PS);return f;},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this.Nq.add(f.Nq);this.PS.add(f.PS);};l.prototype.Lha=function(f,k,d){(d?this.PS:this.Nq).Lha(f,k);};return l;})();b.xLa=r;},30923:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.iD=void 0;r=a(5163);c=a(23800);l=r.__importDefault(a(71866));f=r.__importDefault(a(24021));k=r.__importDefault(a(76733));d=a(62558);g=a(38509);m=r.__importDefault(a(35471));b.iD=(function(){function n(p,q,u){var t;t=this;this.Aj=new l.default(p,u);this.JV=new f.default(p);this.Jc=new k.default(this.JV,this.Aj,p);this.HX=new g.rNa(m.default.W3,q);c.eD.ryb(p);p.l9 && setInterval(function(){t.Aj.save();t.JV.save();},p.l9);}n.Xna=function(p,q,u){void 0 === h?(n.config=p,n.Xxa=u,h=new n(p,q,u)):((0,d.assert)(n.config === p),(0,d.assert)(n.Xxa === u));return h;};n.instance=function(){(0,d.assert)(h,"CommonGlobals accessed too early");return h;};n.reset=function(){n.config=void 0;h=n.Xxa=void 0;};return n;})();},23360:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(46211),b);r.__exportStar(a(76498),b);r.__exportStar(a(27009),b);r.__exportStar(a(33163),b);r.__exportStar(a(92011),b);r.__exportStar(a(62470),b);r.__exportStar(a(71973),b);r.__exportStar(a(65915),b);r.__exportStar(a(1002),b);r.__exportStar(a(6389),b);r.__exportStar(a(42199),b);r.__exportStar(a(8760),b);r.__exportStar(a(39381),b);r.__exportStar(a(72072),b);r.__exportStar(a(89212),b);r.__exportStar(a(87034),b);r.__exportStar(a(67510),b);r.__exportStar(a(32139),b);r.__exportStar(a(35874),b);r.__exportStar(a(99814),b);r.__exportStar(a(75816),b);r.__exportStar(a(72213),b);r.__exportStar(a(16571),b);r.__exportStar(a(66759),b);r.__exportStar(a(22492),b);r.__exportStar(a(4087),b);r.__exportStar(a(46733),b);r.__exportStar(a(14450),b);r.__exportStar(a(30162),b);r.__exportStar(a(14157),b);r.__exportStar(a(33629),b);r.__exportStar(a(63110),b);r.__exportStar(a(73103),b);r.__exportStar(a(55730),b);r.__exportStar(a(17810),b);r.__exportStar(a(73808),b);r.__exportStar(a(50982),b);r.__exportStar(a(39273),b);r.__exportStar(a(8512),b);r.__exportStar(a(16469),b);r.__exportStar(a(84071),b);r.__exportStar(a(70669),b);r.__exportStar(a(91898),b);},76498:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27009:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33163:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},92011:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46211:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62470:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Rc=b.bo=void 0;(function(c){c[c.ls=0]="STOPPED";c[c.Me=1]="BUFFERING";c[c.tl=2]="REBUFFERING";c[c.vl=3]="STREAMING";c[c.T0=4]="TRACK_SWITCH";})(a || (a={}));b.Rc=a;b.bo=function(c){return c === a.Me || c === a.tl || c === a.T0;};},71973:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Iz=void 0;r=b.Iz || (b.Iz={});r[r.MH=0]="skipped";r[r.ktb=1]="adjustment";},1002:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6389:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},42199:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39381:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},70669:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16469:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27364:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(23360),b);},72072:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.q4b=b.o$a=b.Xua=void 0;b.Xua=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.o$a=a;b.q4b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.jf)," sp:").concat(c.fq," ") + ("pssp:").concat(c.Ty," ") + ("state:").concat(c.Pd," path-complete:").concat(c.ro," ") + ("streaming:").concat(c.uk," current:").concat(c.Nk);};},89212:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67510:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87034:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EG=b.a8=b.WP=b.u=void 0;c=a(60328);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});b.WP=[c.u.fa,c.u.X,c.u.Ha];b.a8=function(l,f,k){l=l || f?f?[c.u.X]:[c.u.fa]:[c.u.fa,c.u.X];k && l.push(c.u.Ha);return l;};b.EG=function(l){return l === c.u.fa?"audio":l === c.u.X?"video":l === c.u.Ha?"text":"unknown";};},32139:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},35874:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},99814:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uw=void 0;r=b.Uw || (b.Uw={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.NI=1]="HAVE_SOMETHING";r[r.MI=2]="HAVE_MINIMUM";r[r.tP=3]="HAVE_ENOUGH";},75816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},72213:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16571:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Fb=b.eua=void 0;c=a(62470);(function(f){f[f.Ek=0]="STARTING";f[f.Me=1]="BUFFERING";f[f.tl=2]="REBUFFERING";f[f.ke=3]="PLAYING";f[f.I0=4]="STOPPING";f[f.ls=5]="STOPPED";f[f.Rh=6]="PAUSED";})(l || (l={}));b.Fb=l;b.eua=function(f){return f === c.Rc.Me?l.Me:f === c.Rc.tl?l.tl:f === c.Rc.T0?l.Me:f === c.Rc.vl?l.ke:l.Ek;};},17810:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(32769),b);r.__exportStar(a(65376),b);r.__exportStar(a(74071),b);r.__exportStar(a(48248),b);r.__exportStar(a(59680),b);r.__exportStar(a(29730),b);r.__exportStar(a(89394),b);r.__exportStar(a(84631),b);},32769:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89394:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},59680:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},74071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84631:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48248:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66759:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},22492:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46733:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4087:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14450:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30162:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8760:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14157:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33629:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},91898:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63110:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},73103:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39273:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wq=void 0;r=b.wq || (b.wq={});r[r.ymb=0]="PLAYGRAPH_CHANGED";r[r.zmb=1]="PLAYGRAPH_UNCHANGED";r[r.Jlb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.wnb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Njb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Mjb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.xnb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Mgb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.$kb=8]="LOSS_OF_POSITION";},73808:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(48425),b);r.__exportStar(a(38294),b);},48425:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38294:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8512:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},50982:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65656:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hs=b.Sw=b.pq=b.YB=b.O0=void 0;c=a(5163);l=a(36418);Object.defineProperties(b,{Sw:{enumerable:!0,get:function(){return l.Sw;}}});Object.defineProperties(b,{hs:{enumerable:!0,get:function(){return l.hs;}}});Object.defineProperties(b,{YB:{enumerable:!0,get:function(){return l.YB;}}});Object.defineProperties(b,{O0:{enumerable:!0,get:function(){return l.O0;}}});f=c.__importDefault(a(35471));r=(function(k){function d(g,m,h,n,p){return k.call(this,d.console,g,m,h,n,p) || this;}c.__extends(d,k);Object.defineProperties(d,{console:{get:function(){return this.V || (this.V=new f.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(l.pq);b.pq=r;},97119:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cca=void 0;r=a(5163);c=a(72245);l=a(27364);new (r.__importDefault(a(35471)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var m4C;m4C=2;function f(k){var n7$;n7$=2;for(;n7$ !== 4;){switch(n7$){case 2:var D2q="1";D2q+="SI";D2q+="Yb";D2q+="ZrNJCp9";this.opa=k;this.Zx={};D2q;n7$=4;break;}}}for(;m4C !== 7;){switch(m4C){case 2:f.prototype.reset=function(){var C60;C60=2;for(;C60 !== 1;){switch(C60){case 2:this.OC=new c.ZBa();C60=1;break;}}};f.prototype.ew=function(k,d){var d91;d91=2;for(;d91 !== 1;){switch(d91){case 2:d.vj && (this.opa?this.OC.start(k,d.vj):d.type === l.u.X && (this.Zx[d.vj]?this.Zx[d.vj].FY+=1:this.Zx[d.vj]={vj:d.vj,FY:1,Y4:!1},this.Web(k)));d91=1;break;}}};f.prototype.gw=function(k,d){var q80,g;q80=2;for(;q80 !== 9;){switch(q80){case 5:this.OC.stop(k,d.vj);q80=9;break;case 2:q80=d.vj?1:9;break;case 1:q80=this.opa?5:4;break;case 6:q80=this.opa?1:1;break;case 4:g=this.Zx[d.vj];d.type === l.u.X && g && (--g.FY,0 === g.FY && (g.Y4 && this.OC.stop(k,d.vj),g.Y4=!1,delete this.Zx[d.vj]),this.Web(k));q80=9;break;}}};f.prototype.ZJ=function(k,d,g,m){var S8Y;S8Y=2;for(;S8Y !== 1;){switch(S8Y){case 2:m.vj && (this.opa?this.OC.add(k,d,g,m.vj):this.IR === m.vj && this.OC.add(k,d,g,m.vj));S8Y=1;break;}}};f.prototype.Xm=function(){var h09;h09=2;for(;h09 !== 1;){switch(h09){case 2:return this.OC.get();break;}}};f.prototype.Web=function(k){var a5J,d,g;a5J=2;for(;a5J !== 5;){switch(a5J){case 2:(d=Object.keys(this.Zx).map(function(m){var v2h;v2h=2;for(;v2h !== 1;){switch(v2h){case 2:return parseInt(m);break;}}}),g=this.Zx[d[0]]);1 === d.length && !1 === g.Y4?(this.OC.start(k,g.vj),this.IR=g.vj):1 < d.length && this.IR && (d=this.Zx[this.IR],this.OC.stop(k,this.IR),d.Y4=!1,this.IR=void 0);a5J=5;break;}}};m4C=8;break;case 8:return f;break;}}})();b.Cca=a;},69615:function(r,b,a){var l;function c(){this.wm=void 0;this.qA=0;}l=a(17267);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.qA && this.wm?{p25:this.wm.Pp,p50:this.wm.ln,p75:this.wm.Qp,c:this.qA}:null;};c.prototype.Jf=function(f){if(!(!l.tc(f) && l.has(f,"p25") && l.has(f,"p50") && l.has(f,"p75") && l.has(f,"c") && l.isFinite(f.p25) && l.isFinite(f.p50) && l.isFinite(f.p75) && l.isFinite(f.c)))return (this.wm=void 0,this.qA=0,!1);this.wm={Pp:f.p25,ln:f.p50,Qp:f.p75};this.qA=f.c;};c.prototype.get=function(){return {Pta:this.wm,Kj:this.qA};};c.prototype.set=function(f,k){this.wm=f;this.qA=k;};c.prototype.reset=function(){this.wm=void 0;this.qA=0;};c.prototype.toString=function(){return "IQRHist(" + this.wm + "," + this.qA + ")";};r.exports=c;},71866:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t){return l.has(q,u)?q[u]:q[u]=t;}Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);l=r.__importStar(a(17267));f=r.__importStar(a(97810));k=r.__importDefault(a(89956));d=r.__importDefault(a(35471));g=r.__importDefault(a(61739));m=f.yEa;new d.default.Console("ASEJS_LOCATION_HISTORY","media|asejs");h={confidence:k.default.rl.HAVE_NOTHING};n=(function(){function q(u){var t;this.config=u;t=u.gga;this.confidence=k.default.rl.HAVE_NOTHING;this.OWa=u.rPa;u=new g.default(u);this.mb=u.create("throughput-location-history",t);this.pt=u.create("throughput-location-history",t);this.uaa=u.create("throughput-location-history",t);this.vaa=u.create("throughput-location-history",t);this.taa=u.create("throughput-location-history",t);this.th=u.create("respconn-location-history",t);this.zv=u.create("respconn-location-history",t);this.raa=u.create("throughput-tdigest-history",t);this.K6=u.create("throughput-iqr-history",t);this.g4=u.create("throughput-location-history",t);this.i4=u.create("throughput-location-history",t);this.h4=u.create("throughput-location-history",t);this.j4=u.create("throughput-location-history",t);this.time=null;}q.prototype.FE=function(u,t){this.confidence=t;this.mb.add(u);this.raa.add(u);this.time=d.default.time.xa();};q.prototype.DE=function(u){this.pt.add(u);};q.prototype.GE=function(u){this.uaa.add(u.initial);this.vaa.add(u.low);this.taa.add(u.high);};q.prototype.oI=function(u,t){this.K6.set(u,t);};q.prototype.BA=function(u){this.th.add(u);};q.prototype.AA=function(u){this.zv.add(u);};q.prototype.$J=function(u){this.g4.add(u.Ca);this.i4.add(u.Je);this.h4.add(u.hK);this.j4.add(u.IO);};q.prototype.getState=function(){var u;u={c:this.confidence,t:l.tc(this.time)?null:d.default.time.esa(this.time),tp:this.mb.getState(),itp:this.pt.getState(),tcii:this.uaa.getState(),tcil:this.vaa.getState(),tcih:this.taa.getState(),rt:this.th.getState(),hrt:this.zv.getState(),iqr:this.K6.getState(),td:this.raa.getState(),dta:this.g4.getState(),dtv:this.i4.getState(),dtta:this.h4.getState(),dttv:this.j4.getState()};return l.tc(u.tp) && l.tc(u.rt) && l.tc(u.hrt)?null:u;};q.prototype.Jf=function(u){var t;t=d.default.time.now();if(!u || l.tc(u.c) || l.tc(u.c) || l.tc(u.tp) || !l.isFinite(u.c) || !l.isFinite(u.t) || l.tc(u.t) || 0 > u.c || u.c > k.default.rl.tP || u.t > t || !this.mb.Jf(u.tp))return (this.confidence=k.default.rl.HAVE_NOTHING,this.qv=this.time=null,this.mb.Jf(null),this.th.Jf(null),this.zv.Jf(null),!1);this.confidence=u.c;this.time=d.default.time.Esa(u.t);this.th.Jf(u.rt);this.zv.Jf(u.hrt);this.pt.Jf(u.itp);this.uaa.Jf(u.tcii);this.vaa.Jf(u.tcil);this.taa.Jf(u.tcih);this.g4.Jf(u.dta);this.i4.Jf(u.dtv);this.h4.Jf(u.dtta);this.j4.Jf(u.dttv);l.tc(u.iqr) || this.K6.Jf(u.iqr);l.tc(u.td) || this.raa.Jf(u.td);return !0;};q.prototype.get=function(){var u,t,v,w,y,x,z,A,B,C,D;u=this.config;if(l.tc(this.time))return h;t=(d.default.time.xa() - this.time) / 1E3;t > u.Epb?this.confidence=k.default.rl.HAVE_NOTHING:t > u.kpb && (this.confidence=Math.min(this.confidence,k.default.rl.NI));v=this.mb.get();w=this.pt.get();u=this.uaa.get().Ca;y=this.vaa.get().Ca;x=this.taa.get().Ca;z=this.th.get();A=this.zv.get();B=this.K6.get();C=this.raa.get();D={Ca:this.g4.goa().Ca,Je:this.i4.goa().Ca,hK:this.h4.get().Ca,IO:this.j4.get().Ca};t={v2:t,confidence:this.confidence,mb:v,pt:w,th:z,zv:A,KB:B,aj:C,Lm:D,cjc:v?m.prototype.Uv.bind(v):void 0,dic:z?m.prototype.Uv.bind(z):void 0,igc:A?m.prototype.Uv.bind(A):void 0,Tq:!1};t["throughput-ci"]={initial:u,low:y,high:x};return t;};q.prototype.debug=function(){this.get();l.tc(this.time) || d.default.time.xa();};return q;})();p=(function(){function q(u,t,v,w,y){this.config=y;this.global=new n(y);this.sn=[];this.PSb=d.default.time.xa() - Date.now() % 864E5;for(u=0;u < w;++u){this.sn.push(new n(y));}}q.prototype.index=function(){return ((d.default.time.xa() - this.PSb) / 1E3 / 3600 / (24 / this.sn.length) | 0) % this.sn.length;};q.prototype.getState=function(){return {f:l.oh(this.qv)?void 0:d.default.time.esa(this.qv),g:this.global.getState(),h:this.sn.map(function(u){return u.getState();})};};q.prototype.Jf=function(u){var t,v;if(!this.global.Jf(u.g))return !1;t=this.sn.length;v=!1;this.sn.forEach(function(w,y){v=!w.Jf(u.h[y * u.h.length / t | 0]) || v;});this.qv=l.oh(u.f)?void 0:d.default.time.Esa(u.f);return v;};q.prototype.FE=function(u,t){this.global.FE(u,t);this.sn[this.index()].FE(u,t);this.qv=void 0;};q.prototype.DE=function(u){this.global.DE(u);this.sn[this.index()].DE(u);this.qv=void 0;};q.prototype.GE=function(u){this.global.GE(u);this.sn[this.index()].GE(u);this.qv=void 0;};q.prototype.oI=function(u,t){this.global.oI(u,t);this.sn[this.index()].oI(u,t);};q.prototype.BA=function(u){this.global.BA(u);this.sn[this.index()].BA(u);};q.prototype.AA=function(u){this.global.AA(u);this.sn[this.index()].AA(u);};q.prototype.$J=function(u){this.global.$J(u);this.sn[this.index()].$J(u);};q.prototype.fail=function(u){this.qv=u;};q.prototype.get=function(){var u,t;if(!l.oh(this.qv)){if((d.default.time.xa() - this.qv) / 1E3 < this.config.jpb)return {confidence:k.default.rl.HAVE_NOTHING,Tq:!0};this.qv=void 0;}u=this.sn[this.index()].get();t=this.global.get();u=u.confidence >= t.confidence?u:t;u.Tq=!1;return u;};q.prototype.time=function(){return this.global.time;};q.prototype.debug=function(u){this.global.debug(u + ": global");this.sn.forEach(function(t,v,w){l.tc(t.time) || (v=24 * v / w.length,t.debug(u + ":  " + ((10 > v?"0":"") + v + "00h")));});};return q;})();a=(function(){function q(u,t){var v;this.config=u;this.Xxa=t;this.rFb();this.ML=new n(this.config);this.load();if(u=u.Qka){v={confidence:k.default.rl.tP,mb:{Ca:u,Je:0},th:{Ca:0,Je:0},zv:{Ca:0,Je:0}};this.get=function(){return v;};}}q.prototype.I5=function(u,t){var v;v=this.config;u=c(this.history,null !== u && void 0 !== u?u:"",{});return c(u,t?t:"",new p(v.SPa || 14400,v.RPa || 100,v.QPa || 100,v.BQa || 4,v));};q.prototype.load=function(){var u,t;u=d.default.storage.get("lh");t=d.default.storage.get("gh");u && this.Jf(u);t && this.b2b(t);};q.prototype.getState=function(){var u;u={};l.zp(this.history,function(t,v){l.zp(t,function(w,y){c(u,v,{})[y]=w.getState();},this);},this);return u;};q.prototype.b2b=function(u){this.ML.Jf(u);};q.prototype.Jf=function(u){var t,v,w;t=this;v=!0;w=this.config;l.zp(u,function(y,x){l.zp(y,function(z,A){var B;B=new p(w.SPa || 14400,w.RPa || 100,w.QPa || 100,w.BQa || 4,w);B.Jf(z)?(c(t.history,x,{})[A]=B,v=!0):l.tc(v) && (v=!1);},t);},this);return v;};q.prototype.save=function(){var u;u=this.getState();d.default.storage.set("lh",u);d.default.storage.set("gh",this.ML.getState());};q.prototype.rFb=function(){this.history={};this.FK=this.sWa="";this.Aj=null;};q.prototype.K$=function(u){this.sWa=u;this.Aj=null;};q.prototype.ubb=function(u){this.FK=u;this.Aj=null;};q.prototype.ey=function(){l.tc(this.Aj) && (this.Aj=this.I5(this.sWa,this.FK));return this.Aj;};q.prototype.FE=function(u,t){this.ey().FE(u,t);this.ML.FE(u,t);};q.prototype.DE=function(u){this.ey().DE(u);this.ML.DE(u);};q.prototype.GE=function(u){this.ey().GE(u);this.ML.GE(u);};q.prototype.oI=function(u,t){u && u.Pp && u.ln && u.Qp && (this.ey().oI(u,t),this.ML.oI(u,t));};q.prototype.BA=function(u){this.ey().BA(u);};q.prototype.AA=function(u){this.ey().AA(u);};q.prototype.$J=function(u){this.ey().$J(u);};q.prototype.fail=function(u,t){this.I5(u,this.FK).fail(t);};q.prototype.get=function(u){var t,v,w,y,x;t=this;u=(u=this.history[u])?u[this.FK]:null;v=null;if(u && (v=u.get(),v.confidence > k.default.rl.HAVE_NOTHING))return v;v=null;y=!1;l.zp(this.history,function(z){l.zp(z,function(A,B){var C;B=B.toString();if(!y || B === t.FK){C=A.get();C && (!w || w <= C.confidence) && (A=A.time(),!x || !l.tc(w) && w < C.confidence || !l.tc(A) && x < A) && (w=C.confidence,y=B === t.FK,x=A,v=C);}},t);},this);return null !== v && void 0 !== v?v:h;};q.prototype.debug=function(){l.zp(this.history,function(u,t){l.zp(u,function(v,w){v.debug(t + ":" + w);});});};return q;})();b["default"]=a;},24021:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);c=r.__importStar(a(17267));l=r.__importDefault(a(35471));new l.default.Console("ASEJS_LOCATION_HISTORY","media|asejs");a=(function(){function f(k){this.config=k;this.load();}f.prototype.save=function(){var k;k=this.getState();l.default.storage.set("nh",k);};f.prototype.U2a=function(k,d){this.KX && (d > this.tN && (this.SH+=d - this.tN,this.tN=d),-1 === this.p7 || k > this.p7) && (k=d - k,this.VL.push([this.SH - k,k]),this.trim(),this.p7=d);};f.prototype.trim=function(){var k;k=this.SH - this.config.FTb;this.VL=this.VL.filter(function(d){return d[0] > k;});};f.prototype.load=function(){var k;k=l.default.storage.get("nh");this.Jf(k) || (this.tN=l.default.time.xa(),this.SH=0,this.KX=!1,this.p7=-1,this.VL=[]);};f.prototype.Jf=function(k){if(!(k && c.has(k,"t") && c.has(k,"s") && c.has(k,"i") && c.yb(k.t) && c.yb(k.s) && c.isArray(k.i)))return !1;this.tN=l.default.time.Esa(1E3 * k.t);this.SH=1E3 * k.s;this.KX=!1;this.VL=k.i.map(function(d){return [1E3 * d[0],d[1]];});this.p7=-1;return !0;};f.prototype.getState=function(){return this.KX?{t:l.default.time.now() / 1E3 | 0,s:(this.SH + (l.default.time.xa() - this.tN)) / 1E3 | 0,i:this.VL.map(function(k){return [k[0] / 1E3 | 0,k[1]];})}:{t:l.default.time.esa(this.tN) / 1E3 | 0,s:this.SH / 1E3 | 0,i:this.VL.map(function(k){return [k[0] / 1E3 | 0,k[1]];})};};return f;})();b["default"]=a;},76733:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=c.__importStar(a(17267));r=a(57055);f=c.__importDefault(a(7977));k=c.__importDefault(a(61739));d=a(52733);g=a(99039);m=a(97119);h=a(64981);n=a(35471)["default"];p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(v,w,y){var x;x=u.call(this) || this;x.gp={};x.nR=0;x.mA=0;x.BQ=[];x.pf=0;x.Adc=!1;x.Z=y;x.yPa=new k.default(y);x.RQ=new m.Cca(!0);x.AQ=new m.Cca(!1);y.HEb && (x.PJ=new h.DJa(x.Z));x.reset();x.rQa=v;x.As=w;x.TPa=n.Yk.name();x.As.ubb(x.TPa);n.events.on("networkchange",x.gVb.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.gVb=function(v){this.TPa=v;this.As.ubb(v);};Object.defineProperties(t.prototype,{Aj:{get:function(){return this.As;},enumerable:!1,configurable:!0}});t.prototype.bfb=function(){var v;if(!this.oha){v=this.d1a();this.As.FE(v.default.Ca,this.confidence);v["initial-throughput-ewma"] && v["initial-throughput-ewma"].Ca && this.As.DE(v["initial-throughput-ewma"].Ca);v["throughput-ci"] && this.As.GE(v["throughput-ci"]);v.deliverytime && this.As.$J(v.deliverytime);this.As.oI(v.KB?v.KB.Pta:void 0,v.KB?v.KB.K0b:void 0);l.tc(this.Hc) || (this.oha=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.jg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.gp.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zj:{get:function(){return this.rJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{hsb:{get:function(){return this.BQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{TPb:{get:function(){return this.WPa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.fE;},enumerable:!1,configurable:!0}});t.prototype.Qob=function(){var v,w,y,x;v=this.Z;w=v.apb.concat(v.hpb);y=v.gga;x=this.yPa;w=w.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});w.confidence=new g.fea(v,new d.KIa(v,this.T8.bind(this)));return w;};t.prototype.reset=function(){var v,w,y,x;v=this.Z.gga;w=this.yPa;y=this.Z;this.fE=null;this.gp=this.Qob();if(this.Z.hYa){x=this.Z.Sdb;this.gp.C5b=new f.default(x.numB * x.bSizeMs,x.bSizeMs);}this.RQ.reset();this.AQ.reset();this.eha=w.create("respconn-ewma",v);this.tga=w.create("respconn-ewma",v);this.PJ && this.PJ.reset();this.Hrb=this.bfb.bind(this);this.f2=void 0;this.nx=this.Hc=this.jg=null;this.d2=0;y.nab && (this.mA=this.nR=this.rJ=0,this.BQ=[]);};t.prototype.K$=function(v){var w;w=this.gp;if(v !== this.fE){l.oh(this.f2) || (clearInterval(this.f2),this.f2=void 0);l.tc(this.fE) && (this.d2=0,this.jg=null);if(!l.tc(v)){for(var y in w){w[y] && w[y].reset && w[y].reset();}this.eha.reset();this.tga.reset();}l.tc(this.jg) || (this.d2+=(l.tc(this.Hc)?n.time.xa():this.Hc) - this.jg);this.Hc=this.jg=null;this.fE=v;this.As.K$(v);}};t.prototype.ZJ=function(v,w,y,x){var z,A;this.WPa=Math.max(this.WPa || 0,y);this.mA-=v;z=this.Z;A=this.gp;if(!0 === x.OO)(x=A["throughput-wssl"]) && x.add(v,w,y,!0);else if(l.oh(w))p.warn("addDataReceived called with undefined start time");else {this.PJ && this.PJ.ZJ(v,w,y,x);z.gpb && 10 > y - w?w=y - 10:0 === y - w && (w=y - 1);this.RQ.ZJ(v,w,y,x);this.AQ.ZJ(v,w,y,x);for(var B in A){A[B] && A[B].add && A[B].add(v,w,y,x);}l.tc(this.jg) && (this.jg=w,this.Hc=null,this.oha=!1);l.tc(this.Hc) || (w > this.Hc && (this.jg+=w - this.Hc),this.Hc=null,this.oha=!1);l.tc(this.nx) || (w - this.nx > z.sQa?this.rQa.U2a(this.nx,w):y - w > z.sQa && this.rQa.U2a(w,y));this.nx=this.nx?Math.max(y,this.nx):y;}};t.prototype.BA=function(v){this.eha.add(v);this.As.BA(v);};t.prototype.AA=function(v){this.tga.add(v);this.As.AA(v);};t.prototype.start=function(v,w){var y;l.tc(this.nx) && !l.tc(this.Hc) && (this.nx=v);y=this.gp;if(this.Z.qxa)for(var x in y){y[x] && y[x].start && y[x].start(v,w);}};t.prototype.stop=function(v,w){var y,x;y=this.gp;for(x in y){y[x] && y[x].stop && y[x].stop(v,w);}this.Hc=l.tc(this.Hc)?v:Math.min(this.Hc,v);this.nx=null;};t.prototype.flush=function(){var v,w;v=this.gp;for(w in v){v[w] && v[w].flush && v[w].flush();}};t.prototype.hJb=function(){var v,w;v=this.gp.lfc;if(v){w=v.hwb();v.reset();}return w;};t.prototype.d1a=function(){var v,w,y,x,z,A,B,C;v=n.time.xa();w=this.gp;y=this.Z;x=y.Vob;z=y.Wob;A=y.nrb;B={};for(C in w){w[C] && w[C].get && (B[C]=w[C].get(v,this.mA),"iqr" === w[C].type && (B.KB=B[C]),"tdigest" === w[C].type && (B.aj=B[C]),"wssl" === w[C].type && (B.OO=B[C]));}B.cdnavtp=this.RQ.Xm();B.activecdnavtp=this.AQ.Xm();B.default=x && B[x] && z && void 0 !== B[x][z]?{Ca:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.owa && "none" !== A && (B.Vab=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.Yna=function(){return this.PJ?this.PJ.Yna():void 0;};t.prototype.get=function(){var v,w,y,x,z,A;v=this.d1a();w=v.default;y=this.eha.get();x=this.tga.get();z=this.Z;if(v.Vab){A=v.Vab;w=l.yb(w.Ca) && l.yb(A.Ca) && w.Ca > A.Ca && 0 < A.Ca?A:w;}v.mb=w;v.pt=v["initial-throughput-ewma"];!z.TEb || !w || l.tc(w.Ca) || isNaN(w.Ca) || !v.OO || l.tc(v.OO.Ca) || isNaN(v.OO.Ca) || ("max" === z.xgb?v.mb.Ca=Math.max(v.OO.Ca,w.Ca):"sum" === z.xgb && (v.mb.Ca+=v.OO.Ca));v.th=y;v.zv=x;this.Z.hYa && (w=this.Z.Sdb,v.gjc=this.gp.C5b.get(w.fillS,w.fillHl));w=this.d2 + (l.tc(this.jg)?0:(l.tc(this.Hc)?n.time.xa():this.Hc) - this.jg);v.time=w;return v;};t.prototype.GLb=function(){var v,w,y;v={};w=this.get();if(w.confidence && w["throughput-ewma"]){v.aseavtp=Number(w["throughput-ewma"].Ca).toFixed(2);v.asevartp=Number(w["throughput-ewma"].Je).toFixed(2);if(w.KB){y=w.KB.Pta;!y || void 0 === y.Qp || void 0 === y.Pp || void 0 === y.ln || isNaN(y.Qp || 0) || isNaN(y.Pp) || isNaN(y.ln) || (v.aseniqr=0 < y.ln?Number((y.Qp - y.Pp) / y.ln).toFixed(2):-1,v.aseiqr=Number(y.Qp - y.Pp).toFixed(2),v.asemedtp=Number(y.ln).toFixed(2));v.iqrsamples=w.KB.K0b;}w.aj && w.aj.CL && (v.tdigest=w.aj.CL());}return v;};t.prototype.ew=function(v,w){var y,x,z;y=w.requestId;1 === ++this.rJ && this.emit("active",v);if(this.Z.RXa){x=this.gp;for(z in x){x[z] && x[z].ew && x[z].ew(v,w);}}this.Z.eaa && this.start(v,w);y && (this.Z.eaa || this.start(v,w),this.BQ.push(y));this.mA+=w.wa || 0;this.RQ.ew(v,w);this.AQ.ew(v,w);};t.prototype.V_b=function(){++this.nR;};t.prototype.gw=function(v,w,y){var x,z,A;x=y.requestId;w && --this.nR;--this.rJ;this.mA=Math.max((this.mA || 0) - ((y.wa || 0) - (y.bytesReceived || 0)),0);this.Z.nab && (this.rJ=Math.max(this.rJ,0),this.nR=Math.max(this.nR,0));if(this.Z.RXa){z=this.gp;for(A in z){z[A] && z[A].gw && z[A].gw(v,w,y);}}this.Z.eaa && this.stop(v,y);0 === this.rJ && (this.Z.eaa || this.stop(v,y),this.emit("inactive",v));x && (w=this.BQ.indexOf(x),0 <= w && this.BQ.splice(w,1));this.RQ.gw(v,y);this.AQ.gw(v,y);};t.prototype.T8=function(){this.bfb();this.f2=setInterval(this.Hrb,this.Z.Spb);};return t;})(r.EventEmitter);b["default"]=a;},7033:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.QIa=b.Ig=void 0;r=a(5163);c=a(57055);l=r.__importDefault(a(35471));f=a(62558);k=a(23800);d=a(27364);g=r.__importDefault(a(76733));(function(h){h[h.qu=0]="CREATED";h[h.OPENED=1]="OPENED";h[h.TO=2]="ACTIVE";h[h.ul=3]="RECEIVING";h[h.pm=4]="COMPLETE";h[h.Ur=5]="ABORTED";})(m=b.Ig || (b.Ig={}));a=(function(){function h(n,p,q,u,t,v,w,y,x,z){this.stream=n;this.Rf=p;this.properties=t;this.listener=w;this.config=x;this.console=z;this.VD=0;this.Xa=m.qu;this.request=new l.default.Mo(q,u,this.YKb(t,y));this.offset=v.offset;this.ic=v.wa;this.id=this.yJb();this.mcb=t.IH;this.rH=t.rH;this.Vt=t.Vt;this.responseType=void 0 === t.responseType?l.default.Mo.tf && !l.default.Mo.tf.Nva.Zea?0:1:t.responseType;this.Vk=this.kub();this.mediaType === d.u.Ha || !x.Iha && t.Fe || (this.Jc=g.default.instance());}Object.defineProperties(h.prototype,{url:{get:function(){return this.Rf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wa:{get:function(){return this.ic;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.VD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ki:{get:function(){return this.request.ki;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Uf:{get:function(){return this.request.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mB:{get:function(){return this.request.mB;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ti:{get:function(){return this.request.Ti;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pF:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{c9:{get:function(){return this.Xa >= m.OPENED && this.Xa < m.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Xa >= m.TO && this.Xa < m.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$ua:{get:function(){return this.Xa === m.ul;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Xa === m.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.Xa === m.Ur;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});h.prototype.open=function(){if(this.Xa !== m.qu || !this.request.open(this.Rf,{start:this.offset,end:this.offset + this.ic - 1},this.responseType,{},void 0,void 0,this.mcb,this.stream.Gr,this.stream.ba?this.stream.na.$U.$K:void 0))return !1;this.Xa=m.OPENED;return !0;};h.prototype.TX=function(n){this.Rf=n;return this.state >= m.OPENED && this.state < m.pm?this.request.TX(n):!0;};h.prototype.abort=function(){var n;if(this.aborted)return !0;this.active && (null === (n=this.Jc) || void 0 === n?void 0:n.gw(l.default.time.xa(),this.$ua,this.YT()));this.Xa=m.Ur;this.request.abort();return !0;};h.prototype.We=function(){var n,p,q;if(7 !== this.request.readyState && 5 !== this.request.readyState){p=this.c9;q=this.active;this.abort();this.listener.bW(this,q,p);}null === (n=this.Vk) || void 0 === n?void 0:n.clear();this.request.We();};h.prototype.getResponseHeader=function(n,p){return this.request.getResponseHeader(n,p);};h.prototype.getAllResponseHeaders=function(n){return this.request.getAllResponseHeaders(n);};h.prototype.IIb=function(){var n,p;n=this.getResponseHeader("content-range",!1);if(n){p=n.indexOf("/");(0,f.assert)(-1 !== p,"unable to parse content-range: " + n);p=n.slice(p + 1);p=parseInt(p);(0,f.assert)(0 < p,"unable to parse content-range: " + n);return p;}};h.prototype.vN=function(){this.request.vN();};h.prototype.yj=function(){return this.request.yj();};h.prototype.NM=function(){var n,p;if(this.Xa === m.OPENED){this.Xa=m.TO;p=this.request.ki || this.request.loadTime;k.eD.instance().push(l.default.time.xa() - p);!this.config.x5a && (null === (n=this.Jc) || void 0 === n?void 0:n.ew(p,this.YT()));this.listener.UM(this);this.timestamp=p;}};h.prototype.U8=function(){var n,p,q,u;if(!(this.Xa >= m.ul)){this.Xa=m.ul;u=this.request.ki || this.request.Hma;k.eD.instance().push(l.default.time.xa() - u);this.config.x5a && (null === (n=this.Jc) || void 0 === n?void 0:n.ew(u,this.YT()));null === (p=this.Jc) || void 0 === p?void 0:p.V_b();n=this.request.bX;this.request.connect && n.length && (null === (q=this.Jc) || void 0 === q?void 0:q.BA(n[0]));this.timestamp=u;this.listener.TM(this);0 === this.ic && this.t7b(this.request.Do);this.GYb();}};h.prototype.NG=function(){var n;if(!(this.Xa > m.ul)){this.Xa=m.ul;n=this.request.ki;k.eD.instance().push(l.default.time.xa() - n);n=this.Osa(!0);this.listener.VM(this,n);}};h.prototype.MM=function(){var n,p,q;if(!this.aborted){p=this.request.ki;k.eD.instance().push(l.default.time.xa() - p);q=this.Osa(!0);null === (n=this.Jc) || void 0 === n?void 0:n.gw(p,this.$ua,this.YT());this.Xa=m.pm;this.listener.wr(this,q);this.We();}};h.prototype.TUb=function(){this.listener.nta(this);};h.prototype.gn=function(){var n;if(!this.complete && !this.aborted && "number" === typeof this.request.Uf){n=this.request.ki;k.eD.instance().push(l.default.time.xa() - n);this.Osa(this.config.tva && void 0 === this.request.status);this.listener.cW(this);}};h.prototype.Osa=function(n){var p,q,u,t;p=this;u=this.request.ki;t=this.request.bytesReceived - this.VD;n && this.Jc && (void 0 !== this.timestamp && 0 < t && this.Jc.ZJ(t,this.timestamp,u,this.YT()),null === (q=this.request.bX) || void 0 === q?void 0:q.forEach(function(v){return p.Jc.AA(v);}));this.timestamp=u;this.VD=this.request.bytesReceived;return t;};h.prototype.t7b=function(n){var p;p=this.ic;this.ic=n;this.listener.dW(this,this.ic,p);};h.prototype.GYb=function(){var n;if(this.stream.ba){n=this.request.getResponseHeader("X-TCP-Info",!0);this.stream.oWb(n);}else this.request.getAllResponseHeaders(!0);};h.prototype.YT=function(){return {requestId:this.id,vj:this.stream.Wb,type:this.mediaType,rH:this.rH,wa:this.ic,bytesReceived:this.request.bytesReceived,Vt:this.Vt};};h.prototype.yJb=function(){var n;n=(n=this.stream)?n.toString():this.url;this.ic && (n+=",range " + this.offset + "-" + (this.offset + this.ic - 1));return n;};h.prototype.kub=function(){var n,p,q;n=this;p=new c.ye();q=l.default.Mo.Ck;p.on(this.request,q.$Ia,function(){return n.NM();});p.on(this.request,q.ZIa,function(){return n.U8();});p.on(this.request,q.aJa,function(){return n.NG();});p.on(this.request,q.bQ,function(){return n.MM();});p.on(this.request,q.Rbc,function(){return n.TUb();});p.on(this.request,q.Sz,function(){return n.gn();});return p;};h.prototype.YKb=function(n,p){return {mediaType:this.mediaType,Qb:this.stream.Qb,bitrate:this.stream.bitrate,Qc:this.stream.Wb,tt:!n.Fe,I:p.id,config:this.config};};h.prototype.toString=function(){return "ID: " + this.request.yj() + " " + this.id;};h.prototype.toJSON=function(){return {requestId:this.request.yj(),id:this.id};};return h;})();b.QIa=a;},64981:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DJa=void 0;c=a(27364);l=a(45762);r=(function(){var q8W;q8W=2;for(;q8W !== 3;){switch(q8W){case 2:f.prototype.reset=function(){var i6V;i6V=2;for(;i6V !== 4;){switch(i6V){case 2:this.YW=[0,0];this.Do=[0,0];this.gW=[0,0];i6V=4;break;}}};f.prototype.ZJ=function(k,d,g,m){var X10,h,n;X10=2;for(;X10 !== 8;){switch(X10){case 2:this.Do[m.type]+=k;X10=5;break;case 5:X10=(null === (h=m.rH) || void 0 === h?0:h.X6())?4:3;break;case 4:(this.YW[m.type]+=k,this.k8a.add(k,d,g),this.uta[m.type].add(k,d,g));X10=3;break;case 3:X10=(null === (n=m.rH) || void 0 === n?0:n.wra(k,d,g,this.hW))?9:8;break;case 9:this.gW[m.type]+=k;X10=8;break;}}};f.prototype.Yna=function(){var F48;F48=2;for(;F48 !== 1;){switch(F48){case 2:return {bytesRequestedPacingVideo:this.YW[c.u.X],bytesRequestedPacingAudio:this.YW[c.u.fa],estimatedBytesPacedVideo:this.gW[c.u.X],estimatedBytesPacedAudio:this.gW[c.u.fa],bytestotalVideo:this.Do[c.u.X],bytestotalAudio:this.Do[c.u.fa],pacedAvtpVideo:this.uta[c.u.X].get().Ca,pacedAvtpAudio:this.uta[c.u.fa].get().Ca,pacedAvtp:this.k8a.get().Ca};break;}}};return f;break;}}function f(k){var O7U;O7U=2;for(;O7U !== 7;){switch(O7U){case 2:this.YW=[0,0];this.Do=[0,0];this.gW=[0,0];O7U=4;break;case 4:var k0p="1SI";k0p+="YbZr";k0p+="NJCp9";k0p;this.hW=k.hW;this.uta=[new l.bD(),new l.bD()];O7U=8;break;case 8:this.k8a=new l.bD();O7U=7;break;}}}})();b.DJa=r;},65877:function(r,b,a){var l,f;function c(k){this.Z={sV:k.maxc || 25,cka:k.c || .5,CZb:k.rc || "none",YF:k.hl || 7200};this.tR();this.crb=this.Z.CZb;this.VQ=this.Z.YF;this.Hfa=Math.exp(Math.log(2) / this.VQ);this.Hfa=Math.max(this.Hfa,1);this.m1=1;}l=a(17267);f=a(15913).TDigest;new (a(35471)["default"].Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var k;if(0 === this.Te.size())return null;k=this.Te.wi([.25,.75]);if(k[0] === k[1])return null;this.Te.size() > this.Z.sV && this.Te.Mx();k=this.Te.wk(!1).reduce((function(d,g){l.yb(g.Gf) && l.yb(g.n) && d.push({mean:g.Gf,n:g.n / this.m1});return d;}).bind(this),[]);return {tdigest:JSON.stringify(k)};};c.prototype.Jf=function(k){var d;if(l.tc(k) || !l.has(k,"tdigest") || !l.sg(k.tdigest))return !1;try{d=JSON.parse(k.tdigest);}catch(g){return !1;}d.forEach(function(g){l.isFinite(g.n) || (g.n=1);});k=d.map(function(g){return {Gf:g.mean,n:g.n};});this.m1=1;this.Te.Pua(k);void 0 === this.Te.wi(0) && this.tR();};c.prototype.get=function(){var k,d;k=this.Te;d=k.wi([0,.1,.25,.5,.75,.9,1]);return {min:d[0],sta:d[1],Pp:d[2],ln:d[3],Qp:d[4],tta:d[5],max:d[6],rj:k.wk(!1)};};c.AKb=function(k){var d;d=new c({});l.tc(k) || l.oh(k) || !l.isArray(k.rj) || (d.Te.Pua(k.rj),void 0 === d.Te.wi(0) && d.tR());k=d.Te.wi([.25,.75]);return k[0] === k[1]?null:function(g){return d.Te.wi(g);};};c.prototype.add=function(k){var d;d=1;"ewma" === this.crb && (this.m1=d=this.m1 * this.Hfa);this.Te.push(k,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Te.summary() + ")";};c.prototype.tR=function(){this.Te=new f(this.Z.cka,this.Z.sV);};r.exports={KNa:c};},38509:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u){return function(){return ("[").concat(u,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.rNa=b.qna=void 0;l=a(8604);f=a(42866);k=a(60328);d=a(62558);g=a(49730);m=a(78128);h=a(46541);n=a(73098);p=a(92141);b.qna=function(u){return -1 !== u.indexOf("heaac")?"heaac":"ddp";};r=(function(){function u(t,v){q=new l.qNa(t,v);}u.gja=function(){(0,d.assert)(q,"expected StaticMediaCache to exist");return q;};u.prototype.O9a=function(t,v,w,y,x,z,A,B,C,D){var F,G,E,H,M,L,K,O,J;F=[];w=u.gja().oLb(w,y,x);y=new f.L(w.duration);G=new f.L(w.za);E=G.N;H=w.profile;M={$2a:!0,mediaType:k.u.fa,Hd:H,profile:H,N:E,Hh:[{Ye:0,data:w.Bb}],Gh:!0,za:G,Hf:v,na:t,bitrate:w.bitrate,Qb:"-1",track:{trackId:"1",mediaType:k.u.fa,Rl:!1,za:G,na:t,channels:w.channels,sampleRate:48E3,profile:H,Lf:[],no:x,toString:c(k.u.fa)},toJSON:function(){return {mediaType:M.mediaType,Qb:M.Qb,bitrate:M.bitrate};}};M.Wm=M.track.Wm=m.CI.prototype.Wm.bind(M.track);M.track.Lf.push(M);t=new f.L(w.za);x=C.Cm?v:f.L.Ga;H=x.add(y);g.K && D.trace(("StaticMedia: audio target duration is ").concat(z.lb()));L=f.L.Ga;v=C.Cm?-Math.ceil(v.ih(G)):0;C=x;for(G=!0;C.lessThan(z);){C=C.add(y);C.greaterThan(z) && (K=y.ih(t) - Math.floor(C.qa(z).ih(t)));O=C.hi(z);J=G?0:O?z.G:void 0;G=new h.Fba(w.Bb,w.Na,M,E,x.$c(E).ja,H.$c(E).ja,t,D,A,B.bind(void 0,E,L),J,G,O);G.Bi({start:v,end:K});g.K && D.log(("PaddingBranch: enqueing request ").concat(G,", edit: ").concat(JSON.stringify({start:v,end:K}),", ") + ("offset ").concat(L.lb()));F.push(G);L=L.add(y);v=void 0;G=!1;}return F;};u.prototype.Q9a=function(t,v,w,y,x,z,A,B,C,D){var F,G,E,H,M,L,K,O,J;F=[];v=u.gja().qLb(v,w,y,x,z);w=new f.L(v.duration);G=v.profile;E=v.bitrate;H=v.width;M=v.height;L=v.zta;K=v.Ata;y=v.za.N;x=new f.L(v.za);O=new n.Zz(y,v.za.ja);J={$2a:!0,mediaType:k.u.X,Hd:G,profile:G,N:y,Hh:[{Ye:0,data:v.Bb}],Gh:!0,Qb:"-1",za:x,na:t,bitrate:E,track:{trackId:"1",mediaType:k.u.X,Rl:!1,za:x,frameRate:O,N7:O,lk:new p.qJ({w:H,$q:M},{w:L,$q:K}),na:t,profile:G,Lf:[],no:z,toString:c(k.u.X)},toJSON:function(){return {mediaType:J.mediaType,Qb:J.Qb,bitrate:J.bitrate};}};J.Wm=J.track.Wm=m.CI.prototype.Wm.bind(J.track);g.K && D.trace(("StaticMedia {").concat(B.id,"}: video queue"),J);J.track.Lf.push(J);G=Math.ceil(A.ih(w));A=w.oo(G);t=f.L.Ga.$c(y);z=t.add(A).$c(y);g.K && D.trace(("PaddingBranch: ").concat(G," fragments of ").concat(w.lb(),", ") + ("duration ").concat(A.lb(),", ") + ("c: ").concat(t.lb(),"-").concat(z.lb(),", "));for(E=f.L.Ga;E.lessThan(A);){G=E.add(w);E=new h.Fba(v.Bb,v.Na,J,y,0,w.$c(y).ja,x,D,B,C.bind(void 0,y,E),void 0,E.equal(f.L.Ga),G.hi(A));g.K && D.trace(("PaddingBranch: appended ").concat(E));F.push(E);E=G;}return {Ja:t,Va:z,duration:A,La:F};};u.prototype.WYb=function(){return u.gja().pLb();};return u;})();b.rNa=r;},7460:function(r,b,a){var f,k,d,g;function c(m,h,n,p,q){var u,t;n=null !== (u=h.Xe) && void 0 !== u?u:h.track.Zs(m,n.G,void 0,q);m=null !== (t=h.ef) && void 0 !== t?t:h.track.xF(m,null === p || void 0 === p?void 0:p.G,h.tk);return [!h.Pg(),n,m];}function l(m,h){var C,D;for(var n=[],p=0,q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],v=h.ef.index,w=h.track.Eo,y=0,x=h.Xe.Ja,z=h.Xe.Va.G > q[0],A=z,B=h.Xe.index;B <= v;++B){C=!1;if(q){D=w.get(B);z && (D.Ja.G >= t?(z=!1,++p >= m.length?t=u=q=void 0:(q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(n.push(new g.E0(y,x,D.Ja)),x=D.Ja,C=!0));!z && q && D.Va.G > u && (z=!0,C=D.Ja,(D=h.track.dG.Zn(B).fZa(u)) && 0 !== D.Jj && (C=k.L.Ma(D.we)),n.push(new g.E0(y,x,C)),x=C,C=!0);}C && ++y;}n.push(new g.E0(y,x,h.ef.Va));return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.LRb=b.w5a=b.j7a=b.g7a=b.pva=void 0;f=a(5163);k=a(42866);d=a(27364);g=a(61978);b.pva=function(m,h,n){var p,q,u,t,v,w,y,x;y=h.get(d.u.fa);x=h.get(d.u.X);h=h.get(d.u.Ha);x=null === x || void 0 === x?void 0:x.track.xF(m,null === n || void 0 === n?void 0:n.G,x.tk);y=null === y || void 0 === y?void 0:y.track.xF(m,null !== (q=null === (p=null === x || void 0 === x?void 0:x.Va) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === n || void 0 === n?void 0:n.G,y.tk);m=null === h || void 0 === h?void 0:h.track.xF(m,null !== (w=null !== (t=null === (u=null === x || void 0 === x?void 0:x.Va) || void 0 === u?void 0:u.G) && void 0 !== t?t:null === (v=null === y || void 0 === y?void 0:y.Va) || void 0 === v?void 0:v.G) && void 0 !== w?w:null === n || void 0 === n?void 0:n.G,h.tk);return [y,x,m];};b.g7a=function(m,h,n,p,q){var u,t,v,w,y,x,z,A;u=h.get(d.u.fa);t=h.get(d.u.X);h=h.get(d.u.Ha);v=f.__read(t?c(m,t,n,p,q):[!1],3);w=v[0];y=v[1];v=v[2];x=f.__read(u?c(m,u,w && void 0 !== (null === y || void 0 === y?void 0:y.Ja)?y.Ja:n,void 0 !== (null === v || void 0 === v?void 0:v.Va)?v.Va:p,q):[!1],3);z=x[0];A=x[1];x=x[2];p=f.__read(h?c(m,h,n,p,q):[!1],3);m=p[0];n=p[1];p=p[2];z && (null === u || void 0 === u?void 0:u.yU(A,x));w && (null === t || void 0 === t?void 0:t.yU(y,v));m && (null === h || void 0 === h?void 0:h.yU(n,p));return [z,w,m];};b.j7a=function(m,h,n){return h.track.Zs(m,n.G,void 0,!0).Ja;};b.w5a=function(m,h,n){var p;p=h.v;if(!p.Rq || 0 === p.Rq.length)return [];m=p.Rq.map(function(q){return [p.ta + q[0],p.ta + q[1]];});return l(m,n.tua);};b.LRb=l;},40115:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BKa=void 0;c=a(5163);l=a(27364);f=a(7460);k=a(62558);r=(function(){function d(g){var m,h,n,p,q,u,t;m=g.console;h=g.config;n=g.na;p=g.nC;q=g.v;u=g.Ja;t=g.Va;g=g.splice;this.vU=this.vK=!1;this.console=m;this.config=h;this.nC=p;this.na=n;this.v=q;this.Ja=u;this.Va=t;this.splice=g;this.LNb();}d.prototype.Bb=function(g){if(this.vK)throw Error("Cannot call init() after cleanup");if(this.vU)throw Error("Cannot call init() twice");this.vU=!0;this.I7a=g;this.na.events.addListener("onHeaderFragments",this.oUa);this.$ha() && this.usa();};d.prototype.normalize=function(){if(this.vK)throw Error("Cannot call normalize() after cleanup");if(this.vU)throw Error("Cannot call init() / normalize() twice");this.vU=!0;(0,k.assert)(this.$ha());return this.usa();};d.prototype.yN=function(g,m){(0,k.assert)(this.vU,"expected to be called init() before renormalize");this.v=g;this.Va=m;g=(0,f.pva)(this.config,this.nC,this.Va);this.i7a();return g;};d.prototype.We=function(){this.vK || (this.vK=!0,this.I7a=void 0,this.na.events.removeListener("onHeaderFragments",this.oUa));};d.prototype.LNb=function(){var g;g=this;this.oUa=function(){g.vK || g.$ha() && g.usa();};};d.prototype.usa=function(){var g,m,h;if(this.vK)return {OS:!1,$A:!1};m=this.VTb();h=!1;this.v && !this.v.Op && (h=this.i7a());null === (g=this.I7a) || void 0 === g?void 0:g.call(this,m,h);this.We();return {OS:m,$A:h};};d.prototype.$ha=function(){return this.nC.every(function(g){return g.track.Gh;});};d.prototype.VTb=function(){var g,m;g=c.__read((0,f.g7a)(this.config,this.nC,this.Ja,this.Va,this.splice,this.console),2);m=g[0];return g[1] || void 0 === this.nC.get(l.u.X) && m;};d.prototype.i7a=function(){var g,m,h;(0,k.assert)(this.v,"missing segment");g=this.nC.tua;m=(0,f.j7a)(this.config,g,this.v.je);if(void 0 === m || void 0 === g.Va)return !1;g=g.Va;h=this.config.Vya && "lazy" === this.v.Yd?(0,f.w5a)(this.console,this.v,this.nC):[];this.v.normalize(m,g,h);return !0;};return d;})();b.BKa=r;},35471:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b["default"]={ipa:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},60763:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wea=void 0;c=a(5163);r=(function(l){function f(k,d){k=l.call(this,k) || this;k.Ula=d;k.name="PlaybackError";return k;}c.__extends(f,l);f.cPb=function(k){return k && k.message && k.stack && k.Ula?"PlaybackError" === (null === k || void 0 === k?void 0:k.name):!1;};return f;})(Error);b.wea=r;},26967:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Gba=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(97810);g=a(62558);m=a(7881);r=a(88801);h=a(39886);n=a(58628);p=a(18650);q=a(72938);u=a(13353);t=a(54037);v=r.Tv.Xka;a=(function(w){function y(x,z,A){var B;B=w.call(this) || this;B.Y=x;B.Cg=z;B.Zo=A;B.VS=[];B.pe=void 0;B.SQ=new l.ye();B.iA=void 0;B.nA=void 0;B.Ega=void 0;B.SQ.on(B.Y,"underflow",B.ph.bind(B));B.JQ=new u.gLa(x);B.SQ.on(B.Y,"skipped",B.YV.bind(B));B.SQ.on(B.Y,"playing",B.Zsa.bind(B));B.SQ.on(B.Y,"playbackEnding",B.Ysa.bind(B));B.Ru=new m.rQ(B.JQ,B.V,"player");B.kza=new d.Uh();x.bUa && x.lf && (B.bz=new t.LMa(B,x,B.V));return B;}c.__extends(y,w);Object.defineProperties(y.prototype,{nl:{get:function(){var x;return null === (x=this.pe) || void 0 === x?void 0:x.nl;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Xv:{get:function(){var x;return (null === (x=this.pe) || void 0 === x?void 0:x.Xv) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ya:{get:function(){var x,z;return null !== (z=null === (x=this.pe) || void 0 === x?void 0:x.Ep()) && void 0 !== z?z:[];},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{m4a:{get:function(){return this.Ega;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ya:{get:function(){var x;return null === (x=this.pe) || void 0 === x?void 0:x.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sa:{get:function(){return this.JQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{FSa:{get:function(){var x,z;return !!((null === (x=this.pe) || void 0 === x?0:x.JH) && (null === (z=this.jr) || void 0 === z?0:z.Zh));},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{JH:{get:function(){var x,z;return null !== (z=null === (x=this.pe) || void 0 === x?void 0:x.JH) && void 0 !== z?z:!1;},enumerable:!1,configurable:!0}});y.prototype.Zsa=function(x){var z;this.Ega=this.al(null !== (z=x.we) && void 0 !== z?z:this.Y.Cd);(0,g.assert)(this.Ega,"Should have a location");};y.prototype.Ysa=function(x){var z;if(this.Nd){x=this.al(x.we || this.Y.Cd,!0);(0,g.assert)(x,"Playback ending at position outside playgraph");z=this.yB(x);(0,g.assert)(z,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:z,position:x});}else this.console.warn(("Unexpected playback ending event at ").concat(x.we));};y.prototype.zbb=function(x){-1 === this.VS.indexOf(x) && this.VS.push(x);this.pe && this.pe.VV(x);this.events.emit("drmReady",{viewableId:x});};y.prototype.ybb=function(x){x=this.VS.indexOf(x);-1 !== x && this.VS.splice(x,1);};y.prototype.GU=function(x){var z;return -1 !== this.VS.indexOf(x) || !(null === (z=(0,k.wc)(this.Ya,function(A){return A.Zm && A.na.J === x;})) || void 0 === z || !z.na.gv);};y.prototype.HC=function(x){var z;null === (z=this.pe) || void 0 === z?void 0:z.HC(x);};y.prototype.tY=function(x){var z;null === (z=this.pe) || void 0 === z?void 0:z.tY(x);};y.prototype.reset=function(){var x,z;this.kza=new d.Uh();w.prototype.reset.call(this);this.nA=void 0;null === (x=this.pe) || void 0 === x?void 0:x.reset();null === (z=this.bz) || void 0 === z?void 0:z.reset();};y.prototype.Iva=function(x){this.EN([x]);};y.prototype.EN=function(x){var z,A;z=this;x.forEach(function(B){var C;w.prototype.Iva.call(z,B);null === (C=z.bz) || void 0 === C?void 0:C.f0b(B);});null === (A=this.pe) || void 0 === A?void 0:A.EN(x);};y.prototype.OA=function(){var x;null === (x=this.pe) || void 0 === x?void 0:x.OA();};y.prototype.pause=function(x){this.QH(x);w.prototype.pause.call(this,null !== x && void 0 !== x?x:this.Cg);};y.prototype.resume=function(x){var z;null === (z=this.pe) || void 0 === z?void 0:z.resume(x);w.prototype.resume.call(this,null !== x && void 0 !== x?x:this.Cg);};y.prototype.Oa=function(){this.iA=this.q6()?this.$n():void 0;this.pe && this.gla(this.pe.ya);this.JQ.Oa();this.Ru.Oa();this.SQ.clear();w.prototype.Oa.call(this);};y.prototype.IF=function(){var x,z;if(null === (x=this.pe) || void 0 === x?0:x.mYb){x=this.Y.Cd;if(this.sa.ji){if(this.nA){if(this.nA.greaterThan(x))return (x=this.nA.qa(x),this.kza.push(x.G),this.nA);if(this.Ya.length){z=this.pe.$Pb;if(z && z.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Fc:{clockdrift:{type:"count"}}}),this.nA);}}this.nA=x;}return x;}return w.prototype.IF.call(this);};y.prototype.EL=function(){var x;x=this.Y.playbackRate;void 0 === x && (x=w.prototype.EL.call(this));return x;};y.prototype.q6=function(){return !!this.iA || w.prototype.q6.call(this);};y.prototype.$n=function(){return this.iA?this.iA:w.prototype.$n.call(this);};y.prototype.NF=function(){var x;return null === (x=this.pe) || void 0 === x?void 0:x.l4a;};y.prototype.gla=function(x){var z;(0,g.assert)(x === this.ya);null === (z=this.pe) || void 0 === z?void 0:z.Oa();this.pe=void 0;};y.prototype.O2=function(x,z){var A,B;this.iA=void 0;A=w.prototype.O2.call(this,x,z);if(A){B=new p.NAa(x,this,this.V,x.config,this.Zo,this.events,this.Cg,this.Ru,this.bz,this.kA,this.hA,this.AJ,null === z || void 0 === z?void 0:z.nl,null === z || void 0 === z?void 0:z.Xv);null === z || void 0 === z?void 0:z.SM();this.pe=B;this.QH(this.ZM);this.bz && (z=x.Rt.WKb(h.afa),z || (z=new h.afa(),x.Be(z)),this.bz.f_b(z));}return A;};y.prototype.SM=function(){var x;null === (x=this.pe) || void 0 === x?void 0:x.SM();};y.prototype.Qla=function(){var A;for(var x=[],z=0;z < arguments.length;z++){x[z]=arguments[z];}A=this.pe;(0,g.assert)(A);x.forEach(function(B){return A.gFb(B);});};y.prototype.xX=function(){var x;null === (x=this.pe) || void 0 === x?void 0:x.xX();};y.prototype.T3b=function(x,z,A){var B;null === (B=this.ya) || void 0 === B?void 0:B.lya(x.to,x.from,z,A);};y.prototype.bi=function(x){var z,A,B;if(!this.pe)return !1;z=this.CT(x);if(!z)return !1;A=z.v;B=f.L.Ma(this.Zo.n8);return A.Ef.qa(B).lessThan(x) || !z.yK(x)?!1:this.pe.bi(x);};y.prototype.ph=function(){var x,z,A;if(null === (x=this.ya) || void 0 === x?0:x.zj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {A=this.Jd;(0,g.assert)(this.ya);x=this.al(A,!0);(0,g.assert)(x);null === (z=this.pe) || void 0 === z?void 0:z.ph(x);z=this.CT(A);null === z || void 0 === z?void 0:z.na.ph();this.ya.ph(x);}};y.prototype.YV=function(){this.nA=void 0;};y.prototype.hna=function(){var x;return null === (x=this.pe) || void 0 === x?void 0:x.hna();};y.prototype.QH=function(x){var z;null === (z=this.pe) || void 0 === z?void 0:z.QH(x);};y.prototype.mya=function(x){(0,g.assert)(this.ya && this.pe);return w.prototype.mya.call(this,x);};y.prototype.I9=function(){(0,g.assert)(this.pe);this.pe.I9();};c.__decorate([v.return.Uia(),v.return.fm],y.prototype,"$n",null);c.__decorate([v.return.Uia(),v.return.K8],y.prototype,"NF",null);return y=c.__decorate([n.pL],y);})(q.Bea);b.Gba=a;},18650:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y;Object.defineProperties(b,{__esModule:{value:!0}});b.NAa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(57903);g=a(86102);m=c.__importDefault(a(35471));h=a(89755);n=a(27364);p=a(87425);q=a(97810);u=a(7881);t=a(62558);v=a(53412);w=a(8190);y=a(56405);r=(function(){function x(z,A,B,C,D,F,G,E,H,M,L,K,O,J){var I;I=this;this.ya=z;this.Y=A;this.V=B;this.Z=C;this.Zo=D;this.ib=F;this.Cg=G;this.yd=E;this.bz=H;this.kA=M;this.hA=L;this.AJ=K;this.jR=J;this.f1=!1;this.BPa=new q.aNa();this.Qga=this.OUb.bind(this);this.Sga=this.rVb.bind(this);this.ps=new h.aD(this.V);this.zR=O || new w.rfa(this.V,z);this.fBb();this.Vh && (this.Vqb=this.q5(this.LKb()),this.oPa());this.cp=E.Rx(function(){return I.uvb();},"branchPruner");this.Fn=new l.ye();this.Fn.on(this.ib,"segmentPresenting",function(){return c.__awaiter(I,void 0,void 0,function(){var N;return c.__generator(this,function(R){switch(R.label){case 0:return (this.Ppb=this.Y.$n(),null !== (N=this.Z.USa) && void 0 !== N && N.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(R.Ta(),this.ib.emit("requestGarbageCollection",{time:m.default.time.xa(),type:"requestGarbageCollection"}),R.label=2);case 2:return [2];}});});});}Object.defineProperties(x.prototype,{nl:{get:function(){return this.zR;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xv:{get:function(){var z;z=new Map();this.Vh.forEach(function(A){z.set(A.mediaType,A.sC);});return z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{l4a:{get:function(){return this.Ppb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{JH:{get:function(){return this.Vh.every(function(z){return z.JH;});},enumerable:!1,configurable:!0}});x.prototype.uvb=function(){var z,A,B,C,D,F;return c.__generator(this,function(G){switch(G.label){case 0:if(!this.ps.hVa)return [3,2];z=c.__read(this.ps.jY(),1);A=z[0];B=A.v.p3a && (null === (F=this.Zo.WN) || void 0 === F?void 0:F.G) || 0;C=A.u7 || A.Pb;D=C.add(f.L.Ma(B + 1E3));return [4,u.Jg.iu(D)];case 1:return (G.Ta(),this.S9a(A),[3,0]);case 2:return [2];}});};Object.defineProperties(x.prototype,{mYb:{get:function(){var z;return !(null === (z=this.Vqb) || void 0 === z || !z.sr.value);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$Pb:{get:function(){return this.f1?f.L.max.apply(f.L,c.__spreadArray([],c.__read(this.Vh.map(function(z){var A;return null === (A=z.rub) || void 0 === A?void 0:A.k4a;}).filter(k.D8)),!1)):void 0;},enumerable:!1,configurable:!0}});x.prototype.HC=function(z){this.Vh.forEach(function(A){A.HC(z);});};x.prototype.OUb=function(){var z;this.cp.lf();z=this.Vh.filter(function(A){return A.sOb;}).map(function(A){return A.mediaType;});this.QH(z);this.resume(z);};x.prototype.rVb=function(z){var A,B,C;z=z.nb;A=this.Ep();B=A.indexOf(z);if(-1 !== B && !A.slice(0,B).some(function(D){return !D.Zh;})){C=z.Mk;C && C.greaterThan(this.AJ.value) && (z.Zh && B < A.length - 1 && (C=f.L.max(C,A[B + 1].Mk || f.L.hTb)),this.AJ.set(C));}};x.prototype.gFb=function(z){(0,t.assert)(-1 === this.ps.jY().indexOf(z),("Branch ").concat(z.v.id," is already in the collection, cannot re-queue"));z.events.on("branchEdited",this.Qga);z.events.on("requestComplete",this.Sga);z.Mk && this.Ep().every(function(A){return A.Zh;}) && this.AJ.set(z.Mk);this.ps.enqueue(z);this.cp.state === u.Fk.complete && this.cp.lf();z.v.ZX && this.ps.uF();this.f1 || this.SGb(z);};x.prototype.VV=function(z){this.Vh.forEach(function(A){A.VV(z);});};x.prototype.tY=function(z){var A,B,C,D;A=this;B=!1;C=this.Vh.map(function(F){return F.mediaType;});this.ya.k1a().some(function(F){return F.ba;}) || (C=C.filter(function(F){return F !== n.u.Ha;}));D=(0,k.Fq)(C,z);D.forEach(function(F){var G;G=A.ig.sourceBuffers;G=(0,k.wc)(G,function(E){return E.mediaType === F;});(0,t.assert)(G);A.ig.removeSourceBuffer(G);G=A.q5(F);(0,t.assert)(G);G.reset();G.Oa();(0,k.F2)(A.Vh,G);(0,k.F2)(D,F);B=!0;});z=(0,k.Fq)(z,C);if(!this.QR(this.ig,z))throw (this.oE("error creating source buffers","NFErr_MC_StreamingInitFailure"),this.ig.error);z.forEach(function(F){var G;G=A.ig.sourceBuffers;G=(0,k.wc)(G,function(E){return E.mediaType === F;});(0,t.assert)(G);G=A.XVa(A.ig,G);A.Vh.push(G);B=!0;});B && this.oPa();};x.prototype.reset=function(){this.Vh.forEach(function(z){z.reset();});this.f1=!1;this.BPa.removeAllListeners();this.OA();};x.prototype.Iva=function(z){this.EN([z]);};x.prototype.EN=function(z){var A;A=this;z.forEach(function(B){B=A.q5(B);null === B || void 0 === B?void 0:B.reset(!1,z);});};x.prototype.OA=function(){var z;z=this;this.ps.jY().forEach(function(A){A.events.vr("branchEdited",z.Qga);A.events.vr("requestComplete",z.Sga);});this.ps.clear();this.cp.lf();};x.prototype.I9=function(){var z;z=this;this.ps.jY().filter(function(A){return A.bK;}).forEach(function(A){return z.S9a(A);});};x.prototype.resume=function(z){this.Vh.forEach(function(A){void 0 !== z && -1 === z.indexOf(A.mediaType) || A.resume();});};x.prototype.QH=function(z){this.Vh.forEach(function(A){return (void 0 === z || -1 !== z.indexOf(A.mediaType)) && A.stop();});};x.prototype.xX=function(){this.Vh.forEach(function(z){return z.xX();});};x.prototype.ph=function(z){var A,B,C;this.V.trace("attached-player: onUnderflow");A=this.l4a;if(this.Zo.XK && A.Zm && A.na.ba){B=A.Xq();if(B && 0 < B.length && (B=B.reduce(function(D,F){(F=F.kKb()) && D.push(F);return D;},[]),B.length)){B=f.L.max.apply(f.L,c.__spreadArray([],c.__read(B),!1));C=(0,g.h0a)(A.na.W);B=B.add(f.L.Ma(C));z=this.ya.WF(z);(0,t.assert)(z.Jl.G <= B.G);A=this.ya.xp({J:A.na.J,Jl:B});(0,t.assert)(A);A={type:"fragmentsMissing",V6a:A,zhc:B};this.ib.emit(A.type,A);}}};x.prototype.gLb=function(){return this.ps.getIterator();};x.prototype.BJb=function(){return this.Ep()[0];};x.prototype.Ep=function(){return this.ps.jY();};x.prototype.QR=function(z,A){var B,C;B=!0;C=z.sourceBuffers;A.forEach(function(D){(0,k.wc)(C,function(F){return F.mediaType === D;}) || z.addSourceBuffer(D) || (B=!1);});B || this.V.warn("Error adding sourceBuffer:",z.error);return B;};x.prototype.fBb=function(){var z,A;z=this;this.NJ("createMediaSourceStart");if(this.Zo.Qna)A=this.Zo.Qna();else (A=new m.default.MediaSource(this.Y.Y),A.tf || (A.tf=m.default.MediaSource.tf));if(1 !== A.readyState)this.oE("exception in init","NFErr_MC_StreamingInitFailure");else {this.NJ("createMediaSourceEnd");this.ig=A;if(!this.QR(A,this.Cg))throw (this.oE("error creating source buffers","NFErr_MC_StreamingInitFailure"),A.error);this.mPa={};this.ya.Be(new v.$Ba(this.mPa,this.Z));this.Vh=A.sourceBuffers.filter(function(B){return 0 <= z.Cg.indexOf(B.mediaType);}).map(function(B){return z.XVa(A,B);});}};x.prototype.XVa=function(z,A){var B,C,D,F;B=this;z=new p.wBa(A.mediaType,z,A,this.Z,this.Y,this.yd);z.addListener("error",function(G){return B.oE(G.errorstr);});z.addListener("logdata",function(G){return B.ib.emit("logdata",G);});z.addListener("managerdebugevent",function(G){B.ib.emit("managerdebugevent",G);});F=null === (C=this.jR) || void 0 === C?void 0:C.get(A.mediaType);C=new d.yAa(z,A.mediaType,this,this.Z,this.V,this.Y,this.Zo,this.yd,this.nl,this.bz,F);if(A.mediaType === n.u.X)C.on("drmNeeded",function(G){return B.ib.emit("drmNeeded",G);});F || (null === (D=C.sC) || void 0 === D?void 0:D.Wsb(new y.bca(this.mPa[A.mediaType]={},this.V,this.Y,z,this.Y.events,this.Zo,this.yd)));return C;};x.prototype.S9a=function(z){var A;(0,t.assert)(z.bK,"Attempted to prune branch that has not been fully appended");this.ps.remove(z);z.events.removeListener("branchEdited",this.Qga);z.events.removeListener("requestComplete",this.Sga);z.Cf("pruned");(null === (A=this.Z.USa) || void 0 === A?0:A.branchPruned) && this.ib.emit("requestGarbageCollection",{time:m.default.time.xa(),type:"requestGarbageCollection"});};x.prototype.Oa=function(){this.Mga.clear();this.Kfa.clear();this.Vh.forEach(function(z){return z.Oa();});this.Zo.Qna || this.ig.Vs();this.OA();this.cp.Oa();this.Fn.clear();};x.prototype.bi=function(z){return this.Vh.every(function(A){return A.bi(z);});};x.prototype.SM=function(){this.Vh.forEach(function(z){return z.SVa();});this.zR=new w.rfa(this.V,this.ya);};x.prototype.hna=function(){return {jZb:this.Ep(),cXb:this.Vh};};x.prototype.SGb=function(z){var A;A=this;this.f1=!0;z.Ed.forEach(function(B){var C;C=A.q5(B.mediaType);if(void 0 !== C)A.BPa.once(B.Lma,function(D){return C.UGb(D);});});if(z.Ja)this.OXa();else z.events.once("branchNormalized",function(){return A.OXa();});};x.prototype.OXa=function(){var z;z=this.BJb();z && ((0,t.assert)(z.Ab),this.ib.emit("ptsChanged",{initialTimestamp:z.Ab,forcedTimestamp:void 0}));};x.prototype.q5=function(z){return (0,k.wc)(this.Vh,function(A){return A.mediaType === z;});};x.prototype.LKb=function(){return -1 !== this.Cg.indexOf(n.u.X)?n.u.X:n.u.fa;};x.prototype.NJ=function(z){z={type:"startEvent",event:z,time:m.default.time.xa()};this.ib.emit(z.type,z);};x.prototype.oE=function(z,A){this.ya.kf(z,void 0,A);};x.prototype.oPa=function(){var z;z=this;this.Mga && this.Mga.clear();this.Mga=f.qq.ngb(this.Vh.map(function(A){return A.sr;}),function(A){return A.every(function(B){return B;});},function(A){return z.kA.set(A);});this.Kfa && this.Kfa.clear();this.Kfa=new f.Uda(this.Vh.map(function(A){return A.m7;}),function(A){return f.L.min.apply(f.L,c.__spreadArray([],c.__read(A),!1));},function(A){z.hA.set(A);},f.L.Ma(-Infinity));};return x;})();b.NAa=r;},56405:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bca=void 0;c=a(5163);l=a(57055);f=a(62558);k=a(49730);d=0;r=(function(g){function m(h,n,p,q,u,t,v,w){n=g.call(this,("cdnList").concat(d++),n,p,q,u,t,v,"cdnList",w) || this;n.mg=h;n.Bb();return n;}c.__extends(m,g);m.prototype.Bb=function(){var h;h=this;this.hR=new l.ye();this.hR.on(this.tb.Y,"skipped",function(n){h.Su && ((null === n || void 0 === n?0:n.iYb) && h.xS(n.iYb),h.Su=void 0);});this.hR.on(this.tb.Y,"paused",function(){h.Su && h.tb.Nd && h.xS(h.tb.Jd);});this.hR.on(this.tb.Y,"underflow",function(){h.Su && h.tb.Nd && h.xS(h.tb.Jd);});};m.prototype.cv=function(h,n,p){this.hR.clear();g.prototype.cv.call(this,h,n,p);this.Bb();};m.prototype.close=function(){k.K && this.console.trace("close");g.prototype.close.call(this);this.hR.clear();};m.prototype.A3b=function(h,n){var p;p=this;this.Su && this.xS(h);return this.$Ya(n).map(function(q){return p.mg[q];});};m.prototype.H$a=function(h){var n;n=this;this.$Ya(h).forEach(function(p){delete n.mg[p];});};m.prototype.$Ya=function(h){var n;n=this;return Object.keys(this.mg).filter(function(p){return n.mg[p].P === ("").concat(h);});};m.prototype.sr=function(h){var n,p,q;n=h.stream;p=h.Qc;q=h.Ab;h=h.Pb;(0,f.assert)(void 0 !== q);(0,f.assert)(void 0 !== h);k.K && this.console.trace(("Media appended ").concat(q.lb(),"-").concat(h.lb()));this.Mha({stream:n,Qc:p},q,h);};m.prototype.d7=function(h,n){return h.stream === n.stream && h.Qc === n.Qc;};m.prototype.sJb=function(h){var n,p;p=h.Fo;h=p.Qc;p=null === (n=p.stream.na.W.NA) || void 0 === n?void 0:n.Sp;return ("").concat(h,"::").concat(p);};m.prototype.Dla=function(h,n){k.K && this.console.trace(("Presenting event for ( ").concat(h.Fo.stream.id,", ").concat(h.Fo.Qc," )") + (" at ").concat(n.lb()));this.Su?this.xS(n):this.LQ=n;this.Su=h;};m.prototype.xS=function(h){var n,p,q,u,t,v,w,y,x;(0,f.assert)(this.Su);if(null === (n=this.Hka) || void 0 === n?0:n.lessThan(h))h=this.Hka;t=this.Su;n=this.mg;v=t.Fo;w=v.stream;v=v.Qc;y=null === (p=w.mV) || void 0 === p?void 0:p.Nm;p=h.qa(this.LQ || t.timestamp).G;if(void 0 !== v && void 0 !== y){x=null === (q=w.na.W.NA) || void 0 === q?void 0:q.Sp;q=w.track.P;t=this.sJb(t);n=(u=(n[t] || (n[t]={Hm:v,Sp:x,P:q,qF:{}})).qF)[y] || (u[y]={bitrate:w.bitrate,Ub:y,mediaType:w.mediaType,totalTime:0,Cb:w.Cb});n.totalTime=Math.max(n.totalTime + p,0);}this.LQ=h;};m.prototype.clone=function(h,n){n=void 0 === n?{}:n;h=new (n.Ric || m)(h,this.HVb,this.tb,this.C2,this.events,this.Zo,this.pc,n.priority);this.Sxb(h);h.Su=this.Su;h.LQ=this.LQ;k.K && h.console.trace("Cloning",{Ndc:h.Bj.length});return h;};m.prototype.reset=function(){g.prototype.reset.call(this);this.LQ=void 0;};m.prototype.e7=function(h){return ("(").concat(h.stream.Qb,", ").concat(h.Qc,")");};return m;})(a(1168).t0);b.bca=r;},91829:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hEa=void 0;c=a(5163);l=a(49730);f=a(7881);r=(function(){function k(d,g,m){this.pc=d;this.RSb=g;this.V=m;}Object.defineProperties(k.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});k.prototype.waitUntil=function(d){var g;d=(0,f.dba)(this.pc,d,!0);g=d.promise;this.Rrb=d.Mf;return g;};k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m;return c.__generator(this,function(h){switch(h.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.Nma)return [3,2];m=g.Ab.qa(this.RSb);l.K && this.V.trace(("[").concat(g.mediaType,"] JIT: waiting until playertime >= ").concat(m.G),("to append next request ").concat(g.toString()));return [4,this.waitUntil(m)];case 1:(h.Ta(),l.K && this.V.trace(("[").concat(g.mediaType,"] JIT: now appending request ").concat(g.toString())),h.label=2);case 2:return [2,d];}});});};k.prototype.reset=function(){var d;null === (d=this.Rrb) || void 0 === d?void 0:d.Oa();};return k;})();b.hEa=r;},37096:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TGa=void 0;c=a(5163);l=a(36418);f=a(42866);r=(function(){function k(d){this.V=d;}Object.defineProperties(k.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m,h,n,p,q,u,t,v,w,y,x,z,A;return c.__generator(this,function(){d.done || (g=d.value.value,g.stream.ba && (m=g.bLb(),m instanceof ArrayBuffer && (h=new l.pq(this.V,g.stream,m,["moof"],!0,{Gta:!0}),n=h.parse(),n.Qv && (p=h.Sm("moof"),q=p.Sm("traf"),u=q.Sm("trun"),t=q.Sm("tfdt"),v=g.stream.Mt,w=u.sd,y=t.OE,x=n.La.N,z=new f.L(y,x),A=this.Bq?z.qa(this.Bq.fvb):void 0,this.V.trace(("Live Request Logger: processing request [").concat(g.mediaType,"]"),{baseMediaDecodeTime:y,timescale:x,baseMediaDecodeMs:z.G,ptsOffsetMs:v.G,mediaTimestampMs:z.qa(v).G,offsetFromPriorMs:null === A || void 0 === A?void 0:A.G,sampleCount:w,url:g.url}),this.Bq={fvb:z}))));return [2,d];});});};k.prototype.reset=function(){this.Bq=void 0;};return k;})();b.TGa=r;},54037:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.LMa=void 0;c=a(5163);l=a(42866);f=a(57055);k=a(49730);d=a(27364);g=c.__importDefault(a(35471));m=a(97810);h=a(62558);r=(function(){function n(p,q,u){var t;t=this;this.tb=p;this.Y=q;this.pending=new Map();this.listeners=new f.ye();this.tsa=!1;this.nMb=function(v){t.wab(!0,function(){k.K && t.V.debug("cancelling playback ending");v.cancel();});};this.listeners.addListener(q,"playbackEnding",this.nMb);this.V=(0,m.Kh)(g.default,u,"SEAMLESSMANAGER");k.K && this.V.debug("construct");}n.prototype.Oa=function(){k.K && this.V.debug("destruct");this.pending.clear();this.listeners.clear();};n.prototype.f_b=function(p){this.Sab=p;};n.prototype.L8b=function(p){var q;0 === this.pending.size && ((0,h.assert)(void 0 === this.KK,"SeamlessManager: No pending transitions, but a wait is deferred"),this.KK=new l.Kz());(0,h.assert)(this.KK,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(p.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + p.mediaType);this.pending.set(p.mediaType,p);k.K && this.V.trace(("got new transition [").concat(p.mediaType,"] --\x3e ").concat(p.to.stream.id));if(this.pending.size === this.tb.Cg.length && !this.tsa){q=this.hPb();if(q.kua)return (k.K && this.V.trace(("seamless transition possible at ").concat(p.timestamp.lb())),this.KK.resolve(),this.reset(),Promise.resolve());k.K && this.V.trace(("starting non-seamless transition at ").concat(p.timestamp.lb()));this.S3b(q.info);}return this.KK.promise;};n.prototype.f0b=function(p){k.K && this.V.trace(("reset media [").concat(p,"]"));this.pending.delete(p);0 === this.pending.size && this.reset();};n.prototype.reset=function(){k.K && this.V.debug("resetting");this.tsa=!1;this.KK=void 0;this.pending.clear();};n.prototype.hPb=function(){var p,q,u,t,y,x,z,A,B,C,D,F,G,E,H;t={kua:!0};try{for(var v=c.__values(this.pending.entries()),w=v.next();!w.done;w=v.next()){y=c.__read(w.value,2);x=y[0];z=y[1];if(z.from){A=z.from.stream;B=z.to.stream;if(A.track === B.track)k.K && this.V.debug("Seamless deemed possible due to same track",{mediaType:x});else {C=A.Wm();D=B.Wm();F=void 0;G=this.tb.al(z.timestamp);F=z.from.I && 0 > this.tb.m7.value.G?{I:z.from.I,offset:l.L.Ma(0)}:this.tb.al(z.y9a);E=this.Y.bUa({mediaType:x,lZa:z.lZa,from:C,to:D,FHb:F,U5b:G});if(E.bUa)k.K && this.V.debug("Seamless deemed possible",{mediaType:x,from:C,to:D,FHb:F,U5b:G});else {k.K && this.V.debug("Non-seamless transition; details:",{reason:E.reason,mediaType:x,from:C,to:D});H=t.kua?[]:t.info.p$a;E.reason && (z.reason="string" !== typeof E.reason?E.reason:void 0,H.push(E.reason));t={kua:!1,info:{aDb:null !== (q=z.to.I) && void 0 !== q?q:"unk",I3b:null !== (u=z.from.I) && void 0 !== u?u:"unk",kXb:z.timestamp,p$a:H}};}}}}}catch(L){var M;M={error:L};}finally{try{w && !w.done && (p=v.return) && p.call(v);}finally{if(M)throw M.error;}}return t;};n.prototype.S3b=function(p){var q;null === (q=this.Sab) || void 0 === q?void 0:q.Ssb(p);this.tsa=!0;this.tb.sr.value?(k.K && this.V.trace("Signaling EOS for upcoming restart"),this.tb.xX()):(k.K && this.V.trace("Signaling immediate restart"),this.wab(!1));};n.prototype.wab=function(p,q){var u,t,v,w,y,x,B,C,D;v=this;if(this.pending.size){k.K && this.V.trace("playback ending, restarting player");w={};y=(u={},u[d.u.fa]=void 0,u[d.u.X]=void 0,u[d.u.Ha]=void 0,u);u=void 0;x=[];try{for(var z=c.__values(this.pending.entries()),A=z.next();!A.done;A=z.next()){B=c.__read(A.value,2);C=B[0];D=B[1];w[C]=D.to.stream.Wm();u={to:{I:D.to.I,offset:D.timestamp}};D.reason && x.push(D.reason);D.from.I && (y[C]=D.from.I,u.from={I:D.from.I,offset:D.y9a});}}catch(G){var F;F={error:G};}finally{try{A && !A.done && (t=z.return) && t.call(z);}finally{if(F)throw F.error;}}null === q || void 0 === q?void 0:q();this.tb.T3b(u,p,x);k.K && this.V.debug("Restarting player",w);this.Y.lf(w,y).then(function(){var G,E;null === (G=v.KK) || void 0 === G?void 0:G.resolve();k.K && v.V.debug("Restart completed");null === (E=v.Sab) || void 0 === E?void 0:E.Tsb();v.reset();});}};return n;})();b.LMa=r;},77029:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MMa=void 0;c=a(5163);l=a(49730);r=(function(){function f(k,d,g){this.bz=k;this.Ae=d;this.V=g;this.E1=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(k){var d;return c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(m){switch(m.label){case 0:if(k.done)return [3,3];g=k.value.value;if(!this.Bq || !g.sv || g.stream.na === this.Bq.stream.na || this.Bq.Ab === g.Ab && this.Bq.S_b === g.index)return [3,2];l.K && this.V.trace(("Seamless Throttler: Waiting on request [").concat(g.mediaType,"]"),g.index,"in",g.v.id);return [4,this.bz.L8b({mediaType:g.mediaType,lZa:this.E1,to:{stream:g.stream,I:g.v.id},from:{stream:this.Bq.stream,I:this.Bq.I},timestamp:g.Ab,y9a:null === (d=this.Bq) || void 0 === d?void 0:d.Ab})];case 1:(m.Ta(),m.label=2);case 2:(this.E1=!1,this.Bq={S_b:g.index,stream:g.stream,Ab:g.Ab,I:g.v.id},m.label=3);case 3:return [2,k];}});});};f.prototype.fVb=function(k,d){void 0 === k && (k=[]);void 0 === d && (d=[]);l.K && this.V.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.E1 || (this.E1=-1 !== d.indexOf(this.Ae));(null === k || void 0 === k?0:k.length) && k.length !== d.length && (this.Bq=void 0);};f.prototype.reset=function(){};return f;})();b.MMa=r;},1918:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.EJa=void 0;c=a(5163);l=a(49730);f=a(62558);k=a(7881);r=(function(){function d(g,m,h,n){var p;p=this;this.pc=g;this.bWb=m;this.vta=h;this.V=n;g.sa.on("stopStart",function(){return p.Rxb();});l.K && this.V.trace(("PacingThrottler: pacingFactory=").concat(m,", pacingThreshold=").concat(h.lb()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.Rxb=function(){var g,m;m=this.pc.sa;this.wK=m.ji?m.currentTime:void 0;this.VR=this.qT=void 0;l.K && this.V.trace(("PacingThrottler: clock reset ").concat(null === (g=this.wK) || void 0 === g?void 0:g.G));};d.prototype.waitUntil=function(g){var m;g=(0,k.dba)(this.pc,g,!0);m=g.promise;this.K8b=g.Mf;return m;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var m,h,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(g.done)return [3,11];m=g.value.value;(0,f.assert)(m.Ab);h=this.pc.sa;if(!this.qT || !this.VR)return [3,10];if(!this.VR.greaterThan(this.vta))return [3,8];if(!this.wK)return [3,5];n=m.Ab.qa(this.wK).qa(this.vta);p=this.wK.add(n.ih(this.bWb));if(!p.lessThan(m.Ab))return [3,3];if(!p.greaterThan(h.currentTime))return [3,2];l.K && this.V.trace(("PacingThrottler: waiting until ").concat(p.lb()," for mediaRequest @") + ("").concat(m.Ab.lb(),", ") + ("current time ").concat(h.currentTime.lb(),", ") + ("clock start time ").concat(this.wK.lb(),", ") + ("distance ").concat(n.lb()));return [4,this.waitUntil(p)];case 1:(q.Ta(),q.label=2);case 2:return [3,4];case 3:(l.K && this.V.warn("PacingThrottler: invalid schedule time " + ("").concat(p.lb()," for mediaRequest ") + ("@").concat(m.Ab.lb(),", ") + ("current time ").concat(h.currentTime.lb(),", ") + ("clock start time ").concat(this.wK.lb(),", ") + ("distance ").concat(n.lb())),q.label=4);case 4:return [3,7];case 5:n=m.Ab.qa(this.qT);if(!n.greaterThan(this.vta))return [3,7];l.K && this.V.trace(("PacingThrottler: (buffering) waiting until ").concat(this.qT.G,"ms") + (" for mediaRequest @").concat(m.Ab.G,"ms, ") + ("current time ").concat(h.currentTime.G));return [4,this.waitUntil(this.qT)];case 6:(q.Ta(),q.label=7);case 7:return [3,9];case 8:(this.VR=this.VR.add(m.Kd),q.label=9);case 9:return [3,11];case 10:(this.qT=m.Ab,this.VR=m.Kd,q.label=11);case 11:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.K8b) || void 0 === g?void 0:g.Oa();};return d;})();b.EJa=r;},14895:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.mea=void 0;c=a(5163);l=a(42866);f=a(62558);k=a(49730);d=a(95971);r=(function(g){function m(h){var n;n=g.call(this) || this;n.ya=h;n.jR=new Map();n.Ya=[];n.JQ=new d.P0({ji:!1,currentTime:function(){return n.Nd?n.Jd:l.L.Jp;},speed:1});return n;}c.__extends(m,g);Object.defineProperties(m.prototype,{sa:{get:function(){return this.JQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nl:{get:function(){return this.zR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xv:{get:function(){return this.jR;},enumerable:!1,configurable:!0}});m.prototype.O2=function(h,n){var p;p=!this.ya;p && (this.ya=h,this.Wfa=(null === n || void 0 === n?0:n.Nd)?n.Jd:void 0,this.zR=null === n || void 0 === n?void 0:n.nl,this.jR=n?n.Xv:new Map(),null === n || void 0 === n?void 0:n.SM());return p;};m.prototype.SM=function(){this.jR=this.zR=void 0;};m.prototype.OA=function(){this.Ya=[];this.Wfa=void 0;};m.prototype.gla=function(h){k.K && (0,f.assert)(this.ya === h);this.ya=void 0;this.OA();};m.prototype.Qla=function(){for(var h,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(h=this.Ya).push.apply(h,c.__spreadArray([],c.__read(n),!1));};m.prototype.IF=function(){return this.Wfa?this.Wfa:g.prototype.IF.call(this);};m.prototype.GU=function(){return !1;};m.prototype.HC=function(){};m.prototype.QH=function(){};m.prototype.I9=function(){this.Ya=this.Ya.filter(function(h){return h.bK?(h.Cf("pruned"),!1):!0;});};m.prototype.Oa=function(){g.prototype.Oa.call(this);this.Xv.forEach(function(h){return h.close();});};return m;})(a(72938).Bea);b.mea=r;},72938:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Bea=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(62558);d=a(27364);r=a(88801);g=c.__importDefault(a(35471));m=a(49730);h=a(97810);n=r.Tv.Xka;a=(function(){function p(){this.ZM=[];this.kA=new f.qq(!1);this.hA=new f.qq(f.L.Ma(-Infinity));this.AJ=new f.qq(f.L.Ma(-Infinity));this.events=new l.EventEmitter();this.V=new g.default.Console("ASEJS","media|asejs");}Object.defineProperties(p.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yd:{get:function(){return this.Ru;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{m4a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nl:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xv:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{playbackRate:{get:function(){return this.EL();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{FSa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sr:{get:function(){return this.kA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{m7:{get:function(){return this.hA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Mk:{get:function(){return this.AJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Nd:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jd:{get:function(){return this.IF();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zg:{get:function(){var q,u;q=this.Jd;u=this.al(q,!1);m.K && (0,k.assert)(u,("Could not find current branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{TNb:{get:function(){return this.Ya[0];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jr:{get:function(){return this.Hp?this.Ya[this.Ya.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sy:{get:function(){var q,u;q=this.Jd;u=this.CT(q);(0,k.assert)(u,("Could not find presenting branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hp:{get:function(){return 0 < this.Ya.length;},enumerable:!1,configurable:!0}});p.prototype.zbb=function(){};p.prototype.ybb=function(){};p.prototype.bi=function(){return !1;};p.prototype.q6=function(){return 0 < this.Ya.length;};p.prototype.$n=function(){(0,k.assert)(0 < this.Ya.length,"Could not find presenting branch. Player has no branches.");return this.Sy;};p.prototype.t1a=function(q){return -1 !== this.Ya.indexOf(q);};p.prototype.O2=function(){return void 0 !== this.ya?!1:!0;};p.prototype.SM=function(){};p.prototype.Oa=function(){};p.prototype.yB=function(q){var u,t,v;u=this.Ya.filter(function(w){return w.v.id === q.I;});if(0 !== u.length){t=this.IF();v=new f.L(Infinity,1);u.forEach(function(w){w=w.zr.add(q.offset);t.LK(w).lessThan(t.LK(v)) && (v=w);});return v;}};p.prototype.hU=function(q){var u,t,v,w,y,x,z,A,B,C;return c.__generator(this,function(D){switch(D.label){case 0:u=this.Ya.filter(function(F){return F.v.id === q.I;});if(0 === u.length)return [2,void 0];t=this.IF();D.label=1;case 1:(D.Qj.push([1,6,7,8]),v=c.__values(u),w=v.next(),D.label=2);case 2:if(w.done)return [3,5];y=w.value;x=y.zr.add(q.offset);z=t.LK(x);return [4,{Xp:x,LK:z}];case 3:(D.Ta(),D.label=4);case 4:return (w=v.next(),[3,2]);case 5:return [3,8];case 6:return (A=D.Ta(),B={error:A},[3,8]);case 7:try{w && !w.done && (C=v.return) && C.call(v);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};p.prototype.al=function(q,u){var t,v,w;void 0 === u && (u=!1);t=this.CT(q,u);if(t){v=t.v;u=v.id;w=v.duration;q=f.L.min(q.qa(v.je.add(t.te)),w || f.L.Jp);return {I:u,offset:q};}};p.prototype.tY=function(){};p.prototype.reset=function(){this.OA();};p.prototype.Iva=function(){};p.prototype.EN=function(){};Object.defineProperties(p.prototype,{JH:{get:function(){return !1;},enumerable:!1,configurable:!0}});p.prototype.pause=function(q){void 0 === q && (q=d.WP);this.ZM=null === q || void 0 === q?void 0:q.reduce(function(u,t){-1 === u.indexOf(t) && u.push(t);return u;},this.ZM);};p.prototype.resume=function(q){var u;u=this;void 0 === q && (q=d.WP);q.forEach(function(t){t=u.ZM.indexOf(t);-1 !== t && u.ZM.splice(t,1);});};p.prototype.mya=function(q){var u;(0,k.assert)(this.ya);(0,k.assert)(q !== this);this.QH();u=q.O2(this.ya,this);u && (this.I9(),q.pause(this.ZM),q.Qla.apply(q,c.__spreadArray([],c.__read(this.Ya),!1)),this.gla(this.ya));return u;};p.prototype.IF=function(){return this.T_a();};p.prototype.T_a=function(){var q,u;m.K && (0,k.assert)(this.Hp,"Attempted to get initial time before any branches were queued");u=c.__read(this.Ya,1)[0];m.K && (0,k.assert)(u);return null !== (q=u.Ab) && void 0 !== q?q:u.qy;};p.prototype.EL=function(){return 1;};p.prototype.NF=function(){};p.prototype.CT=function(q,u){var t;void 0 === u && (u=!1);if(this.Hp){t=this.T_a();return q.lessThan(t)?this.Ya[0]:(0,h.Dma)(this.Ya,q) || (u?this.jr:void 0);}};p.prototype.JIb=function(){var q,u,w,y,x,z,A,B;u={};try{for(var t=c.__values(this.Ya),v=t.next();!v.done;v=t.next()){w=v.value;y=void 0;x=void 0;z=w.rL();for(y in z){A=y;B=z[A];B && (u[A]=(null !== (x=u[A]) && void 0 !== x?x:0) + B);}if(!w.Zh)break;}}catch(D){var C;C={error:D};}finally{try{v && !v.done && (q=t.return) && q.call(t);}finally{if(C)throw C.error;}}return u;};c.__decorate([n.return.Og(),n.return.K8],p.prototype,"m4a",null);c.__decorate([n.return.Og()],p.prototype,"zg",null);c.__decorate([n.return.Uia(),n.return.fm],p.prototype,"$n",null);c.__decorate([c.__param(0,n.Og())],p.prototype,"yB",null);c.__decorate([c.__param(0,n.Og())],p.prototype,"hU",null);c.__decorate([n.return.Og()],p.prototype,"al",null);return p;})();b.Bea=a;},13353:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gLa=void 0;c=a(57055);l=a(42866);f=a(27364);r=a(55011);a=(function(){function k(d){this.Y=d;this.Aga=!1;this.qQa=new c.ye();this.d_b();}k.prototype.d_b=function(){var d,g;d=this;g=this.qQa;g.on(this.Y,"paused",function(){return d.Z8();});g.on(this.Y,"playing",function(){return d.Z8(!0);});g.on(this.Y,"underflow",function(){return d.Z8();});g.on(this.Y,"skipped",function(){return d.YV();});g.on(this.Y,"clockAdjusted",function(){return d.UV();});g.on(this.Y,"playbackRateChanged",function(){return d.lVb();});};Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.kRa || this.Y.Cd || l.L.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ji:{get:function(){return this.Aga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){var d;return null !== (d=this.Y.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});k.prototype.Z8=function(d){void 0 === d && (d=!1);d !== this.Aga && (this.kRa=(this.Aga=d)?void 0:this.Y.Cd);this.emit("stopStart",{type:"stopStart"});};k.prototype.YV=function(){this.kRa=void 0;this.UV(f.Iz.MH);};k.prototype.UV=function(d){void 0 === d && (d=f.Iz.ktb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};k.prototype.lVb=function(){this.emit("speedChanged",{type:"speedChanged"});};k.prototype.Oa=function(){this.Z8();this.qQa.clear();};return k;})();b.gLa=a;(0,r.xk)(c.EventEmitter,a);},1168:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.t0=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(97810);d=a(49730);g=a(7881);m=c.__importDefault(a(35471));h=f.L.Ma(1E3);r=(function(){function n(p,q,u,t,v,w,y,x,z,A){var B,C;this.yHb=p;this.HVb=q;this.C2=t;this.events=v;this.Zo=w;this.qeb=x;this.priority=z;this.Bj=[];this.console=(0,k.Kh)(m.default,q,("PresentationTracker [").concat(this.yHb,"] [").concat(this.qeb,"]"));this.Hta=h.add(f.L.Ma(null !== (C=null === (B=w.WN) || void 0 === B?void 0:B.G) && void 0 !== C?C:0));this.listeners=new l.ye();this.cua=new l.ye();this.tx=!0;this.qR=!A;this.pBb(y);this.Jbb(u,y,t);}n.prototype.Jbb=function(p,q,u){var t;t=this;this.C2=u;this.listeners.clear();this.cua.clear();this.tb=p;this.pc=q;this.cua.on(p.Y,"skipped",this.YV.bind(this));this.listeners.on(u,"requestAppended",function(v){return t.sr(v.request);});this.events=p.events;this.SK.mUa(q);this.FW.mUa(q);};n.prototype.pBb=function(p){var q;q=this;this.SK=p.Rx(function(){return q.eEb();},"Presentation Emit",this.priority);this.FW=p.Rx(function(){return q.YYb();},"Presentation Prune");};n.prototype.YV=function(){this.trace(("skipped, scheduler clock ").concat(this.pc.sa.currentTime.lb()));this.qR=this.tx=!0;this.SK.lf();};n.prototype.eEb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:(d.K && this.console.trace("Starting emit job",this.tx),this.dH=this.OTb(this.tx),p=this.X6a(),t.label=1);case 1:if(!p)return [3,3];this.trace(("queuing task for ").concat(this.e7(p.Fo)) + (" at player time ").concat(p.timestamp.lb()) + (" scheduler clock is ").concat(this.pc.sa.currentTime.lb()));return [4,g.Jg.iu(p.timestamp)];case 2:t.Ta();this.trace(("executing task for ").concat(this.e7(p.Fo)) + (" for player time ").concat(p.timestamp.lb()) + (", scheduler clock: ").concat(this.pc.sa.currentTime.lb()) + (", actual player time: ").concat(this.tb.Jd) + (", first item: ").concat(this.tx));q=this.qR?this.tb.Jd:p.timestamp;u=this.tx;this.qR=this.tx=!1;this.tWa=p;this.dH++;this.Hka=(p=this.X6a())?p.timestamp:this.pG;try{this.Dla(this.tWa,q,u);}catch(v){this.console.error(("Error in ").concat(this.qeb," emit, continuing"),v);}q=null === p || void 0 === p?void 0:p.timestamp;return [3,1];case 3:return (d.K && this.console.trace("Ending emit job"),[2]);}});};n.prototype.jta=function(){this.tx=!0;};n.prototype.X6a=function(){if(void 0 !== this.dH)return this.Bj[this.dH];};n.prototype.OTb=function(p){var q,u,v;void 0 === p && (p=!1);for(var t=p?0:null !== (q=this.dH) && void 0 !== q?q:0;t < this.Bj.length;t++){q=this.Bj[t];v=f.L.Ma(null !== (u=this.Zo.iXb) && void 0 !== u?u:0);if(q.timestamp.greaterThan(this.tb.Jd.add(v)))return p && 0 < t?t - 1:t;}return Math.max(this.Bj.length - 1,0);};n.prototype.YYb=function(){var p,q;return c.__generator(this,function(u){switch(u.label){case 0:if(!(1 < this.Bj.length))return [3,2];p=c.__read(this.Bj,2);q=p[1];this.trace(("queuing pruning task for ").concat(q.Fo) + (" at player time ").concat(this.Hta.add(q.timestamp).lb()) + (" scheduler clock is ").concat(this.pc.sa.currentTime.lb()));return [4,g.Jg.iu(this.Hta.add(q.timestamp))];case 1:return (u.Ta(),this.trace(("executing pruning task for ").concat(q.Fo) + (" at player time ").concat(this.Hta.add(q.timestamp).lb()) + (" scheduler clock is ").concat(this.pc.sa.currentTime.lb())),this.Bj.shift(),this.dH && this.dH--,[3,0]);case 2:return [2];}});};n.prototype.cv=function(p,q,u){this.Jbb(p,q,u);};n.prototype.reset=function(){this.Bj=[];d.K && this.trace("reset");this.qR=this.tx=!0;this.pG=void 0;this.dH=0;this.FW.lf();this.SK.lf();};n.prototype.close=function(){d.K && this.trace("close()");this.qR=this.tx=!0;this.cua.clear();this.SK.Oa();this.FW.Oa();this.listeners.clear();this.Bj=[];};n.prototype.bi=function(p){var q;d.K && this.trace(("canSkip() ").concat(p));if(0 === this.Bj.length)return (d.K && this.trace("canSkip false, no media sequence"),!1);q=this.Bj[0];return q.timestamp.greaterThan(p)?(d.K && this.trace(("canSkip false, before earliest item at ").concat(q.timestamp)),!1):void 0 === this.pG || this.pG.lessThan(p)?(d.K && this.trace(("canSkip false, later than last appended at ").concat(this.pG)),!1):!0;};n.prototype.trace=function(p){d.K && this.console.trace(p);};n.prototype.Mha=function(p,q,u){var t;u && (this.pG=u);t=this.Bj.length?this.Bj[this.Bj.length - 1]:void 0;if(void 0 === t || !this.d7(t.Fo,p))return (this.Bj.push({Fo:p,timestamp:q}),this.SK.state === g.Fk.complete && this.SK.lf(),this.FW.state === g.Fk.complete && this.FW.lf(),!0);t === this.tWa && (this.Hka=u);return !1;};n.prototype.d7=function(p,q){return p === q;};n.prototype.Sxb=function(p){p.Bj=c.__spreadArray([],c.__read(this.Bj),!1);p.pG=this.pG;};n.prototype.H0a=function(){var p,q,u,w;if(this.tb.Nd){q=this.tb.Jd;u=void 0;try{for(var t=c.__values(this.Bj),v=t.next();!v.done;v=t.next()){w=v.value;if(w.timestamp.yy(q))u=w;else break;}}catch(x){var y;y={error:x};}finally{try{v && !v.done && (p=t.return) && p.call(t);}finally{if(y)throw y.error;}}return null === u || void 0 === u?void 0:u.Fo;}};return n;})();b.t0=r;},55759:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ULa=void 0;c=a(5163);l=a(42866);f=a(27364);k=a(83241);d=a(16962);r=(function(){function g(m,h,n,p,q,u,t,v){this.mediaType=m;this.console=h;this.tb=n;this.C2=p;this.Un=q;this.aua=u;this.pc=t;this.tA=[];this.mediaType === f.u.X && this.tA.push(new d.WMa(m,h,n,p,q,u,t,v,2));this.tA.push(new k.R0(m,h,n,p,q,u,t,"stream",1,null === v || void 0 === v?void 0:v.h2a()));}g.prototype.cv=function(m,h,n){this.tb=m;this.pc=h;this.C2=n;this.SC.forEach(function(p){return p.cv(m,h,n);});};g.prototype.Wsb=function(m){this.tA.push(m);};g.prototype.Cma=function(m){return (0,l.wc)(this.tA,function(h){return h instanceof m;});};g.prototype.reset=function(){this.tA.forEach(function(m){return m.reset();});};g.prototype.close=function(){this.tA.forEach(function(m){return m.close();});};g.prototype.bi=function(m){return c.__read(this.tA,1)[0].bi(m);};Object.defineProperties(g.prototype,{SC:{get:function(){return this.tA;},enumerable:!1,configurable:!0}});g.prototype.jta=function(){this.SC.forEach(function(m){return m.jta();});};return g;})();b.ULa=r;},16962:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.WMa=void 0;c=a(5163);l=a(42866);f=a(49730);k=a(62558);r=(function(d){function g(m,h,n,p,q,u,t,v,w){m=d.call(this,m,h,n,p,q,u,t,"segment",w,null === v || void 0 === v?void 0:v.h2a()) || this;m.nl=v;return m;}c.__extends(g,d);g.prototype.sr=function(m){var h,n,p,q,u,t,v,w,y,x;u=m.Ab;t=m.Pb;v=m.Ja;w=m.bitrate;y=m.Cb;(0,k.assert)(void 0 !== u);x=null === (h=this.tb.al(u)) || void 0 === h?void 0:h.I;(0,k.assert)(x,"missing segment id");this.s7=m={I:x,VGb:m.sv,Ja:v,Qfb:w,Cb:y,kYb:null === (n=this.s7) || void 0 === n?void 0:n.Qfb,lYb:null === (p=this.s7) || void 0 === p?void 0:p.Cb,Dd:null === (q=m.stream.na.W) || void 0 === q?void 0:q.Dd};this.Mha(m,u,t) && f.K && this.trace(("segment ").concat(x," @ ").concat(u.G,"ms"));};g.prototype.d7=function(m,h){return m.I === h.I && !h.VGb;};g.prototype.Dla=function(m,h,n){var p,q,u,t,v,w;p=m.Fo;q=p.I;u=p.Qfb;t=p.kYb;v=p.Cb;p=p.lYb;w=this.tb.al(h);(0,k.assert)(void 0 !== w);f.K && this.trace(("emitSegmentPresentingEvent @ ").concat(m.timestamp.G,"ms for segment ").concat(q));w.I !== q && (f.K && this.console.warn("player position:",w,"not equal to trackedElement:",q),w={I:q,offset:l.L.Ga});m={type:"segmentPresenting",playerTimestamp:h,position:w,seek:n,playbackContextId:m.Fo.Dd};if(this.nl){if(q=this.nl.Rna(q))(q.destvbitrate=u,q.destvmaf=v,q.srcvbitrate=t,q.srcvmaf=p);m.metrics=q;}f.K && this.trace(("segmentPresenting: ").concat(JSON.stringify(m)));this.events.emit(m.type,m);};g.prototype.reset=function(){d.prototype.reset.call(this);this.s7=void 0;};g.prototype.close=function(){d.prototype.close.call(this);this.s7=void 0;};g.prototype.e7=function(m){return m.I;};return g;})(a(1168).t0);b.WMa=r;},83241:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.R0=void 0;c=a(5163);l=a(49730);f=a(62558);r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.sr=function(g){var m,h,n;m=g.stream;h=g.Ab;n=g.Pb;g=g.Ja;(0,f.assert)(void 0 !== h,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== g,"contentStartTimestamp undefined at media append");this.Mha({stream:m,Ja:g},h,n) && l.K && this.trace(("stream ").concat(m.id,", ").concat(m.bitrate,"kbit/s @ ").concat(h.G,"ms"));};d.prototype.d7=function(g,m){return g.stream === m.stream;};d.prototype.Dla=function(g,m){var h,n,p,q;p=g.Fo.stream;q=this.tb.al(m);(0,f.assert)(void 0 !== q);l.K && this.trace(("emitStreamPresentingEvent @ ").concat(g.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:m,position:q,trackIndex:null === (h=null === p || void 0 === p?void 0:p.track) || void 0 === h?void 0:h.BE,streamIndex:null === p || void 0 === p?void 0:p.Zt,stream:p,manifest:null === (n=p.na) || void 0 === n?void 0:n.W,contentStartTimestamp:g.Fo.Ja});};d.prototype.e7=function(g){return ("").concat(g.stream.Qb,"@").concat(g.Ja.lb());};return d;})(a(1168).t0);b.R0=r;},8190:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rfa=void 0;r=a(5163);c=a(42866);l=r.__importDefault(a(35471));f=a(27364);k=a(95711);a=(function(){function d(g,m){this.V=g;this.mj=m;}d.prototype.caa=function(g,m,h,n,p,q){var u,t;void 0 === p && (p=!1);void 0 === q && (q=void 0);u=g.v;t=this.qpb(u);this.vE={startTime:l.default.time.xa(),K3b:g,J3b:h.G,A4:m,Yd:this.NJb(n,m),h6b:this.ILb(n,p),wZb:q,ECb:p,mf:n,yUa:t,MTb:this.lKb(u,h)};};d.prototype.h2a=function(){return !!this.vE;};Object.defineProperties(d.prototype,{A4:{get:function(){var g;return null === (g=this.vE) || void 0 === g?void 0:g.A4;},enumerable:!1,configurable:!0}});d.prototype.Rna=function(g){var m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L;if(this.vE && 0 !== Object.keys(this.vE.yUa).length && g === this.vE.A4){w=this.vE;y=w.yUa;x=w.MTb;z=w.ECb;A=w.mf;B=w.K3b;C=w.J3b;D=w.startTime;F=w.Yd;G=w.h6b;w=w.wZb;this.vE=void 0;E=this.lga(g).Wia;H=this.gIb(B.v.id,g,y);E=this.eQa(H.weight,E);M={};for(L in y){L !== g && (M[L]=y[L].details);}y=l.default.time.xa() - D;D=A?0:y;L={offset:c.L.Ma(this.lLb(B,C,A,z)),I:B.v.id};C={offset:c.L.Ma(C),I:B.v.id};x={segment:g,destPosition:{I:g,offset:c.L.Ga},srcsegment:B.v.id,srcTransitionPosition:L,srcStartPosition:C,srcsegmentduration:B.lY.G,srcoffset:L.offset.G,seamlessRequested:A,atRequest:H,atTransition:E,discard:M,transitionType:F,transitionTypeAtRequest:G,delayToTransition:this.QIb(y,A,z),durationOfTransition:D,nextExitPositionAtRequest:x};w && (x.reasonCodes=w);z=null !== (h=null === (m=this.mj.ea.O[g]) || void 0 === m?void 0:m.type) && void 0 !== h?h:"content";m=null !== (p=null === (n=this.mj.ea.O[B.v.id]) || void 0 === n?void 0:n.type) && void 0 !== p?p:"content";g=null !== (u=null === (q=this.mj.ea.O[g]) || void 0 === q?void 0:q.J) && void 0 !== u?u:void 0;q=null !== (v=null === (t=this.mj.ea.O[B.v.id]) || void 0 === t?void 0:t.J) && void 0 !== v?v:void 0;g && q && g !== q && (x.auxMidType=z,x.auxSrcmidType=m,x.auxMid=g,x.auxSrcmid=q);return x;}};d.prototype.gIb=function(g,m,h){var n,p,q;q={};(h=h[m])?q=h.details:((0,k.assert)(this.mj),q.weight=null === (p=null === (n=this.mj.ea.O[g].next) || void 0 === n?void 0:n[m]) || void 0 === p?void 0:p.weight);return q;};d.prototype.QIb=function(g,m,h){var n;h || (n=m?g:0);return n;};d.prototype.lKb=function(g,m){var h,n,p;n=g.je.add(m);null === (h=g.dw) || void 0 === h?void 0:h.some(function(q){n.lessThan(q.Ja) && (p=q.Ja.G);});return p;};d.prototype.lLb=function(g,m,h,n){return h || n?g.lY.G:m;};d.prototype.NJb=function(g,m){return g?"seamless":this.lga(m).u1a?"reset":"long";};d.prototype.ILb=function(g,m){return g || m?"lazy":"immediate";};d.prototype.qpb=function(g){var m,h;m=this;h={};g.Ly.forEach(function(n){var p,q;p=g.PTb[n];q=m.lga(n).Wia;h[n]={details:m.eQa(p,q)};});return h;};d.prototype.lga=function(g){var m,h;g=this.mj.DT(g);m=0 < g.length?g[0]:void 0;g=null === m || void 0 === m?void 0:m.rL();if(!m || !g)return {u1a:!1,Wia:{Saa:0,k2:0,AY:0,GR:0}};h=m.n6(f.u.fa) && !g.k2;m=m.n6(f.u.X) && !g.Saa;return {u1a:!h && !m,Wia:g};};d.prototype.eQa=function(g,m){return {weight:g,vbuflmsec:m.Saa,abuflmsec:m.k2,vbuflbytes:m.AY,abuflbytes:m.GR};};return d;})();b.rfa=a;},45331:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,La,Xa,ab,aa,na,Ca,Ra,Q;function c(da){var P;P={};da.forEach(function(Y){Y.mediaType !== h.u.Ha && (P[Y.mediaType]=Y.Wm());});return P;}Object.defineProperties(b,{__esModule:{value:!0}});b.Hba=void 0;l=a(5163);f=a(57055);k=a(50954);d=a(42866);g=a(42866);m=a(85668);h=a(27364);n=a(9225);p=a(74029);q=a(47870);u=l.__importDefault(a(35471));t=a(62558);v=a(14895);w=a(7881);y=a(42186);x=a(83386);z=a(13043);A=a(66709);B=a(95971);C=a(48641);D=a(34848);F=a(33285);G=l.__importDefault(a(76733));E=a(48154);H=a(88985);M=a(99384);L=a(92589);K=a(97810);O=a(93514);J=a(58726);I=a(124);N=a(90468);R=a(41054);U=a(16236);ja=a(84975);ra=a(10814);ka=a(98468);ua=a(21690);Aa=a(58730);La=a(60857);Xa=a(63037);ab=a(43603);aa=a(56844);na=a(45609);Ca=a(22486);r=a(88801);Ra=a(36654);Q=r.Tv.Xka;a=(function(){function da(P,Y,sa,Ha,Wa,$a,fb,sb,Jb,Ua){this.mj=P;this.wRa=Y;this.config=sa;this.id=Ha;this.Ds=$a;this.tj=fb;this.Axb=sb;this.Gk=Ua;this.DJ=!1;this.sJ=void 0;this.Zla=[];this.uj=this.Wa=this.Gn=void 0;this.Btb="2.0";this.D2a=this.S1=this.xm=this.Jga=void 0;this.Xa=m.mm.CLOSED;this.jga=!0;this.H2=!1;this.ZH=this.IY=this.LE=void 0;this.BTa=new f.ye();this.cB=0;this.kaa=!1;this.NNb();this.console=new u.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Xg=new F.Du({ko:10,kn:this,source:"AsePlaygraph",console:this.console});this.events=new f.EventEmitter();this.Kwa(P);this.Ya=new ja.pLa();this.og=new na.rLa(this.console);this.Hoa=new I.BEa(this.config,d.L.Ma(this.config.tM),{parent:function(bb){return bb.UT();},next:this.nKb.bind(this)},this.events,this.console);this.laa=new q.zNa(this.console,this.events);this.jS={DB:sa.tV || Infinity};this.Y=new v.mea(this);this.yd=new w.rQ(this.Y.sa,this.console,"playgraph",1);this.RNb();this.af=new ra.yBa(this.console,sa,Wa,this.events,this,this.jq);this.d3=new Aa.lBa(this.yd,this.jq,this.config,this.Nj.bind(this),this.Pd,this.console);this.Q8=this.af.Q8.bind(this.af);this.ZV=this.af.ZV.bind(this.af);this.a9=this.af.a9.bind(this.af);this.J8=this.J8.bind(this);this.H8=this.H8.bind(this);this.I8=this.I8.bind(this);this.BH=this.BH.bind(this);this.Rt=new z.Rea(sa);this.JNb();this.Rt.Be(new C.cx(this.af.Xg));this.Rt.Be(new D.DKa(this.BKb.bind(this)));this.Rt.Be(new C.cx(this.Xg));this.Rt.Be(new E.oLa(this.Ya,this));this.Rt.Be(new M.SGa(this));this.Rt.Be(new L.JNa(this.yd));this.adb=new aa.yNa(this,this.console,Jb);this.G7=new H.pHa(this.jq,this.console,this.events);this.Dm=new Ca.tLa(this.T9.bind(this));this.Qwa((0,y.AK)(this.config),(0,y.zK)());}Object.defineProperties(da.prototype,{parent:{get:function(){return this.Gn;},set:function(P){this.Gn=P;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{cr:{get:function(){return !(this.Y instanceof v.mea);},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Uc:{get:function(){return this.sJ;},set:function(P){this.sJ=P;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{cOb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{ea:{get:function(){return this.mj;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{weight:{get:function(){return this.wRa;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{vh:{get:function(){(0,t.assert)(this.dr,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.xm.position;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Wab:{get:function(){(0,t.assert)(this.dr,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.WF(this.vh).Jl;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Pd:{get:function(){return this.af.state;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{zj:{get:function(){return this.af.zj;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{dr:{get:function(){return void 0 !== this.xm;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{zg:{get:function(){return this.Y.Nd?this.Y.zg:this.vh;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Jd:{get:function(){var P,Y;return this.Y.Nd?this.Y.Jd:null !== (Y=null === (P=this.xm) || void 0 === P?void 0:P.Xp) && void 0 !== Y?Y:this.Wab;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Jub:{get:function(){return this.wob;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{$aa:{get:function(){return this.Nrb;},enumerable:!1,configurable:!0}});da.prototype.RNb=function(){this.jq=new w.rQ(new B.P0({ji:!0,currentTime:function(){return d.L.Ma(u.default.time.xa());},speed:1}),this.console,"wallclock");};da.prototype.JNb=function(){var P;P=this;(0,ab.KVa)({af:this.af,jq:this.jq},w.Jg.YC(d.L.Ma(this.config.uW)),function(){P.Y.Nd && P.Y.Sy && (P.af.state.value === h.Rc.tl || P.af.state.value === h.Rc.Me) && P.iE(P.Y.Sy);},"buffering");};da.prototype.NNb=function(){var P;P=this;this.Pv=function(Y){var sa,Ha,Wa;Ha=P.navigator.ee(Y.position.I);if((Ha=P.Una(Ha)) && P.Y.Nd){Wa=(0,K.Dma)(P.Y.Ya.filter(function($a){return $a.v.id === Y.position.I;}),Y.playerTimestamp,{eVa:!0});Wa && (null === (sa=P.Y.nl) || void 0 === sa?void 0:sa.caa({v:Wa.v,get lY() {return Wa.Va.qa(Wa.v.je);}},Ha,P.zg.offset,!0,!1,void 0));}P.Dm.start();};this.VV=function(){P.tj("onDrmReady");};this.eVb=function(Y){Y=Y.newValue;P.DJ || (P.DJ=Y);};};da.prototype.open=function(){this.jga=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Xa !== m.mm.CLOSED)return !1;this.Xa=m.mm.OPEN;return !0;};da.prototype.Oa=function(){this.jq.Oa();this.yd.Oa();this.Xa !== m.mm.CLOSED && (this.Cf(),this.Dm.Oa(),this.af.stop(),this.Xa=m.mm.CLOSED,this.cr || this.Y.Oa(),this.G7.Oa());};da.prototype.cxb=function(P,Y,sa){P=(0,ka.Yla)(this.Ya,this.BH.bind(this),P,Y,sa).nUa;return this.aUa(P);};da.prototype.hz=function(P,Y,sa){var Ha,Wa,$a,fb,sb,Jb,Ua;Ha=this;Wa=this.LE;$a=this.IY;fb=this.ZH;this.LE=P;this.IY=Y;this.ZH=sa;Y=(0,ka.Yla)(this.Ya,this.BH.bind(this));sb=Y.nUa;P=Y.vvb;Y=Y.ntb;if(0 === sb.length)return !0;if(!this.aUa(sb))return (this.LE=Wa,this.IY=$a,this.ZH=fb,!1);Jb=this.zg;this.Y.EN(sb);this.Y.tY(Y);Ua=this.WF(Jb).Jl;P.forEach(function(bb){var kb;kb=bb.nb;kb.hz(bb.Ed,Jb.I === kb.v.id?Ua:void 0,void 0 !== Ha.Ya.R5(kb),sb);});this.af.AVb(Jb,P[0].Ed);return !0;};da.prototype.zK=function(P){return (0,y.zK)(this.config,P);};da.prototype.AK=function(P){return (0,y.AK)(this.config,P);};da.prototype.RT=function(P,Y){var sa,Ha;sa=this.navigator.ee(P);Ha=this.navigator.ee(Y);return {d8b:sa.FMb(Y),kS:Y !== P && this.Ya.has(Y) && this.Ya.Ep(Y)[0].Pg,I3:Ha.je.G,qsa:this.Una(sa)};};da.prototype.Nj=function(P,Y,sa,Ha){var Wa,$a,fb,sb;Wa=this;void 0 === Ha && (Ha=!0);if(!Y)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(Ha && this.og.get(P))sa || this.og.set(P,Y);else {fb=this.DT(P)[0];sb=this.navigator.ee(P);this.zg.I === P && fb && (null === ($a=this.Y.nl) || void 0 === $a?void 0:$a.caa({v:fb.v,get lY() {return fb.Va.qa(fb.v.je);}},Y,this.zg.offset,Ha,sa,void 0));Ha || (P={offset:d.L.Ga,I:Y},this.xm={position:P,Pg:!0,Peb:P});sa?this.og.W1b(sb.id,Y):this.og.set(sb.id,Y);this.Dm.start();Ha && sb.dw && 0 < sb.dw.length && ((0,t.assert)(fb),fb.Faa(sb.dw) && this.DT(Y).forEach(function(Jb){return Wa.qw(fb,Jb);}));Ha || this.af.Y8(this.vh);}};da.prototype.aUa=function(P){var Y,sa;if(0 === P.length)return !0;if(this.Y.JH && this.Y.m7.value.qa(this.Y.Jd).lessThan(d.L.Ma(5E3)))return !1;P=this.Y.Ya;if(!P.length)return !0;sa=null === (Y=P[0]) || void 0 === Y?void 0:Y.na.J;return !P.some(function(Ha){return Ha.na.J !== sa;});};da.prototype.qw=function(P,Y){var sa;sa=this;P=P.Pb.qa(Y.v.je);Y.qw(P);this.Ya.EIb(Y).forEach(function(Ha){return sa.qw(Y,Ha);});};da.prototype.bj=function(P){this.navigator.bj(P);this.Dm.start();};da.prototype.Qwa=function(P,Y){this.wob=P;this.Nrb=Y;this.state === m.mm.vl && this.tj("setStreamFilters");};da.prototype.Asb=function(P){(0,t.assert)(-1 === this.Zla.indexOf(P),"Attempted to add the same evaluation hook twice");this.Zla.push(P);};da.prototype.q2b=function(P){this.Ds.D_b(P);};da.prototype.EC=function(P,Y){this.x$(P,Y);};da.prototype.x$=function(P,Y,sa){var Ha,Wa,$a,fb,sb;$a=this.ea;fb=(0,J.Pfb)($a,P);if(fb.dM){sb=this.R0b($a,P,Y);if(void 0 === sb)this.kf(("Invalid seekPosition after sanitization to ").concat(P.I) + ("(").concat(P.offset.G,"ms)") + (", reason: ").concat(fb.reason),null === (Ha=$a.O[P.I]) || void 0 === Ha?void 0:Ha.J);else if(void 0 === this.LE || void 0 === this.IY)this.kf("No track selectors available");else if((Ha=!(this.cr && this.Y.Hp) && (0,J.n1a)(null === (Wa=this.xm) || void 0 === Wa?void 0:Wa.Peb,sb),this.events.emit("seeking",{type:"seeking",position:P,duplicate:Ha}),!Ha)){this.S1=sa;this.dr?(this.lya(sb),this.IUa(P)):this.Ya.empty && sa && (sa=this.Y.NF()) && (this.lya(sb,{I:sa.v.id,offset:sa.te}),this.IUa(P));P=this.Y_a();try{this.Cf(!0);this.Cxb();this.xm={position:sb,Peb:sb,Pg:!1,Xp:Y};this.D2a=Y?Y.qa(this.Wab):d.L.Ga;this.af.Y8();this.Xa=m.mm.vl;this.Dm.start();}finally{P.release();}}}else this.kf(("Invalid seekPosition to ").concat(null === P || void 0 === P?void 0:P.I) + ("(").concat(P.offset.G,"ms)") + (", reason: ").concat(fb.reason),null === (sb=$a.O[P.I]) || void 0 === sb?void 0:sb.J);};da.prototype.lya=function(P,Y,sa,Ha){var Wa,$a,fb;void 0 === sa && (sa=!1);fb=this.navigator.ee(null !== (Wa=null === Y || void 0 === Y?void 0:Y.I) && void 0 !== Wa?Wa:this.zg.I);null === ($a=this.Y.nl) || void 0 === $a?void 0:$a.caa({v:fb,lY:fb.duration},P.I,Y?Y.offset:this.zg.offset,!1,sa,Ha);};da.prototype.IUa=function(P){var Y,sa;if((null === (Y=this.Y.NF()) || void 0 === Y?void 0:Y.v.id) === P.I){if((this.og.Dxb(P.I),!this.og.get(P.I) && this.Y.Hp)){P=this.Y.Ya;sa=this.Y.NF();sa && (P=(0,g.wc)(P,function(Ha){return Ha.parent === sa;})) && this.og.set(sa.v.id,null === P || void 0 === P?void 0:P.v.id);}}else this.og.Lja();};da.prototype.Y_a=function(){var P,Y;P=this;Y=this.Ya.filter(function(sa){return sa.v.J !== k.rq;}).map(function(sa){return P.Ds.wo(sa.v.J).xy;});return new x.W_(function(){Y.forEach(function(sa){return sa.release();});},this.console).Gs();};da.prototype.Cf=function(P){var Y,sa,Ha;Ha=this.k1a();this.Ya.reset();if(!P && (this.og.Lja(),Ha.length))try{for(var Wa=l.__values(Ha),$a=Wa.next();!$a.done;$a=Wa.next()){$a.value.F$a();}}catch(sb){var fb;fb={error:sb};}finally{try{$a && !$a.done && (Y=Wa.return) && Y.call(Wa);}finally{if(fb)throw fb.error;}}this.yd.lf();this.Y.reset();this.xm=void 0;this.d3.reset();null === (sa=this.BTa) || void 0 === sa?void 0:sa.clear();this.Xa === m.mm.vl && (this.Xa=m.mm.OPEN);};da.prototype.DT=function(P){return this.Ya.Ep(P);};da.prototype.ph=function(P){this.af.ph(P);(0,t.assert)(this.Y.jr,"Must have an appended branch on underflow");this.Y.FSa && this.af.zj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),P=this.Yn(this.Jd),this.af.Fm("complete",P.vO,P.wO));this.d3.iya(this.Y.jr,this.Jd);this.tj("onUnderflow");this.events.emit("underflow");};da.prototype.Be=function(P){this.Rt.Be(P);};da.prototype.cv=function(P){this.Be(new A.qMa(P));return this.pub(P);};da.prototype.pub=function(P){var Y;Y=this.Y;if(!this.Y.mya(P))return (this.kf("player in use"),!1);this.Y=P;this.yd.M2(this.Y.sa);this.Y.events.on("segmentPresenting",this.Pv);this.Y.events.on("drmReady",this.VV);this.Y.sr.addListener(this.eVb);P=this.cKb();0 < P.length && this.Y.tY(P);this.events.emit("playerChanged",{type:"playerChanged",old:Y,"new":this.Y});return !0;};da.prototype.WF=function(P){var Y,sa;Y=P.offset;sa=this.navigator.ee(P.I);P=sa.J;Y=sa.je.add(Y);return {J:P,Jl:Y};};da.prototype.al=function(P,Y){var sa,Ha,Wa,$a;$a=this.Y.al(P);if(void 0 !== $a)return $a;if(null === (Ha=null === (sa=this.xm) || void 0 === sa?void 0:sa.Xp) || void 0 === Ha?0:Ha.equal(P))return null !== (Wa=this.S1) && void 0 !== Wa?Wa:this.vh;sa=this.Y.jr;return (0,J.al)(P,{ya:this,UNb:sa && ({id:sa.v.id,k1b:sa.zr})},Y);};da.prototype.yB=function(P,Y){void 0 === Y && (Y=!1);P=this.hU(P,Y).next();if(!P.done)return (P=P.value,null === P || void 0 === P?void 0:P.Xp);};da.prototype.hU=function(P,Y){var sa,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb;void 0 === Y && (Y=!1);return l.__generator(this,function(Ab){switch(Ab.label){case 0:(sa=this.Y.hU(P),Ha=sa.next(),Ab.label=1);case 1:return Ha.done?[3,3]:[4,Ha.value];case 2:return (Ab.Ta(),Ha=sa.next(),[3,1]);case 3:if(!Y)return [2];Wa={};$a=this.zg;this.cr && this.Y.Nd && (Jb=this.Y.jr) && ($a={offset:d.L.Ga,I:Jb.v.id},fb=Jb.Pb.qa(this.Y.Jd),sb=Jb.v);fb || (sb=this.navigator.ee($a.I),fb=sb.je.add($a.offset).qa(sb.Ef));(0,t.assert)(sb,"Current segment should be defined by here");Ua=this.Jd;if(sb.v.Gb && sb.id !== P.I)return [3,6];if(sb.id !== P.I)return [3,5];bb=P.offset.qa($a.offset);return [4,{LK:bb,Xp:Ua.add(bb)}];case 4:(Ab.Ta(),Ab.label=5);case 5:return [2];case 6:(kb=this.navigator.ee(sb.v.Gb),rb=this.navigator.U3a(kb),qb=rb.next(),Ab.label=7);case 7:if(qb.done)return [3,11];yb=qb.value;if(Wa[yb.id])return [3,11];Wa[yb.id]=!0;if(yb.id !== P.I)return [3,9];bb=P.offset.add(fb);return [4,{LK:bb,Xp:Ua.add(bb)}];case 8:return (Ab.Ta(),[2]);case 9:(fb=fb.add(yb.duration),Ab.label=10);case 10:return (qb=rb.next(),[3,7]);case 11:return [2];}});};da.prototype.Mab=function(P){return (0,J.bwa)(this.ea,P);};da.prototype.xp=function(P){return (0,O.xp)(this.ea,P.J,P.Jl);};da.prototype.R0b=function(P,Y,sa){var Ha,Wa;Ha=(0,J.bwa)(P,Y);Wa=d.L.Ma(1E4);if(!Ha || !sa || sa.greaterThan(Wa))return Ha;P=Y.offset.add(d.L.Ma(P.O[Y.I].ta));sa=sa.qa(P);if(sa.hi(d.L.Ga))return Ha;Wa=d.L.max(d.L.Ga,P.qa(Wa)).add(sa);if(Wa.hi(d.L.Ga))return Ha;Wa=Ha.offset.add(Wa);return {I:Ha.I,offset:Wa};};da.prototype.Zs=function(P,Y){var sa;P="string" === typeof P?{J:this.ea.O[P].J,Jl:d.L.Ma(Y)}:P;if(P.J !== k.rq){Y=this.Ds.wo(P.J);try{return null === (sa=Y.na) || void 0 === sa?void 0:sa.Zs(this.config,P.Jl.G);}finally{Y.xy.release();}}};da.prototype.O5=function(){return (0,La.YZa)(this.Ya,this.N6.bind(this));};da.prototype.N6=function(P){P=this.Ya.R5(P);return void 0 === P || P.Zh && this.N6(P);};da.prototype.N5=function(){return this.jS.DB;};da.prototype.dJb=function(P){return (0,Xa.X0a)(this.Ya,P);};da.prototype.Yn=function(P){var sa,Ha,Wa,$a;function Y(fb){return fb?Math.max(fb - P.G,0):0;}sa=this;this.Ya.zF(function(fb){var sb,Jb,Ua;sb=fb.vL(h.u.fa);Jb=fb.vL(h.u.X);Ua=fb.vL(h.u.Ha);if(fb.v.ZX || !sa.Ya.Moa(fb) || !fb.Zh){if(!Ha || sb < Ha)Ha=sb;if(!Wa || Jb < Wa)Wa=Jb;if(!$a || Ua < $a)$a=Ua;}return fb.Zh;});return {vO:Y(Ha),wO:Y(Wa),keb:Y($a)};};da.prototype.GF=function(){var P,Y,sa,Ha;sa=this.dr?this.Yn(this.Jd):{vO:0,wO:0,keb:0};Ha=G.default.instance().get();return {totalabuflmsecs:sa.vO,totalvbuflmsecs:sa.wO,totaltbuflmsecs:sa.keb,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (Y=Number(0 < Ha.confidence) && (null === (P=Ha.mb) || void 0 === P?void 0:P.Ca)) && void 0 !== Y?Y:0};};da.prototype.JL=function(){var P,Y,sa,Ha,Wa,$a,fb,sb;P=this;if(this.hr())return (this.Xg.Is({isStreamingFailureReported:!0}),[]);sa=this.Ya.size;this.Xg.Is({branchCount:sa});if(!this.dr || 0 === sa)return [];Ha=this.Jd;Wa=this.zg;$a=[];sa=this.navigator.ee(this.zg.I);fb=sa.duration;sb=this.og.get(sa.id)?1:null !== (Y=sa.fq) && void 0 !== Y?Y:1;Y=this.Ya.reduce(function(Jb,Ua,bb){var kb,rb,qb,Lb,Sb,Xb,Ib;qb=Ua.M5();try{for(var yb=l.__values(qb),Ab=yb.next();!Ab.done;Ab=yb.next()){Lb=Ab.value;if(!Lb.cn()){Sb=("p").concat(P.id,"-").concat(bb,"-").concat(null === (rb=Ua.Ab) || void 0 === rb?void 0:rb.G);Xb=P.vLb(Lb);Ib=new Ra.GLa(P,Lb,Sb,sb,fb.G,Xb.G,Ha.G,Wa);Jb.push(Ib);}!Lb.gr() && P.Xg.enabled && $a.push({segmentId:Lb.I,isDoneStreaming:Lb.cn(),isNormalized:Lb.Pg(),needsHeaderRequest:Lb.track.IV});}}catch(Pb){var Nb;Nb={error:Pb};}finally{try{Ab && !Ab.done && (kb=yb.return) && kb.call(yb);}finally{if(Nb)throw Nb.error;}}return Jb;},[]);this.Xg.Is({nonStreamables:$a});return Y;};da.prototype.vLb=function(P){var Y;Y=P.UT();if(this.config.D4 && Y && this.navigator.BMb(Y.nb.v,P.I))return P.Mk;for(;Y && !Y.Ita;){P=Y;Y=Y.UT();}return P.Mk;};da.prototype.nKb=function(P){var Y;if(!P.nb.Qd){Y=P.nb.v.v.Gb;if(Y)return (Y=l.__read(this.Ya.Ep(Y),1)[0],null === Y || void 0 === Y?void 0:Y.PF(P.mediaType));}};da.prototype.BVb=function(P){var Y,sa;if(!this.laa.hr()){Y=void 0;sa=this.Y.zg;sa && (Y=this.navigator.ee(sa.I).J);this.kf("BufferingStateTracker: Temporary failure while buffering",Y,"NFErr_MC_StreamingFailure",null === P || void 0 === P?void 0:P.Uf,null === P || void 0 === P?void 0:P.$m,null === P || void 0 === P?void 0:P.Ti);}};da.prototype.kf=function(P,Y,sa,Ha,Wa,$a,fb){void 0 === fb && (fb=!1);"string" === typeof P?this.laa.kf(P,sa,{networkErrorCode:Ha,httpCode:Wa,nativeCode:$a,viewableId:Y,temporaryFailure:fb}):this.laa.K_b(P);return !0;};da.prototype.sya=function(P,Y){Y=this.K5(Y,P);this.events.emit("logdata",{type:"logdata",target:P,fields:Y});};da.prototype.K5=function(P,Y){void 0 !== P && this.G7.eQb(P);Y=this.Rt.gi(P,Y);P === z.kc.ei && (P=this.GF(),Y.vbuflmsec=P.totalvbuflmsecs,Y.abuflmsec=P.totalabuflmsecs,Y.vbuflbytes=P.vbuflbytes,Y.abuflbytes=P.abuflbytes);return Y;};da.prototype.Xeb=function(P){this.jS=P;this.tj("updateBudget");};da.prototype.hr=function(){return this.laa.hr();};da.prototype.qfb=function(P){P !== this.weight && (this.wRa=P,this.events.emit("weightUpdated"));};da.prototype.gu=function(P){var Y,sa,Ha,Wa,$a,fb,Ua,bb,kb,rb,qb,yb,Ab,Lb,Sb,Xb;Ha=(0,U.TTa)(this.ea,P);Wa=Ha.Qt;$a=Ha.$wb;fb=Ha.I6b;if([Ha.RR,Wa,$a].every(function(Nb){return !Nb.length;}))return (this.Kwa(P),this.Dm.start(),{ia:!0,reason:h.wq.zmb});if(0 === $a.length && 0 === fb.length && this.cr && this.Y.Nd)return {ia:!1,reason:h.wq.Jlb};if(this.Y.Ya.some(function(Nb){return -1 < Wa.indexOf(Nb.v.id);}))return {ia:!1,reason:h.wq.wnb};if(this.dr && !this.Y.Nd && -1 < Wa.indexOf(this.vh.I))return {ia:!1,reason:h.wq.$kb};if(this.dr)try{for(var sb=l.__values($a),Jb=sb.next();!Jb.done;Jb=sb.next()){Ua=Jb.value;bb=this.ea.O[Ua];kb=bb.ta;rb=bb.va;qb=bb.J;yb=P.O[Ua];Ab=yb.va;Lb=yb.ta;Sb=yb.J;if(this.zg.I === Ua && Ab !== rb){if(!Ab)return {ia:!1,reason:h.wq.xnb};Xb=d.L.Ma(Ab - Lb);if(null === (sa=this.zg.offset) || void 0 === sa?0:sa.greaterThan(Xb))return {ia:!1,reason:h.wq.Mgb};}if(kb !== Lb)return {ia:!1,reason:h.wq.Mjb};if(qb !== Sb)return {ia:!1,reason:h.wq.Njb};}}catch(Nb){var Ib;Ib={error:Nb};}finally{try{Jb && !Jb.done && (Y=sb.return) && Y.call(sb);}finally{if(Ib)throw Ib.error;}}this.Kwa(P);this.Dm.start();return {ia:!0,reason:h.wq.ymb};};da.prototype.rB=function(P){P=this.DT(P);P=0 < P.length?P[0]:void 0;if((P=null === P || void 0 === P?void 0:P.Xq()) && 0 !== P.length)return d.L.min.apply(d.L,l.__spreadArray([],l.__read(P.map(function(Y){return Y.rB();})),!1));};da.prototype.Kwa=function(P){var Y;Y={type:"playgraphUpdating",JUb:this.mj,GTb:P};this.mj=P;this.navigator?this.navigator.update(P):this.navigator=new R.yLa(P);this.ZLb=(0,U.wVa)(this.navigator);this.B7b();this.events.emit("playgraphUpdating",Y);};da.prototype.B7b=function(){var P,Y,sa,Ha,Wa;sa=this.Y && this.cr && this.Y.Nd?this.zg:void 0;if(sa){Ha=this.navigator.ee(sa.I);sa=null === (P=this.Y.nl) || void 0 === P?void 0:P.A4;if((P=this.Una(Ha)) && P !== sa && this.Y.Hp){Wa=this.Y.Sy;null === (Y=this.Y.nl) || void 0 === Y?void 0:Y.caa({v:Wa.v,get lY() {return Wa.Va.qa(Wa.v.je);}},P,this.zg.offset,!0,!1,void 0);}}};da.prototype.$V=function(P,Y){this.T$a(P);P.fL.addListener("criticalNetworkError",this.Q8);P.fL.addListener("temporaryNetworkError",this.ZV);P.fL.addListener("updatingLastSuccessEvent",this.a9);P.events.addListener("logdata",this.J8);P.events.addListener("liveEventTimesUpdated",this.H8);P.events.addListener("liveLoggingInfoUpdated",this.I8);P.ba && P.xYb();this.Xa === m.mm.vl && Y && this.Pab();};da.prototype.kta=function(P){0 === this.Ya.filter(function(Y){return Y.Zm && Y.na === P;}).length && this.T$a(P);};da.prototype.T$a=function(P){P.fL.removeListener("criticalNetworkError",this.Q8);P.fL.removeListener("temporaryNetworkError",this.ZV);P.fL.removeListener("updatingLastSuccessEvent",this.a9);P.events.removeListener("logdata",this.J8);P.events.removeListener("liveEventTimesUpdated",this.H8);P.events.removeListener("liveLoggingInfoUpdated",this.I8);};da.prototype.LRa=function(P){var Y;(0,t.assert)(P.Pg,"expected branch to be normalized on addBranchToPlayer");this.Y.Hp || (null === (Y=this.xm) || void 0 === Y?0:Y.Pg) || this.RGb(P);this.af.Nya(P.Ed);this.Y.Hp && (Y=this.Y.jr) && this.og.clear(Y.v.id);this.Y.Qla(P);this.d3.iya(P,this.Jd);};da.prototype.RGb=function(P){(0,t.assert)(P.Ja,"Normalized branch should have a defined content start timestamp");(0,t.assert)(this.xm,"AsePlaygraph should have a seek position on first branch normalization");(0,t.assert)(!this.xm.Pg,"Seek position should not already be normalized on first branch normalization");this.xm=l.__assign(l.__assign({},this.xm),{position:{I:P.v.id,offset:P.Ja.qa(P.v.je)},Pg:!0});this.af.P1b(this.xm.position,P.Ed.filter(function(Y){return Y.mediaType === h.u.fa;})[0]);};da.prototype.Cxb=function(){var P;this.d3.reset();this.Y.OA();this.xm=void 0;null === (P=this.BTa) || void 0 === P?void 0:P.clear();};da.prototype.a7=function(P,Y,sa){Y=this.adb.Hwb(Y,P.hk.mediaType,1 > sa || !P.hk.nb.Qd && !this.N6(P.hk.nb));1 === sa && "global" === (0,h.Xua)(Y.reason) && this.af.$Ub(P.hk.mediaType,this.Yn(this.Jd));return Y;};da.prototype.nG=function(P){var Y,sa,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb;Y=this;$a=P.hk;P=$a.mediaType;fb=this.Hoa.p1b(this.Pd.value,this.Jd,$a.LC,$a.bdb,this.Y.playbackRate,$a,P === h.u.fa?this.Jub:this.$aa,this.H2);sb=fb.stream;Jb=fb.AX;Ua=fb.xU;bb=fb.Vt;kb=fb.Ft;rb=fb.reason;qb=fb.uGb;fb=fb.q1b;if(!sb)return {Ih:!1,reason:rb || "selectLocationsAndStream"};if(this.Pd.value === h.Rc.vl && $a.nb && $a.nb.na.Rl && !$a.nb.na.vV && !this.Y.GU($a.nb.na.J)){rb=$a.LC.G - this.Jd.G;if(!$a.nb.na.Dp && rb > this.config.D5a)return {Ih:!1,reason:"maxBufferingCompleteBufferInMs"};if(!sb.ii && sb.mediaType === h.u.X && rb >= this.config.yra)return {Ih:!1,reason:"maxFastPlayBufferInMs"};}rb=h.u.X;if(null === (sa=$a.nb) || void 0 === sa?0:sa.Ed.every(function(Ab){return Ab.mediaType === h.u.fa;}))rb=h.u.fa;this.af.zj && P === rb && this.af.d2b($a.gl.s1b,sb.bitrate,Ua);this.X1b($a.nb.v,Jb);sa=null === (Ha=$a.nb.Or) || void 0 === Ha?void 0:Ha.G;Ha=$a.Ceb(sb,kb,bb);if(Ha.Ih){this.jga && (this.NJ("firstDriveStreaming"),this.jga=!1);if(0 < this.cB){yb=null === (Wa=$a.nb.Or) || void 0 === Wa?void 0:Wa.G;sa && yb && (this.cB-=sa - yb,0 >= this.cB && this.Pab());}this.events.emit("requestIssued",{type:"requestIssued",mediaType:P,result:fb,streamList:qb});}else "exceedsLiveEdge" === Ha.reason && (null === (yb=this.Jga) || void 0 === yb?void 0:yb.Oa(),this.Jga=this.jq.UA(w.Jg.YC(sb.Vm().Kd),function(){Y.Jga=void 0;Y.tj("liveEdgeRetry");}));return Ha;};da.prototype.X1b=function(P,Y){var sa;sa=this;Y.forEach(function(Ha){Ha.na.wbb(Ha,P,function(){var Wa,$a;(0,t.assert)(sa.dr,"Speculative header callback after streaming is cancelled");Wa=sa.Jd.G;$a=Wa + sa.config.g8;return {jf:[],Pd:sa.af.state.value,ro:$a,uk:$a,Nk:Wa};});});};da.prototype.Pab=function(){var P;P=this;this.Dm.cba(Ca.wD.Iw,function(){return P.Dm.start();});};da.prototype.T9=function(){var P,Y,sa,Ha,Wa;P=this;if(this.Xa === m.mm.vl){Y=this.zg;sa=this.Y.Ya;Ha=this.Ya.NLb();Wa=l.__read(sa,1)[0];Y=Wa?this.navigator.ee(Wa.v.id):this.navigator.ee(Y.I);sa=sa.map(function($a){return {id:$a.v.id,duration:$a.Pb.qa($a.Ab).G};});Ha=(0,N.T9)(this.console,this.ZLb,Y,Ha,this.og,sa,d.L.Ma(this.config.tvb),this.config.bsa,d.L.Ma(this.config.Tia));sa=Ha.Fva;this.cB=Ha.cB || 0;Ha=this.Zla.reduce(function($a,fb){return fb($a);},sa);this.Ya.W6b(Ha,function($a,fb){var sb,Jb;Jb=P.navigator.ee($a);$a=$a === P.vh.I?P.vh.offset:$a === (null === (sb=P.S1) || void 0 === sb?void 0:sb.I)?P.S1.offset:d.L.Ga;sb=Jb.je.add($a);return P.u6b(Jb,sb,fb);}).Qt.forEach(function($a){$a.Cf("aborted");});this.A$a();this.rUa();this.Dm.cba(Ca.wD.Iw,function(){var $a;(null === ($a=P.Ya.root()) || void 0 === $a?0:$a.Zm) && P.tj("reevaluateBranches");P.Dm.AV(Ca.wD.kQ);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};da.prototype.k1a=function(){return (0,g.nia)(this.Ya.filter(function(P){return P.Zm;}).map(function(P){return P.na;}));};da.prototype.A$a=function(){var P,Y;P=this;if(this.Xa === m.mm.vl){if(!this.Y.jr){Y=l.__read(this.Ya.Ep(this.vh.I),1)[0];(null === Y || void 0 === Y?0:Y.Pg) && this.LRa(Y);}if(this.Y.jr)for(;;){Y=this.N_a(this.Y.jr.v);if(!Y)break;Y=l.__read(this.Ya.Ep(Y).filter(function(sa){return sa.parent === P.Y.jr;}),1)[0];if(!Y)break;if(null === Y || void 0 === Y || !Y.Pg)break;else if(this.Y.t1a(Y))break;this.LRa(Y);}}};da.prototype.Una=function(P){var Y,sa,Ha,Wa;if(this.Y.Hp){Y=this.Y.Sy;sa=!1;Ha=this.Y.Ya.filter(function($a){sa || (sa=$a === Y);return sa;});Wa=(0,g.av)(Ha,function($a){return $a.v.id === P.id;});if(Ha=Ha[Wa + 1])return Ha.v.id;}return this.N_a(P);};da.prototype.N_a=function(P){var Y;Y=this.og.get(P.id);if(void 0 !== Y)return Y;P=this.navigator.WIb(P);if(1 === P.length)return P[0].id;};da.prototype.rUa=function(){var P;P=this.Ya.empty || 0 !== this.WHb();P || this.kaa?P && this.kaa && (this.kaa=!1):(this.af.zj && (P=this.Yn(this.Jd),this.af.Fm("complete",P.vO,P.wO)),this.uqb(),this.kaa=!0);};da.prototype.WHb=function(){return this.Ya.filter(function(P){return !P.Zh;}).length;};da.prototype.iE=function(P){this.N6(P) && this.af.Eja(this.Jd,this.Y.playbackRate,P,{Dja:this.Hoa.Dja.bind(this.Hoa,this.adb)});};da.prototype.QUb=function(P,Y){var sa,Ha;sa=this;if(Y.didNormalizeSegment){Ha=ua.RMa.WLb(P);(0,t.assert)(Ha,"Segment should be normalized");Promise.resolve().then(function(){return sa.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:P.v.id,normalizedStart:Y.segmentContentStart,normalizedEnd:Y.branchContentEnd,viewableContentEnd:Ha.agb,viewableEarliestContentEnd:Ha.bgb,media:c(P.Ed)});});}Promise.resolve().then(function(){sa.A$a();});this.tj("branchNormalized");};da.prototype.RUb=function(){this.rUa();};da.prototype.PUb=function(){this.Dm.start();};da.prototype.zBb=function(P,Y){var sa;sa=this;return new n.nBa(P.J,this.Ds.wo.bind(this.Ds),function(Ha,Wa,$a){sa.state !== m.mm.CLOSED && (sa.$V(Wa,$a),sa.Dm.cba(Ca.wD.kQ,function(){Ha.Qd || sa.tqb(Ha,Wa,Y);}));},this.kta.bind(this));};da.prototype.u6b=function(P,Y,sa){var Ha,Wa;if(this.Axb(P,Y))throw Error("Not implemented");Ha=this.zBb(P,!sa);Wa=sa?sa.Pb.qa(Y):this.D2a || d.L.Ga;P=(0,p.vVa)({config:this.config,console:this.console,v:P,events:this.events,BH:this.BH,bn:Y,te:Wa,et:this.KBb.bind(this),Pd:this.Pd,yd:this.yd,sI:Ha,FTa:this.Gk,gua:this.Ya});this.z4b(P,!!sa);return P;};da.prototype.KBb=function(){return this.Jd.G;};da.prototype.z4b=function(P,Y){var sa,Ha;sa=this;Ha=new f.ye();Ha.addListener(P.events,"needsRequest",function(){var Wa;Wa=sa.Ya.root();Wa && !Wa.Zm || sa.tj("branchNeedsHeader");});Ha.addListener(P.events,"branchNormalized",this.QUb.bind(this,P));Ha.addListener(P.events,"lastRequestIssued",this.PUb.bind(this,P));Ha.addListener(P.events,"branchStreamingComplete",this.RUb.bind(this,P));Ha.addListener(P.events,"checkBufferingProgress",this.iE.bind(this,P));Ha.addListener(P.events,"branchDestroyed",function(Wa){Ha.clear();sa.Ya.contains(P) && (sa.Ya.s_b(P),sa.Dm.start());"aborted" === Wa.reason && (sa.Y.t1a(P) || sa.Dm.cba(Ca.wD.Iw,function(){return sa.sqb(P.v.id);}));});Ha.addListener(P.events,"liveMissingSegment",function(Wa){sa.events.emit("liveMissingSegment",Wa);});Y || (this.NJ("createDlTracksStart"),P.events.once("requestQueuesCreated",function(){sa.NJ("createDlTracksEnd");}));};da.prototype.BKb=function(P){if(this.Y.Nd)return this.Y.Sy.Md(P);};da.prototype.BH=function(P,Y,sa,Ha){Y=[[h.u.fa,null !== Y && void 0 !== Y?Y:this.LE,"audio_tracks"],[h.u.X,null !== sa && void 0 !== sa?sa:this.IY,"video_tracks"]].map(function(Wa){var $a,fb;$a=l.__read(Wa,3);fb=$a[0];Wa=$a[1];$a=$a[2];if(P.W && ((0,t.assert)(Wa,("Expected mediaType ").concat(fb," track selector to be defined")),fb=P.W[$a],Wa=Wa.RN(P.W,fb),void 0 !== Wa))return P.getTrackById(fb[Wa].zO);}).filter(g.D8);sa=Ha || this.ZH;P.W && sa && (Ha=P.W.timedtexttracks,sa=sa.RN(P.W,Ha),void 0 !== sa && 0 <= sa && (Ha=P.getTrackById(Ha[sa].id)) && Y.push(Ha));return Y;};da.prototype.cKb=function(){var P;P=new Set();this.Ya.map(function(Y){return Y.Ed;}).forEach(function(Y){return Y.forEach(function(sa){return P.add(sa.mediaType);});});return Array.from(P).sort();};da.prototype.J8=function(P){this.events.emit("logdata",P);};da.prototype.H8=function(P){var Y,sa,Ha,Wa;Y=this;sa=P.na;Ha=P.startTime;Wa=P.endTime;this.Ya.filter(function($a){return $a.Zm && $a.na === sa;}).forEach(function($a){$a={type:"liveEventTimesUpdated",I:$a.v.id,startTime:Ha,endTime:Wa};Y.events.emit($a.type,$a);});};da.prototype.I8=function(P){var Y,sa,Ha,Wa;Y=this;sa=P.na;Ha=P.mediaType;Wa=P.info;this.Ya.filter(function($a){return $a.Zm && $a.na === sa;}).forEach(function($a){$a={type:"liveLoggingInfoUpdated",I:$a.v.id,mediaType:Ha,info:Wa};Y.events.emit($a.type,$a);});};da.prototype.tqb=function(P,Y,sa){(0,t.assert)(P.Ed.length,"Branch should have tracks defined");P={type:"segmentStarting",segmentId:P.v.id,contentOffset:P.te.G,maxBitrates:{audio:Y.rM[h.u.fa],video:Y.rM[h.u.X]},media:c(P.Ed),initial:sa};this.events.emit(P.type,P);};da.prototype.sqb=function(P){P={type:"segmentAborted",segmentId:P};this.events.emit(P.type,P);};da.prototype.uqb=function(){var P;P={type:"streamerEnd",time:u.default.time.xa()};this.events.emit(P.type,P);};da.prototype.NJ=function(P){P={type:"startEvent",event:P,time:u.default.time.xa()};this.events.emit(P.type,P);};l.__decorate([Q.return.Og()],da.prototype,"vh",null);l.__decorate([(0,F.Tb)({methodName:"checkCanSetTracks",return:!0})],da.prototype,"cxb",null);l.__decorate([(0,F.Tb)({methodName:"setTracks",return:!0})],da.prototype,"hz",null);l.__decorate([(0,F.Tb)({methodName:"setNextSegment",lp:!0})],da.prototype,"Nj",null);l.__decorate([(0,F.Tb)({methodName:"seekStreaming"}),l.__param(0,Q.Og())],da.prototype,"EC",null);l.__decorate([(0,F.Tb)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,Q.Og()),l.__param(2,Q.Og()),l.__param(2,Q.K8)],da.prototype,"x$",null);l.__decorate([Q.return.nka(),l.__param(0,Q.Og())],da.prototype,"WF",null);l.__decorate([Q.return.Og()],da.prototype,"al",null);l.__decorate([l.__param(0,Q.Og())],da.prototype,"yB",null);l.__decorate([l.__param(0,Q.Og())],da.prototype,"hU",null);l.__decorate([Q.return.Og(),l.__param(0,Q.Og())],da.prototype,"Mab",null);l.__decorate([Q.return.Og(),l.__param(0,Q.nka())],da.prototype,"xp",null);l.__decorate([l.__param(0,Q.nka()),l.__param(0,Q.I())],da.prototype,"Zs",null);l.__decorate([(0,F.Tb)({methodName:"getStreamables",ak:!0})],da.prototype,"JL",null);l.__decorate([(0,F.Tb)({methodName:"updatePlaygraphMap",return:!0})],da.prototype,"gu",null);return da;})();b.Hba=a;},93867:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Iza=b.DRa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(42866);g=a(27364);m=c.__importDefault(a(35471));h=a(93514);n=a(7881);p=a(49730);q=a(97810);b.DRa=["AD_BREAK_UNAVAILABLE"];u=(function(){function t(v,w){this.J=v;this.Tc=w;this.UW=!1;this.j2=new f.AbortController();}t.isEqual=function(v,w){return w.J === v.J && w.Tc === v.Tc;};return t;})();r=(function(){function t(v,w,y,x,z,A){var B;B=this;this.Ds=v;this.ya=y;this.mgb=x;this.config=z;this.console=A;this.items=[];this.events=new l.EventEmitter();w.events.addListener("adBreakComplete",function(){B.Xdb=B.mgb.sa.currentTime;});this.console=(0,q.Kh)(m.default,A,"AdBreakHydrator");}t.prototype.X0b=function(v){c.__awaiter(this,void 0,void 0,function(){var w,y,x,z,A;A=this;return c.__generator(this,function(B){switch(B.label){case 0:w=v.map(function(C){return new u(C.J,C.Tc);});y=(0,d.ZUa)(this.items,w,u.isEqual);this.items=y.result;y.kva.forEach(function(C){var D;null === (D=C.j2) || void 0 === D?void 0:D.abort();});p.K && this.console.log("Evaluated schedule",{Kdc:y.etb.length,kva:y.kva.length,w9a:y.w9a.length,whc:y.result.length});x=this.items.filter(function(C){return !C.UW;}).map(function(C){return A.Lj(C);});if(!(0,g.bo)(this.ya.Pd.value))return [3,5];z=this.items.map(function(C){return A.Ds.wo(C.J).xy;});B.label=1;case 1:return (B.Qj.push([1,,3,4]),[4,Promise.race(x)]);case 2:return (B.Ta(),[3,4]);case 3:return (z.forEach(function(C){return C.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(x)];case 6:(B.Ta(),B.label=7);case 7:return [2];}});});};t.prototype.Lj=function(v){var w;return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:(p.K && this.console.log("Start scheduling for adbreak",{wjc:v.J,dec:v.Tc.pj}),null === (w=v.j2) || void 0 === w?void 0:w.abort(),y=new f.AbortController(),v.j2=y,x=(0,h.xp)(this.ya.ea,v.J,k.L.Ma(v.Tc.gk)),z=(0,f.qia)(y.signal),C.label=1);case 1:return (C.Qj.push([1,,5,6]),[4,Promise.race([this.ata(y.signal).then(function(){return "rebuffer";}),Promise.all([this.H8b(z),this.J8b(x,z)]).then(function(){return "gatesPassed";}),z.then(function(){return "cleanup";})])]);case 2:A=C.Ta();p.K && this.console.log("Schedule completed for reason",A);if(y.aborted)return [3,4];p.K && this.console.log("Making Item Fetch",{eec:v.Tc.pj,gk:v.Tc.gk});v.UW=!0;return [4,this.gZb(v.Tc.Ro.eh,v.J,y.signal)];case 3:(C.Ta(),C.label=4);case 4:return [3,6];case 5:return (v.j2 === y && (B=this.items.indexOf(v),-1 !== B && (p.K && this.console.log(("Removing item ").concat(B,", ").concat(this.items.length - 1," left")),this.items.splice(B,1))),[7]);case 6:return [2];}});});};t.prototype.ata=function(v){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,k.qq.P8b([this.ya.Pd],function(w){w=c.__read(w,1)[0];return (0,g.bo)(w);},v)];});});};t.prototype.H8b=function(v){var w;w=this;return this.Xdb && this.config.$1a?new Promise(function(y){var x,z;x=w.Xdb.add(k.L.Ma(w.config.$1a));z=w.mgb.UA(n.Jg.iu(x),y,"hydratorWaitTask");v.then(function(){return z.Oa();});}):Promise.resolve();};t.prototype.J8b=function(v,w){var y,x;y=this;if(!this.config.P5a)return Promise.resolve();x=k.L.Ma(this.config.P5a);return new Promise(function(z){var A,B;A=y.ya.yB(v,!0);B=y.ya.yd.UA(n.Jg.iu(A.qa(x)),z,"waitJitHydrateAdBreak");w.then(function(){return B.Oa();});});};t.prototype.gZb=function(v,w,y){var x,z,A,B,C,D;return c.__awaiter(this,void 0,void 0,function(){var F,G,E,H,M,L,K,O,J,I;return c.__generator(this,function(N){switch(N.label){case 0:(F=this.Ds.wo(w),G=F.xy,N.label=1);case 1:return (N.Qj.push([1,4,5,6]),[4,F.yz]);case 2:return (N.Ta(),[4,this.Ds.fw({eh:v,J:w})]);case 3:return (E=N.Ta(),y.aborted || (H=E.l2,M=E.uia,p.K && this.console.log("Hydrated response " + ("with ").concat(null === (x=E.l2.Ve) || void 0 === x?void 0:x.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",eh:v,l2:H,uia:M})),[3,6]);case 4:L=N.Ta();if(!y.aborted){if(K=null === (z=L.Ula) || void 0 === z?void 0:z.context)if((O=null !== (A=K.type) && void 0 !== A?A:K.type,J=null !== (B=K.error) && void 0 !== B?B:K.error,"adBreakHydration" === O && (I=null !== (D=null !== (C=J.edgeCode) && void 0 !== C?C:J.code) && void 0 !== D?D:J.code,-1 !== b.DRa.indexOf(I))))return (p.K && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(I,", ") + ("parentViewableId: ").concat(w,", ") + ("adBreakToken: ").concat(v)),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",eh:v,xd:w}),[2]);this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",eh:v,error:L});}return [3,6];case 5:return (G.release(),[7]);case 6:return [2];}});});};return t;})();b.Iza=r;},22474:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Jza=void 0;c=a(5163);l=c.__importDefault(a(35471));f=a(40376);r=(function(){function k(d,g,m,h,n){this.ya=d;this.yd=g;this.events=m;this.Tc=h;this.console=n;this.ip=0;h.V2 && l.default.ping && l.default.ping(h.V2);}Object.defineProperties(k.prototype,{Bya:{get:function(){return this.ip;},enumerable:!1,configurable:!0}});k.prototype.Msa=function(d,g,m,h,n){this.Yu && (this.Yu.Oa(),this.Yu=void 0);this.Yu=new f.eNa(this.ya,this.yd,this.events,this.Tc,d,g,m,h,n,this.console);};k.prototype.O8=function(d){this.Yu && (this.Yu.Oa(),this.Yu=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Tc.yha.complete),{Og:d,CE:this.Tc.eu,pj:this.Tc.pj}));this.Tc.Roa=!0;}catch(g){this.console.error("Impression error event",g);this.ip++;}};k.prototype.Ol=function(){var d;return {ad:null === (d=this.Yu) || void 0 === d?void 0:d.Ol(),errors:this.ip};};return k;})();b.Jza=r;},3005:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){return null === p || void 0 === p?void 0:p.ae.map(function(q){return q.Ve;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(u){return u.id;});}).reduce(function(q,u){return null === u || void 0 === u?void 0:u.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.Kza=void 0;l=a(5163);f=a(57055);k=a(50954);d=a(42866);g=a(49730);m=a(62558);h=a(9630);n=a(12445);r=(function(){function p(q,u,t,v){this.config=q;this.console=u;this.Wa=t;this.Kc=v;this.Zu={};this.r7=!1;this.events=new f.EventEmitter();this.Wa.Asb(this.zFb.bind(this));}Object.defineProperties(p.prototype,{bOb:{get:function(){return this.Wa.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ae:{get:function(){return this.Ln.JR;},enumerable:!1,configurable:!0}});p.prototype.Bb=function(q,u,t){this.Ln=new h.bAa(q,u);this.LR=new n.Zza(this.Ln,this.console,this.Wa,this.Kc);this.WJ=t;};p.prototype.NL=function(){var q;q=this;return !!(0,d.wc)(Object.keys(this.ae),function(u){return 0 < q.ae[u].length;});};p.prototype.Y8=function(q){var u,t,v;u=this.Kc.Bg;(0,m.assert)(u,"Could not get graph location service");if(0 < this.Ln.Qya){t=this.TA(this.Kc.ea);u=u.Nfb(this.Kc.ea,t);this.Ln.reset();}v=this.LR.GSa(q,u,t);q=v.vh;u=v.iB;this.o4a=v.x9;g.K && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(q)));v=(null !== t && void 0 !== t?t:this.Wa.ea).O[q.I];this.r7=!!v.type && -1 < ["ad","padding"].indexOf(v.type);return {vh:q,iB:u,w8:t};};p.prototype.$V=function(q,u){var t,v;t=this.QZa(q);v=this.Zu[q.P];this.Zu[q.P]=t;if(v=v !== t && (null === v || void 0 === v?void 0:v.ae.length) !== (null === t || void 0 === t?void 0:t.ae.length)){if(null === t || void 0 === t?0:t.ae)(this.Ln.L1b(q.P,t.ae),this.LR.Mbb(),g.K && this.console.trace("Received ad metadata for",{na:q.P,rsb:c(t)}));if(u && this.D1a(u)){if(this.hcb(u))return l.__assign({oSa:v},this.ffb(u,"viewableReceived"));g.K && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(u,",\n                        didAppendData: ").concat(this.Wa.DJ,",\n                        enablePrerollForInitialSeek ").concat(this.Wa.config.F4));}}return {oSa:v,Rya:u};};p.prototype.Ksa=function(q,u,t){var v;v=this.QZa(q);(0,m.assert)(v,("adMetadata for viewable ").concat(q.J," should exist if an adBreak hydration was requested"));this.Zu[q.P]=v;this.Ln.Ksa(q.P,u);this.LR.Mbb();g.K && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{na:q.P,rsb:c(v)});if(t)return this.ffb(t,"adBreakHydration");};p.prototype.Lsa=function(q,u){this.Ln.Lsa(q,u);};p.prototype.iPb=function(){return !this.Wa.Y.Hp && this.Wa.zj;};p.prototype.ffb=function(q,u){var t,v,w,y,x;g.K && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(q)));t=this.Kc.Bg;(0,m.assert)(t,"Could not get graph location service");v=this.TA(this.Kc.ea);t=t.Nfb(this.Kc.ea,v);w=this.LR.GSa(q,t,v);y=w.vh;w=w.iB;this.r7=!1;x=v.O[y.I];x || (x=this.Wa.ea.O[y.I]);this.r7=!!x.type && -1 < ["ad","padding"].indexOf(x.type);t=null === t || void 0 === t?void 0:t.Pr(y);g.K && this.console.trace(("ads::updatePendingSeekPosition: should consider preroll on seek:\n            original seekPosition: ").concat(q,",\n            updated seekPosition: ").concat(t,",\n            entryPoint: ").concat(JSON.stringify(w),",\n            didAppendData: ").concat(this.Wa.DJ,",\n            enablePrerollForInitialSeek ").concat(this.Wa.config.F4,",\n            reason: ").concat(u));return {Rya:t,iB:w,w8:v};};p.prototype.TA=function(q){var u,t,v;u=this;t=q;v=Object.keys(q.O).map(function(w){return ("").concat(q.O[w].J);});Object.keys(this.Zu).forEach(function(w){var y,x;if(-1 !== v.indexOf(w)){y=u.Zu[w];if(y){x=y.ae.map(function(z,A){z=u.ae[w][A];return z.ar || z.Ve.reduce(function(B,C,D){return C.IU?l.__spreadArray(l.__spreadArray([],l.__read(B),!1),[D],!1):B;},[]);});y=(0,k.IVa)(parseInt(w),y,x,u.config.wta);t=(0,k.Ora)(t,y);}}});return t;};p.prototype.D1a=function(q){return !!this.Zu[this.Kc.ea.O[q.I].J];};p.prototype.QZa=function(q){if(q.Bm && (q=q.Bm,q.ae.length))return q;};p.prototype.ula=function(q){this.Ln.ula(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});};p.prototype.Xwa=function(q,u,t){var v;return this.LR.Xwa(q,u,t,null === (v=this.bOb) || void 0 === v?void 0:v.ve);};p.prototype.zFb=function(q){var u,t,v,w,y,x,z;u=this;if(!this.NL())return q;t=!0;v=[];w=[];x=this.Wa.cOb.ea;q.zF(function(A,B){var C,D,F,G;if(!(B || !A.v.p3a || u.iPb() && u.hcb(u.Wa.vh)))return (u.console.trace("Hydration: Not checking root segment"),!0);D=x.O[A.v.id];(0,m.assert)(D,"Hydration: Segment must be present in innermost playgraph");F=D.J;if(D.type && -1 < ["ad","padding"].indexOf(D.type))t=!1;else if(D.cc){G=u.Wa.ea.O[D.cc];G && G.J !== D.J && (u.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(D.J,", ") + ("main content viewableId: ").concat(G.J)),F=G.J);}if((D=u.Ln.PZa(F,D.ta)) && !D.ar)if(D.$Ta && !D.Wf){if(D.XN)u.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((G=null === (C=null === B || void 0 === B?void 0:B.nb) || void 0 === C?void 0:C.duration,u.r7 && G && 5E3 > G))u.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {v.push(A);if(t && 0 === w.length || y === B)(w.push({J:F,Tc:D}),y=B);return !1;}}else t=!1;return !0;});v.forEach(function(A){return q.remove(A);});this.WJ.X0b(w);if(this.config.j_b && q.root){z=x.O[q.root.v.id];(z=this.Ln.PZa(z.J,z.ta)) && z.XN && (z.XN=!1);}return q;};p.prototype.hcb=function(q){var u,t,v;t=this.Wa.DJ;(v=0 === q.offset.G) || (t?(t=this.o4a,v=null === (u=this.Wa.Y.NF()) || void 0 === u?void 0:u.v.id,q=t && t.HHb === v && t.to.I === q.I && t.to.offset.G === q.offset.G?this.o4a.uMb:!0):q=this.Wa.config.F4,v=q);return v;};return p;})();b.Kza=r;},43003:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lza=void 0;c=a(42866);r=(function(){function l(f,k){this.Hs=f;this.Ue=k;}l.prototype.Joa=function(f){var k;k=this;return this.Hs.Y.Ya.some(function(d){return d.v.v.J === f && d.wSa;})?!1:(0,c.wc)(Object.keys(this.Ue.Zu),function(d){if(d=k.Ue.Zu[d])return (0,c.wc)(d.ae,function(g){return g.Ve && (0,c.wc)(g.Ve,function(m){return m.id === f;});});})?(this.Ue.ula(f),!0):!1;};return l;})();b.Lza=r;},2976:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Nza=void 0;c=a(57055);l=a(13043);r=(function(){function f(k,d,g){var m;m=this;this.Ue=d;this.Fn=new c.ye();this.po="adHydratorAudit";this.fd="adHydratorAuditor";this.enabled=!0;this.Fn.on(k.events,"adBreakPresenting",function(h){m.state.HRa.push(h.presentingInfo.Tc.YJ.D1b);});this.Fn.on(g.events,"adBreakHydrated",function(){m.state.FRa++;});this.Fn.on(g.events,"adBreakHydrationFailed",function(){m.state.ERa++;});this.Fn.on(g.events,"adBreakHydrationSkipped",function(){m.state.IRa++;});this.state={FRa:0,ERa:0,IRa:0,HRa:[]};}f.prototype.gi=function(k){k=k.mi;if(this.Ue.NL() && k === l.kc.ei)return {adBreaksPresentedSequence:this.state.HRa,adBreaksHydratedCount:this.state.FRa,adBreaksFailedHydratedCount:this.state.ERa,adBreaksSkippedCount:this.state.IRa};};f.prototype.Oa=function(){this.Fn.clear();};return f;})();b.Nza=r;},66814:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Oza=void 0;c=a(57055);l=a(13043);r=(function(){function f(k,d,g){var h;function m(n){var p,q;(p=h.state.Bha)[q=n.event] || (p[q]=0);h.state.Bha[n.event]++;}h=this;this.Ue=d;this.jpa=g;this.Fn=new c.ye();this.po="adImpressionAudit";this.fd="adImpressionAuditor";this.enabled=!0;this.Fn.on(k.events,"adPresenting",function(){return h.state.pSa++;});this.Fn.on(k.events,"adBreakPresenting",function(){return h.state.GRa++;});this.Fn.on(g.events,"adEvent",m);this.Fn.on(g.events,"adBreakEvent",m);this.state={GRa:0,Bha:{},pSa:0};}f.prototype.gi=function(k){k=k.mi;if(this.Ue.NL() && k === l.kc.ei)return {presented:{breaks:this.state.GRa,ads:this.state.pSa},events:this.state.Bha,logger:this.jpa.Ol()};};f.prototype.Oa=function(){this.Fn.clear();};return f;})();b.Oza=r;},71168:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Rza=void 0;r=a(5163);c=a(57055);l=r.__importDefault(a(35471));f=a(97810);k=a(62558);d=a(49730);g=a(22474);a=(function(){function m(h,n,p,q){this.Wa=n;this.yd=p;this.ip=0;this.events=new c.EventEmitter();this.console=(0,f.Kh)(l.default,q,"IMPRESSION");h.events.addListener("adBreakPresenting",this.P8.bind(this));h.events.addListener("adBreakComplete",this.O8.bind(this));h.events.addListener("adPresenting",this.Msa.bind(this));}Object.defineProperties(m.prototype,{tU:{get:function(){return !!this.Al;},enumerable:!1,configurable:!0}});m.prototype.P8=function(h){this.Al && (d.K && this.console.warn("Unexpected back-to-back ad breaks"),this.Al.O8(h.Rm.position),this.ip+=this.Al.Bya,this.Al=void 0);(0,k.assert)(h.Rm.Tc,"Ad break must be defined for ad break presenting");this.Al=new g.Jza(this.Wa,this.yd,this.events,h.Rm.Tc,this.console);};m.prototype.O8=function(h){var n,p,q;q=h.Rm.Tc || (null === (n=this.Al) || void 0 === n?void 0:n.Tc);d.K && this.console.trace(("adBreakComplete event, ").concat(this.Al?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.pj," is ") + ("").concat(q.Ve.length?"not ":"","empty, ") + ("has ").concat(q.ar?"":"not ","played"):"no ad break"));if(0 === (null === (p=h.Rm.Tc) || void 0 === p?void 0:p.Ve.length))((0,k.assert)(!this.Al,"Received ad break complete for empty ad break during ad break"),h.Rm.Tc.m2b(),this.P8(h));else if(!this.Al)return;this.Al.O8(h.Rm.position);this.ip+=this.Al.Bya;this.Al=void 0;};m.prototype.Msa=function(h){var n,p,q;(0,k.assert)(this.Al,"Expect to be in ad break when ad presenting is received");(0,k.assert)(this.Al.Tc === h.Rm.Tc,"Expect to be in correct ad break when ad presenting is received");p=this.Wa.DT(h.Rm.position.I)[0];q=h.Rm.Xp;this.Al.Msa(h.Rm.$e,null === p || void 0 === p?void 0:p.na,h.Rm.position.I,q,null !== (n=null === p || void 0 === p?void 0:p.Ab) && void 0 !== n?n:q);};m.prototype.Ol=function(){var h;return {"break":null === (h=this.Al) || void 0 === h?void 0:h.Ol(),errors:this.ip};};return m;})();b.Rza=a;},53997:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Sza=void 0;c=a(3005);l=a(83981);f=a(53875);k=a(71168);d=a(43003);g=a(66814);m=a(93867);h=a(2976);r=(function(){function n(p,q,u,t,v,w){this.n2=w;this.cPa=new c.Kza(q,p,u,t);this.Sqb=new l.$za(u,t,this.Ue);this.kE=new f.fLa(this,u,p);this.vga=new k.Rza(this.kE,u,u.yd,p);this.bPa=new m.Iza(v,this.kE,t,t.jq,q,p);u.Rt.Be(new g.Oza(this.kE,this.Ue,this.vga));u.Rt.Be(new h.Nza(this.kE,this.Ue,this.bPa));this.cPa.Bb(this.vga.events,this.kE.events,this.WJ);this.pob=new d.Lza(u,this.Ue);}Object.defineProperties(n.prototype,{Ue:{get:function(){return this.cPa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gN:{get:function(){return this.Sqb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{W8a:{get:function(){return this.kE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jpa:{get:function(){return this.vga;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{psb:{get:function(){return this.pob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{WJ:{get:function(){return this.bPa;},enumerable:!1,configurable:!0}});n.prototype.bi=function(p){return this.kE.bi(p);};return n;})();b.Sza=r;},78085:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zS=void 0;c=a(5163);l=a(50164);f=a(46250);k=a(45894);d=a(88801);g=a(81134);b.zS=function(m,h,n){var p,q,u,t,v;p=c.__assign({Lca:f.Kca},m).Lca;q=h.tW[5];u=(0,k.bta)(function(){return v;});q.SRa(u.wo);m=new l.Rda();t={Bg:void 0,Kc:void 0,Wa:void 0,Hpa:m,y4a:"ads"};t.Bg=new p(function(){return t.Kc.ea;},m,h.tW[2],"Ads:");v=new g.Xza(t,u.kdb,d.Tv.Sva.KN,q);p=h.dia;h.dia=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[v],!1);t.Wa=n(h);t.Kc=d.Tv.Fua(t.Wa,v,function(){return t;},p);v.Bb();m.Bb(t.Wa);m.S9();return t.Kc;};},81134:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Xza=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(23710);d=a(33285);g=a(62558);r=a(61341);m=a(83386);h=a(53997);a=(function(n){function p(q,u,t,v){q=n.call(this,q,u,t,"AdsPlaygraphHost") || this;q.Ds=v;q.sJ=void 0;q.$ta=new l.ye();q.X4a=new m.Qea();q.n2=new l.EventEmitter();return q;}c.__extends(p,n);Object.defineProperties(p.prototype,{Kc:{get:function(){return this.ap.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hs:{get:function(){var q;q=this.TA(this.Kc.ea);if(q !== this.Kc.ea)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Uc:{get:function(){return this.sJ;},enumerable:!1,configurable:!0}});p.prototype.Bb=function(){var q;q=this;n.prototype.Bb.call(this);this.ap.Wa.Be(new k.Yza(this.ap));this.sJ=new h.Sza(this.V,this.Z,this.Wa,this.Kc,this.Ds,this.n2);this.ap.Wa.Uc=this.sJ;this.Uc.WJ.events.on("adBreakHydrated",function(u){return q.B9a(u);});this.Uc.WJ.events.on("adBreakHydrationFailed",function(u){return q.kf(u.error);});this.Uc.WJ.events.on("adBreakHydrationSkipped",function(u){return q.wYb(u);});};p.prototype.vC=function(q){var u,t,v,w,y;v=n.prototype.vC.call(this,q);if(v){(0,g.assert)(this.Uc,"missing manager");q=this.Uc.Ue.$V(q,null === (u=this.PL) || void 0 === u?void 0:u.vh);u=q.Rya;w=q.iB;y=q.w8;q.oSa && this.lN(y,u,null === (t=this.PL) || void 0 === t?void 0:t.Xp,w);}return v;};p.prototype.B9a=function(q){var u,t,v;v=q.uia;q=v.gNb(q.l2,q.eh);(0,g.assert)(this.Uc,"missing manager");q && ((v=this.Uc.Ue.Ksa(v,q,null === (u=this.PL) || void 0 === u?void 0:u.vh))?(u=v.iB,this.lN(v.w8,v.Rya,null === (t=this.PL) || void 0 === t?void 0:t.Xp,u)):this.lN());};p.prototype.wYb=function(q){this.Uc.Ue.Lsa(q.xd.toString(),q.eh);this.lN();};p.prototype.kf=function(q,u,t,v,w,y,x){var z,A;void 0 === x && (x=!1);z=!1;A=!1;u && !x && (z=this.Uc.psb.Joa(u));z?this.lN():A=this.ap.Wa.kf(q,u,t,v,w,y,x);return A;};p.prototype.EC=function(q,u){var t,v,w,y,x;t=this;this.Owa(q,u);v=this.Kc.yd.sa;this.$ta.clear();this.$ta.addListener(v,"stopStart",function(){v.ji && (t.PL=void 0,t.$ta.clear());});if(this.Uc.Ue.D1a(q)){f.K && this.V.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));w=this.Uc.Ue.Y8(q);y=w.vh;x=w.iB;if(w=w.w8)(f.K && this.V.trace("ads::seekStreaming: ads playgraph was updated"),this.lN(w,q,u));f.K && this.V.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Wa.x$(y,u,x);}else this.Wa.EC(q,u);};p.prototype.lN=function(q,u,t,v){var w;w=this;this.X4a.fia || this.X4a.sgb(function(){w.dva(q,w.Kc.ea,u,t,v);w.n2.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.TA=function(q){return this.Uc.Ue.TA(q);};p.prototype.Cf=function(q){n.prototype.Cf.call(this,q);this.PL=void 0;};p.prototype.Owa=function(q,u){this.PL={vh:q,Xp:u};};c.__decorate([(0,d.Tb)({methodName:"ads::processViewableResponse"})],p.prototype,"vC",null);c.__decorate([(0,d.Tb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"B9a",null);c.__decorate([(0,d.Tb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"kf",null);c.__decorate([(0,d.Tb)({methodName:"ads::seekStreaming"})],p.prototype,"EC",null);c.__decorate([(0,d.Tb)({methodName:"ads::cancelStreaming"})],p.prototype,"Cf",null);return p;})(r.Dea);b.Xza=a;},12445:function(r,b,a){var l,f,k,d;function c(g,m){var h;h=m && g.O[m];if(h)return "content" !== h.type?c(g,h.Gb):m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Zza=void 0;l=a(42866);f=a(49730);k=a(62558);d=a(83981);r=(function(){function g(m,h,n,p){this.Ln=m;this.console=h;this.Wa=n;this.Kc=p;}g.prototype.Mbb=function(){this.O1=void 0;};g.prototype.GSa=function(m,h,n){var p,q,u,t,v,w,y,x,z;void 0 === n && (n=this.Wa.ea);q=this.Ln.JR[this.Kc.ea.O[m.I].J];u=h.aB(m);t=u;v=n.O[u.I];if(0 === u.offset.G)w=this.eoa(n,q,u);else {"padding" === v.type && (u={I:v.Gb,offset:l.L.Ga});y=null === (p=this.Wa.Y.NF()) || void 0 === p?void 0:p.v.id;if(y)x=y;else (p=c(n,n.ve),this.Wa.Y.Hp || !this.Wa.zj || this.Wa.DJ || p !== u.I?x=p:w=this.eoa(n,q,h.aB({I:m.I,offset:l.L.Ga})));!w && x && (f.K && this.console.trace(("ads::seekStreaming: seek from segment ").concat(x)),w=this.JKb(x,u,n));}if(w)if(w.I){t={I:w.I,offset:l.L.Ga};z=u;}else this.O1=w.Tc;m={uMb:!!w,HHb:x,to:u};return z || "ad" !== v.type?{vh:t,iB:z,x9:m}:{vh:u,iB:u,x9:m};};g.prototype.Xwa=function(m,h,n,p){if(this.O1)return (h=this.O1,this.O1=void 0,h);if((m=this.Ln.JR[m]) && m.length)if(n && h.I === p && h.offset.equal(l.L.Ga)){if((h=m[0],0 === h.gk && 0 === h.Ve.length && !h.ar && !h.Roa))return h;}else if(!n)return this.yna(h.I,m);};g.prototype.JKb=function(m,h,n){var p,t,v;f.K && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(m," to ").concat(JSON.stringify(h)));if(n){p=this.Ln.JR[this.Kc.ea.O[n.O[h.I].cc].J];n=n.O;m=n[m].Gb;for(var q=void 0,u=void 0;m;){t=n[m];if("content" === t.type && ("content" === q || void 0 === q) && p){v=this.yna(m,p);v && (u={Tc:v});}if(m === h.I)return (h=u && !u.I || q && "content" !== q?u:void 0,f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(h)),h);"ad" === t.type && "ad" !== q && (f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(m)),q=(0,d.FF)(m),(0,k.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),u={I:m,Tc:p[null === q || void 0 === q?void 0:q.pj]});q=t.type;m=t.Gb;}}f.K && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};g.prototype.eoa=function(m,h,n){var p,q;p=m.O;n=n.I;q=p[n].type;if("padding" === q)return this.eoa(m,h,{I:p[n].Gb,offset:l.L.Ga});f.K && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",n);if("ad" === q)return (m=(0,d.FF)(n),(0,k.assert)(m,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{I:n,Tc:h[null === m || void 0 === m?void 0:m.pj]});if("content" === q){if(h=this.yna(n,h))return {Tc:h};}else f.K && (0,k.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};g.prototype.yna=function(m,h){m=(0,d.p_a)(m);(0,k.assert)(m,"Should have contentInfo from segment name");if(0 < m.zVa && (h=h[m.zVa - 1],0 === h.Ve.length && !h.ar && !h.Roa))return h;};return g;})();b.Zza=r;},83981:function(r,b,a){var l,f,k;function c(d){var g;g=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(g)return {m2:parseInt(g[2]),pj:parseInt(g[1]),kG:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {pj:parseInt(d[4]),kG:!0,iW:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.p_a=b.FF=b.$za=void 0;l=a(42866);f=a(25850);k=a(88873);r=(function(){function d(g,m,h){this.Hs=g;this.Kc=m;this.Ue=h;}d.prototype.bIb=function(g){for(var m,h,n=c(null === g || void 0 === g?void 0:g.I),p=this.Hs.ea,q,u=p.O[g.I],t=u,v=[g.I],w=this.Kc.ea.O[t.cc].J;t && t.cc === u.cc && t.J !== w;){v.push(t.Gb);t=p.O[t.Gb];}v.pop();p=null !== (q=v.pop()) && void 0 !== q?q:g.I;q=c(p);g=this.Hs.ea.O[g.I];p=this.Hs.ea.O[p];g=(null !== (m=g.va) && void 0 !== m?m:Infinity) - g.ta;m=(null !== (h=p.va) && void 0 !== h?h:Infinity) - p.ta;return {start:(null === n || void 0 === n?0:n.kG)?new k.Eba(f.AI.start,g):void 0,end:(null === q || void 0 === q?0:q.kG)?new k.Eba(f.AI.end,m):void 0};};Object.defineProperties(d.prototype,{Ry:{get:function(){if(this.Hs.Y.Nd)return this.ZHb(this.Hs.Y.zg);},enumerable:!1,configurable:!0}});d.prototype.ZHb=function(g){var m,h,n;h=c(g.I);if(h){n=null === (m=this.Kc.Bg) || void 0 === m?void 0:m.Pr(g);m=this.Ue.ae[this.Kc.ea.O[n.I].J][h.pj];n=this.bIb(g);n=new k.nAa(m,n.start,n.end);for(var p=this.Hs.ea,q=p.O[g.I],u=q,t=-g.offset.G,v=this.Kc.ea.O[u.cc].J;u && u.cc === q.cc && u.J !== v;){t+=u.va - u.ta;u=p.O[u.Gb];}p=l.L.Ma(t);q=p.qa(n.dT.duration);h.kG && ("end" === h.iW?q=l.L.Ga:(u=n.aaa.duration.qa(g.offset),q=q.qa(u)));n={Tc:n,progress:{ksb:m.duration.qa(q),msb:1 - Math.max(0,q.G) / m.duration.G,nsb:n.duration.qa(p),osb:1 - Math.max(0,p.G) / n.duration.G},position:g,index:h.pj};p=this.Hs.ea.O[g.I];p=p.va - p.ta;g=g.offset.G / p;h.kG?n.l8a={dWb:g,yta:h.iW,e9:l.L.Ma(p)}:n.zA={$e:m.Ve[h.m2],JRa:g,index:h.m2};return n;}};d.prototype.aIb=function(g,m){var h,n;h=g.I;n=this.VLb(g);if(h=c(h))return (g=this.Ue.ae[n][h.pj],h.kG?{Tc:g,iW:h.iW}:{Tc:g,$e:g.Ve[h.m2]});if(g=this.Ue.Xwa(n,g,m))return {Tc:g};};d.prototype.FF=function(g){return c(g);};d.prototype.VLb=function(g){var m,h;h=this.Kc;g=null === (m=h.Bg) || void 0 === m?void 0:m.Pr(g);return h.ea.O[g.I].J;};return d;})();b.$za=r;b.FF=c;b.p_a=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {zVa:parseInt(d[1])};};},9630:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bAa=void 0;c=a(42866);l=a(62558);f=a(88873);r=(function(){function k(d,g){var m;m=this;this.Qya=0;this.Eu={};this.oob=1;d.on("adEvent",function(h){return m.LUb(h);});g.on("adBreakPresenting",function(h){return m.P8(h);});}Object.defineProperties(k.prototype,{JR:{get:function(){return this.Eu;},enumerable:!1,configurable:!0}});k.prototype.L1b=function(d,g){this.Eu[d]=g.map(function(m,h){return new f.oAa(m,h);});};k.prototype.Ksa=function(d,g){var m;m=this;this.Eu[d].some(function(h){if(h.Ro.eh === g.eh)return (h.fNb(g,m.oob++),!0);});};k.prototype.Lsa=function(d,g){this.Eu[d].some(function(m){if(m.Ro.eh === g)return m.XN=!0;});};k.prototype.reset=function(){this.Qya=0;};k.prototype.LUb=function(d){var g;g=this;"adComplete" === d.event && Object.keys(this.Eu).some(function(m){var h,n,p;m=null !== (h=(p=g.Eu)[m]) && void 0 !== h?h:p[m]=[];(0,l.assert)(void 0 !== d.pj,"complete event should have an adBreakIndex");return null === (n=m[d.pj].Ve) || void 0 === n?void 0:n.some(function(q){return q.id == d.W.P?(q.ar=!0,g.Qya++,!0):!1;});});};k.prototype.P8=function(d){var g;g=this;Object.keys(this.Eu).forEach(function(m){var h,n;(null !== (h=(n=g.Eu)[m]) && void 0 !== h?h:n[m]=[]).forEach(function(p){p !== d.Rm.Tc && p.HCb();});});};k.prototype.ula=function(d){var g;g=this;Object.keys(this.Eu).forEach(function(m){g.Eu[m].forEach(function(h){h.Ve.forEach(function(n){n.id == d && (n.IU=!0);});});});};k.prototype.PZa=function(d,g){return (d=this.JR[d]) && (0,c.wc)(d,function(m){return m.gk === g;});};return k;})();b.bAa=r;},67979:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.nAa=b.Eba=b.oAa=void 0;c=a(42866);l=a(92128);f=a(31372);r=(function(){function d(g,m,h){var n,p;void 0 === h && (h=NaN);this.Ro=g;this.pj=m;this.eRa=h;this.XN=this.NPa=this.OPa=this.oga=!1;this.SD=null !== (p=null === (n=g.Ve) || void 0 === n?void 0:n.map(function(q){return new f.Aba(q);})) && void 0 !== p?p:[];}Object.defineProperties(d.prototype,{gk:{get:function(){return this.Ro.gk;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eu:{get:function(){return this.Ro.eu;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{V2:{get:function(){return this.Ro.V2;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{D1b:{get:function(){return this.eRa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yha:{get:function(){return this.Ro.yha;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ve:{get:function(){return this.SD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.SD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ve.reduce(function(g,m){return g.add(m.endTime.qa(m.startTime));},c.L.Ga);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{QOb:{get:function(){return this.ar || !this.$Ta && !this.NPa?this.SD.every(function(g){return g.ar;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ar:{get:function(){return this.SD.length?this.SD.every(function(g){return g.ar;}):this.oga;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$Ta:{get:function(){return !this.Wf && !!this.Ro.eh;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wf:{get:function(){return !!this.Ro.Ve;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Roa:{get:function(){return this.OPa;},set:function(g){g && (this.OPa=!0);},enumerable:!1,configurable:!0}});d.prototype.m2b=function(){this.Ve.length || (this.oga=!0);};d.prototype.fNb=function(g,m){var h,n;this.Ro=g;this.SD=null !== (n=null === (h=this.Ro.Ve) || void 0 === h?void 0:h.map(function(p){return new f.Aba(p);})) && void 0 !== n?n:[];this.NPa=!0;this.eRa=m;this.XN=!1;};d.prototype.HCb=function(){this.Ro.eh && (this.oga=this.ar,this.Ro.Ve=void 0,this.SD=[],this.XN=!1);};return d;})();b.oAa=r;k=(function(){function d(g,m){this.yta=g;this.$ob=m;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.L.Ma(this.$ob);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{Fsa:{get:function(){return this.wqb || (this.wqb=new d(l.AI.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{nUb:{get:function(){return this.vqb || (this.vqb=new d(l.AI.end,0));},enumerable:!1,configurable:!0}});return d;})();b.Eba=k;r=(function(){function d(g,m,h){this.YJ=g;this.jRa=m || k.Fsa;this.cpb=h || k.Fsa;}Object.defineProperties(d.prototype,{aaa:{get:function(){return this.jRa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dT:{get:function(){return this.cpb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{GMb:{get:function(){return this.jRa !== k.Fsa || this.dT !== k.nUb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.YJ.duration.add(this.aaa.duration).add(this.dT.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{e9:{get:function(){return this.aaa.duration.add(this.dT.duration);},enumerable:!1,configurable:!0}});return d;})();b.nAa=r;},31372:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Aba=void 0;c=a(42866);r=(function(){function l(f){this.$e=f;this.IU=this.ar=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.$e.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.L.Ma(this.$e.ta);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.L.Ma(this.$e.va);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xA:{get:function(){return this.$e.xA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{waa:{get:function(){return this.$e.waa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{st:{get:function(){return this.$e.st;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mO:{get:function(){return this.$e.mO;},enumerable:!1,configurable:!0}});return l;})();b.Aba=r;},88873:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(31372),b);r.__exportStar(a(67979),b);r.__exportStar(a(63755),b);},53875:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.fLa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(49730);d=c.__importDefault(a(35471));g=a(97810);m=a(62558);r=(function(){function h(n,p,q){var u;u=this;this.Uc=n;this.Wa=p;this.ega=new l.ye();this.wga=!1;this.V=(0,g.Kh)(d.default,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Wa.events.on("playerChanged",this.X8a.bind(this));this.X8a();this.Uc.n2.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.Ue.events.on("adSegmentDropped",function(t){u.MUb(t);});}Object.defineProperties(h.prototype,{tU:{get:function(){return this.wga;},enumerable:!1,configurable:!0}});h.prototype.bi=function(n){var p;if(!this.Wa.cr)return (k.K && this.V.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Wa.Y;if(!p.CT(n))return (k.K && this.V.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",n),!1);k.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p.Jd.lb()," -> ").concat(n.lb()));n=n.greaterThan(p.Jd)?(0,g.vma)(p.Ya,p.Jd,n):(0,g.vma)(p.Ya,n,p.Jd);p=!n.some(function(q){return "content" !== q.v.v.type;});k.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(n.map(function(q){return ("").concat(q.v.id," ").concat(q.v.v.type," ").concat(q.Ab.G,"..").concat(q.Ab.G);})));return p;};Object.defineProperties(h.prototype,{Ue:{get:function(){return this.Uc.Ue;},enumerable:!1,configurable:!0}});h.prototype.X8a=function(){var n,p;n=this;this.V.trace("Player changed",this.Wa.cr);this.ega.clear();if(this.Wa.cr){p=this.Wa.Y;this.ega.addListener(p.events,"segmentPresenting",function(q){return n.Pv(q);});this.ega.addListener(p.events,"playbackEnding",function(q){return n.Ysa(q);});}};h.prototype.Pv=function(n){var p,q,u,t,v;p=this.gN.aIb(n.position,!!n.seek);if(p){q=p.Tc;u=p.$e;k.K && this.V.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.gN.Ry;v={Xp:n.playerTimestamp,position:n.position,Tc:q};this.tU || (q.Ve.length?this.lsb(t,v):q.Wf || u?this.yA(n.playerTimestamp,n.position,q):k.K && this.V.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.Bl(t,v,u);}!this.tU || p && "end" !== p.iW || this.yA(n.playerTimestamp,n.position);this.tU && !p && this.CRa(n.position);};h.prototype.Ysa=function(n){this.tU && this.GOb(n.position) && (this.yA(n.playerTimestamp,n.position),this.CRa(n.position));};h.prototype.lsb=function(n,p){(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");k.K && this.V.trace("Emitting adBreakPresenting");this.wga=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n,Rm:p});};h.prototype.Bl=function(n,p,q){k.K && this.V.trace("Emitting adPresenting");(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n,Rm:c.__assign(c.__assign({},p),{$e:q})});};h.prototype.yA=function(n,p,q){k.K && this.V.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Rm:{Xp:n,position:p,Tc:q}});};h.prototype.CRa=function(n){this.wga=!1;k.K && this.V.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:n}});};h.prototype.ena=function(n){var p,q,u,t;p=this;q={Mtb:[],result:{}};u=this.Ue.Zu;t=Object.keys(u).filter(function(v){return u[v];});if(null === n || void 0 === n?0:n.dgb)t=t.filter(function(v){var w;return -1 !== (null === (w=n.dgb) || void 0 === w?void 0:w.indexOf(v));});q.Mtb=t;t.forEach(function(v){var w,y,x;y=null === (w=u[v]) || void 0 === w?void 0:w.ae;if(y){w=p.oGb(v,y);x=p.Ue.ae[v];q.result[("").concat(v)]=w.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].QOb});});}});return q;};Object.defineProperties(h.prototype,{gN:{get:function(){return this.Uc.gN;},enumerable:!1,configurable:!0}});h.prototype.oGb=function(n,p){var q,u;q=[];u=[];this.Ue.ae[n].forEach(function(t){return t.Ve.forEach(function(v){v.IU && -1 === u.indexOf(v.id) && u.push(v.id);});});p.forEach(function(t){var v,w;t=c.__assign({},t);w=null === (v=t.ads) || void 0 === v?void 0:v.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=w;q.push(t);});return q;};h.prototype.MUb=function(n){var p,q,u,t;p=this;q=n.adId;u=this.Ue.Zu;n=Object.keys(u).filter(function(v){return u[v];});t=this.Wa.ea.O;n.forEach(function(v){var w,y;null === (y=null === (w=u[v]) || void 0 === w?void 0:w.ae) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.Ve) || void 0 === A?void 0:A.forEach(function(B,C){B.id === q && (B=(0,f.wc)(Object.keys(t),function(D){D=p.gN.FF(D);return !D || D.kG?!1:C === D.m2 && z === D.pj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.eu,reason:"network_error",sev:"error",segmentId:B});});});});};h.prototype.GOb=function(n){var p;p=this.Wa.navigator;return (n=p.ee(n.I)) && !p.xMb(n);};return h;})();b.fLa=r;},40376:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.eNa=void 0;c=a(5163);l=a(42866);f=a(42866);k=a(93161);d=a(27364);g=a(49730);m=a(56405);h=a(62558);n=a(7881);r=(function(){function p(q,u,t,v,w,y,x,z,A,B){var C;C=this;this.ya=q;this.yd=u;this.events=t;this.Tc=v;this.$e=w;this.Dha=y;this.o2=x;this.isb=z;this.MR=A;this.console=B;this.dm=k.platform.time.now();this.SC=new Map();this.ip=0;(0,h.assert)(y.W,"Presenting ad should have a manifest");this.KRa=u.Rx(function(){return C.b6b();},"impressionLogging");this.ya.Y.Xv.forEach(function(D,F){(D=D.Cma(m.bca)) && C.SC.set(F,D);});}Object.defineProperties(p.prototype,{Bya:{get:function(){return this.ip;},enumerable:!1,configurable:!0}});p.prototype.Oa=function(){this.KRa.Oa();};p.prototype.b6b=function(){var q,u,t,v,w,y,x,z,A,B,C,D,F,G,E;return c.__generator(this,function(H){switch(H.label){case 0:(g.K && this.console.trace("AdImpressionLogger: starting at",this.MR.lb()),q=this.$e,this.JUa(),u=0,t=this.MR,v=this.MR.add(q.endTime),w=this.isb,H.label=1);case 1:(H.Qj.push([1,,12,13]),(0,h.assert)(null === (F=q.xA) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(q.xA.start,u,t,!1),(0,h.assert)(q.waa,"Timed event info should be defined"),H.label=2);case 2:(H.Qj.push([2,7,8,9]),y=c.__values(q.waa),x=y.next(),H.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.MR.add(l.L.Ma(z.Zxa));g.K && this.console.trace(("AdImpressionLogger[").concat(this.o2,"]: waiting for ").concat(z.Zxa,"ms timed event") + (" at ").concat(t.lb()));return [4,n.Jg.iu(t)];case 4:(H.Ta(),w=t,this.emit(z,z.Zxa,t,!1),H.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=H.Ta(),C={error:A},[3,9]);case 8:try{x && !x.done && (D=y.return) && D.call(y);}finally{if(C)throw C.error;}return [7];case 9:if(!v.greaterThan(t))return [3,11];t=v;g.K && this.console.trace(("AdImpressionLogger[").concat(this.o2,"]: waiting for end of ad at ").concat(t.lb()));return [4,n.Jg.iu(t)];case 10:(H.Ta(),w=t,H.label=11);case 11:return [3,13];case 12:this.ya.Y.Nd && (w=this.ya.Y.Jd);if(w.hi(v))((0,h.assert)(null === (G=q.xA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.xA.complete,q.endTime.G,v,!0));else if(null === (E=q.xA) || void 0 === E?0:E.stop)(B=w.qa(this.MR).G,this.emit(q.xA.stop,B,w,!0));this.JUa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,v){g.K && this.console.trace(("AdImpressionLogger[").concat(this.o2,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.lb()));u={I:this.o2,offset:l.L.Ma(u)};t=this.$na(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{Og:u,Sv:t,W:this.Dha.W,dm:this.dm,Cic:v?k.platform.time.now():-1,CE:this.Tc.eu,pj:this.Tc.pj,mO:this.$e.mO,st:this.$e.st}));}catch(w){this.console.error("Impression error event",w);this.ip++;}};p.prototype.$na=function(q){var u,t,v;u=this.Dha.W.P;t=c.__read(this.C0a(q,this.SC.get(d.u.fa),u),2);v=t[0];t=t[1];q=c.__read(this.C0a(q,this.SC.get(d.u.X),u),2);return {audio:v,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.C0a=function(q,u,t){q=(null === u || void 0 === u?void 0:u.A3b(q,t)) || [];q=(0,f.flatten)(q.map(function(v){return Object.keys(v.qF).map(function(w){w=v.qF[w];return {Ub:w.Ub,duration:w.totalTime,Hm:v.Hm};});}));u=q.reduce(function(v,w){return v + w.duration;},0);g.K && this.console.trace("Getting playtime journal",{P:t,Nhc:q.length,totalTime:u});return [q,u];};p.prototype.JUa=function(){var q,u,t;t=this.Dha.W.P;null === (q=this.SC.get(d.u.fa)) || void 0 === q?void 0:q.H$a(t);null === (u=this.SC.get(d.u.X)) || void 0 === u?void 0:u.H$a(t);};p.prototype.Ol=function(){return {ad:this.KRa.Ol(),errors:this.ip};};return p;})();b.eNa=r;},18679:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.zS=void 0;c=a(5163);l=a(50164);f=a(46250);k=a(88801);d=a(45894);b.zS=function(g,m,h){var n,p,q,u,t;n=m.tW;p=m.dia;g=c.__assign({Lca:f.Kca},g).Lca;q=n[5];n=(0,d.bta)(function(){return t;});q.SRa(n.wo);h=h(m);q=new l.Rda();q.Bb(h);u={Bg:void 0,Kc:void 0,Wa:h,Hpa:q,y4a:"content"};u.Bg=new g(function(){return u.Kc.ea;},q,m.tW[2]);t=new d.sCa(u,n.kdb,k.Tv.Sva.KN);u.Kc=k.Tv.Fua(h,t,function(){return u;},p);t.Bb();return u.Kc;};},45894:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bta=b.sCa=void 0;c=a(5163);l=a(50954);f=a(53405);k=a(33285);d=a(62558);r=(function(g){function m(h,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=g.call(this,h,n,p,q) || this;q.ap=h;q.Q7a=n;q.Gab=p;h.Wa.Be(new f.tCa(q));return q;}c.__extends(m,g);m.prototype.vC=function(h){var n,p;n=g.prototype.vC.call(this,h);if(n){p=h.W.Jm;p && !this.i1 && (this.Ufa.Is({applyingContentPlaygraph:!0}),this.i1=p,this.Apb=this.Byb(h.W),this.dva());}return n;};Object.defineProperties(m.prototype,{B1a:{get:function(){return this.Apb;},enumerable:!1,configurable:!0}});m.prototype.TA=function(h){if(this.i1)return (h=c.__assign(c.__assign({},h),{O:c.__assign({},h.O)}),(0,l.Ora)(h,this.i1.ea));};m.prototype.Byb=function(h){var n,p;n=h.pp;p=h.AB;return !(!n || !n.some(function(q){return q.AB !== p;}));};Object.defineProperties(m.prototype,{Jm:{get:function(){var h;return null === (h=this.i1) || void 0 === h?void 0:h.ea;},enumerable:!1,configurable:!0}});c.__decorate([(0,k.Tb)({methodName:"processViewableResponse"})],m.prototype,"vC",null);return m;})(a(61341).Dea);b.sCa=r;b.bta=function(g){var m;m=[];return {wo:function(h,n){var p,q,u,t,v,w,y;u=h.J;t=h.TW;v=g();if(v.Fia && v.Fia !== u){w=null === (p=null === t || void 0 === t?void 0:t.Af) || void 0 === p?void 0:p.Zb;p=null === (q=null === t || void 0 === t?void 0:t.Af) || void 0 === q?void 0:q.xd;q=v.Zb;t=v.Fia;(0,d.assert)(t,"did not receive parent viewable id");t={Af:{Zb:null !== w && void 0 !== w?w:q,xd:null !== p && void 0 !== p?p:t}};}v.Wa.console.trace("In wrapped request viewable",u,t);y=n(c.__assign(c.__assign({},h),{TW:t}));m.forEach(function(x){return x({J:u,yz:y.yz});});return y;},kdb:function(h){m.push(h);}};};},96855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mka=void 0;c=a(88801);l=a(65316);b.mka=function(f,k){var d;f=k(f);d=new l.jLa(f,c.Tv.Sva.KN);return c.Tv.Fua(f,d,function(){return d.Gua;});};},19332:function(r,b,a){var l,f,k,d;function c(g,m){return m && !Array.isArray(m) && -1 === m.xYa.indexOf(g)?m.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.wka=void 0;l=a(5163);r=a(57055);f=a(91795);k=a(28445);d=(function(g){function m(h,n){var p;p=g.call(this) || this;p.DRb=h;p.L2a=n;p.fga={};return p;}l.__extends(m,g);m.prototype.emit=function(h){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return g.prototype.emit.call(this,h,this.DRb(h,n[0]));};m.prototype.subscribe=function(h){var n,p;n=this;if(!this.listeners(h).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return n.emit.apply(n,l.__spreadArray([h],l.__read(q),!1));};this.fga[h]=p;this.L2a.addListener(h,p);}};m.prototype.addListener=function(h,n){this.subscribe(h);g.prototype.addListener.call(this,h,n);return this;};m.prototype.removeListener=function(h,n){g.prototype.removeListener.call(this,h,n);n=this.fga[h];!this.listeners(h).length && n && (this.L2a.removeListener(h,n),this.fga[h]=void 0);return this;};m.prototype.on=function(h,n){this.addListener(h,n);return this;};m.prototype.vr=function(h,n){this.removeListener(h,n);return this;};m.prototype.once=function(h,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);n.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.addListener(h,p);return this;};m.prototype.B9=function(h,n){this.subscribe(h);g.prototype.B9.call(this,h,n);};m.prototype.s9a=function(h,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);n.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.B9(h,p);};return m;})(r.EventEmitter);b.wka=function(g,m,h,n){return new d(function(p,q){var u,t;t=c(p,n["*"]);p=null !== (u=n[p]) && void 0 !== u?u:[];u=t.concat(p).filter(function(v){return "object" === typeof v;});t=l.__read(p.filter(function(v){return "function" === typeof v;}),1)[0];return u.length?(0,k.k$)(g,q,h,{rules:u,fm:!1,bia:!0},f.vu.Eya,t):q;},m);};},46250:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Kca=void 0;c=a(5163);l=a(50954);f=a(42866);k=c.__importDefault(a(35471));d=a(33285);g=a(58726);m=a(62558);h=a(89847);n=a(49730);p=a(59322);r=(function(){function q(u,t,v,w){var x,z;function y(A,B){return A.I === B.I && A.offset.equal(B.offset);}x=this;this.Gn=u;this.h1=t;this.config=v;this.console=new k.default.Console("GRAPHLOCATIONSERVICE");this.Xg=new d.Du({kn:this,source:(w || "") + "GraphLocation",console:this.console});(0,p.fva)(this,"d",new p.uda(v,y));(0,p.fva)(this,"u",new p.uda(v,y));"temp" !== w && (null === (z=this.h1.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.g_a)(x).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.Gn();},enumerable:!1,configurable:!0}});q.prototype.Nfb=function(u,t){return new q(function(){return u;},{OV:t,Dya:t},this.config,"temp");};q.prototype.aB=function(u){var t,v,w;n.K && this.console.trace("downConverting",u);t=this.parent;v=this.h1;w=v.OV;if(t === v.Dya)return u;if(w.O[u.I])return (t.O[u.I] || n.K && this.console.warn("Received a down converted position unexpectedly",u,Error().stack),u);v=(0,g.Kja)(u,t);u=(0,l.Ofb)(t,w,{offset:v.t3.G,v:u.I});u={offset:v.Sn.add(f.L.Ma(u.offset)),I:u.v};n.K && this.console.trace("downConverting ret:",u);return u;};q.prototype.Pr=function(u){var t,v,w;n.K && this.console.trace("upConverting",u);t=this.parent;v=this.h1;w=v.OV;if(t === v.Dya)return u;if(t.O[u.I])return (w.O[u.I] || n.K && this.console.warn("Received a up converted position unexpectedly",u,Error().stack),u);v=(0,g.Kja)(u,w);u=(0,l.bVa)(t,w,{offset:v.t3.G,v:u.I});u={offset:v.Sn.add(f.L.Ma(u.offset)),I:u.v};n.K && this.console.trace("upConverting ret:",u);return u;};q.prototype.LJb=function(u){var t;t=(0,l.n_a)(this.parent,this.h1.OV,{v:u.I,offset:u.offset.G});t=(0,h.i4a)(t);(0,m.assert)(t,("Could not find any segments in the path of ").concat(u));return t;};c.__decorate([(0,d.Tb)({methodName:"downConvertPosition",ak:!0,lp:!0,return:!0}),(0,p.hja)("d")],q.prototype,"aB",null);c.__decorate([(0,d.Tb)({methodName:"upConvertPosition",ak:!0,lp:!0,return:!0}),(0,p.hja)("u")],q.prototype,"Pr",null);return q;})();b.Kca=r;},88801:function(r,b,a){var k,d,g,m,h,n,p,q,u;function c(t,v){var w,y,x,z;if((w=t.Kc.ea.O[v]) && w.cc && t.Kc.Uc){w=t.Wa;for(var A={offset:d.L.Ga,I:v};w.parent;){w=w.parent;A=w.Bg.Pr(A);}w=w.ea.O[A.I];w=w.J;(v=(0,p.FF)(v)) && (z=null === (x=null === (y=t.Kc.Uc.Ue.ae[w]) || void 0 === y?void 0:y[v.pj]) || void 0 === x?void 0:x.eu);}return z;}function l(t,v,w,y){var x;return v === h.vu.RS?(v=d.L.Ga,(null === y || void 0 === y?void 0:y.tic) === u.end && (v=d.L.Ma(null !== (x=w.Kc.ea.O[t].va) && void 0 !== x?x:0),(0,g.assert)(0 < v.G,"EndTime must be non null")),w.Bg.aB({offset:v,I:t}).I):w.Bg.Pr({offset:d.L.Ga,I:t}).I;}function f(t,v,w){return v === h.vu.Eya?w.Bg.Pr(t):w.Bg.aB(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.Tv=void 0;k=a(5163);d=a(42866);g=a(62558);r=a(93079);m=a(74251);h=a(91795);n=a(93514);p=a(83981);q=a(36479);a=(0,m.Fab)();a=(0,r.MTa)()({u5a:"combinedPlaygraph",KN:{Og:a()({map:f,Ex:q.y3a}),Nd:a()({map:function(t,v,w,y){var x;x=(null === y || void 0 === y?0:y.yo)?(0,q.H5)(t,y.yo):t.position;v=f(x,v,w);t=(0,q.z3)(t,null === y || void 0 === y?void 0:y.yo);(null === y || void 0 === y?0:y.yo)?(0,q.Dbb)(t,y.yo,v):t.position=v;return t;},Ex:function(t,v,w){return (null === w || void 0 === w?0:w.yo)?(0,q.H5)(t,w.yo):(0,q.Nd)(t);}}),oza:a()({map:function(t,v,w,y){var x;if(v === h.vu.RS)return null !== (x=t.inner) && void 0 !== x?x:t;v=(0,q.z3)(t,null === y || void 0 === y?void 0:y.yo);null !== y && void 0 !== y && y.yo || (v.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).Ujb && (v.gctag=void 0));return v;},Ex:function(t,v,w){return (null === w || void 0 === w?0:w.yo)?"object" === typeof (0,q.H5)(t,w.yo):"object" === typeof t;}}),I:a()({map:l,Ex:q.C3a}),kX:a()({map:function(t,v,w,y){var x,z;z=null !== (x=t.I) && void 0 !== x?x:t.segmentId;v=l(z,v,w,y);return t.I?k.__assign(k.__assign({},t),{I:v}):k.__assign(k.__assign({},t),{segmentId:v});},Ex:q.F1a}),nka:a()({map:function(t,v,w){v === h.vu.RS?(t=(0,n.xp)(w.Kc.ea,t.J,t.Jl,{Tab:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=w.Bg.aB(t),v=t.I,t=t.offset,v=w.Wa.ea.O[v],w=v.J,v=v.ta,t=d.L.Ma(v).add(t)):(t=(0,n.xp)(w.Wa.ea,t.J,t.Jl,{Tab:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=w.Bg.Pr(t),v=t.I,t=t.offset,v=w.Kc.ea.O[v],w=v.J,v=v.ta,t=d.L.Ma(v).add(t));return {Jl:t,J:w};},Ex:q.g3a}),Uia:a()({Ex:q.d3a,map:function(t,v,w){var y,x,z,A,B;if(v === h.vu.RS){v={I:t.v.id,offset:d.L.Ga};z=w.Bg.aB(v);v=w.Wa.ea.O[z.I];w=w.Kc.ea.O[t.v.id];A=v.va;B=v.ta;A=null !== (y=A && A - B) && void 0 !== y?y:0;w=t.te.add(d.L.Ma(v.ta - w.ta));return {te:w,$G:t.zr.add(d.L.Ma(A)),zr:t.zr,v:{id:z.I,je:d.L.Ma(v.ta),Ef:d.L.Ma(null !== (x=v.va) && void 0 !== x?x:0)}};}v={I:t.v.id,offset:d.L.Ga};x=w.Bg.Pr(v);B=w.Hpa.OV;v=B.O[t.v.id];z=w.Kc.ea.O[x.I];y=d.L.Ma(null !== (A=z.va && z.va - z.ta) && void 0 !== A?A:0);z.va && Infinity !== z.va || (A=w.Bg.LJb(x),B=B.O[A],B.va && (y=w.Bg.Pr({I:A,offset:d.L.Ma(B.va - B.ta)}).offset));A=t.zr.qa(x.offset);B=A.add(y);w=t.te.add(d.L.Ma(z.ta - v.ta));t=d.L.Ma(z.ta);v=y.add(t);return {te:w,$G:B,zr:A,v:{id:x.I,je:t,Ef:v}};}}),Qub:a()({Ex:function(t){return "segmentPresenting" === t.type;},map:function(t,v,w){var y;t=(0,q.z3)(t);if((v=t.metrics) && void 0 === v.adBreakLocationMs){y=c(w,v.destPosition.I);void 0 !== y && (v.adBreakLocationMs=y);y=c(w,v.srcStartPosition.I);void 0 !== y && (v.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.aec=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.Tv=a;},32837:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Y8a=void 0;b.Y8a={"*":{xYa:["logdata"],rules:[{Ij:function(a){return a.oza;}}]},segmentPresenting:[{Ij:function(a){return a.oza;},config:{yo:["metrics"]}},{Ij:function(a){return a.Nd;}},{Ij:function(a){return a.Nd;},config:{yo:["metrics","srcStartPosition"]}},{Ij:function(a){return a.Nd;},config:{yo:["metrics","srcTransitionPosition"]}},{Ij:function(a){return a.Nd;},config:{yo:["metrics","destPosition"]}},{Ij:function(a){return a.Qub;}}],streamPresenting:[{Ij:function(a){return a.Nd;}}],segmentAppended:[{Ij:function(a){return a.kX;}}]};},65316:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jLa=void 0;c=a(5163);l=a(33285);f=a(97810);k=c.__importDefault(a(35471));d=a(19332);g=a(32837);r=(function(){function m(h,n){var p;p=this;this.zU=h;this.events=(0,d.wka)(function(){return p.Gua;},this.zU.events,n,g.Y8a);this.Fpb=(0,f.Kh)(k.default,this.zU.console,"PLAYERHOST");new l.Du({ko:10,kn:this,source:"PlayerHost",console:this.Fpb});}m.prototype.Pja=function(){this.Gua=void 0;};m.prototype.Mwa=function(h){this.Gua=h;};c.__decorate([(0,l.Tb)({methodName:"clearProxyPlaygraphContext"})],m.prototype,"Pja",null);c.__decorate([(0,l.Tb)({methodName:"setProxyPlaygraphContext"})],m.prototype,"Mwa",null);return m;})();b.jLa=r;},43247:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$8a=void 0;b.$8a={"*":{xYa:["logdata"],rules:[{Ij:function(a){return a.oza;}}]},locationSelected:[{Ij:function(a){return a.kX;}}],segmentComplete:[{Ij:function(a){return a.kX;}}],segmentStarting:[{Ij:function(a){return a.kX;}}],serverSwitch:[{Ij:function(a){return a.kX;}}],streamSelected:[{Ij:function(a){return a.Nd;}}]};},61341:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Dea=void 0;c=a(5163);l=a(42866);f=a(42866);k=a(48641);d=a(33285);g=a(27364);m=a(62558);h=a(49730);n=a(57206);p=a(69287);q=a(19332);u=a(43247);r=(function(){function t(v,w,y,x){var z;void 0 === x && (x="CphAsePlaygraph");z=this;this.ap=v;this.Q7a=w;this.Gab=y;this.a6b=x;this.Dpb=new n.Mea();this.Q7a(function(A){var B;B=A.yz;return c.__awaiter(z,void 0,void 0,function(){var C;return c.__generator(this,function(D){switch(D.label){case 0:return [4,B];case 1:return (C=D.Ta(),this.vC(C),[2]);}});});});}Object.defineProperties(t.prototype,{Wa:{get:function(){return this.ap.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{uj:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ea:{get:function(){return this.mj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{parent:{get:function(){return this.Gn;},set:function(v){this.Gn=v;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Bg:{get:function(){return this.ap.Bg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{V:{get:function(){return this.Wa.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Z:{get:function(){return this.Wa.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{B1a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.Bb=function(){var v,w,y;v=this;w=this.ap;this.Ufa=new d.Du({ko:10,kn:this,source:this.a6b,console:this.V});this.events=(0,q.wka)(function(){return w;},w.Wa.events,this.Gab,u.$8a);this.mj=w.Wa.ea;y=w.Bg;w.Wa.Be(new k.cx(this.Ufa));w.Wa.Be(new k.cx(w.Bg.Xg));w.Wa.Be(new p.SBa(("").concat(w.y4a,"::gls"),y));w.Wa.events.on("playgraphUpdating",function(){v.ap.Hpa.S9();});w.Wa.parent=w.Kc;};t.prototype.cv=function(v){var w,y,x;x=null !== (w=this.Y) && void 0 !== w?w:this.Wa.Y;this.Y=v;v.Mwa && v.Mwa(this.ap);(w=this.ap.Wa.cv(null !== (y=v.zU) && void 0 !== y?y:v))?(this.Y=v,x !== v && x.Pja && x.Pja()):this.Y=x;return w;};t.prototype.dva=function(v,w,y,x,z){(v=null !== v && void 0 !== v?v:this.TA(null !== w && void 0 !== w?w:this.mj)) && this.hVb(v,this.B1a,y,x,z);};t.prototype.hVb=function(v,w,y,x,z){var A,B,C,D,F,G,E;A=this.ap.Kc;B=A.Y;D=A.ea;if(C=y?y:A.cr && B.Nd?B.zg:A.dr?A.vh:void 0){F=this.Wa.ea.O[C.I];F && F.cc && (C=this.Bg.Pr(C));}A.config.G8b && w && B.HC(!0);w=A.Y_a();h.K && this.V.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(D)));h.K && this.V.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(v)));this.Dpb.set(v,!0);D=this.Wa.gu(v);try{if(!D.ia || C && !B.Nd && !A.dr || y && z)if(((0,m.assert)(!B.sa.ji,"Player is not paused:" + g.wq[D.reason]),A.Cf(!0),this.Wa.gu(v),C)){G=this.Bg.aB(C);E=v.O[G.I];"padding" === (null === E || void 0 === E?void 0:E.type) && (G={I:E.Gb,offset:l.L.Ga});this.Owa(C,x);this.Wa.x$(G,x,z);B.resume();}}finally{w.release();}};t.prototype.gu=function(v){var y,x,z;function w(){y.mj=v;}y=this;z=null !== (x=this.TA(v)) && void 0 !== x?x:v;try{return (this.Wa.events.s9a("playgraphUpdating",w),this.Wa.gu(z));}finally{this.Wa.events.removeListener("playgraphUpdating",w);}};Object.defineProperties(t.prototype,{Zb:{get:function(){return this.gPa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fia:{get:function(){var v,w,y,x;v=this;y=Object.keys(this.Wa.ea.O);if(y=(0,f.wc)(y,function(z){return !!v.Wa.ea.O[z].cc;})){y=this.Wa.ea.O[y].cc;x=this.ea.O[y];return null !== (w=null === x || void 0 === x?void 0:x.J) && void 0 !== w?w:Number(y.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.vC=function(v){var w,y,x,z;y=v.W;x=y.Zb;y=y.Jm;z=null !== (w=this.Z.gma) && void 0 !== w?w:[];if(y && z.some(function(A){return A == v.P;}))return (w=("").concat(v.P," was excluded from content playgraph"),this.Ufa.Is(w),h.K && this.V.trace(w),!1);x && !this.gPa && (this.gPa=x);return !0;};t.prototype.Cf=function(v){this.Wa.Cf(v);};t.prototype.Owa=function(){};c.__decorate([(0,d.Tb)({methodName:"attachPlayer"})],t.prototype,"cv",null);c.__decorate([(0,d.Tb)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"dva",null);c.__decorate([(0,d.Tb)({methodName:"processViewableResponse"})],t.prototype,"vC",null);c.__decorate([(0,d.Tb)({methodName:"cancelStreaming"})],t.prototype,"Cf",null);return t;})();b.Dea=r;},36479:function(r,b,a){var l;function c(f,k){var d,g;d=l.__assign({},f);g=l.__read(null !== k && void 0 !== k?k:[],1)[0];g && f[g] && (f=f[g],"object" === typeof f?(k=k.concat(),k.shift(),d[g]=c(f,k)):d[g]=f);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Dbb=b.z3=b.H5=b.d3a=b.g3a=b.C3a=b.F1a=b.y3a=b.Nd=void 0;l=a(5163);b.Nd=function(f){return !(null === f || void 0 === f || !f.position);};b.y3a=function(f){return !(null === f || void 0 === f || !f.I) && !(null === f || void 0 === f || !f.offset);};b.F1a=function(f){return !(null === f || void 0 === f || !f.I) || !(null === f || void 0 === f || !f.segmentId);};b.C3a=function(f,k){return "string" === typeof f && !(!k.Kc.ea.O[f] && !k.Wa.ea.O[f]);};b.g3a=function(f){return !(null === f || void 0 === f || !f.J) && !(null === f || void 0 === f || !f.Jl);};b.d3a=function(f){return !(null === f || void 0 === f || !f.te);};b.H5=function(f,k){var d;d=f;k.forEach(function(g){d=null === d || void 0 === d?void 0:d[g];});return d;};b.z3=c;b.Dbb=function(f,k,d){for(var g=0;g < k.length - 1 && f;g++){f=f[k[g]];}return f?(f[k[k.length - 1]]=d,!0):!1;};},58730:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lBa=void 0;r=a(5163);c=a(57055);l=a(42866);f=a(97810);k=a(7881);d=a(49730);g=a(27364);m=r.__importDefault(a(35471));a=(function(){function h(n,p,q,u,t,v){this.pc=n;this.jq=p;this.config=q;this.NUb=u;this.Pd=t;this.console=v;this.dga=new c.ye();this.console=(0,f.Kh)(m.default,v,"BranchDecisionMaker");}h.vIb=function(n){var p;return null !== (p=n.Pb) && void 0 !== p?p:n.$G;};h.pJb=function(n){var p,q;p=n.v;q=n.IM;return p.Gb?p.Gb:q.length?q[0]:n.Ly[0];};h.prototype.iya=function(n,p){var q,u,t,v;q=this;t=n.v;d.K && this.console.trace(("tracking ").concat(n.v.id));this.reset();if(t.ZX || 1 >= t.Ly.length && (null === (u=t.dw) || void 0 === u || !u.length))d.K && this.console.trace(("").concat(n.v.id," does not need tracking"));else {v=this.kwb(n);u=v.jwa;p=p.lessThan(v.uNb);d.K && this.console.trace(("tracking ").concat(n.v.id),{I:t.id,Jec:p,mic:null === u || void 0 === u?void 0:u.G});this.W0b(t,p?u:void 0);if(p)this.dga.on(n.events,"branchEdited",function(){q.iya(n,q.pc.sa.currentTime);});}};h.prototype.HUa=function(){var n;null === (n=this.GWa) || void 0 === n?void 0:n.Oa();this.GWa=void 0;};h.prototype.reset=function(){this.HUa();this.dga.clear();};h.prototype.kwb=function(n){var p,q;n=h.vIb(n);p=l.L.Ma(this.config.n8);q=l.L.Ma(this.config.cTb + this.config.m8);p=n.qa(p);return {uNb:(0,g.bo)(this.Pd.value)?n.qa(q):p,jwa:p};};h.prototype.W0b=function(n,p){var q;q=this;this.HUa();this.GWa=p?this.pc.UA(k.Jg.iu(p),function(){return q.j5a(n);},"scheduled branch decision"):this.jq.UA(k.Jg.M8b,function(){return q.j5a(n);},"immediate branch decision");};h.prototype.j5a=function(n){var p;this.dga.clear();p=h.pJb(n);d.K && this.console.trace(("BranchDecisionMaker making decision for ").concat(n.id,", decision is ").concat(p));this.NUb(n.id,p,!0);};return h;})();b.lBa=a;},10814:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.yBa=void 0;c=a(5163);l=a(42866);f=c.__importDefault(a(35471));k=a(27364);d=a(62558);g=a(33285);m=a(7881);r=(function(){function h(n,p,q,u,t,v,w){var y;void 0 === w && (w=500);y=this;this.V=n;this.config=p;this.Jc=q;this.events=u;this.Tla=t;this.pc=v;this.Lvb=w;this.rua=this.Zia=0;this.b8=[];this.gL={kv:0};this.state=new l.qq(k.Rc.ls);this.Xg=new g.Du({ko:10,kn:this,source:"BufferStateTracker",jSa:function(){return {isBuffering:y.zj,alwaysRunUnderflowTimer:y.config.cK};}});}Object.defineProperties(h.prototype,{kv:{get:function(){return this.gL.kv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zj:{get:function(){return (0,k.bo)(this.state.value);},enumerable:!1,configurable:!0}});h.prototype.Nya=function(n){var p;p=this;Array.isArray(n) || (n=[n]);n.forEach(function(q){q.mediaType === k.u.fa && (p.HTa=c.__assign(c.__assign({},p.HTa),{audio:{trackId:q.trackId,trackIndex:q.kI}}));});};h.prototype.Y8=function(n){this.set(k.Rc.ls);this.nxa(n,k.Rc.Me);};h.prototype.Q8=function(){this.gL.kv++;};h.prototype.ZV=function(n){this.config.cK || void 0 === this.vy && this.zj && this.Bka();this.vy={$m:n.httpCode,Uf:n.errorCode,Ti:n.nativeCode};};h.prototype.a9=function(){this.vy=void 0;this.config.cK || this.n4();};h.prototype.ph=function(n){this.zj || (this.nxa(n,k.Rc.tl),this.zj && (this.vy || this.config.cK) && this.Bka());};h.prototype.AVb=function(n,p){this.state.value !== k.Rc.Me && this.nxa(n,k.Rc.T0);this.Nya(p);};h.prototype.$Ub=function(n,p){var q;q=this;this.config.Jvb && this.zj && (-1 === this.b8.indexOf(n) && this.b8.push(n),2 === this.b8.length && Promise.resolve().then(function(){q.zj && void 0 !== q.jw && q.Fm("memoryLimit",p.vO,p.wO);}));};h.prototype.P1b=function(n,p){(0,d.assert)(this.state.value === k.Rc.Me && void 0 === this.jw);this.jw=n;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.kI}),this.Nya(p));};h.prototype.d2b=function(n,p,q){(0,d.assert)(this.zj);this.Bpa=null !== n && void 0 !== n?n:this.Bpa;this.wU=null !== p && void 0 !== p?p:this.wU;this.xU=q || this.xU;};h.prototype.Fm=function(n,p,q){var u;(0,d.assert)(this.zj && void 0 !== this.jw && void 0 === this.h3 && void 0 === this.Raa && void 0 === this.h2);this.h3=n;this.Raa=p;this.h2=q;this.up=100;this.Oja();this.n4();null === (u=this.Fja) || void 0 === u?void 0:u.Oa();this.state.value === k.Rc.tl && (this.rua=f.default.time.xa());this.$Db();this.set(k.Rc.vl);this.h2=this.Raa=this.h3=this.xU=this.wU=this.Bpa=this.jw=void 0;};h.prototype.stop=function(){var n;this.set(k.Rc.ls);this.Oja();this.n4();null === (n=this.Fja) || void 0 === n?void 0:n.Oa();};h.prototype.Eja=function(n,p,q,u){var t,v,w,y,x,z,A,B,C,D;t=this;(0,d.assert)(this.zj);null === (v=this.Fja) || void 0 === v?void 0:v.Oa();if(this.state.value === k.Rc.tl && f.default.time.xa() < this.rua + this.config.y6a){x=this.config.y6a - (f.default.time.xa() - this.rua);this.Fja=this.pc.UA(m.Jg.YC(l.L.Ma(x)),function(){t.Eja(n,p,q,u);});}else {v=q.PF(k.u.fa);z=q.PF(k.u.X);A=f.default.time.xa() - this.Zia;if(v || z){B=function(F){return F?F.gr() || F.cn()?u.Dja(t.state.value,n,A >= t.config.uW,p,F,t.kv):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};C=B(v);B=B(z);D=function(F){var G;return {reason:F.reason,complete:F.complete,bl:null !== (G=F.JA) && void 0 !== G?G:0};};this.Xg.Is({as:D(C),vs:D(B),bt:A});D=z?B:C;D.q8b=z && B.JA || 0;D.vub=v && C.JA || 0;C.complete && B.complete?(D.complete=!0,this.Fm(null !== (x=D.reason) && void 0 !== x?x:"unknown",null !== (w=D.q8b) && void 0 !== w?w:0,null !== (y=D.vub) && void 0 !== y?y:0)):(D.complete=!1,this.jwb(D),this.Xg.Is({bp:this.up}));}}};h.prototype.jwb=function(n){var p,q,u;u=n.progress;n.fra?u=(f.default.time.xa() - this.Zia) / this.config.uW:u || (u=(null !== (p=n.JA) && void 0 !== p?p:0) / this.config.ur);n=Math.min(Math.max(Math.round(100 * u),null !== (q=this.up) && void 0 !== q?q:0),99);n != this.up && (this.up=n);};h.prototype.nxa=function(n,p){(0,d.assert)(p === k.Rc.Me || void 0 !== n);this.jw=n;this.up=0;this.E8=void 0;this.gL.kv=0;this.b8=[];n=this.state.value === k.Rc.Me || this.state.value === k.Rc.tl;this.Zia=f.default.time.xa();this.set(p);n || (this.bEb(),this.B2b());};h.prototype.set=function(n){this.state.set(n);};h.prototype.bEb=function(){(0,d.assert)(this.events && void 0 !== this.up);this.E8=this.up;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.xa(),percentage:this.up});};h.prototype.B2b=function(){var n;n=this;this.Oja();this.WTb=this.pc.RVa(function(){return n.aEb();},l.L.Ma(this.Lvb),"buffering-notification");};h.prototype.Oja=function(){var n;null === (n=this.WTb) || void 0 === n?void 0:n.Oa();};h.prototype.aEb=function(){this.zj && this.events && void 0 !== this.up && this.up !== this.E8 && this.events.emit("buffering",{type:"buffering",time:f.default.time.xa(),percentage:this.up}) && (this.E8=this.up);};h.prototype.$Db=function(){(0,d.assert)(this.events && this.jw && void 0 !== this.h3 && void 0 !== this.h2 && void 0 !== this.Raa);this.E8=this.up;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.xa(),actualStartPosition:this.jw,reason:this.h3,aBufferLevelMs:this.h2,vBufferLevelMs:this.Raa,selector:this.Bpa,initBitrate:this.wU,initSelReason:this.xU},this.HTa));};h.prototype.Bka=function(){var n;n=this;this.config.wfb && (!this.qz || this.qz.state !== m.Fk.complete && this.qz.state !== m.Fk.kF?void 0 === this.qz && (this.qz=this.pc.Rx(function(){return n.Leb();},"underflow")):this.qz.lf());};h.prototype.n4=function(){this.qz && (this.qz.state !== m.Fk.kF && this.qz.Oa(),this.qz=void 0);};h.prototype.Leb=function(){var n,p,q;return c.__generator(this,function(u){switch(u.label){case 0:return (n=this.config.L7,this.V.trace(("BufferingStateTracker: starting underflow timer: ").concat(n,"ms")),[4,m.Jg.YC(l.L.Ma(n))]);case 1:(u.Ta(),u.label=2);case 2:if(!this.zj)return [3,4];p=this.Jc.TPb || 0;q=f.default.time.xa() - p;if(q >= n)return (this.V.trace(("Forcing streaming failure, ").concat(q,"ms since data received")),this.Tla.BVb(this.vy),[2]);this.V.trace(("BufferingStateTracker: network activity, wait ").concat(n - q,"ms"));return [4,m.Jg.YC(l.L.Ma(n - q))];case 3:return (u.Ta(),[3,2]);case 4:return [2];}});};c.__decorate([(0,g.Tb)({methodName:"onTemporaryNetworkError",ak:!0})],h.prototype,"ZV",null);c.__decorate([(0,g.Tb)({methodName:"onUnderflow",ak:!0})],h.prototype,"ph",null);c.__decorate([(0,g.Tb)({methodName:"bufferingComplete",ak:!0})],h.prototype,"Fm",null);c.__decorate([(0,g.Tb)({methodName:"stop",ak:!0})],h.prototype,"stop",null);c.__decorate([(0,g.Tb)({methodName:"checkStreamingBufferingComplete",ak:!0})],h.prototype,"Eja",null);c.__decorate([(0,g.Tb)({methodName:"createUnderflowTask",ak:!0})],h.prototype,"Bka",null);c.__decorate([(0,g.Tb)({methodName:"destroyUnderflowTask",ak:!0})],h.prototype,"n4",null);c.__decorate([(0,g.Tb)({methodName:"onUnderflowTimeout",ak:!0})],h.prototype,"Leb",null);return h;})();b.yBa=r;},43603:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.KVa=void 0;c=a(5163);l=a(27364);b.KVa=function(f){var m,h;function k(n){(0,l.bo)(n.newValue) && !(0,l.bo)(n.oldValue)?(null === h || void 0 === h?void 0:h.Oa(),h=m.UA.apply(m,c.__spreadArray([],c.__read(d),!1))):null === h || void 0 === h?void 0:h.Oa();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=f.af;m=f.jq;g.state.addListener(k);k({oldValue:l.Rc.ls,newValue:g.state.value});};},98468:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Yla=void 0;c=a(42866);b.Yla=function(l,f,k,d,g){var m,h;m=[];h=[];l=l.jm.values.filter(function(n){return n.Zm;}).map(function(n){var p,q;p=f(n.na,k,d,g);q=p.map(function(u){return u.mediaType;});m=(0,c.dK)(m,q);q=(0,c.Fq)(p,n.Ed).map(function(u){return u.mediaType;});h=(0,c.dK)(h,q);q=(0,c.Fq)(n.Ed,p).map(function(u){return u.mediaType;});h=(0,c.dK)(h,q);return {nb:n,Ed:p};});return {nUa:h,vvb:l,ntb:m};};},58726:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bwa=b.Kja=b.al=b.n1a=b.Pfb=void 0;c=a(42866);l=a(62558);f=a(49730);b.Pfb=function(d,g){d=d.O[g.I];if(void 0 === d)return {dM:!1,reason:("Segment ").concat(g.I," was not found")};if(0 > g.offset.G)return {dM:!1,reason:("Offset ").concat(g.offset.G," was negative")};if(void 0 === d.va || null === d.va || Infinity === d.va)return {dM:!0};d=d.va - d.ta;return g.offset.G >= d?{dM:!1,reason:("Offset ").concat(g.offset.G," was greater than segment duration ").concat(d)}:{dM:!0};};k=c.L.Ma(100);b.n1a=function(d,g){if(d === g)return !0;if(d && g && d.I === g.I){if(d.offset === g.offset)return !0;d=c.L.abs(d.offset.qa(g.offset));if(k.greaterThan(d))return !0;}return !1;};b.al=function(d,g,m){var h,n,p,q;p=g.ya;g=g.UNb;void 0 === m && (m={});q=p.ea;p=p.navigator;q=p.ee(null !== (h=null === g || void 0 === g?void 0:g.id) && void 0 !== h?h:q.ve);h=null !== (n=null === g || void 0 === g?void 0:g.k1b) && void 0 !== n?n:q.je;if(h.greaterThan(d))return m.y3b?{offset:d.qa(h),I:q.id}:void 0;g=p.U3a(q);for(p=g.next();!p.done;){n=p.value;p=n.Ef.qa(n.je);q=h;h=q.add(p);if(h.greaterThan(d))return (d=d.qa(q),f.K && (0,l.assert)(d.hi(c.L.Ga) && d.lessThan(p)),{I:n.id,offset:d});p=g.next();if(p.done && m.z3b)return {I:n.id,offset:d.qa(q)};}};b.Kja=function(d,g){g=g.O[d.I];return d.offset.lessThan(c.L.Ga)?{t3:c.L.Ga,Sn:d.offset}:g.va && (g=c.L.Ma(g.va - g.ta),g.isFinite() && d.offset.greaterThan(g))?{t3:g,Sn:d.offset.qa(g)}:{t3:d.offset,Sn:c.L.Ga};};b.bwa=function(d,g){d=d.O[g.I];if(void 0 !== d)return null === d.va || void 0 === d.va?{I:g.I,offset:c.L.max(c.L.Ga,g.offset)}:{I:g.I,offset:c.L.max(c.L.Ga,c.L.min(g.offset,c.L.Ma(d.va - d.ta)))};};},124:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.BEa=void 0;r=a(5163);c=a(42866);l=a(27364);f=r.__importDefault(a(95711)).default.aM;k=r.__importDefault(a(76733));d=r.__importDefault(a(35471));g=a(74377);m=a(62558);h=a(17329);a=(function(){function n(p,q,u,t,v){this.config=p;this.r3b=q;this.navigator=u;this.events=t;this.console=v;p=(0,g.F0a)(this.config);this.I$=p.I$.bind(p);this.Wwa=p.Wwa.bind(p);this.gna=p.gna.bind(p);this.Doa=p.Doa.bind(p);this.n9a=[p.mua.bind(p),p.wW.bind(p)];}n.prototype.p1b=function(p,q,u,t,v,w,y,x){var z,A,B,C,D,F,G,E,H;A=[];if(!this.C8a(w.track,w.track.ba?w.track.OJb(t):void 0))return {stream:D,AX:A,reason:"locationSelectionFailure"};B=w.gl;t=B.xe;C=w.m5;D=t.fo;F=this.uLb(w,q,p,u,y);G=F.first;if(0 === G.length && (null === y || void 0 === y?0:y.ZTa))return {stream:void 0,AX:A,reason:"allStreamsFiltered"};D && !D.track.equals(w.track) && (D=this.GGb(D,G));E=w.mediaType;if((y=E === l.u.fa) && D && !this.X2b(t,D))return (this.config.o1a && this.I$(D.bitrate),{stream:D,AX:A});p=(0,l.eua)(p);q=this.gBb(p,q,v,w,!!x);v=this.n9a[E];x=y?this.Doa():this.gna();w=B.bbb(q,F,x,v,w.u3a(),w.track.na.ay,C);if(!w)return {stream:D,AX:A,reason:"streamSelectionFailure"};B={vg:w.vg,xW:w.xW};if(w.reason){H=w.reason;this.ixb(E,G,u);}this.dEb(E,w,G);D=G[w.Ug];u=D.bitrate;y?this.config.o1a && this.I$(u):this.Wwa(u);t.Qbb(D);if(null === (z=w.jF) || void 0 === z?0:z.length)A=w.jF.map(function(M){return (0,c.wc)(G,function(L){return L.id === M;});}).filter(c.D8);return {stream:D,AX:A,xU:H,Vt:B,Ft:w.Ft,uGb:G,q1b:w};};n.prototype.Dja=function(p,q,u,t,v,w,y){var x,z,A;if(!(0,l.bo)(q))return {complete:!0,reason:"playing"};if(!w.t9a)return {complete:!1,reason:"unknown"};if(w.UVb)return ((0,m.assert)(w.$7a),w.$7a);x=w.gl;z=x.xe;u=this.a_a(w,u);A=z.fo;z=u.Il - u.Cd;if(z < this.config.ur || void 0 === A)return {complete:!1,JA:z,reason:"preBuf"};if(w.mediaType === l.u.fa)return {complete:!0,JA:z,reason:"audio"};if(p=p.uUa(w.mediaType))return {complete:!0,JA:z,reason:p};this.C8a(w.track);p=new h.mJ();p.Uha([A]);x.m9a(p,(0,l.eua)(q),u,this.n9a[w.mediaType]);q=x.q3(u,q,v,A,{kv:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",JA:z};q.JA=z;return q;};n.prototype.xj=function(p,q,u,t){return t?t.xj(p.track.Lf,q,u.qa(p.nb.te),p.Pg()):p.track.Lf;};n.prototype.uLb=function(p,q,u,t,v){var w;w=new h.mJ();w.Uha(this.xj(p,u,t,v));q=p.nb.Pb.qa(q);for(q=this.config.Era - q.G;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Pg)break;w.Uha(this.xj(p,u,t,v));q-=p.nb.v.duration.G;}return w;};n.prototype.dEb=function(p,q,u){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:u});};n.prototype.cEb=function(p,q,u,t){p={type:"maxVideoBitrateChanged",time:d.default.time.xa(),streaming:t,maxvb_old:p,maxvb:q,reason:u};this.events.emit(p.type,p);};n.prototype.GGb=function(p,q){var u;u=q[0];q.filter(function(t){return t.lG;}).every(function(t){return t.bitrate <= p.bitrate?u=t:!1;});return u;};n.prototype.X2b=function(p,q){return 0 < this.config.UX.length?!0:(p=p.hM) && p === q.location?!1:!0;};n.prototype.C8a=function(p,q){return p.na.Wk.lfb(p.na.J,p.Lf,q);};n.prototype.a_a=function(p,q){var D;for(var u,t=q.qa(this.r3b),v=[],w=p,y=q,x,z,A=0,B=0,C=!0;w;){D=w.M_a(t);if(!C && !w.Zh)break;0 < D.La.length && (y=D.La[0].Ab,void 0 === x && (x=D.La[D.La.length - 1].Pb,z=D.h9 >= D.La.length?x:D.La[D.h9].Ab),v=D.La.concat(v),A+=0 < D.xr?D.xr:0,B+=D.wN);w=this.navigator.parent(w);C=!1;}return {UE:d.default.PT()[p.mediaType],fb:Math.floor(y.G),Cd:q.G,il:Math.floor(null !== (u=null === x || void 0 === x?void 0:x.G) && void 0 !== u?u:q.G),Il:Math.floor(z?z.G:q.G),Do:v.reduce(function(F,G){return F + G.wa;},0),xr:A,wN:B,Bfc:v.length,La:v};};n.prototype.gBb=function(p,q,u,t,v){var w,y,x;w=this.a_a(t,q);y=t.mediaType === l.u.X?this.config.aza:this.config.zia;x=k.default.instance();return {state:p,NB:p === l.Fb.ke,Ye:t.Mv,playbackRate:u,buffer:w,v4:y,ZS:v,Zj:null === x || void 0 === x?void 0:x.Zj,mediaType:t.mediaType,Cd:q.G,Zua:0};};n.prototype.ixb=function(p,q,u){var w,y;if(p === l.u.X){p="manifest";for(var t=0,v=q.length - 1;0 <= v;--v){w=q[v];y=w.bitrate;if(f(w)){t=Math.max(t,y);break;}else this.config.maa && !w.tv?p="bc":w.fr?w.BB && (p="hf"):p="av";}this.X5a !== t && (this.cEb(this.X5a,t,p,u),this.X5a=t);}};return n;})();b.BEa=a;},16567:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pIa=void 0;c=a(5163);l=a(49730);f=a(2663);k=a(27364);d=a(33285);r=(function(){function g(m,h,n){this.Cna=m;this.rJb=h;this.V=n;this.Xg=new d.Du({kn:this,console:n,source:"MemoryDeadlockProtector",ko:5});}g.prototype.xHb=function(m){var h,n,p,q;p=m.config;q=p.ur + (null !== (n=null === (h=p.WN) || void 0 === h?void 0:h.G) && void 0 !== n?n:0);h=this.zMb(q,m);l.K && this.V.debug(("MDP: has prebuf: ").concat(h));return h?{o4:!0}:(n=this.uwb(p),h=n.TVb,n=n.a8b,h && n?(l.K && this.V.debug(("MDP: utilizing ").concat(Math.round(100 * n),"%")),n >= p.ASb?this.pab(m,h):{o4:!0}):{o4:!1});};g.prototype.pab=function(m,h){var n,p,q,u,t,w,z,A;this.Xg.Is({o:h});u=m.Y;m=m.Ya;t=u.Ya;u=u.jr;for(var v=0;v < t.length;v++){if(!t[v].Zh){u=t[v];t=t.slice(0,v + 1);break;}}v=!1;w=[{mediaType:k.u.fa,Dx:0},{mediaType:k.u.X,Dx:0},{mediaType:k.u.Ha,Dx:0}];if(null === u || void 0 === u || !u.Zh){m=m.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,f.oja)(C) - (0,f.oja)(D);});try{for(var y=c.__values(m),x=y.next();!x.done;x=y.next()){z=x.value;A=z.rL();w[k.u.fa].Dx+=null !== (p=A.GR) && void 0 !== p?p:0;w[k.u.X].Dx+=null !== (q=A.AY) && void 0 !== q?q:0;l.K && this.V.debug(("Resetting discontiguous branch ").concat(z.v.id),A);z.reset();if(v=w.every(function(C){return C.Dx >= h[C.mediaType].Dx;}))break;}}catch(C){var B;B={error:C};}finally{try{x && !x.done && (n=y.return) && n.call(y);}finally{if(B)throw B.error;}}}return {o4:v,Ffc:w};};g.prototype.uwb=function(m){var h,n,p,q,u;h=[k.u.fa,k.u.X,k.u.Ha];if(!m.BSb)return {};n=this.rJb();p=this.Cna().total;q=m.zSb;u=0;m=h.map(function(t){var v;v=n[t] - p[t] * q;u=Math.max(0 < p[t]?n[t] / p[t]:0,u);return {Dx:Math.max(0,v),mediaType:t};});return {a8b:u,TVb:m};};g.prototype.zMb=function(m,h){var n,p,q;n=this;p=!1;h=h.cr?h.Y:void 0;if(null === h || void 0 === h?0:h.TNb){p=h.Sy.Xq().map(function(u){return u.mediaType;});q=h.JIb();p=p.every(function(u){var t,v;if(u === k.u.fa)u=null !== (t=q.k2) && void 0 !== t?t:0;else if(u === k.u.X)u=null !== (v=q.Saa) && void 0 !== v?v:0;else return (l.K && n.V.trace("hasEnoughBuffer ignoring mediaType:",u),!0);return u >= m;});}return p;};c.__decorate([(0,d.Tb)({methodName:"resetDiscontiguousBranches",return:!0,ak:!0})],g.prototype,"pab",null);return g;})();b.pIa=r;},50164:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Rda=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(62558);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.Bb=function(g){var m;m=this;this.ya=g;this.ya.events.on("segmentNormalized",function(){m.S9();});this.S9();};Object.defineProperties(d.prototype,{OV:{get:function(){return this.pqb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dya:{get:function(){(0,k.assert)(this.ya,"Must be initialized");return this.ya.ea;},enumerable:!1,configurable:!0}});d.prototype.S9=function(){var g,m,h;g=this;if(this.ya){m={};h=this.ya.ea;this.pqb=c.__assign(c.__assign({},h),{O:new Proxy(h.O,{get:function(n,p){var q;if(m[p])return m[p];n=h.O[p];if(!n)return n;q=g.HKb(p);q?(q=q.Utb(),m[p]=c.__assign(c.__assign(c.__assign({},q),n),{ta:q.ta,va:q.va})):m[p]=h.O[p];return m[p];}})});this.events.emit("updated");}};d.prototype.HKb=function(g){var m;f.K && (0,k.assert)(this.ya,"Must be initialized");m=this.ya.navigator;return m.E1a(g)?m.ee(g):void 0;};return d;})();b.Rda=r;},84975:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pLa=void 0;c=a(42866);l=a(97810);f=a(62558);k=a(29960);r=(function(){function d(){this.Ya=new l.DIa();this.jm=new k.Y0();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Ya.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Ya.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g;g=this.Ya.values();this.Ya.clear();this.jm.clear();g.forEach(function(m){return m.Cf();});};d.prototype.Ep=function(g){return this.Ya.get(g);};d.prototype.has=function(g){return this.Ya.has(g);};d.prototype.root=function(){return this.jm.root;};d.prototype.contains=function(g){var m;m=g.v.id;if(this.has(m))return -1 !== this.Ep(m).indexOf(g);};d.prototype.zF=function(g){this.jm.zF(g);};d.prototype.R5=function(g){return this.jm.parent(g);};d.prototype.EIb=function(g){return this.jm.children(g);};d.prototype.Moa=function(g){return this.jm.Moa(g);};d.prototype.s_b=function(g){var m;if(this.Ya.delete(g.v.id,g)){m=this.jm.children(g);this.jm.root === g?0 === m.length?this.jm.clear():((0,f.assert)(1 === m.length,"cannot remove the root branch with multiple successors"),this.jm.E_b(m[0])):((0,f.assert)(0 === m.length,"cannot remove non-root branch with successors"),this.jm.remove(g));}};d.prototype.forEach=function(g){var m;m=this;this.Ya.forEach(function(h,n){return g(h,n,m);});};d.prototype.reduce=function(g,m){var h;h=this;return this.Ya.reduce(function(n,p,q){return g(n,p,q,h);},m);};d.prototype.map=function(g){var m;m=this;return this.Ya.map(function(h,n){return g(h,n,m);});};d.prototype.filter=function(g){var m;m=this;return this.Ya.filter(function(h,n){return g(h,n,m);});};d.prototype.NLb=function(){var g;g={};this.forEach(function(m,h){var n;(m=m.Or) && (null !== (n=g[h]) && void 0 !== n?n:g[h]=[]).push(m.G);});return g;};d.prototype.W6b=function(g,m){var h,n,p;h=this;g=this.eBb(g,m);n=g.fDb(this.jm);m=n.RR;p=n.Qt;n=n.X$a;this.jm.clear();this.jm=g;m.forEach(function(q){return h.Ya.set(q.v.id,q);});m.forEach(function(q){return q.Bb();});p.forEach(function(q){return h.Ya.delete(q.v.id,q);});return {Qt:p,X$a:n};};d.prototype.eBb=function(g,m){var h,n,p;h=this;n=new Map();p=new k.Y0();g.zF(function(q,u){var t,v;if(u){t=n.get(u);if(!t)return !0;}v=(0,c.wc)(h.Ep(q.v.id),function(w){return h.jm.parent(w) === t || !u;});v=null !== v && void 0 !== v?v:m(q.v.id,t);v.jf=q.jf;n.set(q,v);p.add(v,t);(null === v || void 0 === v?0:v.Zm) && v.update(q.v);return !0;});return p;};return d;})();b.pLa=r;},45609:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rLa=void 0;r=(function(){function a(c){this.console=c;this.Lja();}a.prototype.get=function(c){return this.JK[c] || this.og[c];};a.prototype.set=function(c,l){void 0 === this.og[c] && (this.og[c]=l);};a.prototype.W1b=function(c,l){void 0 === this.get(c) && (this.JK[c]=l);};a.prototype.clear=function(c){this.JK[c]=void 0;this.og[c]=void 0;};a.prototype.Dxb=function(c){var l;this.og=(l={},l[c]=this.og[c],l);this.JK={};};a.prototype.Lja=function(){this.og={};this.JK={};};a.prototype.toJSON=function(){return {og:this.og,JK:this.JK};};return a;})();b.rLa=r;},16236:function(r,b,a){var f,k,d;function c(g,m){var h,n;h=Object.keys(g);if(h.some(function(p){var q,u,t,v;return (null === (q=g[p]) || void 0 === q?void 0:q.Yd) !== (null === (u=m[p]) || void 0 === u?void 0:u.Yd) || (null === (t=g[p]) || void 0 === t?void 0:t.weight) !== (null === (v=m[p]) || void 0 === v?void 0:v.weight);}))return !0;n=Object.keys(m);return 0 !== f.__spreadArray(f.__spreadArray([],f.__read((0,d.Fq)(h,n)),!1),f.__read((0,d.Fq)(n,h)),!1).length?!0:!1;}function l(g,m){return g.some(function(h,n){var p;return 0 !== (0,d.Fq)(h,null !== (p=m[n]) && void 0 !== p?p:[]).length;}) || g.length !== m.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.TTa=b.wVa=void 0;f=a(5163);k=a(42866);d=a(42866);b.wVa=function(g){return new k.eDa(function(m){return Object.keys(m.v.next || ({})).map(function(h){var n,p,q;h=g.ee(h);q=null !== (p=null === (n=m.Ef) || void 0 === n?void 0:n.qa(m.je).G) && void 0 !== p?p:Infinity;return {m8b:h,weight:q};});});};b.TTa=function(g,m){var h,n,p,q,u,t;h=Object.keys(g.O);n=Object.keys(m.O);p=n.filter(function(v){return -1 === h.indexOf(v);});q=h.filter(function(v){return -1 === n.indexOf(v);});u=h.filter(function(v){var w,y,x,z,A;if(-1 === n.indexOf(v))w=!1;else {w=g.O[v];v=m.O[v];w=w.Gb !== v.Gb || w.va !== v.va || w.ta !== v.ta || w.Yd !== v.Yd || w.J !== v.J || l(null !== (y=w.Rq) && void 0 !== y?y:[],null !== (x=v.Rq) && void 0 !== x?x:[]) || c(null !== (z=w.next) && void 0 !== z?z:{},null !== (A=v.next) && void 0 !== A?A:{})?!0:!1;}return w;});t=(0,d.Fq)(h,f.__spreadArray(f.__spreadArray(f.__spreadArray([],f.__read(u),!1),f.__read(p),!1),f.__read(q),!1));return {RR:p,Qt:q,$wb:u,I6b:t};};},22486:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tLa=b.wD=void 0;c=a(5163);l=a(62558);(function(k){k[k.qu=0]="CREATED";k[k.Xea=1]="STARTED";k[k.kQ=2]="REQUEST_ISSUED";k[k.Iw=3]="EVALUATED";k[k.CCa=4]="DESTRUCTED";})(f=b.wD || (b.wD={}));r=(function(){function k(d){this.LN=d;this.Xa=f.qu;this.JC={};this.FX={};}Object.defineProperties(k.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});k.prototype.start=function(){var d;d=this;this.Xa !== f.Xea && (this.AV(f.Xea),[f.Iw,f.kQ].forEach(function(g){var m;m=new Promise(function(h){(0,l.assert)(d.FX && d.JC,"state promises should be defined");d.FX[g]=h;d.JC[g]=m;});}),this.LN(),this.AV(f.Iw));};k.prototype.AV=function(d){this.Xa=d;this.FX && (d=this.FX[d],null === d || void 0 === d?void 0:d());};k.prototype.Oa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Xa !== f.Xea)return [3,2];(0,l.assert)(this.JC,"state resolves should be defined");return [4,this.JC[f.Iw]];case 1:(d.Ta(),d.label=2);case 2:return (this.FX=this.JC=void 0,this.Xa=f.CCa,[2]);}});});};k.prototype.cba=function(d,g){c.__awaiter(this,void 0,void 0,function(){var m;return c.__generator(this,function(h){switch(h.label){case 0:if(this.Xa === f.CCa)return [2];if(this.Xa === f.Iw)return [3,6];(0,l.assert)(this.JC,"state promises should be defined");m=d;switch(m){case f.Iw:return [3,1];case f.kQ:return [3,3];}return [3,5];case 1:return [4,this.JC[f.Iw]];case 2:return (h.Ta(),[3,6]);case 3:return [4,this.JC[f.kQ]];case 4:return (h.Ta(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return k;})();b.tLa=r;},41054:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yLa=void 0;c=a(5163);l=a(61978);r=(function(){function f(k){this.mj=k;this.O={};}Object.defineProperties(f.prototype,{ea:{get:function(){return this.mj;},enumerable:!1,configurable:!0}});f.prototype.E1a=function(k){return !!this.ea.O[k];};f.prototype.ee=function(k){var d;d=this.O[k];if(void 0 === d){d=this.ea.O[k];if(void 0 === d)throw Error(("Segment not found (").concat(k,")"));d=new l.DLa(k,d,this.ea.Yd);this.O[k]=d;}return d;};f.prototype.xMb=function(k){return !(!k.v.next || !Object.keys(k.v.next).length);};f.prototype.WIb=function(k){var d;d=this;return k.v.next?Object.keys(k.v.next).map(function(g){return d.ee(g);}):[];};f.prototype.U3a=function(k){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,k];case 1:(g.Ta(),d=k,g.label=2);case 2:if(!d.v.Gb)return [3,4];d=this.ee(d.v.Gb);return [4,d];case 3:return (g.Ta(),[3,2]);case 4:return [2];}});};f.prototype.BMb=function(k,d){return (0,l.l3a)(k.a6(d));};f.prototype.bj=function(k){var d;d=this;Object.keys(k).forEach(function(g){var m;return null === (m=d.ee(g)) || void 0 === m?void 0:m.bj(k[g]);});};f.prototype.update=function(k){var d;d=this;this.mj=k;Object.keys(this.O).forEach(function(g){var m;m=d.mj.O[g];m && d.O[g].update(m) || delete d.O[g];});};return f;})();b.yLa=r;},61978:function(r,b,a){var l,f,k;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.DLa=b.E0=b.l3a=void 0;l=a(5163);f=a(42866);k=a(62558);b.l3a=c;r=(function(){function d(g,m,h){this.region=g;this.Ja=m;this.Va=h;}d.prototype.toJSON=function(){return {region:this.region,fb:this.Ja.Vv,cf:this.Va.Vv};};return d;})();b.E0=r;r=(function(){function d(g,m,h){var n;n=this;this.id=g;this.Ji=m;this.tQa=!1;this.a6=function(p){var q,u,t,v;return (null === (q=n.dw) || void 0 === q?0:q.length)?"immediate":null !== (v=null === (t=null === (u=n.v.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.Yd) && void 0 !== v?v:n.Yd;};this.aOb(m);this.J2a(m,h);this.H2a();(0,k.assert)(this.W1.lessThan(this.u1),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{v:{get:function(){return this.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J:{get:function(){return this.v.J;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Op:{get:function(){return this.tQa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{je:{get:function(){return this.W1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ef:{get:function(){return this.u1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.u1.qa(this.W1);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ZX:{get:function(){return this.Ly.length?!this.v.Gb && 0 === this.IM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{p3a:{get:function(){return !this.v.type || "content" === this.v.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{PTb:{get:function(){return this.lA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ly:{get:function(){var g,m;return Object.keys(null !== (m=null === (g=this.v) || void 0 === g?void 0:g.next) && void 0 !== m?m:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{IM:{get:function(){var g;g=this;return this.Ly.filter(function(m){return !!g.lA[m];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Hxa:{get:function(){var g;return null !== (g=this.nRa) && void 0 !== g?g:this.nRa=this.Bwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{naa:{get:function(){var g;return null !== (g=this.oRa) && void 0 !== g?g:this.oRa=this.Cwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fq:{get:function(){return this.v.weight?this.v.weight / (this.v.weight + this.naa):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yd:{get:function(){var g;return (null === (g=this.dw) || void 0 === g?0:g.length)?"immediate":this.e2;},enumerable:!1,configurable:!0}});d.prototype.aOb=function(g){var m;this.W1=new f.L(g.ta,1E3);this.u1=void 0 !== g.va && null !== g.va?new f.L(g.va,1E3):f.L.Jp;this.e2=null !== (m=this.Ji.Yd) && void 0 !== m?m:this.e2;};d.prototype.J2a=function(g,m){var h,n,p;this.e2=null !== (p=null !== (n=null !== (h=g.Yd) && void 0 !== h?h:m) && void 0 !== n?n:this.e2) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(g,m,h){this.W1=g.$c(m.N);this.u1=m;this.dw=h;this.tQa=!0;this.pgb();};d.prototype.update=function(g){(0,k.assert)(g.J === this.Ji.J,"Cannot change the viewable id of a segment");(0,k.assert)(g.ta === this.Ji.ta,"Cannot change the start time of a segment");(0,k.assert)(g.type === this.Ji.type,"Cannot change the type of a segment");if(g.va !== this.Ji.va)return !1;g.Yd !== this.Ji.Yd && this.J2a(g);this.Ji=g;return !0;};d.prototype.u_a=function(){var g;return this.IM.length?null !== (g=this.IM.map(this.a6).reduce(function(m,h){return m === h?h:void 0;})) && void 0 !== g?g:this.Yd:this.Yd;};d.prototype.bj=function(g){this.H2a(g);};d.prototype.rwb=function(g){var m,h;if(this.Hxa){m=(this.lA[g] || 0) / this.Hxa;if(void 0 === this.v.weight || 0 === this.naa)return {mf:m};h=this.fq;return 1 !== h && c(this.a6(g)) && this.lA[g]?{mf:h * m,CB:this.lA[g] / this.naa * (1 - h)}:{mf:h * m};}return {mf:(null === (m=this.v.next) || void 0 === m?0:m[g])?1 / this.Ly.length:0};};d.prototype.FMb=function(g){return -1 < this.Ly.indexOf(g);};d.prototype.Utb=function(){return this.Op?l.__assign(l.__assign({},this.v),{ta:this.je.G,va:this.Ef.G}):this.v;};d.prototype.H2a=function(g){var m;if(void 0 === this.v.next)this.lA={};else {m=this.v.next;this.lA=Object.keys(m).reduce(function(h,n){var p;p=g?g[n] || 0:m[n].weight;void 0 !== p && null !== p && 0 <= p && (h[n]=p);return h;},{});}this.pgb();};d.prototype.Bwb=function(){var g;g=this;return this.IM.reduce(function(m,h){return m + g.lA[h];},0);};d.prototype.Cwb=function(){var g;g=this;return this.IM.filter(function(m){return c(g.a6(m));}).reduce(function(m,h){return m + g.lA[h];},0);};d.prototype.pgb=function(){this.oRa=this.nRa=void 0;};return d;})();b.DLa=r;},36654:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GLa=void 0;r=(function(){function a(c,l,f,k,d,g,m,h){var n,p;this.ea=c;this.hk=l;this.groupId=f;this.Ty=k;this.eH=d;this.ro=g;this.Nk=m;f=null !== (p=null === (n=this.hk.nb.Ab) || void 0 === n?void 0:n.G) && void 0 !== p?p:l.nb.qy.G;this.fq=c.og.get(l.I)?1:this.hk.nb.v.fq;this.fH=h.offset.G;this.hO=Math.max(this.uk - f,0);}Object.defineProperties(a.prototype,{identifier:{get:function(){return this.hk.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mediaType:{get:function(){return this.hk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jf:{get:function(){return this.hk.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pd:{get:function(){return this.ea.Pd.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uk:{get:function(){return this.hk.LC.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lL:{get:function(){return this.hk.kL.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ws:{get:function(){return this.hk.nb.Kd.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gr:{get:function(){return this.hk.gr();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cn:{get:function(){return this.hk.cn();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{li:{get:function(){return this.hk.li;},enumerable:!1,configurable:!0}});a.prototype.a7=function(c,l){return this.ea.a7(this,c,l);};a.prototype.nG=function(){return this.ea.nG(this);};a.prototype.toJSON=function(){return {mediaType:this.mediaType,mt:this.mt,jf:this.jf,Pd:this.Pd,ro:this.ro,uk:this.uk,Nk:this.Nk,lL:this.lL,fH:this.fH,Ty:this.Ty,eH:this.eH,fq:this.fq,Ws:this.Ws,hO:this.hO,groupId:this.groupId,gr:this.gr,cn:this.cn,li:this.li,identifier:this.identifier,ea:"playgraph Object",hk:this.hk};};return a;})();b.GLa=r;},90468:function(r,b,a){var l,f,k;function c(d,g,m,h,n){var p,q,u,t,v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I;y=d.console;x=d.P6b;z=d.og;A=d.c0b;B=d.sDb;C=d.bsa;D=d.Tia;d=d.RVb;F=n || ({complete:!0,Or:0});G=F.root;E=F.complete;H=F.gsb;M=F.jab;M=void 0 === M?0:M;F=F.Or;L=M < A.length && A[M].id === g.id;K=M < A.length?A[M].id:h && z.get(h.id);O=n && h && K !== g.id?void 0 !== K?{mf:0}:h.rwb(g.id):{mf:1};z=O.mf;O=O.CB;J=void 0 === O?0:O;O=(z + J) * (null !== (p=null === n || void 0 === n?void 0:n.oYb) && void 0 !== p?p:1);k && y.trace(("reevaluateBranches: visiting ").concat(g.id,", ") + ("distance: ").concat(m,", ") + ("probability: ").concat(O,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(K,", ") + ("predecessorComplete: ").concat(E,", ") + ("isOnRequiredPath: ").concat(L,", ") + ("requiredPathIndex: ").concat(M,", ") + ("activeDistance: ").concat(H,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(J,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.Hxa,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.naa));p=null !== (u=null === (q=x[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:g.duration.G;q=0 === p;if(!L){if(0 === O)return {aba:!1,x2:!0};if(!E && 0 === J && F > D)return (d.cB=Math.min(d.cB || Infinity,F - D),{aba:!1,x2:!0});if(!q && m >= B && 1 > O || !1 === G && O < C)return {aba:!1,x2:!0};}if(M < A.length){(0,l.assert)(A[M].id === g.id,"");I={duration:A[M].duration};}n=null !== (t=null === n || void 0 === n?void 0:n.jf) && void 0 !== t?t:[];h && 1 > z && (0 === J?n=n.concat([{mf:z}]):(t=(null === (w=null === (v=h.v.Rq) || void 0 === v?void 0:v[0]) || void 0 === w?void 0:w[0]) || 0,v=Math.max(0,h.duration.G - t),k && y.trace(("reevaluateBranches: immediate: ").concat(h.duration.G,", ").concat(t,", ").concat(v)),n=n.concat([{mf:z,CB:J,duration:v}])));v=d.Fva.dZa(function(N){return N.v === h;});d.Fva.add({v:g,jf:n,nb:I},v);m=E?m + g.duration.G:H;k && y.trace(("reevaluateBranches: added ").concat(g.id,", visiting successors, ") + ("active distance: ").concat(m," ") + ("probabilities: ").concat(JSON.stringify(n)));return {aba:!0,x2:L,state:{root:!h,complete:q,oYb:O,jf:n,gsb:m,jab:M + 1,Or:F + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.$5b=b.F8b=b.T9=void 0;l=a(62558);r=a(49730);f=a(29960);k=r.K && !1;b.T9=function(d,g,m,h,n,p,q,u,t){var v,w,y,x;w={Fva:new f.Y0()};y=(null === (v=m.Ef) || void 0 === v?void 0:v.qa(m.je).G) || 0;0 < p.length && (0,l.assert)(m.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");k && d.trace(("reevaluateBranches: starting at ").concat(m.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,P6b:h,og:n,c0b:p,sDb:q.G + y,bsa:u,Tia:t.G,RVb:w};g.E8b(m,function(z,A,B,C){return c(x,z,A,B,C);});return w;};b.F8b=c;b.$5b=function(d,g,m){var h;h=(0,f.x9a)(g,function(n){return ("").concat(n.v.id);});m(("requiredBranches(").concat(d,")"),h.replace(/\n/g,"<>"));m(("requiredBranches(").concat(d,")"),g.values.map(function(n){var p;return ("").concat(n.v.id,"::").concat(null === (p=g.parent(n)) || void 0 === p?void 0:p.v.id);}).join(", "));};},86315:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uMa=void 0;c=a(19114);r=(function(){function l(f,k){this.vva=k;this.WW=[];this.WW.push(f);}l.prototype.wo=function(f,k){return c.iP.J6({J:f,TW:k},this.WW);};l.prototype.fw=function(f){return this.vva(f);};l.prototype.D_b=function(f){this.WW.pop();this.WW.push(f);};l.prototype.SRa=function(f){this.WW.unshift(f);};return l;})();b.uMa=r;},21690:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.RMa=void 0;c=a(5163);l=a(42866);f=a(62558);b.RMa=(function(){function k(){}k.WLb=function(d){var g,m,h;if(d.Pg){h=c.__read(d.Ed,2);d=h[0];h=h[1];if(d.ba || (null === h || void 0 === h?0:h.ba))return {agb:l.L.Jp,bgb:l.L.Jp};d=null === (g=d.Eo) || void 0 === g?void 0:g.Ef;g=null === (m=null === h || void 0 === h?void 0:h.Eo) || void 0 === m?void 0:m.Ef;(0,f.assert)(d);m=g?l.L.min(d,g):d;return {agb:d,bgb:m};}};return k;})();},63037:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.X0a=void 0;b.X0a=function(a,c){return a.reduce(function(l,f){return l + f.z5(c).G;},0);};},60857:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YZa=void 0;c=a(92523);b.YZa=function(l,f){return l.reduce(function(k,d){var g;g=f(d);d.Xq().forEach(function(m){return k.Lha(m.mediaType,m.CA,!g);});return k;},new c.xLa());};},56844:function(r,b,a){var l,f;function c(k,d){return Object.keys(k.aH).map(function(g){return k.aH[g];}).filter(function(g){return void 0 === g.mt || 1 === g.mt;}).reduce(function(g,m){return g + m.Nq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.yNa=void 0;l=a(27364);f=a(49730);r=(function(){function k(d,g,m){this.ea=d;this.console=g;this.Cna=m;}k.prototype.Hwb=function(d,g,m){var h,n,p,q;h=m && this.ea.config.W7b;n=this.ea.config.vY || h;p=this.Cna();if(h){h=d.global;h=(q={},q[l.u.fa]=h[l.u.fa] - c(d,l.u.fa),q[l.u.X]=h[l.u.X] - c(d,l.u.X),q[l.u.Ha]=h[l.u.Ha] - c(d,l.u.Ha),q);}q=h;p=this.uUa(g) || this.nxb(d) || this.lxb(d,p,q) || this.mxb(d,p,q,g);q=(0,l.Xua)(p);if(p && (!q || n))return (f.K && this.console.log(("canIssueRequest ").concat(this.ea.id," [").concat(g,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});f.K && this.console.log(("canIssueRequest ").concat(this.ea.id," [").concat(g,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};k.prototype.uUa=function(d){var g;g=this.ea.config.CG;if(this.ea.dJb(d) >= (g || Infinity))return "mediaDurationLimit";};k.prototype.nxb=function(d){return d.aH[this.ea.id].total.total > (this.ea.N5() || Infinity)?"playgraphMemoryLimit":void 0;};k.prototype.lxb=function(d,g,m){d=d.global;return m?m[l.u.fa] + m[l.u.X] > (g.vxa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};k.prototype.mxb=function(d,g,m,h){var n;n=d.global;return m?(f.K && this.console.log(("checkRequestByMediaTypeMemory [").concat(h,"]:") + (" using static limit ").concat(g.vxa[h],", usage: ").concat(m) + (" (global: ").concat(n[h]," ") + (" - certain contiguous: ").concat(c(d,h),")")),m[h] > (g.vxa[h] || Infinity)?h === l.u.X?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[h] > (g.total[h] || Infinity)?h === l.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return k;})();b.yNa=r;},31192:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Fz=void 0;c=a(27364);l=a(53265);f=a(58648);r=(function(){var D7f;D7f=2;function k(d){var D4Q,g;D4Q=2;for(;D4Q !== 9;){switch(D4Q){case 2:var g7H="1SIYb";g7H+="Zr";g7H+="NJCp9";g=this;this.config=d;this.Yfb=this.R2=null;this.mua=function(m,h,n){var z21;z21=2;for(;z21 !== 5;){switch(z21){case 2:m=g.Xm(m,n);return g.config.pTa?(h=(0,l.M4)(g.config.oTa,h.Il - h.Cd,1),{lower:m * (1 - h),upper:void 0}):{lower:m * g.config.aY / 100,upper:void 0};break;}}};g7H;D4Q=9;break;}}}for(;D7f !== 6;){switch(D7f){case 2:k.prototype.kXa=function(d,g){var y7t,m;y7t=2;for(;y7t !== 4;){switch(y7t){case 2:m=null === this.R2?d * (100 - this.config.aY) / 100:(0,f.kia)(d,this.R2);this.config.Fqa && g?(d=(0,f.kia)(d,g),d=Math.max(d,m)):d=m;return d;break;}}};k.prototype.$wa=function(d){var K6g;K6g=2;for(;K6g !== 1;){switch(K6g){case 2:return this.config.ZXa && (d === c.Fb.Ek || d === c.Fb.Me);break;}}};k.prototype.Xm=function(d,g){var B$E,m,h,n;B$E=2;for(;B$E !== 5;){switch(B$E){case 2:return this.$wa(g)?(null === (m=d.pt) || void 0 === m?void 0:m.Ca) || (null === (h=d.mb) || void 0 === h?void 0:h.Ca) || 0:(null === (n=d.mb) || void 0 === n?void 0:n.Ca) || 0;break;}}};k.prototype.I$=function(d){var a8x;a8x=2;for(;a8x !== 1;){switch(a8x){case 2:this.R2=d;a8x=1;break;}}};k.prototype.gna=function(){var F22;F22=2;for(;F22 !== 1;){switch(F22){case 2:return this.R2;break;}}};k.prototype.Wwa=function(d){var U8z;U8z=2;for(;U8z !== 1;){switch(U8z){case 2:this.Yfb=d;U8z=1;break;}}};D7f=8;break;case 8:k.prototype.Doa=function(){var s3$;s3$=2;for(;s3$ !== 1;){switch(s3$){case 2:return this.Yfb;break;}}};return k;break;}}})();b.Fz=r;},61038:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nCa=void 0;c=a(5163);l=a(27364);r=a(31192);f=a(29472);a=(function(k){var P4M;P4M=2;for(;P4M !== 5;){switch(P4M){case 2:c.__extends(d,k);return d;break;}}function d(g){var T9s,m;T9s=2;for(;T9s !== 9;){switch(T9s){case 12:return m;break;case 3:return m;break;case 2:var o8x="1SIYbZrNJ";o8x+="Cp";o8x+="9";m=k.call(this,g) || this;m.wW=function(h,n,p,q){var U2T,D$2;U2T=2;for(;U2T !== 11;){switch(U2T){case 13:U2T=12;break;case 12:var j67="thr";j67+="ou";j67+="ghput-ci";n=h[j67];U2T=3;break;case 9:U2T=p === l.Fb.Ek?8:6;break;case 2:U2T=m.$wa(p)?1:5;break;case 7:return {lower:(null === n || void 0 === n?void 0:n.low) || h.mb.Ca,upper:(null === n || void 0 === n?void 0:n.high) || q};break;case 8:return {lower:(null === n || void 0 === n?void 0:n.initial) || h.mb.Ca,upper:(null === n || void 0 === n?void 0:n.high) || q};break;case 5:var o2H="deli";o2H+="ve";o2H+="ry";o2H+="ti";o2H+="me-ci";D$2=m.config.Jja;U2T=D$2 === o2H?4:13;break;case 6:U2T=p === l.Fb.Me?8:14;break;case 3:q=m.config.Tya * h.mb.Ca;U2T=9;break;case 14:U2T=7;break;case 4:var c1H="d";c1H+="eliveryt";c1H+="ime-c";c1H+="i";n=h[c1H];U2T=3;break;case 1:return m.CRb.wW(h,n,p,q);break;}}};m.CRb=new f.Eda(g);o8x;T9s=3;break;}}}})(r.Fz);b.nCa=a;},74377:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.F0a=b.Fz=void 0;c=a(29472);l=a(19661);f=a(47896);k=a(61038);d=a(31192);Object.defineProperties(b,{Fz:{enumerable:!0,get:function(){return d.Fz;}}});b.F0a=function(g){switch(g.tra){case "manifold":return new c.Eda(g);case "stddev":return new f.sNa(g);case "ci":return new k.nCa(g);default:return new l.bNa(g);}};},29472:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Eda=void 0;c=a(5163);r=c.__importStar(a(53265));l=c.__importDefault(a(35471));a=a(31192);f=r.uK;k=r.DUa;d=r.M4;g=r.vYa;m=r.Nab;new l.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var N6L;N6L=2;function n(p){var I$k,q;I$k=2;for(;I$k !== 13;){switch(I$k){case 8:var T4M="1";T4M+="SIY";T4M+="bZr";T4M+="NJ";T4M+="Cp9";q.m3b=!!p.Ls.simpleScaling;p.Ls.niqrfilter && p.Ls.niqrcurve && (q.$6a=p.Ls.niqrfilter,q.RTb=k(p.Ls.niqrcurve,1,0,4));T4M;return q;break;case 2:q=h.call(this,p) || this;q.wW=function(u,t,v,w){var z3m,y,x,z;z3m=2;for(;z3m !== 14;){switch(z3m){case 7:f9YlG.L4_(11);w=q.kXa(f9YlG.T5R(1,t,z),w);return {lower:w,upper:w * q.config.Tya};break;case 9:u=q.$6a && (null === (x=u[q.$6a]) || void 0 === x?void 0:x.rsa);void 0 !== u && (x=g(q.RTb,u),t=Math.min(t * x,1));z3m=7;break;case 4:v=t.Il - t.Cd;q.m3b?(t=d(q.wWa,v,1),v=d(q.vWa,v,1),t=t * y + v * (1 - y)):t=d(m(q.wWa,q.vWa,y),v,1);z3m=9;break;case 2:z=q.Xm(u,v);v=q.$wa(v)?z:(null === (y=u[q.filter]) || void 0 === y?void 0:y.Ca) || z;y=Math.pow(Math.max(1 - v / q.bvb,0),q.Zub);z3m=4;break;}}};Array.isArray(p.Ls.curves) && (q.wWa=k(p.Ls.curves[0],0,0,1),q.vWa=k(p.Ls.curves[1],0,0,1));q.bvb=f(p.Ls.threshold || 6E3,1,1E5);q.Zub=f(p.Ls.gamma || 1,.1,10);q.filter=p.Ls.filter;I$k=8;break;}}}for(;N6L !== 5;){switch(N6L){case 2:c.__extends(n,h);return n;break;}}})(a.Fz);b.Eda=a;},19661:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bNa=void 0;c=a(5163);r=c.__importDefault(a(35471));l=a(31192);f=a(58648);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var Y6l;function d(g){var I_8,m;I_8=2;for(;I_8 !== 3;){switch(I_8){case 2:var p9g="1SIYbZr";p9g+="NJC";p9g+="p9";m=k.call(this,g) || this;m.wW=function(h,n,p,q){var X4_,u;X4_=2;for(;X4_ !== 9;){switch(X4_){case 3:return {lower:q,upper:q * m.config.Tya};break;case 2:u=m.Xm(h,p);h=m.e3b(h,p);n=u?u * (100 - m.oIb(n,h)) / 100 | 0:0;q=m.kXa(n,q);X4_=3;break;}}};p9g;return m;break;}}}Y6l=2;for(;Y6l !== 3;){switch(Y6l){case 2:c.__extends(d,k);d.prototype.oIb=function(g,m){var e9P,h,n;e9P=2;for(;e9P !== 3;){switch(e9P){case 2:(h=this.config,n=m?h.hka:h.Kia);m=m?h.ika:h.Mia;Array.isArray(m) && (n=(0,f.uYa)(m,g.Il - g.Cd,h.Lia));return n;break;}}};d.prototype.e3b=function(g,m){var S0W;S0W=2;for(;S0W !== 5;){switch(S0W){case 2:g=this.Xm(g,m);return this.config.Nxa && g < this.config.jka;break;}}};return d;break;}}})(l.Fz);b.bNa=a;},47896:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sNa=void 0;c=a(5163);r=a(31192);r=(function(l){var x$4;x$4=2;function f(k){var b4Y,d;b4Y=2;for(;b4Y !== 3;){switch(b4Y){case 2:var k$9="1S";k$9+="IYbZrNJ";k$9+="Cp9";d=l.call(this,k) || this;d.wW=function(g){var Q1Y,m,C8L;Q1Y=2;for(;Q1Y !== 10;){switch(Q1Y){case 12:var D$D="av";D$D+="e";D$D+="ra";D$D+="g";D$D+="etp";Q1Y=C8L === D$D?8:11;break;case 13:return (m=Math.sqrt(g.Lm.IO || 0),{lower:g.mb.Ca + d.config.wxa * m,upper:g.mb.Ca + d.config.xxa * m});break;case 2:m={lower:g.mb.Ca,upper:void 0};Q1Y=1;break;case 3:m=Math.sqrt(g.Lm.Je || 0);Q1Y=9;break;case 7:m=Math.sqrt(g.Lm.IO || 0);Q1Y=6;break;case 1:var n2t="delive";n2t+="ry";n2t+="t";n2t+="ime";C8L=d.config.d4b;Q1Y=C8L === n2t?5:12;break;case 11:var h$V="e";h$V+="w";h$V+="m";h$V+="a";Q1Y=C8L === h$V?14:4;break;case 4:return m;break;case 8:Q1Y=!g.Lm || !g.Lm.hK?4:7;break;case 5:Q1Y=!g.Lm || !g.Lm.Ca?4:3;break;case 6:return {lower:g.Lm.hK + d.config.wxa * m,upper:g.Lm.hK + d.config.xxa * m};break;case 14:Q1Y=g.Lm && g.Lm.IO?13:4;break;case 9:return {lower:8 / (g.Lm.Ca + d.config.wxa * m),upper:8 / (g.Lm.Ca - d.config.xxa * m)};break;}}};k$9;return d;break;}}}for(;x$4 !== 5;){switch(x$4){case 2:c.__extends(f,l);return f;break;}}})(r.Fz);b.sNa=r;},58648:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kia=b.mua=b.uYa=void 0;c=a(53265);b.uYa=function(l,f,k){var d,g,m;d=0;if(k){l.some(function(h){var n;n=h.b;h=h.m;if(f <= n)return (d=m && n !== g?m + (h - m) / (n - g) * (f - g):h,!0);g=n;d=m=h;return !1;});}else l.some(function(h){d=h.m;return f <= h.b;});return d;};b.mua=function(l,f,k){var d;f=(null === (d=f.mb) || void 0 === d?void 0:d.Ca) || 0;return l.pTa?(l=(0,c.M4)(l.oTa,k.Il - k.Cd,1),f * (1 - l)):f * l.aY / 100;};b.kia=function(l,f){return l < 2 * f?l / 2:l - f;};},89221:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xCa=b.ACa=void 0;c=a(42186);l=a(45363);b.ACa=625E3;r=(function(){function f(k){this.config=k;}f.prototype.mja=function(k){var d,g,m,h,n;d=this.config.$ka;g=this.config.Ygc || this.config.Zka;m=0 < k.m1a.DB;h=m?g * b.ACa / 1E3:this.config.tV || Infinity;n=m?Math.floor(k.m1a.DB / h):d;return {el:k.W8b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var u;u=p.key.config;return {O3a:{DB:q > n - 1?0:h},Ad:p,w9:1,zi:u,Zcb:{audio:[(0,c.zK)(u),new l.hfa()],video:[(0,c.AK)(u),new l.hfa()]}};})};};return f;})();b.xCa=r;},31779:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TCa=void 0;c=a(5163);l=a(50954);f=a(35408);r=(function(){function k(){}k.prototype.s5a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m,h,n,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.Ad.key;if(!(0,f.NU)(g))return [3,2];m=g.J;h=d.Ad.Le.Tm(m);return [4,Promise.resolve(h.iq)];case 1:return (n=q.Ta(),p=n.W,p.vp?[2,(0,l.r3)(p.vp,{config:n.config})]:[2,(0,l.W$)(m,"ps0")]);case 2:return [2,g.ea];}});});};return k;})();b.TCa=r;},65288:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LLa=void 0;c=a(49730);l=a(44602);b.LLa=(function(){function f(){}f.F_b=function(k,d,g,m){k.events.once("seeking",function(h){var n,p;n=h.position;p=g.length;h.duplicate || (g.W9(function(q){return "segmentNormalized" !== q.Qq;}),c.K && m.log(("Discarding ").concat(p - g.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.h6)(d)) + (" due to seek to ").concat((0,l.h6)(n))));c.K && m.log(("Replaying ").concat(g.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.h6)(n)));g.rva();g.Oa();});};return f;})();},30570:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B;Object.defineProperties(b,{__esModule:{value:!0}});b.NLa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(27364);g=a(97810);m=a(19114);h=a(62558);n=a(89873);p=a(49730);q=a(42186);u=a(35303);t=c.__importDefault(a(35471));v=a(49789);w=a(31779);y=a(33201);x=a(89221);z=a(35408);A=a(65288);B=a(10670);r=(function(){function C(D,F,G,E,H){void 0 === E && (E=new y.UCa());void 0 === H && (H=new w.TCa());this.oYa=D;this.config=F;this.x$a=E;this.el=[];this.p9a=[];this.ww=[];this.Kf={S3a:0,T3a:0,P3a:0,dja:0,Q3a:0,R3a:0,eja:0};this.events=new l.EventEmitter();this.V=(0,g.Kh)(t.default,G,"PREFETCH");this.Sha(new x.xCa(F));this.Sha(new B.YMa(F));this.sbb({DB:F.JXb});this.Lwa(H);this.QNb();}Object.defineProperties(C.prototype,{KXb:{get:function(){return this.el.map(function(D){return D.context;});},enumerable:!1,configurable:!0}});C.prototype.Obb=function(D){p.K && (0,h.assert)(D,"Reconciliation strategy is undefined");this.x$a=D;return this;};C.prototype.Sha=function(D){this.p9a.unshift(D);return this;};C.prototype.Xbb=function(D){p.K && this.V.debug("Wish list changed",{xhc:D.length});this.ww=D;this.Bua();};C.prototype.reset=function(D){var F,H,M,L,K,O;void 0 === D && (D=this.config);if(D.SXb)try{for(var G=c.__values(this.el),E=G.next();!E.done;E=G.next()){H=E.value;M=H.ea;L=H.h7;K=H.context;if(M){M.Cf();L.W9(function(I){return "segmentNormalized" !== I.Qq;});O=(0,z.U5)(K.Ad,M.ea);M.EC(O);}}}catch(I){var J;J={error:I};}finally{try{E && !E.done && (F=G.return) && F.call(G);}finally{if(J)throw J.error;}}else this.Xbb([]);};C.prototype.sbb=function(D){p.K && this.V.debug("Budget changed",{JUb:this.jS,GTb:D});this.jS=D;this.Bua();};C.prototype.zxb=function(D,F){var G,E,H,M,L;p.K && this.V.debug("Looking for playgraph to claim");if(D=this.x$a.cZa(this.el,{ea:D,zi:F})){H=this.ww.indexOf(D.context.Ad);p.K && this.V.debug(("Claiming item: ").concat((0,z.Ym)(D.context.Ad.key)),{v2:t.default.time.xa() - D.Yxa,buffer:null === (G=D.ea) || void 0 === G?void 0:G.Yn(f.L.Ga)});this.OK(D.context,{nqa:!!D.ea});if(D.ea){G=D.ea;M=D.zN;L=G.vh;A.LLa.F_b(G,L,D.h7,this.V);M.T0b(null !== (E=G.yB(L)) && void 0 !== E?E:f.L.Ga,H);G.Xeb({DB:this.config.tV || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:D.context.Ad,videoBytesBuffered:D.ea.GF().AY,audioBytesBuffered:D.ea.GF().GR});}}F.rtb || this.reset(F);return null === D || void 0 === D?void 0:D.ea;};C.prototype.yxb=function(){};C.prototype.getStats=function(){var D;D=t.default.time.xa();return {wishListLength:this.ww.length,prefetchList:this.KXb.length,contents:this.el.map(function(F){var G,E,H,M,L;if(F.ea){L=(0,z.U5)(F.context.Ad,F.ea.ea);L=F.ea.yB(L);L=F.ea.Yn(null !== L && void 0 !== L?L:f.L.Ga);}return {id:(0,z.Ym)(F.context.Ad.key),buffer:L,pId:null === (G=F.ea) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:F.context.O3a.DB},weight:F.context.w9,age:D - F.Yxa,timeOpened:D - (null !== (E=F.I5b) && void 0 !== E?E:0),state:d.Rc[null !== (M=null === (H=F.ea) || void 0 === H?void 0:H.Pd.value) && void 0 !== M?M:d.Rc.ls]};}),aggregated:{itemsRequested:this.Kf.S3a,itemsStarted:this.Kf.T3a,itemsClaimed:this.Kf.P3a,bytesClaimed:this.Kf.dja,itemsCompleted:this.Kf.Q3a,itemsDiscarded:this.Kf.R3a,bytesDiscarded:this.Kf.eja}};};C.prototype.OK=function(D,F){var G;void 0 === F && (F={});c.__awaiter(this,void 0,void 0,function(){var E,H,M,L,K,O;return c.__generator(this,function(J){switch(J.label){case 0:E=c.__assign({nqa:!1,Y3a:!1},F);H=E.nqa;M=E.Y3a;L=(0,k.wc)(this.el,function(I){return I.context === D;});if(!L)return [3,3];this.el.splice(this.el.indexOf(L),1);M || (K=this.ww.length,this.ww=this.ww.filter(function(I){return I !== D.Ad;}),p.K && this.V.info("Dropping items from wishlist",K - this.ww.length),this.ww.length >= K && p.K && this.V.warn("Unable to filter out wishlist item",this.ww.map(function(I){return I.key;}),D.Ad.key));p.K && this.V.debug("Dropping playgraph",{v2:t.default.time.xa() - L.Yxa,buffer:null === (G=L.ea) || void 0 === G?void 0:G.Yn(f.L.Ga),J:(0,z.Ym)(D.Ad.key),Zhc:!H,pfc:!M});L.lB.clear();if(H)return [3,2];O=this.Zy(L);return L.ea?[4,O]:[3,2];case 1:(J.Ta(),J.label=2);case 2:(this.Bua(),J.label=3);case 3:return [2];}});});};C.prototype.Lwa=function(D){(0,h.assert)(D,"Playgraph resolver is undefined");this.hua=D;return this;};C.prototype.QNb=function(){var D;D=this;this.events.on("prefetchComplete",function(){return D.Kf.Q3a++;});this.events.on("prefetchStarted",function(){return D.Kf.T3a++;});this.events.on("itemQueued",function(){return D.Kf.S3a++;});this.events.on("itemClaimed",function(F){var G,E;D.Kf.P3a++;D.Kf.dja+=(null !== (G=F.r8b) && void 0 !== G?G:0) + (null !== (E=F.wub) && void 0 !== E?E:0);});this.events.on("itemDropped",function(F){var G,E;D.Kf.R3a++;D.Kf.eja+=(null !== (G=F.r8b) && void 0 !== G?G:0) + (null !== (E=F.wub) && void 0 !== E?E:0);});};C.prototype.Bua=function(){var D,F,G,E,H,M;D=this;F=m.iP.J6({W8b:this.ww,m1a:this.jS},this.p9a.map(function(L){return L.mja.bind(L);})).el;G=(0,k.Fq)(F,this.el,function(L,K){return (0,z.isEqual)(L.Ad.key,K.context.Ad.key);});E=(0,k.Fq)(this.el,F,function(L,K){return (0,z.isEqual)(L.context.Ad.key,K.Ad.key);});H=(0,k.Fq)(this.el,E);p.K && this.V.debug(("Re-evaluated prefetch items. new:").concat(G.length,", evict: ").concat(E.length,", update: ").concat(G.length));E=E.map(function(L){var K;K=L.context.Ad.key;p.K && D.V.debug("Releasing playgraph",(0,z.Ym)(K));return D.Zy(L).then(function(){D.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.Ad});});});M=H.map(function(L){return c.__awaiter(D,void 0,void 0,function(){var K,O;return c.__generator(this,function(J){switch(J.label){case 0:(K=(0,k.wc)(F,function(I){return (0,z.isEqual)(I.Ad.key,L.context.Ad.key);}),(0,h.assert)(K,"Couldn't find the requested item context"),L.context=K,J.label=1);case 1:return (J.Qj.push([1,3,,4]),[4,L.v9]);case 2:return (O=J.Ta(),[3,4]);case 3:return (J.Ta(),[2]);case 4:return ((0,k.wc)(this.el,function(I){return I === L;}) && (this.MSa(L.context,O),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.Ad})),[2]);}});});});G=G.map(function(L){var K;K=D.iBb(L);D.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.Ad});return K;});this.el=c.__spreadArray(c.__spreadArray([],c.__read(H),!1),c.__read(G),!1);H=G.map(function(L){return L.v9.catch(function(){});});H=E.concat(M).concat(H);Promise.all(H);};C.prototype.Zy=function(D){var F;F=this;return D.v9.then(function(G){return c.__awaiter(F,void 0,void 0,function(){var E;return c.__generator(this,function(H){switch(H.label){case 0:return (p.K && this.V.debug("Removing prefetch playgraph",{size:G.Yn(f.L.Ga)}),D.lB.clear(),[4,this.oYa()]);case 1:return (E=H.Ta(),E.Zy(G),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:D.context.Ad,videoBytesBuffered:G.GF().AY,audioBytesBuffered:G.GF().GR}),[2]);}});});},function(){});};C.prototype.P3=function(D){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,H,M,L,K;K=this;return c.__generator(this,function(O){switch(O.label){case 0:return (F=D.context,G=(0,z.Ym)(F.Ad.key),p.K && this.V.debug("Creating playgraph",G),[4,this.hua.s5a(F)]);case 1:return (E=O.Ta(),[4,F.Ad.Le.Tm(G).iq]);case 2:return (H=O.Ta(),H.W.Jm?(this.OK(F,{nqa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(G) + " is not supported with prefetching")]):[4,this.oYa()]);case 3:return (M=O.Ta(),L=M.PR(E,F.w9,F.zi,F.Ad.Le,!1),D.lB.addListener(L.events,"error",function(J){p.K && K.V.debug("Prefetch playgraph resulted in error",J.nfc);K.OK(F);}),[2,L]);}});});};C.prototype.DVb=function(D,F){return c.__awaiter(this,void 0,void 0,function(){var G,E,H,M;return c.__generator(this,function(L){switch(L.label){case 0:return (G=D.context,E=(0,z.Ym)(G.Ad.key),H=G.Ad.Le.Tm(E),[4,H.iq]);case 1:return (M=L.Ta(),this.MSa(G,F),this.Ptb(G,F,!!M.Dp),F.open(),F.hz({RN:function(K,O){var J;J=K.recommendedMedia;return J?(0,k.av)(O,function(I){return I.new_track_id === J.op;}):(0,k.av)(O,function(I){return I.track_id === K.defaultTrackOrderList[0].audioTrackId;});}},{RN:function(K,O){var J;J=K.recommendedMedia;return J?(0,k.av)(O,function(I){return I.new_track_id === J.JO;}):(0,k.av)(O,function(I){return I.track_id === K.defaultTrackOrderList[0].videoTrackId;});}}),F.EC((0,z.U5)(G.Ad,F.ea)),this.g_b(D,H),H.Sq && (p.K && this.V.warn("Viewable churn encountered during prefetcher (expired on initialization)",E),this.OK(D.context)),[2]);}});});};C.prototype.g_b=function(D,F){var E;function G(H){p.K && E.V.debug(("Viewable ").concat(H?"superseded":"expired"),(0,z.Ym)(D.context.Ad.key));D.Lgc=!0;E.OK(D.context,{Y3a:!H});}E=this;F.events && (D.lB.addListener(F.events,"viewableEvicted",function(){G(!0);}),D.lB.addListener(F.events,"viewableExpired",function(){G(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:D.context.Ad});};C.prototype.MSa=function(D,F){F.qfb(D.w9);F.Xeb(D.O3a);};C.prototype.Ptb=function(D,F,G){var E;E=D.Zcb;D=E.audio;E=E.video;G && E.push(new v.RP(this.V,F.config));F.Qwa(new q.Cu(D,!0),new q.Cu(E,!0));};C.prototype.iBb=function(D){var F,G,E;F=this;G=new n.MLa();E={context:D,Yxa:t.default.time.xa(),lB:new l.ye(),zN:G};E.v9=this.P3(E).then(function(H){return c.__awaiter(F,void 0,void 0,function(){var M,L;L=this;return c.__generator(this,function(K){switch(K.label){case 0:for(M=H;M.Wa;){M=M.Wa;}H.Be(G);G.qub(H);E.h7=new u.eEa(M.events,{$2b:function(O){var J;J=O.Qq;switch(J){case "buffering":return !1;case "bufferingStarted":E.h7.W9(function(I){return "bufferingComplete" === I.Qq || "updateStreamingPts" === I.Qq;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":E.h7.W9(function(I){return I.Qq === J;});default:return !0;}}});M.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:D.Ad});});return [4,this.DVb(E,H)];case 1:return (K.Ta(),E.I5b=t.default.time.xa(),E.ea=H,[2,H]);}});});});E.v9.catch(function(H){p.K && F.V.error("Exception occurred creating playgraph",H);F.OK(E.context);});return E;};return C;})();b.NLa=r;},33201:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UCa=void 0;c=a(5163);l=a(62558);f=a(35408);r=(function(){function k(){}k.Ym=function(d){var g,m;g=d.O;d=d.ve;m=g[d].J;Object.keys(g).forEach(function(h){return (0,l.assert)(g[h].J === m);});return g[d].J;};k.prototype.cZa=function(d,g){var m;m=Object.keys(g.ea.O).length;return c.__read(d.filter(function(h){var n,p;return k.Ym(g.ea) === (0,f.Ym)(h.context.Ad.key) && (1 === m || m === Object.keys(null !== (p=null === (n=h.ea) || void 0 === n?void 0:n.ea.O) && void 0 !== p?p:{}).length);}),1)[0];};return k;})();b.UCa=r;},10670:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YMa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.mja=function(c,l){var f,k;f=this;c=l(c);k=c.el.map(function(d){return d.Ad.priority;}).sort();c.el.forEach(function(d){d.w9=f.config.MXb / (2 << k.lastIndexOf(d.Ad.priority));});return c;};return a;})();b.YMa=r;},45363:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hfa=void 0;c=a(27364);r=(function(){function l(){}l.prototype.xj=function(f,k){return k === c.Rc.vl?[]:f;};return l;})();b.hfa=r;},35408:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.U5=b.Ym=b.isEqual=b.NU=void 0;c=a(42866);l=a(93514);b.NU=function(f){return !!f.J;};b.isEqual=function(f,k){var d,g;d=(0,b.NU)(f);g=(0,b.NU)(k);return d === g?d?f.J === k.J:f.ea === k.ea:!1;};b.Ym=function(f){if((0,b.NU)(f))return f.J;f=f.ea;return f.O[f.ve].J;};b.U5=function(f,k){var d;return f.b3?f.b3 instanceof c.L?(f=(0,l.xp)(k,(0,b.Ym)(f.key),f.b3),(null === f || void 0 === f?0:f.offset.greaterThan(c.L.Ga))?f:{offset:c.L.Ga,I:null !== (d=null === f || void 0 === f?void 0:f.I) && void 0 !== d?d:k.ve}):f.b3:{offset:c.L.Ga,I:k.ve};};},83386:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.W_=b.Qea=void 0;a=(function(){function l(){var f;f=this;this.oR=[];this.A_b=function(k){k=f.oR.indexOf(k);0 <= k && f.oR.splice(k,1);};}Object.defineProperties(l.prototype,{fia:{get:function(){return 0 !== this.oR.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{x7a:{get:function(){return this.oR.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var f;f=new c(this.A_b);this.oR.push(f);return f;};l.prototype.sgb=function(f){var k;k=this.add();try{Promise.resolve(f()).then(function(d){k.release();return d;},function(d){k.release();return Promise.reject(d);});}catch(d){k.release();Promise.reject(d);}};return l;})();b.Qea=a;c=(function(){function l(f){this.drb=f;}l.prototype.release=function(){this.drb(this);};return l;})();r=(function(){function l(f,k){this.qVb=f;this.console=k;this.counter=new a();}l.prototype.Gs=function(){var f,k;f=this;this.console.trace("Acquiring lease, total count",this.counter.x7a + 1);k=this.counter.add();return {release:function(){k.release();f.console.trace("Releasing lease, total count",f.counter.x7a);f.qVb(function(){return !f.counter.fia;});}};};return l;})();b.W_=r;},9551:function(r,b,a){var f;function c(k,d){this.Nqb=k.aN && k.aN.enabled;this.a2=void 0;this.aqb=d;this.gha=[];this.sha=[];this.Vga=[];k=k.UQa || [];d=k.map(function(g){return g.Uec;});d.unshift(0);this.Tqb=k;this.Uqb=d;this.Yga=[];this.dh=[];}function l(k,d){var u,t,v,w;for(var g=[],m=[],h=0;h < k.length;h++){for(var n=k[h],p=[],q=0;q < n.length;q++){u=n[q] - (m[q] || 0);t=d && d[q];v=p;w=v.push;1 <= t && (t=Math.pow(10,t || 0),u=Math.round(u * t) / t);w.call(v,u);}g.push(p);m=n;}return g;}f=a(95711).aM;c.prototype.reset=function(k){this.a2=void 0;this.gha=[];this.sha=[];this.Vga=[];this.Yga=[];k && (this.dh=[]);};c.prototype.add=function(k,d){var g,m,h,n;g=d.filter(function(p,q){return f(p) || q === k.Ug;});m=g.map(function(p){return p.bitrate;});d=d[k.Ug];g=g.indexOf(d);h=this.a2;if(h && (h.length !== m.length || h.some(function(p,q){return p !== m[q];}))){n=this.q_a();n && (this.dh.push(n),this.reset(!1));}void 0 === h && (this.a2=m);this.gha.push([g,k.Nr,k.il,k.JTa,k.Nvb,k.xW,k.wUb,k.vg,k.Zj,k.Ps,k.NC - k.Nr,k.lXb]);void 0 !== k.Ft && this.Vga.push([k.Nr,k.Ft.jz,k.Ft.Nx,k.Ft.Xy]);g=d && d.La;this.Nqb && void 0 !== g && (h=g.cy(k.Ps),-1 != h && (g=g.get(h),h=g.duration,d=g.Cb || d.Cb,void 0 !== d && this.sha.push({fb:g.fb,duration:h,Cb:d})));(d=k.GXb) && d.length && (d=d.slice(0),d.unshift(k.Nr),this.Yga.push(d));};c.prototype.q_a=function(){var k,d;k=l(this.gha);if(0 !== k.length){k={dltype:this.aqb,bitrates:this.a2,seltrace:k,vmaftrace:this.sha,paceratetrace:l(this.Vga)};d=l(this.Yga,this.Uqb);d && d.length && (k.predtrace={config:this.Tqb,data:d});return k;}};c.prototype.get=function(){var k,d;k=this.q_a();d=this.dh;k && d.push(k);if(0 !== d.length)return d;};r.exports=c;},23710:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Yza=void 0;c=a(50954);l=a(83981);f=a(13043);r=(function(){function k(d){this.context=d;this.fd="ad-playgraph";this.enabled=!0;}k.prototype.gi=function(d){var g,m,h,n,p,q,u;g=d.mi;d=d.XB;if(g === f.kc.Oj || g === f.kc.km || g === f.kc.ei || d === f.Ph.Tt || void 0 === g && void 0 === d){d=this.context;g=d.Kc;m=d.Wa;d=m.Y;h=d.Nd?d.zg:m.dr?m.vh:void 0;n=g.Hs;p=void 0;q="content";d=void 0;if(h){m=m.ea.O[h.I];u=m.cc;u && (g=g.ea.O[u],g.J != m.J && (p=m.J,q=m.type,d=this.$Hb(h.I,g.J)));}g={adPlaygraph:n?c.Cea.decode(n):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!n};void 0 !== d && (g.adBreakLocationMs=d);return g;}};k.prototype.$Hb=function(d,g){var m,h,n,p;if(d=(0,l.FF)(d))p=null === (n=null === (h=null === (m=this.context.Kc.Uc) || void 0 === m?void 0:m.Ue.ae[g]) || void 0 === h?void 0:h[d.pj]) || void 0 === n?void 0:n.eu;return p;};return k;})();b.Yza=r;},42842:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.CAa=void 0;r=a(5163);c=a(57055);l=a(42866);f=a(42866);k=r.__importDefault(a(89956));d=r.__importDefault(a(9551));g=a(13043);m=a(88985);a=(function(){function h(n){var p,q;p=this;this.ea=n;this.Qq="aseReport";this.mS=l.L.Jp;this.events=new c.EventEmitter();this.Wja=m.F0.wCa;this.Tga=!1;this.lRa=0;if(0 === Math.floor(1E6 * Math.random()) % n.config.YR || n.config.zfc){this.mS=l.L.Ma(n.config.tia);this.eSb=n.config.Ytb;this.ea.H2=!0;q=[];q[k.default.qm.X]=new d.default(n.config,k.default.qm.X);q[k.default.qm.fa]=new d.default(n.config,k.default.qm.fa);q[k.default.qm.Ha]=new d.default(n.config,k.default.qm.Ha);this.kha=q;this.ea.events.on("openComplete",function(){return p.open();});}}h.prototype.open=function(){this.ea.H2 && !this.Tga && (this.Tga=!0,this.ea.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ea.events.on("requestIssued",this.hta.bind(this)));};h.prototype.hta=function(n){n.result && n.streamList && (this.kha[n.mediaType].add(n.result,n.streamList),++this.lRa >= this.eSb && this.events.emit("collectionRequested"));};h.prototype.tLb=function(){var n;n=(0,f.flatten)(this.kha.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.kha.forEach(function(p){return p.reset(!0);});this.lRa=0;return n;};h.prototype.xf=function(n){var p,q;p=n.mi;q=n.ayb;n=n.e3a || q || p === g.kc.ei;return this.ea.H2 && this.Tga && n && (n=this.tLb()) && n.length?{P$:!0,event:{type:"asereport",strmsel:n}}:{P$:!1};};return h;})();b.CAa=a;},69287:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.SBa=void 0;c=a(59322);l=a(49730);f=a(13043);r=(function(){function k(d,g){this.H3b=d;this.kn=g;}Object.defineProperties(k.prototype,{po:{get:function(){return ("cache-").concat(this.H3b);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fd:{get:function(){return this.po;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,m,h;g=d.mi;d=d.XB;if(g === f.kc.Oj || g === f.kc.km || g === f.kc.ei || void 0 === g && void 0 === d){m=(0,c.d_a)(this.kn);g=Object.keys(m).filter(function(n){return m[n].isEnabled;});if(g.length){h={};g.forEach(function(n){h[n]={hit:m[n].fja,idx:m[n].PTa};});return {hec:h};}}};return k;})();b.SBa=r;},53412:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ba=void 0;c=a(42866);l=a(27364);f=a(13043);r=(function(){function k(d,g){this.mg=d;this.config=g;this.fd="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.Twb;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g;g=this;if(d.mi === f.kc.ei)return {cdndldist:JSON.stringify((0,c.OSa)(Object.keys(this.mg).map(function(m){var h;h=g.mg[m];return Object.keys(h).map(function(n){var p;p=h[n];return {cdnid:p.Hm,pbcid:p.Sp,dls:Object.keys(p.qF).map(function(q){var u,t;q=p.qF[q];t=q.mediaType === l.u.fa?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Ub,u.vf=q.Cb,u);})};});})))};};return k;})();b.$Ba=r;},53405:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tCa=void 0;c=a(13043);r=(function(){function l(f){this.Jm=f;this.fd="content-playgraph";this.enabled=!0;}l.prototype.gi=function(f){var k,d;k=f.mi;f=f.XB;if(k === c.kc.Oj || k === c.kc.km || k === c.kc.ei || void 0 === k && void 0 === f){f=this.Jm.Wa;d=f.Y;k=void 0;(d.Nd?d.zg:f.dr && f.vh) && this.Jm.Jm && (d=d.zg,f=this.Jm.Bg.Pr(d),d=this.Jm.Wa.ea.O[d.I].J,this.Jm.ea.O[f.I].J != d && (k=d));return {contentPlaygraph:this.Jm.Jm,auxMid:k};}};return l;})();b.tCa=r;},33285:function(r,b,a){var l,f,k,d;function c(g,m,h){var n,p,t;m=l.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{A7a:m,lp:h}));if((null === g || void 0 === g?0:g.lp) && h)if(!0 === g.lp)m.args=h;else {p={};m.args=p;try{for(var q=l.__values(g.lp),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=h[t];}}catch(w){var v;v={error:w};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(v)throw v.error;}}}return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Du=b.Boa=b.Tb=void 0;l=a(5163);f=a(42866);k=a(49730);d=l.__importDefault(a(35471));b.Tb=function(g){return function(m,h,n){var p;p=n.value;n.value=function(){var q,u,t,v,w,y;u=(0,b.Boa)(this);if(u)(t=c(g,this,arguments),v=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(h),w=u.fSa(v,t,null === g || void 0 === g?void 0:g.ak,null === g || void 0 === g?void 0:g.fgc));q=null === u || void 0 === u?void 0:u.Gka;u && (u.Gka=w);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,f.cqa)(y) && (y=y.then(function(z){w && (null === g || void 0 === g?0:g.return) && (w.data.resolve=z);return z;},function(z){w && (w.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{u && (u.Gka=q);w && (w.data || (w.data={}),x?(w.data.error=("").concat(x),null === u || void 0 === u?void 0:u.tyb(w)):(null === g || void 0 === g?0:g.return) && !(0,f.cqa)(y) && (w.data.lRet=y));}};};};b.Boa=function(g){if(null === g || void 0 === g?0:g.Cfa)return g.Cfa;};r=(function(){function g(m){this.Lp=[];this.D1=!1;this.sga={};this.Z=l.__assign({ko:10},m);Object.defineProperties(m.kn,{Cfa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.Z.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.D1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{DPb:{get:function(){return l.__spreadArray([],l.__read(this.Lp),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{TMb:{get:function(){return this.sga;},enumerable:!1,configurable:!0}});g.prototype.Is=function(m){var h,n;if(!this.D1){n=null === (h=(0,b.Boa)(this.Z.kn)) || void 0 === h?void 0:h.Gka;n && (n.data=l.__assign(l.__assign({},n.data),m));}};g.prototype.fSa=function(m,h,n,p){var q,u,t,v;if(!this.D1){t=!1;v=null === (u=(q=this.Z).jSa) || void 0 === u?void 0:u.call(q,this.Z.kn);q=c({},this.Z.kn);h=l.__assign(l.__assign(l.__assign({},v),q),h);v=0 < Object.keys(h).length;h={methodName:m,data:v?h:void 0,time:d.default.time.xa()};p && this.sga[m]++;n && this.Lp.length && (n=this.Lp[this.Lp.length - 1],n.methodName === m && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=h,t=!0));this.uyb(h);t || this.Lp.push(h);this.Lp.length > this.Z.ko && this.Lp.shift();return h;}};g.prototype.uyb=function(m){var h;k.K && (null === (h=this.Z.console) || void 0 === h?void 0:h.trace(("").concat(this.Z.source,"::").concat(m.methodName),m.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.Z,m);};g.prototype.tyb=function(m){var h;k.K && (null === (h=this.Z.console) || void 0 === h?void 0:h.error(("").concat(this.Z.source,"::").concat(m.methodName),m.data));};g.prototype.Oa=function(){Object.defineProperties(this.Z.kn,{Cfa:{enumerable:!1,value:null,configurable:!0}});this.D1=!0;this.clear();};g.prototype.clear=function(){this.Lp=[];this.sga={};};return g;})();b.Du=r;},83275:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.UDa=void 0;c=a(13043);r=(function(){function l(f){this.Jc=f;}Object.defineProperties(l.prototype,{fd:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.gi=function(f){var k;if(f.mi === c.kc.ei && this.Jc){f={};k=this.Jc.get();k && k.avtp && k.avtp.Ca && (f.avtp=k.avtp.Ca,f.dltm=k.avtp.mXa);k && k.initialThroughput && k.initialThroughput.Ca && (f.initial_avtp=k.initialThroughput.Ca);k && k.cdnavtp && (f.cdnavtp=k.cdnavtp,f.activecdnavtp=k.activecdnavtp);if(k=this.Jc.Yna())(k.bytesRequestedPacingVideo && (f.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,f.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,f.bytestotalVideo=k.bytestotalVideo,f.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (f.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,f.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,f.bytestotalAudio=k.bytestotalAudio,f.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (f.pacedAvtp=k.pacedAvtp));this.Jc.flush();if(k=this.Jc.hJb())for(var d in k){k.hasOwnProperty(d) && (f["ne" + d]=Number(k[d]).toFixed(6));}return f;}};return l;})();b.UDa=r;},64048:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=void 0;c=a(13043);r=(function(){function l(f){this.I4=f;this.po="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{fd:{get:function(){return this.po;},enumerable:!1,configurable:!0}});l.prototype.gi=function(f){var k;k=f.mi;f=f.XB;if(k === c.kc.Oj || k === c.kc.km || k === c.kc.ei || void 0 === k && void 0 === f)return (k=this.I4.oXb.map(function(d){var g;g=d.ea;return {id:g.id,weight:g.weight,relativeWeight:d.LW};}),{prefetcher:this.I4.Wv.getStats(),playgraphs:k,viewables:this.I4.B8b,players:this.I4.mXb.length});};return l;})();b.XDa=r;},10711:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.RGa=void 0;c=a(57055);l=a(42866);f=a(27364);k=a(88985);d=a(13043);r=(function(){function g(m){this.ea=m;this.Qq="liveReport";this.mS=l.L.Jp;this.events=new c.EventEmitter();this.Wja=k.F0.oNa;this.PQ=!1;this.trace=[];this.leb=1;0 < m.config.K4a && 0 < m.config.Jqa && (this.mS=l.L.Ma(m.config.Jqa),this.leb=Math.max(Math.floor(m.config.K4a / m.config.Jqa),1),this.PQ=!0);}g.prototype.Zxb=function(){var m,h,n,p;h=this.ea.Y;if(h.Nd){n=h.Sy;p=n.na;if(p.ba){if(n=null === (m=n.Md(f.u.X)) || void 0 === m?void 0:m.fo)(m=n.Vm(),p=p.Xt,h=m.Hia + h.Jd.G,m=this.ea.GF(),this.trace.push([p,h,m.totalabuflmsecs,m.totalvbuflmsecs]));}else this.PQ=!1;}};g.prototype.xf=function(m){var h;h=m.e3a;m=m.mi;this.PQ && (h || m === d.kc.Oj) && this.Zxb();return this.trace.length === this.leb || 0 < this.trace.length && m === d.kc.ei?(h=this.trace,this.trace=[],{P$:!0,event:{type:"livereport",samplinginterval:this.mS.G,trace:h}}):{P$:!1};};return g;})();b.RGa=r;},99384:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.SGa=void 0;c=a(60328);l=a(83241);f=a(13043);r=(function(){function k(d){this.ya=d;this.enabled=!0;}Object.defineProperties(k.prototype,{fd:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,m,h,n,p,q,u,t;d=d.XB;if(d === f.Ph.Lr || d === f.Ph.CU || d === f.Ph.Yx || d === f.Ph.Tt || d === f.Ph.GX || d === f.Ph.Hx || d === f.Ph.PW){q=this.ya.Y;if(q.Nd){u=q.Sy;t=u.na;u=null === (g=u.Md(c.u.X)) || void 0 === g?void 0:g.fo;if(t.ba && u){g=u.Vm();t={encodingpipelinetime:t.Xt,devicepts:g.Hia + q.Jd.G};(u=null === (m=q.Xv.get(c.u.X)) || void 0 === m?void 0:m.Cma(l.R0)) && (t.vbitrate=null === (h=u.H0a()) || void 0 === h?void 0:h.stream.bitrate);(m=null === (n=q.Xv.get(c.u.fa)) || void 0 === n?void 0:n.Cma(l.R0)) && (t.abitrate=null === (p=m.H0a()) || void 0 === p?void 0:p.stream.bitrate);d === f.Ph.Lr && (t.presentationtimeoffset=g.Mt.G);if(d === f.Ph.Lr || d === f.Ph.Tt)t.targetbufferduration=this.ya.config.wG;return t;}}}};return k;})();b.SGa=r;},88985:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pHa=b.F0=void 0;c=a(57055);l=a(13043);(function(k){k[k.wCa=1]="Creation";k[k.oNa=2]="StartPlayback";})(f=b.F0 || (b.F0={}));r=(function(){function k(d,g,m){this.pc=d;this.V=g;this.events=m;this.pH=[];this.Vk=new c.ye();}k.prototype.Be=function(d){var g;g={zN:d,jja:void 0};this.pH.push(g);d.Wja === f.wCa && this.Qab(g);this.Vk.on(d.events,"collectionRequested",this.WUb.bind(this,g));};k.prototype.Oa=function(){this.Vk.clear();};k.prototype.eQb=function(d){var g,m;g=this;m={mi:d};this.pH.forEach(function(h){g.tya(h.zN,m);d === l.kc.Oj && h.zN.Wja === f.oNa && g.Qab(h);});};k.prototype.WUb=function(d){var g;this.tya(d.zN,{ayb:!0});null === (g=d.jja) || void 0 === g?void 0:g.lf();};k.prototype.Qab=function(d){var g,m,h,n;g=this;h=d.zN;n=this.pc.RVa(function(){g.tya(h,{e3a:!0});},h.mS,h.Qq);null === (m=d.jja) || void 0 === m?void 0:m.Oa();d.jja=n;};k.prototype.tya=function(d,g){var m;try{m=d.xf(g);m.P$ && this.events.emit(d.Qq,m.event);}catch(h){this.V.error(("Error generating event for ").concat(d.Qq),h);}};return k;})();b.pHa=r;},34848:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DKa=void 0;c=a(27364);l=a(13043);r=(function(){function f(k){this.Md=k;}Object.defineProperties(f.prototype,{fd:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.gi=function(k){var d,g,m;k=k.mi;if(k === l.kc.km || k === l.kc.ei){k={};d=this.Md(c.u.X);g=this.Md(c.u.fa);m=this.Md(c.u.Ha);d && (k.videoPipelineSummary=this.Jxa(d));g && (k.audioPipelineSummary=this.Jxa(g));m && (k.textPipelineSummary=this.Jxa(m));return k;}};f.prototype.Jxa=function(k){var d,g,m,h,n;n=k.He.La;n={actualStartPlayerTimestamp:null === (d=n.Ab) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:n.w8a,completePlayerTimestamp:null === (g=k.Mk) || void 0 === g?void 0:g.G,segmentId:k.I,contentStartMs:null === (m=k.Ja) || void 0 === m?void 0:m.G,contentEndMs:null === (h=k.Va) || void 0 === h?void 0:h.G,streamingPlayerMs:k.LC.G,isStreamable:k.gr(),isNormalized:k.Pg(),isDoneStreaming:k.cn(),trackNeedsHeaderRequest:k.track.IV,completedRequests:n.iVa,activeRequests:k.He.Zj,unsentRequests:k.He.UC,bytes:{current:n.wa,received:n.zZb,partial:n.xr,completed:n.D3,unsent:n.O6b}};k.J4a && (n.liveMissingFragments=k.J4a);return n;};return f;})();b.DKa=r;},48154:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.oLa=void 0;c=a(5163);l=a(49730);f=a(97810);k=a(13043);d=a(66709);r=(function(){function g(m,h){var n;n=this;this.gua=m;this.ya=h;this.a9a=new f.Uh();h.events.on("branchesReevaluated",function(){n.a9a.push(m.size);});}Object.defineProperties(g.prototype,{fd:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{po:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});g.prototype.gi=function(m){var h;m=m.mi;if(m === k.kc.km || m === k.kc.ei){h={branchCountStats:this.a9a.toJSON(),decisions:this.ya.og.toJSON(),player:this.ya.Y.Hp?this.ya.Y.Ya.map(function(n){return n.v.id;}):[]};this.gua.forEach(function(n,p){var q,u;u=(0,d.nna)(n);h[p]=c.__assign({probabilities:n.jf.map(function(t){return {duration:t.duration,immediate:t.CB,seamless:t.mf};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.v.id,normalized:n.Pg,hasViewable:n.Zm,headerRequested:n.Zm && n.na.N1a},u);});return h;}};return g;})();b.oLa=r;},89873:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;c=a(5163).__importDefault(a(35471));l=a(13043);r=(function(){function f(){this.creationTime=c.default.time.xa();this.Fc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}f.prototype.qub=function(k){this.ea=k;};f.prototype.T0b=function(k,d){var g;k=null === (g=this.ea) || void 0 === g?void 0:g.Yn(k);this.Fc={isPrefetchItem:!0,prefetchedVideoMs:k.wO,prefetchedAudioMs:k.vO,prefetchClaimDurationMs:c.default.time.xa() - this.creationTime,prefetchRank:d};};Object.defineProperties(f.prototype,{fd:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.gi=function(k){if(k.mi === l.kc.Oj)return this.Fc;};return f;})();b.MLa=r;},13043:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Rea=b.Ph=b.kc=void 0;c=a(5163);l=a(42866);f=a(18998);(function(k){k[k.Oj=0]="startPlayback";k[k.ei=1]="endPlayback";k[k.km=2]="underflow";})(b.kc || (b.kc={}));b.Ph={Lr:"startplay",Hy:"midplay",Yx:"endplay",CU:"intrplay",Hx:"chgstrm",dN:"playbackaborted",PW:"renderstrmswitch",AC:"repos",Tt:"resumeplay",GX:"statechanged",IE:"aseReport"};r=(function(){function k(d){this.config=d;this.pH=[];}k.prototype.Be=function(d){var g,m;m=c.__read(this.config.Wtb.filter(function(h){return h.fd === d.fd;}),1)[0];this.config.jEb && (null !== (g=null === m || void 0 === m?void 0:m.enabled) && void 0 !== g?g:d.enabled)?this.pH.push(d):d.Oa && d.Oa();};k.prototype.WKb=function(d){return (0,l.wc)(this.pH,function(g){return g.fd === d.fd;});};k.prototype.gi=function(d,g){var m,h,n,u,t;h={};n=[];try{for(var p=c.__values(this.pH),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.gi({mi:d,XB:g});t && (u.po?h[u.po]=t:h=c.__assign(c.__assign({},h),t));}catch(w){n.push(Error(("").concat(u.fd,"::").concat(w)));}}}catch(w){var v;v={error:w};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(v)throw v.error;}}n.length && (h["rpt-error"]=f.yba.stringify(new f.yba("Reporting error",n)));return h;};return k;})();b.Rea=r;},66709:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$Za=b.w0a=b.nna=b.qMa=void 0;c=a(5163);l=a(49730);f=a(13043);r=(function(){function k(d){this.tb=d;}Object.defineProperties(k.prototype,{fd:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{po:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,m,p;d=d.mi;if(d === f.kc.ei || d === f.kc.km)if(d=this.tb.hna()){m={};try{for(var h=c.__values(d.cXb),n=h.next();!n.done;n=h.next()){p=n.value;m[p.mediaType]=this.FRb(p);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (g=h.return) && g.call(h);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.$Za)(d.jZb),playerIterator:m,driftStats:this.tb.kza};}};k.prototype.FRb=function(d){return null === d || void 0 === d?void 0:d.V_a();};return k;})();b.qMa=r;b.nna=function(k){var d,g;if(k){d=k.v;g={};k.Xq().forEach(function(m){g[m.mediaType]=(0,b.w0a)(m);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:k.Qd,RM:g};}return k;};b.w0a=function(k){var d,g,m;if(k && k.He)return c.__assign(c.__assign({},k.He.J0a()),{unsentRequests:k.He.UC,lastFragmentContentEndPts:null === (d=k.ef) || void 0 === d?void 0:d.Va.G,trackAttributes:null === (g=k.track) || void 0 === g?void 0:g.Wm(),bitrate:null === (m=k.ef) || void 0 === m?void 0:m.bitrate});};b.$Za=function(k){return k.map(function(d){return (0,b.nna)(d);});};},46059:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vMa=void 0;c=a(13043);r=(function(){function l(f,k){this.Jc=f;this.gab=k;}Object.defineProperties(l.prototype,{fd:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.gi=function(f){var k;k=f.mi;f=f.XB;if(k === c.kc.ei || k === c.kc.km || void 0 === k && void 0 === f)return (k={numOutstandingRequests:this.gab.pUb,requestOpportunityDelayStats:this.gab.fab},(f=this.Jc.hsb) && f.length && (k.activeRequests=JSON.stringify(f)),k);};return l;})();b.vMa=r;},39886:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.afa=void 0;c=a(13043);r=(function(){function l(){this.po=this.fd=l.fd;this.enabled=!0;this.dX=[];this.xab=0;}l.prototype.Ssb=function(f){this.dX.push(f);5 < this.dX.length && this.dX.shift();};l.prototype.Tsb=function(){this.xab++;};l.prototype.gi=function(f){var k;k=f.mi;f=f.XB;if((k === c.kc.Oj || k === c.kc.km || k === c.kc.ei || void 0 === k && void 0 === f) && this.dX.length)return {restarts:this.dX.map(function(d){return {s:d.I3b,d:d.aDb,r:d.p$a,atMs:d.kXb.G};}),restartsCompleted:this.xab};};l.fd="seamlessManager";return l;})();b.afa=r;},41471:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pNa=void 0;c=a(57055);l=a(27364);f=a(13043);r=(function(){function k(d){this.sPa=!1;this.lB=new c.ye();this.lB.addListener(d.events,"streamSelection",this.hta.bind(this));}k.prototype.hta=function(d){this.sPa || (d.mediaType === l.u.fa && void 0 === this.Apa?this.Apa=d:d.mediaType === l.u.X && void 0 === this.Cpa && (this.Cpa=d));};k.prototype.Oa=function(){this.Cpa=this.Apa=void 0;this.lB.clear();this.sPa=!0;};Object.defineProperties(k.prototype,{fd:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,m,h,n,p,q;if(d.mi === f.kc.Oj)return (d=null !== (g=this.Cpa) && void 0 !== g?g:this.Apa,g=null === d || void 0 === d?void 0:d.result,g={histbw:null === (h=null === (m=null === g || void 0 === g?void 0:g.Lb) || void 0 === m?void 0:m.mb) || void 0 === h?void 0:h.Ca,histinitbw:null === (p=null === (n=null === g || void 0 === g?void 0:g.Lb) || void 0 === n?void 0:n.pt) || void 0 === p?void 0:p.Ca,histdiscbw:null === g || void 0 === g?void 0:g.ky,histage:null === (q=null === g || void 0 === g?void 0:g.Lb) || void 0 === q?void 0:q.v2},m=null === d || void 0 === d?void 0:d.streamList.map(function(u){return void 0 !== u.L4?{vmaf:u.L4,streamIndex:u.Zt,streamId:u.Qb}:void 0;}).filter(function(u){return void 0 !== u;}),0 < (null === m || void 0 === m?void 0:m.length) && (g.vmafEstimates=m),this.Oa(),g);this.Oa();};return k;})();b.pNa=r;},35556:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.INa=void 0;r=a(5163);c=a(57055);l=a(49730);f=r.__importDefault(a(35471));k=a(13043);a=(function(){function d(g){this.pc=g;this.aA=[];this.reset();}Object.defineProperties(d.prototype,{fd:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{po:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g,m;g=this;null === (m=this.jx) || void 0 === m?void 0:m.clear();this.jx=new c.ye();this.jx.on(this.pc,"clockChanged",function(){g.reset();g.AT("initial");});this.jx.on(this.pc,"stopping",function(){g.AT("stopping");});this.jx.on(this.pc.sa,"clockAdjusted",function(){g.AT("clockAdjusted");});this.jx.on(this.pc.sa,"stopStart",function(){g.AT("stopStart");});this.jx.on(this.pc.sa,"speedChanged",function(){g.AT("speedChanged");});};d.prototype.AT=function(g){this.aA.push({reason:g,audit:this.pc.Ol(),time:f.default.time.xa()});5 < this.aA.length && this.aA.shift();};d.prototype.gi=function(g){var m;m=g.mi;g=g.XB;if(m === k.kc.Oj || m === k.kc.km || m === k.kc.ei || void 0 === m && void 0 === g)return this.aA;};return d;})();b.INa=a;},92589:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JNa=void 0;c=a(49730);l=a(18653);f=a(13043);r=(function(){function k(d){var m;function g(){var h;if(d.JN){h=d.JN.qEb();m.aA.add(h.Ol());}}m=this;this.pc=d;this.aA=new Set();d.on("clockChanged",g);d.on("rootSchedulerReleasing",function(h){h.JN.Taa && m.aA.add(h.JN.Taa.Ol());});g();}Object.defineProperties(k.prototype,{fd:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{po:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return c.K;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,m,h;if(d.mi === f.kc.ei){null === (m=null === (g=this.pc) || void 0 === g?void 0:g.JN.Taa) || void 0 === m?void 0:m.Ol();this.aA.forEach(function(n){h=h?l.wfa.reduce(h,n):n;});return h;}};return k;})();b.JNa=r;},48641:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cx=void 0;c=a(5163);l=a(49730);f=a(97810);k=a(13043);r=(function(){function d(g,m){this.Xg=g;this.options=c.__assign({Gxb:!0},m);}Object.defineProperties(d.prototype,{po:{get:function(){return ("trace-").concat(this.Xg.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fd:{get:function(){return this.po;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.gi=function(g){var m,h;m=g.mi;if(m === k.kc.ei || m === k.kc.km){g=(0,f.KWa)(this.Xg.DPb);h=this.Xg.TMb;m === k.kc.ei && this.options.Gxb && this.Xg.clear();m=g;Object.keys(h).length && (m=c.__spreadArray(c.__spreadArray([],c.__read(g),!1),[h],!1));return m;}};d.prototype.Oa=function(){var g;null === (g=this.Xg) || void 0 === g?void 0:g.Oa();};return d;})();b.cx=r;},88181:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.rMa=void 0;c=a(5163);l=c.__importStar(a(17267));f=a(42866);k=a(36418);d=a(29930);g=a(2746);r=a(57196);m=a(27364);h=a(62558);n=a(89755);p=a(7881);q=a(58628);u=a(54790);t=a(38509);v=a(30923);a=(function(w){function y(x,z,A,B,C,D,F,G){var E;E=w.call(this,x) || this;E.Z=z;E.V=A;E.Yo=B;E.ns=C;E.Ae=D;E.Wna=G;E.me=new n.aD(E.V);E.eA=E.V.error.bind(E.V);E.Fs=E.V.warn.bind(E.V);E.vx=E.V.trace.bind(E.V);E.WQa();E.cp=null === F || void 0 === F?void 0:F.Rx(function(){return E.U_b();},"pruner");return E;}c.__extends(y,w);Object.defineProperties(y.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nb:{get:function(){return this.ns;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kw:{get:function(){return 0 < this.wva;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rxa:{get:function(){return !this.TQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wva:{get:function(){return this.mc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{UC:{get:function(){return this.mc.UC;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bK:{get:function(){return this.me.ry;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Mk:{get:function(){return this.mc.complete.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yS:{get:function(){return this.mc.gVa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{aka:{get:function(){return this.mc.hyb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{LC:{get:function(){return this.mc.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{b$:{get:function(){return void 0 === this.mc.Ab?0:this.mc.Pb.G - this.mc.Ab.G;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{C3:{get:function(){return {wa:this.mc.D3,G:this.mc.empty?0:Math.max(this.mc.gVa - this.mc.Ab.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{D3:{get:function(){return this.mc.D3;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{CA:{get:function(){return this.mc.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wWb:{get:function(){return this.upb();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Poa:{get:function(){return this.mc.length > this.mc.UC;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Zj:{get:function(){return this.mc.Zj;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{e4a:{get:function(){return this.UPa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{La:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});y.prototype.Cf=function(x){var A,B;function z(){return B.forEach(function(C){C.abort();C.We();});}B=this.mc;x?setTimeout(z,1):z();this.WQa();this.me.uF();null === (A=this.cp) || void 0 === A?void 0:A.Oa();};y.prototype.reset=function(){this.Cf();this.me.qab();};y.prototype.close=function(){this.me.uF();};y.prototype.qbb=function(){this.ePa=!0;};y.prototype.J0a=function(){return {endMarked:void 0 !== this.me.count,queueCount:this.me.count,isComplete:this.me.ry,itemCount:this.me.hVa,continuousEndPts:this.me.wk().reduce(function(x,z){return z && !z.done && (z=z.value,100 > Math.abs(z.oL.G - x) || -1 === x)?z.$ma.G:x;},-1),sentinelItemCount:this.me.wk().filter(function(x){return x && x.done;}).length,processedCount:this.me.RCb,rc:this.wva};};y.prototype.bWa=function(x,z,A){var B,C;B=this.Z;(0,h.assert)(!x.header);A.ba && A.mediaType === m.u.Ha && (C=new u.Dba(A,this.ns.lz.track,x,this.mc,this.nb.v,B,this.V));C || (C=d.Bba.create(A,B,z.track,x,this.mc,this.nb.v,this.V,this.Wna));this.$u(C);return C;};y.prototype.$u=function(x){var z,A;this.mc.qt(x);(null === (z=this.cp) || void 0 === z?void 0:z.state) === p.Fk.complete && (null === (A=this.cp) || void 0 === A?void 0:A.lf());this.Eob();x.Sk && (this.TQ=!1);};y.prototype.uB=function(){return this.me.ina();};y.prototype.pUa=function(){this.Pu === this.mc.length && this.ePa && this.me.uF();};y.prototype.uya=function(){var x,z,A;x=this;Promise.resolve();if(this.ns.L6(this.Ae) && this.Pu !== this.mc.length){for(var B=this.Z.aSb,C=0,D=[];this.Pu < this.mc.length;){if(A=this.mc.get(this.Pu)){if(A.Jy){if(this.Z.cT)D.push.apply(D,this.RYb(A));else break;}else {if(this.mc.pZa && this.mc.pZa.qb < A.qb)break;if(!A.Z2a())break;D.push(A);}++C;l.yb(this.dua) || (this.dua=null === (z=A.Ab) || void 0 === z?void 0:z.G);}++this.Pu;if(!l.oh(B) && C >= B)break;}D.length && (void 0 !== this.me.count && (this.eA("tryToAtach() but requestQueue has sentinel:",this.me.count),this.me.qab()),Promise.all(D.map(function(F){return x.me.enqueue(F).then(function(){return x.aMb(F);});})),this.pUa());}};y.prototype.aMb=function(x){this.UPa=x;};y.prototype.ER=function(x){var z,A,B;z=this;A=[];if(0 !== this.mc.UC){B=this.mc.w8a;this.mc.N6b.lxa(function(C){var D;if(C.Sk || B > (null === (D=C.Ab) || void 0 === D?void 0:D.G))return !0;C.sv && (z.TQ=!1);if(!z.Dfa(C))return (z.Fs("request abort failed:",C.toString()),!0);A.unshift(C);});this.KQa();A.length && "function" === typeof x && x(A);}};y.prototype.T_b=function(x){x.Jy=!0;x.abort();this.mc.CVb();this.uya();};y.prototype.U_b=function(){var x,z,A,B,C,D;return c.__generator(this,function(F){switch(F.label){case 0:F.label=1;case 1:if(!this.mc.length)return [3,3];x=this.mc.get(0);z=f.L.Ma(null !== (D=null === (C=this.Z.WN) || void 0 === C?void 0:C.G) && void 0 !== D?D:0);A=z.add(x.Pb);return [4,p.Jg.iu(A)];case 2:F.Ta();if(1 >= this.mc.complete.length && !x.Sk)return [3,3];(0,h.assert)(x === this.mc.get(0));x.WR || this.Dfa(x);B=this.mc.splice(0,1);0 < this.Pu && this.Pu--;this.Yo.Dsa(B);B=void 0;return [3,1];case 3:return [2];}});};y.prototype.IGb=function(x){if(this.mc.length && (x=this.mc.YYa(x)))return x;};y.prototype.Xrb=function(x){var z,A,B,C,D,F,G;F=x.Va;x=this.mc.xma(x.Ja.G);G=this.mc.get(x);(0,h.assert)(G && void 0 !== (null === (z=G.Ja) || void 0 === z?void 0:z.G) && void 0 !== (null === (A=G.Va) || void 0 === A?void 0:A.G) && void 0 !== G.index,"expected existing request to be defined with properties");if(null === (B=G.Va) || void 0 === B?0:B.equal(F))return (this.ARa(x),[null === (C=G.Va) || void 0 === C?void 0:C.G,G.index + 1]);this.ARa(x - 1);return [null === (D=G.Ja) || void 0 === D?void 0:D.G,G.index];};y.prototype.vn=function(x){var z,A;z=this;A=[];this.mc.forEach(function(B){var C;C=B.Oya(x);1 === C?A.push(B):2 === C && z.nb.na.kf("swapUrl failure");});return A;};y.prototype.TM=function(x){x.tt && x.Z2a() && this.uya();this.vT(x);};y.prototype.wr=function(x,z){var A,B;x.stream.ba && x.sv && x.mediaType === m.u.fa && this.d7b(x);x.tt && !x.WR && this.uya();(null === (A=this.cp) || void 0 === A?void 0:A.state) === p.Fk.complete && (null === (B=this.cp) || void 0 === B?void 0:B.lf());this.BF(x,z);};y.prototype.d7b=function(x){var z,A;z=k.XI.FYa(new DataView(x.xo[0]));if(void 0 !== z && x.stream.track.YUb(z)){A=x.stream.Vm();this.mc.forEach(function(B){var C;C=A.HT(B.index);B.b7b(C.Ja,C.Va);});this.La.update();}};y.prototype.upb=function(){return this.mc.Zj + this.mc.UC;};y.prototype.WQa=function(){var x,z,A;z=void 0 !== this.mc && 0 < this.mc.length;A=this.mc;this.mc=new g.sAa(this.V,this);this.Pu=0;this.me.clear();this.UPa=void 0;this.dua=null;null === (x=this.cp) || void 0 === x?void 0:x.lf();this.ePa=this.TQ=!1;z && (x=A.map(function(B){return B;}),this.Yo.Dsa(x));};y.prototype.Eob=function(){this.TQ || (this.TQ=!0);};y.prototype.ARa=function(x){var z;for(x+=1;x < this.wva;x++){z=this.mc.get(x);(0,h.assert)(z,"expected request to exist");this.me.remove(z);z.aborted || (this.Dfa(z),z.We());}this.KQa();};y.prototype.Dfa=function(x){return x.abort()?!0:!1;};y.prototype.KQa=function(){var x,z,A,B;x=this;if(0 !== this.mc.length){A=[];B=0;this.mc.XYb(function(C,D){D < x.Pu && ++B;A.push(C);});this.Pu-=B;null === (z=this.cp) || void 0 === z?void 0:z.lf();this.Yo.Dsa(A);}};y.prototype.RYb=function(x){switch(this.mediaType){case m.u.fa:return this.SYb(x);case m.u.X:return this.UYb(x);case m.u.Ha:return this.TYb(x);}};y.prototype.SYb=function(x){return v.iD.instance().HX.O9a(this.nb.na,x.stream.Hf,(0,t.qna)(x.stream.profile),x.stream.bitrate,x.stream.track.no,x.Kd,this.nb.v,function(z,A){return x.Ab.add(A).$c(z).ja;},this.Z,this.V);};y.prototype.UYb=function(x){var z,A,B;B=null === (z=x.stream.track.za) || void 0 === z?void 0:z.ava();(0,h.assert)(B,"Video streams must have a frame rate");return v.iD.instance().HX.Q9a(this.nb.na,"padding",x.stream.profile,B,null === (A=x.stream.track.lk) || void 0 === A?void 0:A.bv,x.stream.track.no,x.Kd,this.nb.v,function(C,D){return x.Ab.add(D).$c(C).ja;},this.V).La;};y.prototype.TYb=function(x){x.Oua(v.iD.instance().HX.WYb(),!0);return [x];};return y=c.__decorate([q.pL],y);})(r.$C);b.rMa=a;},36021:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.sMa=void 0;c=a(5163);l=a(62558);f=c.__importDefault(a(35471));k=a(33285);d=a(97810);r=(function(){function g(m,h){var k7Z,n;k7Z=2;for(;k7Z !== 14;){switch(k7Z){case 7:var q58="Reques";q58+="t";q58+="Pacer";this.Lp=new k.Du({kn:this,source:q58,jSa:function(){var s9t;s9t=2;for(;s9t !== 1;){switch(s9t){case 2:return {numOutstanding:n.gE};break;}}},ko:10});this.fab=new d.Uh();k7Z=14;break;case 3:var f07="1SIYb";f07+="ZrN";f07+="J";f07+="Cp9";var L3j="medi";L3j+="a";L3j+="|asejs";var l0H="ASE";l0H+="JS";l0H+="_R";l0H+="EQUEST_PACER";this.console=new f.default.Console(l0H,L3j);this.hwa=!1;f07;k7Z=7;break;case 2:n=this;this.c7=m;this.config=h;this.gE=0;k7Z=3;break;}}}var b$F;b$F=2;for(;b$F !== 13;){switch(b$F){case 2:Object.defineProperties(g.prototype,{pUb:{get:function(){var q4O;q4O=2;for(;q4O !== 1;){switch(q4O){case 2:return this.gE;break;}}},enumerable:!1,configurable:!0}});g.prototype.tj=function(){var q43,m,h;q43=2;for(;q43 !== 9;){switch(q43){case 2:m=this;q43=1;break;case 1:q43=!this.hwa?5:9;break;case 5:this.hwa=!0;h=f.default.time.xa();return Promise.resolve().then(function(){var e8h;e8h=2;for(;e8h !== 5;){switch(e8h){case 2:m.hwa=!1;m.vUa(h);e8h=5;break;}}});break;case 6:q43=+this.hwa?8:1;break;}}};g.prototype.$u=function(m){var z2c,h,n;z2c=2;for(;z2c !== 3;){switch(z2c){case 2:var U5l="More than maxAllowedOutstandingRequ";U5l+="es";U5l+="ts are outstanding";this.Lp.Is({mediaType:m.mediaType,contentStartPts:null === (h=m.Ja) || void 0 === h?void 0:h.G,contentEndPts:null === (n=m.Va) || void 0 === n?void 0:n.G});this.gE++;(0,l.assert)(this.gE <= this.config.J7,U5l);z2c=3;break;}}};b$F=4;break;case 4:var a0J="$";a0J+="u";var o_P="addR";o_P+="equ";o_P+="est";var o54="t";o54+="j";var H82="chec";H82+="kReques";H82+="tOppo";H82+="rtun";H82+="ity";g.prototype.Dr=function(m){var j3z,h,n;j3z=2;for(;j3z !== 9;){switch(j3z){case 2:var O6K="removeReq";O6K+="ue";O6K+="st";var b7U="Received remove ";b7U+="request when th";b7U+="ere are no requests outstand";b7U+="ing";this.Lp.Is({mediaType:m.mediaType,contentStartPts:null === (h=m.Ja) || void 0 === h?void 0:h.G,contentEndPts:null === (n=m.Va) || void 0 === n?void 0:n.G});this.gE--;(0,l.assert)(0 <= this.gE,b7U);this.tj(O6K);j3z=9;break;}}};g.prototype.vUa=function(m){var V0L,h,n,p;V0L=2;for(;V0L !== 9;){switch(V0L){case 4:p++;V0L=5;break;case 5:V0L=this.gE < h && this.c7()?4:3;break;case 3:var q1x="requ";q1x+="estOpportuni";q1x+="tyRunnerCom";q1x+="pl";q1x+="ete";this.Lp.fSa(q1x,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:n},!0);V0L=9;break;case 1:this.fab.push(n);V0L=5;break;case 2:(h=this.config.J7,n=f.default.time.xa() - m,p=0);V0L=1;break;}}};c.__decorate([(0,k.Tb)({methodName:H82,ak:!0,lp:!0})],g.prototype,o54,null);c.__decorate([(0,k.Tb)({methodName:o_P,ak:!0})],g.prototype,a0J,null);b$F=7;break;case 7:var a1Q="v";a1Q+="U";a1Q+="a";var S$B="c";S$B+="heckRequestOpp";S$B+="ortunit";S$B+="yRunner";var E_e="D";E_e+="r";var B2j="re";B2j+="mo";B2j+="veRe";B2j+="quest";c.__decorate([(0,k.Tb)({methodName:B2j,ak:!0})],g.prototype,E_e,null);c.__decorate([(0,k.Tb)({methodName:S$B,ak:!0})],g.prototype,a1Q,null);return g;break;}}})();b.sMa=r;},39266:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.lNa=void 0;c=a(42866);l=a(81883);f=a(27364);r=(function(){function k(d,g){this.tk=d;this.console=g;this.K1=Infinity;this.nPa=0;this.Drb=!1;}k.prototype.zGb=function(d,g,m,h,n){var p;if(this.tk){p=d.La;if(p){if(m === f.u.X)(m=p.cy(Math.ceil(this.tk * d.za.Vv),void 0,!0),p=d.Zn(m),d=p.Kd.ih(d.za),p.Bi({start:0,end:this.tk - m * d}),this.K1=this.tk);else {void 0 !== h.Ccb?(g=h.Ccb,m=g * d.za.G):(m=(0,l.Sna)(h,n) + Math.ceil(h.Gub * d.za.Vv),c.L.Ma(m).ih(d.za),m=g + m,g=Math.ceil(m / d.za.Vv));m=p.cy(m,void 0,!0);for(n=h=0;n < m;++n){p=d.Zn(n);h+=p.Kd.ih(d.za);}h=g - h;p=d.Zn(m);p.Bi({end:h});this.K1=g;}p.v5a();return p;}}};k.prototype.AMb=function(){return this.nPa >= this.K1;};k.prototype.FNb=function(d,g){this.vv(d,g);};k.prototype.hFb=function(d,g,m){d.aic=this.vv(g,m);};k.prototype.vv=function(d,g){return d.Kd.ih(g.za);};k.prototype.q3=function(){if(!this.AMb())return !1;if(this.Drb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.nPa," >= ").concat(this.K1));return !0;};return k;})();b.lNa=r;},96331:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HSa=void 0;b.HSa=function(a,c,l){var f,k;f=!0;l.forEach(function(d){var g;if(f && a === d.profile){g=d.ranges;f=void 0 === g?c >= d.min && c <= d.max:g.some(function(m){return c >= m.min && c <= m.max;});!f && d.disallowed && d.disallowed.some(function(m){if(m.stream.bitrate === c)return (k=m.disallowedBy,!0);});}});return {inRange:f,q4:k};};},85770:function(r,b,a){var l;function c(f,k){k=Math.max(f,k);return isNaN(k)?f || -Infinity:k;}Object.defineProperties(b,{__esModule:{value:!0}});b.qAa=void 0;l=a(27364);r=(function(){function f(k){this.config=k;this.Zua=0;this.state=l.Rc.ls;this.B6a=c(k.Vra,k.e8);this.csa=c(k.HG,k.BV);}f.prototype.xj=function(k,d){var g;g=this;if(d !== this.state){this.state=d;if(d === l.Rc.Me || d === l.Rc.T0)return k;d === l.Rc.tl && this.yZb();}return k.filter(function(m){return !(void 0 !== m.Cb && m.Cb < g.csa || (void 0 === m.Cb || 0 > g.csa) && m.bitrate < g.B6a);});};f.prototype.yZb=function(){++this.Zua;this.csa=c(this.config.HG,this.config.BV - this.config.QSb * this.Zua);this.B6a=this.config.Vra || -Infinity;};return f;})();b.qAa=r;},65364:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EAa=void 0;c=a(42866);r=(function(){function l(f){this.config=f;}l.prototype.Q2b=function(f){return f % 100 + 1 <= this.config.Ota;};l.prototype.xj=function(f){var k,d,g,m,h,n,p,q,u,t,v;p=Number(null === (k=f[0]) || void 0 === k?void 0:k.P);if(!(this.config.G4 && this.Q2b(p) && 0 < this.config.f$.length))return f;k=f.length;q=null !== (d=f[k - 1].$W) && void 0 !== d?d:0;if(d=(0,c.wc)(this.config.f$,function(w){return w.cic >= q && w.tab <= q;})){for(p=0;p < k;p++){u=f[Math.max(p - 1,0)];t=f[p];if(!((null !== (g=t.$W) && void 0 !== g?g:0) < d.tab || (null !== (m=u.$W) && void 0 !== m?m:0) < d.tab)){v=null !== (h=t.Cb) && void 0 !== h?h:Infinity;u=null !== (n=u.Cb) && void 0 !== n?n:Infinity;if(!(u < d.phc || u < d.ohc && t.bitrate < d.maxBitrate || !v && t.bitrate < d.Ogc))break;}}return f.slice(0,p);}return f;};return l;})();b.EAa=r;},72573:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FAa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.xj=function(c){var l;l=this.config;return c.filter(function(f){return !(void 0 !== f.Cb && (f.Cb < l.HG || f.Cb > l.B5a) || (void 0 === f.Cb || 0 >= l.HG) && f.bitrate < l.Vra || (void 0 === f.Cb || Infinity === l.B5a) && f.bitrate > l.NRb);});};return a;})();b.FAa=r;},85147:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.AK=b.zK=void 0;c=a(69044);l=a(42186);b.zK=function(f,k){k && (null === f || void 0 === f?0:f.f2a) && (k=new l.Cu(k).or(l.ED));return new l.Cu(l.Mba).and(null !== k && void 0 !== k?k:l.ED).or(l.sda,c.lJ.wF).or(l.tda,c.lJ.wF);};b.AK=function(f,k){k && f.f2a && (k=new l.Cu(k).or(l.ED));return new l.Cu(l.Mba).and(new l.GAa(f)).and(new l.FAa(f)).and(new l.qAa(f)).and(new l.IAa(f)).and(f.G4?new l.EAa(f):l.ED).and(null !== k && void 0 !== k?k:l.ED).or(l.sda,c.lJ.wF).or(l.tda,c.lJ.wF);};},90672:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GAa=void 0;c=a(27364);r=(function(){function l(f){this.config=f;}l.prototype.xj=function(f,k){return this.config.maa || k !== c.Rc.vl?f.filter(function(d){return d.tv;}):f;};return l;})();b.GAa=r;},42659:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yQ=void 0;r=a(5163);c=a(49730);l=r.__importDefault(a(35471));f=a(96331);a=(function(){function k(d){this.console=d;this.MWa=[];this.vTa={};this.hXa=!1;}k.prototype.O$=function(d,g){this.MWa=d;void 0 !== g?this.vTa[g]=d:this.hXa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.hXa=!0);};k.prototype.xj=function(d){var g,m,h,n,p;g=this;if(0 === d.length)return d;n=d[0].J;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (m=l.default.Qs) || void 0 === m?void 0:m.call(l.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (h=this.vTa[n]) && void 0 !== h?h:this.MWa;c.K && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,f.HSa)(q.profile,q.bitrate,p,g.console).inRange;});c.K && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return k;})();b.yQ=a;},58771:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IAa=void 0;r=(function(){function a(c){var l;l=this;c.gO && c.gO.enabled && c.gO.profiles && c.gO.profiles.length && "keepLowest" === c.gO.action && (this.Z3a={},c.gO.profiles.forEach(function(f){return l.Z3a[f]=!0;}));}a.prototype.xj=function(c){var l,f;l={};f=this.Z3a;return void 0 === f?c:c.filter(function(k){return !f[k.profile] || (l[k.profile]?!1:l[k.profile]=!0);});};return a;})();b.IAa=r;},54608:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sda=b.Mba=void 0;c=a(42866);b.Mba={xj:function(l){return l.filter(function(f){return f.fr && !f.BB;});}};b.sda={xj:function(l){return (l=(0,c.wc)(l,function(f){return !!f.fr && !f.BB;}))?[l]:[];}};},42186:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(74446),b);r.__exportStar(a(90672),b);r.__exportStar(a(42659),b);r.__exportStar(a(58771),b);r.__exportStar(a(72573),b);r.__exportStar(a(85770),b);r.__exportStar(a(65364),b);r.__exportStar(a(54608),b);r.__exportStar(a(673),b);r.__exportStar(a(69044),b);r.__exportStar(a(32209),b);r.__exportStar(a(85147),b);r.__exportStar(a(49789),b);},32209:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tda=void 0;b.tda={xj:function(a){return a.length?[a[0]]:[];}};},49789:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.RP=void 0;c=a(42866);l=a(49730);r=(function(){function f(k,d){this.console=k;this.config=d;this.Uya=!1;}f.prototype.xj=function(k,d,g,m){void 0 === g && (g=c.L.Ga);void 0 === m && (m=!1);l.K && this.console.trace("Filtering streams for fastplay",{Uya:this.Uya,Jl:g.G,wgc:m});if(this.Uya || g.G >= this.config.SRb || !1 === m){d=k.filter(this.LDb);if(d.length)return d;l.K && this.console.trace("No drm streams to return");}d=k.filter(this.Jxb);if(d.length)return d;l.K && this.console.trace("No clear streams to return");return k;};f.prototype.LDb=function(k){return k.ii;};f.prototype.Jxb=function(k){return !k.ii;};return f;})();b.RP=r;},673:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ED=void 0;b.ED={xj:function(a){return a;}};},69044:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cu=b.lJ=void 0;c=a(673);(function(f){f[f.jN=0]="primary";f[f.wF=1]="fallback";})(l=b.lJ || (b.lJ={}));r=(function(){function f(k,d){var g,m;void 0 === d && (d=!1);m=this;this.ZTa=d;this.filters=(g={},g[l.jN]=[],g[l.wF]=[],g);Array.isArray(k)?k.forEach(function(h){return m.and(h,l.jN);}):this.and(k);}f.prototype.and=function(k,d){void 0 === d && (d=l.jN);k !== c.ED && this.filters[d].push({filter:k,tVa:!0});return this;};f.prototype.or=function(k,d){void 0 === d && (d=l.jN);this.filters[d].push({filter:k,tVa:!1});return this;};f.prototype.filter=function(k){var d;d=this;[l.jN,l.wF].forEach(function(g){d.filters[g]=d.filters[g].filter(function(m){return k(g,m.filter);});});};f.prototype.xj=function(k,d,g,m){var h;h=this;return [l.jN,l.wF].reduce(function(n,p){return h.filters[p].reduce(function(q,u){u.tVa?q=u.filter.xj(q,d,g,m):0 === q.length && (q=u.filter.xj(k,d,g,m));return q;},n);},k);};return f;})();b.Cu=r;},74446:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4399:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xNa=b.Tnb=void 0;c=a(5163);l=a(62558);r=c.__importDefault(a(35471));f=a(94656);a=a(26218);k=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(m){d=!1;}g=(function(m){function h(n,p){p=m.call(this,n.Eo,p) || this;p.uE=n;return p;}c.__extends(h,m);Object.defineProperties(h.prototype,{wa:{get:function(){return this.uE.rcb(this.gg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{offset:{get:function(){return this.uE.vi(this.gg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fsa:{get:function(){return this.uE.EM && this.uE.EM[this.gg];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qj:{get:function(){return this.uE.cIb(this.gg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Cb:{get:function(){return this.uE.vw && this.uE.vw[this.gg];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qia:{get:function(){return 8 * this.wa / (1E3 * this.bB / this.N);},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.qb,contentEndTicks:this.wb,durationTicks:this.bB,timescale:this.N,startPts:this.Ja.G,endPts:this.Va.G,duration:this.Kd.G,additionalSAPs:this.qj};};return h;})(a.$Na);b.Tnb=g;r=(function(){function m(h,n,p,q,u,t,v){this.OJ=128;this.Ic=n;this.Yb=p.offset;this.ym=p.sizes;this.Z1=h;this.yJ=this.IQ=this.Wj=this.hp=this.iha=void 0;this.hqb=q;this.Ffa=u && u.vi;this.rha=t;this.jA=Math.min(this.Ic.length,this.ym.length);h=this.owb();this.Zpb=h.maxBitrate;this.$pb=h.ko;this.Eo.zq.length !== this.ym.length && k.trace("Mis-matched stream duration (" + this.Eo.zq.length + "," + this.ym.length + ") for movie id " + v);this.Eo.t2 && !this.Ffa && k.error("Mis-matched additional SAPs information for movie id " + v);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Ic.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.jA;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Kr:{get:function(){return this.Ic.Kr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ola:{get:function(){return this.Ic.Ola;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fb:{get:function(){return this.Ic.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cf:{get:function(){return this.Ic.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zra:{get:function(){return this.Ic.zra;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Iv:{get:function(){return this.Zpb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ko:{get:function(){return this.$pb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{za:{get:function(){return this.Ic.za;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{N:{get:function(){return this.Ic.N;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Do:{get:function(){return this.hp || this.Mfa();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{EM:{get:function(){return this.hqb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xha:{get:function(){return this.Ffa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vw:{get:function(){return this.rha;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Eo:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ir:{get:function(){return this.iha || this.Oob();},enumerable:!1,configurable:!0}});m.prototype.rcb=function(h){if(this.ym)return this.ym[h];k.error("sizesByIndex _sizes is undefined");return -1;};m.prototype.em=function(h){return this.Ic.em(h);};m.prototype.eT=function(h){return this.Ic.em(h) + this.Ic.bf(h);};m.prototype.vi=function(h){var n,p,q;if(this.IQ !== h || void 0 === this.yJ){if(0 === h)return this.Yb;if(this.IQ === h - 1 && void 0 !== this.yJ)(this.yJ+=this.ym[this.IQ],++this.IQ);else {n=this.Wj || this.Bob();p=Math.floor(h / this.OJ);q=p * this.OJ;for(n=n[p];q < h;++q){n+=this.ym[q];}this.IQ=h;this.yJ=n;}}return this.yJ;};m.prototype.bf=function(h){return this.Ic.bf(h);};m.prototype.get=function(h){return new g(this,h);};m.prototype.cIb=function(h){var n,p,q,u,t;(0,l.assert)(0 <= h);n=this.Eo.t2;p=this.Eo.kSa;q=this.Ffa;if(!q || !n || !p || h >= n.length)return [];u=[];t=h === n.length - 1?p.length:n[h + 1];for(n=n[h];n < t;++n){u.push({Jj:p[n],we:this.em(h) + this.za.oo(p[n]).G,offset:q[n]});}return u;};m.prototype.cy=function(h,n,p){return this.Ic.cy(h,n,p);};m.prototype.wma=function(h,n,p){return this.Ic.wma(h,n,p);};m.prototype.uka=function(h,n){return this.Ic.uka(h,n);};m.prototype.mwb=function(h,n,p,q,u){var t,v,w,y,x,z,A,B,C;t=!0;v=0;w=this.Ic.zq;y=this.ym;h=Math.floor(h * this.N / 1E3);x=Math.floor(p * this.N / 1E3);z=0;A=0;B=0;if(this.Ic.Aya && this.Ic.zya)for(v=this.Ic.Aya;v <= this.Ic.zya;++v){z+=w[v];A+=y[v];}if(A > n)t=!1;else for(;v < this.length && (!u || v < u);){C=y[v];p=w[v];if(A + C > n){for(;1 < v - B && A + C > n && (z - w[B] >= x || A - y[B] > q);){z-=w[B];A-=y[B];++B;}if(z < h || A + C > n){t=!1;this.Ic.Aya=B;this.Ic.zya=v;break;}}z+=p;A+=C;++v;}return t;};m.prototype.subarray=function(h,n){(0,l.assert)(void 0 === h || 0 <= h && h < this.length);(0,l.assert)(void 0 === n || n > h && n <= this.length);return new m(this.Z1,this.Ic.subarray(h,n),{offset:this.vi(h),sizes:this.ym.subarray(h,n)},this.EM && this.EM.subarray(h,n),this.Xha && ({vi:this.Xha}),this.rha && this.rha.subarray(h,n));};m.prototype.forEach=function(h){for(var n=0;n < this.length;++n){h(this.get(n),n,this);}};m.prototype.map=function(h){for(var n=[],p=0;p < this.length;++p){n.push(h(this.get(p),p,this));}return n;};m.prototype.reduce=function(h,n){for(var p=0;p < this.length;++p){n=h(n,this.get(p),p,this);}return n;};m.prototype.toJSON=function(){return {length:this.length};};m.prototype.dump=function(){var n;k.trace("StreamFragments: " + this.length);for(var h=0;h < this.length;++h){n=this.get(h);k.trace(("StreamFragments: ").concat(h,": [").concat(n.Ja.G,"-").concat(n.Va.G,"]") + (" @ ").concat(n.offset,", ").concat(n.wa," bytes"));}};m.prototype.owb=function(){var h,n,p,q,u,t,y;h=0;n=0;p=this.Ic.I5a;q=this.Ic.J5a;u=this.Ic.zq;t=this.ym;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var v=0,w=this.length;v < w;++v){y=t[v];y > n && (n=y,q=v);y/=u[v];y > h && (h=y,p=v);}void 0 === this.Ic.I5a && (this.Ic.I5a=p);void 0 === this.Ic.J5a && (this.Ic.J5a=q);}else (h=t[p] / u[p],n=t[q]);return {maxBitrate:Math.floor(h * this.N / 125),ko:n};};m.prototype.Mfa=function(){for(var h=0,n=0;n < this.length;++n){h+=this.ym[n];}return this.hp=h;};m.prototype.Oob=function(){return this.iha=new f.cfa(this.Ic.zq,this.ym,this.Ic.N);};m.prototype.Bob=function(){if(!this.Wj){for(var h=d?new Float64Array(Math.ceil(this.length / this.OJ)):Array(Math.ceil(this.length / this.OJ)),n=this.Yb,p=0;p < h.length;++p){h[p]=n;for(var q=0;q < this.OJ;++q){n+=this.ym[p * this.OJ + q];}}this.Wj=h;}return this.Wj;};return m;})();b.xNa=r;(0,a.Fv)(r.prototype.em);(0,a.Fv)(r.prototype.eT);(0,a.Fv)(r.prototype.bf);(0,a.Fv)(r.prototype.vi);(0,a.Fv)(r.prototype.rcb);(0,a.Fv)(r.prototype.get);},90187:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jfa=void 0;c=a(42866);r=(function(){function l(f){this.Gn=f;this.oZa=new c.Kz();}Object.defineProperties(l.prototype,{h4a:{get:function(){var f,k;return null !== (f=this.OMb) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.h4a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{q7:{get:function(){var f,k;return null !== (f=this.XTb) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.q7;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fo:{get:function(){var f,k;return null !== (f=this.Yf) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.fo;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{p4a:{get:function(){var f,k,d,g;return null !== (f=this.Ug) && void 0 !== f?f:(null === (k=this.track) || void 0 === k?0:k.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (g=this.parent) || void 0 === g?void 0:g.Ug:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{r4a:{get:function(){var f,k;return null !== (f=this.j4b) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.r4a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wqa:{get:function(){var f,k;return null !== (f=this.k4b) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.wqa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.r1b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{igb:{get:function(){return this.oZa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var f;return null === (f=this.Gn) || void 0 === f?void 0:f.call(this);},enumerable:!1,configurable:!0}});l.prototype.Oa=function(){this.Gn=void 0;};l.prototype.Ebb=function(f){this.OMb=f;};l.prototype.j2b=function(f){this.XTb=f;};l.prototype.Qbb=function(f){this.Yf=f;this.oZa.resolve();};l.prototype.tX=function(f){this.Ug=f;};l.prototype.u2b=function(f){this.j4b=f;};l.prototype.Rbb=function(f){this.k4b=f;};l.prototype.A2b=function(f){this.r1b=f;};return l;})();b.jfa=r;},62711:function(r,b,a){(function(){var z1A,c;z1A=2;for(;z1A !== 8;){switch(z1A){case 2:a(17267);a(89956);a(95711);c=a(27364).Rc;z1A=3;break;case 3:var S$K="1";S$K+="SIY";S$K+="bZrNJ";S$K+="Cp9";r.exports={checkBuffering:function(l,f,k,d,g,m){var V9G=f9YlG;var C1V,v,w,n,p,q,u,t;C1V=2;function h(y){var q9V;q9V=2;for(;q9V !== 5;){switch(q9V){case 2:y=d.La.wma(l.Cd + y,void 0,!0);q9V=1;break;case 1:return (t - l.xr) / (t + (y.offset + y.wa) - v);break;}}}for(;C1V !== 54;){switch(C1V){case 21:C1V=n >= q?35:37;break;case 12:q=u?Math.min(u,q):q;C1V=11;break;case 24:C1V=-1 === g?23:22;break;case 22:v=d.La.vi(g);C1V=21;break;case 23:var C1o="outof";C1o+="r";C1o+="ange";return {complete:!0,reason:C1o};break;case 39:--m;C1V=28;break;case 40:w=p.offset;C1V=39;break;case 32:m=Math.min(g + Math.floor(m.IW / q),d.La.length - 1);w=d.La.vi(m);V9G.G6s(6);var p6i=V9G.u_w(15,11,4);q=p6i * v * k / f - l.Cd;C1V=29;break;case 26:return (f < p && (q=Math.min(u,Math.max(m.IW * (p / f - 1),q))),{complete:!1,DN:q,progress:0});break;case 2:(n=l.Il - l.Cd,p=f === c.tl);f=d.mb || 0;(q=0,u=m.Wya && !p?m.$B:m.Dra);u=Math.min(m.CG,u);C1V=3;break;case 16:C1V=d.ba?15:27;break;case 15:var g8S="low";g8S+="L";g8S+="iveB";g8S+="u";g8S+="ffer";var c$Z="live";c$Z+="Bu";c$Z+="fferL";c$Z+="eve";c$Z+="l";return f > p && n > q?{complete:!0,reason:c$Z}:{complete:!1,DN:q,mb:f,bitrate:p,reason:g8S};break;case 28:C1V=m > g?44:38;break;case 41:return (q=Math.min(u,n + w),{complete:!1,DN:q,progress:h(q)});break;case 37:0 < f && f < p && (q=Math.min(u,Math.max(m.IW * (p / f - 1),q)));return {complete:!1,DN:q,progress:h(q)};break;case 29:--m;C1V=28;break;case 3:C1V=n >= u?9:8;break;case 38:var t_h="n";t_h+="ore";t_h+="bu";t_h+="ff";return {complete:!0,reason:t_h};break;case 34:var g5M="h";g5M+="igh";g5M+="t";g5M+="p";return {complete:!0,reason:g5M};break;case 6:V9G.G6s(12);var F$X=V9G.u_w(2,3,7,11,8);q=m.ur * (p?m.Yua:F$X);!d.ba && m.IEb && d.Lb && d.Lb.th && d.Lb.th.Ca > m.Zqa && (q+=m.Vha + d.Lb.th.Ca * m.Lta);g && !d.ba && (q+=g.kv * m.Wha);C1V=12;break;case 20:t=0;l.La.forEach(function(y){var X27;X27=2;for(;X27 !== 1;){switch(X27){case 2:t+=y.fb + y.duration > l.Cd?y.wa:0;X27=1;break;}}});k=Math.max(k,1);p=k * d.bitrate;C1V=16;break;case 25:g=d.La.cy(l.il);C1V=24;break;case 27:C1V=!d.La || !d.La.length?26:25;break;case 42:C1V=0 < w?41:40;break;case 35:C1V=f > p * m.U4?34:33;break;case 33:q=d.La.bf(g);C1V=32;break;case 7:var I7z="l";I7z+="owTh";I7z+="rough";I7z+="put";return {complete:!1,fra:!0,reason:I7z};break;case 9:var f18="max";f18+="siz";f18+="e";return {complete:!0,reason:f18};break;case 10:var t8n="n";t8n+="othr";t8n+="ou";t8n+="gh";t8n+="put";return {complete:!1,DN:q,reason:t8n};break;case 11:C1V=!f?10:20;break;case 8:C1V=f <= m.gra && (0 < f || !m.fma)?7:6;break;case 44:p=d.La.get(m);V9G.L4_(13);var N8e=V9G.u_w(154,9,18);w=N8e * w * k / f - p.fb - q;C1V=42;break;}}}};S$K;z1A=8;break;}}})();},95711:function(r,b,a){var k,d;function c(g,m){return g && g.lG && (m || !1 !== g.tv);}function l(g,m,h){return !k.yb(g) || g < m?m:g > h?h:g;}function f(g){if(!(this instanceof f))return new f(g);this.Ug=k.yb(g)?g:void 0;}k=a(17267);d=new (a(35471)["default"].Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,m){if(!g)throw (g=m?" : " + m:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},aM:c,Gma:function(g,m,h){var p,q,u,t;function n(v){var w;w=g[v];if(!w.lG || h && !h(w,v))return !1;t=v;return !0;}p=g.length;q=0;u=p;k.isArray(m) && (q=l(m[0],0,p),u=l(m[1],0,p),m=m[2]);m=l(m,q - 1,u);for(p=m - 1;p >= q;--p){if(n(p))return t;}for(p=m + 1;p < u;++p){if(n(p))return t;}return -1;},sTb:function(g,m){return Math.floor(g / (125 * m) * 1E3);},Wvb:function(g,m){return Math.ceil(g / 1E3 * m * 125);},rgc:function(g,m){return !g.slice(m + 1).some(c);},Cn:f,uK:l};},35548:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eJ=b.fQ=b.mJ=b.pQ=void 0;c=a(74976);Object.defineProperties(b,{pQ:{enumerable:!0,get:function(){return c.pQ;}}});l=a(17329);Object.defineProperties(b,{mJ:{enumerable:!0,get:function(){return l.mJ;}}});f=a(75449);Object.defineProperties(b,{fQ:{enumerable:!0,get:function(){return f.fQ;}}});k=a(84585);Object.defineProperties(b,{eJ:{enumerable:!0,get:function(){return k.eJ;}}});},84585:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eJ=void 0;c=a(5163);r=(function(){function l(f,k,d){var g,m,h;this.Rp=f;"HYBRID" === f?this.OL=d:"CCSP" === f && (this.jz=null !== (g=k.jz) && void 0 !== g?g:0,this.Nx=null !== (m=k.Nx) && void 0 !== m?m:0,this.Xy=null !== (h=k.Xy) && void 0 !== h?h:0);}Object.defineProperties(l.prototype,{b$a:{get:function(){var f;return "HYBRID" === this.Rp?[null !== (f=this.OL.Ft) && void 0 !== f?f:0]:"CCSP" === this.Rp?[this.jz,this.Nx,this.Xy]:[];},enumerable:!1,configurable:!0}});l.prototype.u6a=function(){return Math.min(this.jz,this.Nx,this.Xy);};l.prototype.X6=function(){return this.b$a.some(function(f){return 0 < f;});};l.prototype.ewa=function(f){return new l(this.Rp,{jz:f * this.jz,Nx:f * this.Nx,Xy:f * this.Xy});};l.prototype.wra=function(f,k,d,g){var m;m=8 * f / Math.max(d - k,1);if(!this.X6())return !1;f=this.b$a.map(function(h){return Math.abs(m - h) / h;});return Math.min.apply(Math,c.__spreadArray([],c.__read(f),!1)) < g;};return l;})();b.eJ=r;},75449:function(r,b,a){var u,t,v;function c(w){return f(w.Yf);}function l(w,y){var x,z,A,B,C;A=k(y.i_b,w.vg,null !== (z=null === (x=w.Yf.Lb) || void 0 === x?void 0:x.confidence) && void 0 !== z?z:u.Uw.HAVE_NOTHING);if(0 === A.length)return 0;a:switch(y.cWb){case "implicit":y=q(y,w.Yf);y=w.PE / y;break a;case "capacityPercentage":y=Math.max(w.Evb / w.Dvb || 0,w.PE / y.CG);break a;default:y=0;}z=-1;for(x=0;x < A.length;x++){if(A[x].e3 >= y){z=x;break;}}if(-1 === z)return d(w,A[A.length - 1].Vja);if(0 === z)return d(w,A[0].Vja);B=A[z - 1].e3;x=d(w,A[z - 1].Vja);C=A[z].e3;w=d(w,A[z].Vja);A=Math.min((y - B) / (C - B),1);return (1 - A) * x + A * w;}function f(w){var y,x;x=null === (y=null === w || void 0 === w?void 0:w.na) || void 0 === y?void 0:y.rM;return x?x[w.mediaType] || 0:0;}function k(w,y,x){var A;function z(B,C){return void 0 !== B && 0 < B.filter(function(D){return D === C;}).length;}A=w.filter(function(B){return z(B.t9,y);});0 === A.length && (A=w.filter(function(B){return !B.t9 || 0 === B.t9.length;}));w=A.filter(function(B){return z(B.R6a,x);});0 === w.length && (w=A.filter(function(B){return !B.R6a || 0 === B.R6a.length;}));return w.sort(function(B,C){return B.e3 - C.e3;});}function d(w,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=w.Yf;z=w.K7b;A=w.X5b;B={selectedFragmentBitrate:g(w.m5,x,w.Ye) * w.playbackRate,selectedPeakBitrate:(x.Iv || m(x) || 0) * w.playbackRate,upswitchPeakBitrate:(z.Iv || m(z) || 0) * w.playbackRate,maxPeakBitrate:(A.Iv || m(A) || 0) * w.playbackRate,selectedAverageBitrate:m(x) * w.playbackRate,upswitchAverageBitrate:m(z) * w.playbackRate,maxAverageBitrate:f(x) * w.playbackRate,bufferLevelMs:w.PE,observedThroughput:h(w.Yf) || 0,averagetp:n(w.Yf) || 0,stddevtp:p(w.Yf) || 0};w=y.offset || 0;return Object.keys(B).reduce(function(C,D){return C + (y[D] || 0) * B[D];},w);}function g(w,y,x){var z;return void 0 !== x && y.La?(void 0 === w?null === (z=y.La) || void 0 === z?void 0:z.get(x).Qia:w.L_a(y,x).Qia) || y.Iv || 0:y.Iv || 0;}function m(w){return (null === w || void 0 === w?void 0:w.bitrate) || 0;}function h(w){var y;w=w.Lb;return (null === (y=null === w || void 0 === w?void 0:w.mb) || void 0 === y?void 0:y.Ca) || 0;}function n(w){var y;w=w.Lb;return (null === (y=null === w || void 0 === w?void 0:w.Lm) || void 0 === y?void 0:y.hK) || 0;}function p(w){var y;w=w.Lb;return Math.sqrt((null === (y=null === w || void 0 === w?void 0:w.Lm) || void 0 === y?void 0:y.IO) || 0);}function q(w,y){var x,z;x=w.h5b;x=n(y) + x * p(y);y=y.mb || 0;z=0;0 < y && (z=x / y - 1);return w.ZSb + w.g5b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.AJb=b.sKb=b.FIb=b.fQ=void 0;r=a(5163).__importDefault(a(35471));u=a(27364);t=a(84585);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");v={maxStreamBitrate:c,"static":function(w,y){return y.Ocb;},none:function(){return 0;},regression:l,epsGreedy:function(w,y){return Math.min(l(w,y) || 0,h(w.Yf));},"default":c};a=(function(){var k$e;k$e=2;function w(y,x){var w5c;w5c=2;for(;w5c !== 7;){switch(w5c){case 2:var e$W="1";e$W+="SIYbZr";e$W+="NJCp";e$W+="9";this.Z=y;e$W;w5c=5;break;case 5:var s1k="de";s1k+="fa";s1k+="u";s1k+="l";s1k+="t";this.algorithm=(v[x === u.u.fa?this.Z.$Vb:this.Z.ZVb] || v[s1k]).bind(this);w5c=4;break;case 4:w5c=y.E4?3:9;break;case 3:var X$N="H";X$N+="Y";X$N+="BRID";this.Rp=X$N;w5c=7;break;case 8:var d3Y="C";d3Y+="C";d3Y+="S";d3Y+="P";this.Rp=d3Y;w5c=7;break;case 9:w5c=y.C4 || y.B4?8:7;break;}}}for(;k$e !== 9;){switch(k$e){case 2:w.prototype.JZa=function(y,x){var I9H,B,z,A;I9H=2;for(;I9H !== 6;){switch(I9H){case 7:var H2l="C";H2l+="C";H2l+="S";H2l+="P";H2l === this.Rp && (B=new t.eJ(this.Rp,A?{jz:this.C5(y,A.Sua[0],x),Nx:this.C5(y,A.Sua[1],x),Xy:this.C5(y,A.Sua[2],x)}:{jz:0,Nx:0,Xy:0},void 0));I9H=8;break;case 8:return B;break;case 9:B=new t.eJ(this.Rp,void 0,{eNb:1,Ft:z,tja:Number(this.Z.tja),pSb:this.Z.dSb,yva:Number(this.Z.yva)});I9H=8;break;case 4:z=y;this.Z.x3 && (z=this.C5(y,A.Sua[0],x));I9H=9;break;case 5:var h4Y="HY";h4Y+="B";h4Y+="R";h4Y+="I";h4Y+="D";I9H=h4Y === this.Rp?4:7;break;case 2:A=this.Z.x3;x=null === (z=x.lRb) || void 0 === z?void 0:z.Iv;I9H=5;break;}}};w.prototype.xKb=function(y){var j3c,x,z;j3c=2;for(;j3c !== 5;){switch(j3c){case 2:var Q3Q="st";Q3Q+="a";Q3Q+="ti";Q3Q+="c";var e2r="C";e2r+="CS";e2r+="P";var N9S="H";N9S+="Y";N9S+="B";N9S+="RI";N9S+="D";z=null === (x=y.Yf) || void 0 === x?void 0:x.mediaType;return N9S !== this.Rp || this.Z.oEb?e2r === this.Rp && (z === u.u.fa && !this.Z.mEb || z === u.u.X && !this.Z.nEb)?0:Q3Q === this.Z.aWb?this.Z.Ocb:f(y.Yf):0;break;}}};w.prototype.C5=function(y,x,z){var p1f;p1f=2;for(;p1f !== 3;){switch(p1f){case 1:return 0;break;case 2:p1f=!x?1:5;break;case 7:return 9;break;case 5:f9YlG.L4_(14);y=Math.ceil(f9YlG.T5R(y,x));return y < (this.Z.x3.Igc || 0) * (z || 0)?0:y;break;}}};w.prototype.yKb=function(y){var H0V,x,z,A;H0V=2;for(;H0V !== 7;){switch(H0V){case 4:H0V=!this.Rp || !A || !z || (A=this.Z.L6b) && y.Ye && 0 === y.Ye % A || y.PE < z.cC?3:9;break;case 9:x=y.so?this.algorithm(y,this.Z):this.xKb(y);return this.JZa(x,y);break;case 2:(z=null === (x=y.Yf) || void 0 === x?void 0:x.mediaType,A=this.Z.E4 || z === u.u.fa && this.Z.B4 || z === u.u.X && this.Z.C4);x=this.JZa(0,y);z=this.Z.x3;H0V=4;break;case 3:return x;break;}}};return w;break;}}})();b.fQ=a;b.FIb=k;b.sKb=h;b.AJb=q;},71888:function(r,b,a){(function(){function l(t,v,w,y){var q6L,G,E,H,M,L,z,A,x,B,C,D,F;q6L=2;for(;q6L !== 29;){switch(q6L){case 20:w=B[0];q6L=33;break;case 21:w=A;q6L=33;break;case 16:q6L=(A=B[F],D=x[A],n(D) && (0 == F || D.bitrate * v.playbackRate * G.rXa < L))?15:27;break;case 23:q6L=++F < B.length?22:33;break;case 12:(G=t.Mub,E=v.buffer.Il - v.buffer.Cd,H=Math.min(1,E / t.wG),M=Math.max(.1,1 - t.Ndb) * Math.pow(H,t.Mdb),L=C.Lb.mb.Ca * M);q6L=11;break;case 27:F--;q6L=17;break;case 4:q6L=!(t && t.UX && 0 <= t.UX.indexOf(z))?3:9;break;case 11:var v3g=" ";v3g+="k";v3g+="b";v3g+="p";v3g+="s";var d8K=",";d8K+=" t";d8K+="hro";d8K+="ug";d8K+="hput: ";var l8s=",";l8s+=" thr";l8s+="ough";l8s+="putMultiplier: ";var O2l=" ";O2l+="m";O2l+="s";O2l+=", bufferRatio: ";var E77="select-audio-adaptive: ";E77+="LIVE, bufferL";E77+="evel: ";g && d.log(E77 + E + O2l + H + l8s + M + d8K + L + v3g);q6L=10;break;case 1:var m5s="Must have at leas";m5s+="t";m5s+=" one ";m5s+="selected stream";m(!f.oh(y),m5s);(z=x[y].Hd,A=x[y].ba);q6L=4;break;case 3:return new p(y);break;case 2:x=w.first;q6L=1;break;case 13:q6L=A?12:34;break;case 35:var b1z="m";b1z+="s";var j7G=", buffer lev";j7G+="e";j7G+="l = ";var G7R=",";G7R+=" lastUpswitchP";G7R+="ts = ";var S0T="  Up";S0T+="switch not al";S0T+="lowed. lastDo";S0T+="wnswitchPts = ";g && d.log(S0T + H + G7R + A + j7G + E + b1z);q6L=33;break;case 33:var t0c="kbps, ";t0c+="st";t0c+="reami";t0c+="ngPts";t0c+=" :";var f8O=", ";f8O+="audio th";f8O+="rou";f8O+="ghput:";var R33=" kbps, p";R33+="rofile";R33+=" :";var n_k="selectAudioStream:";n_k+=" select";n_k+="ed stre";n_k+="am :";var M3T=" k";M3T+="b";M3T+="p";M3T+="s";var R2F=" ";R2F+="k";R2F+="bps, t";R2F+="o ";var N8I="switch";N8I+="ing a";N8I+="udio from ";var t5C="d";t5C+="o";t5C+="w";t5C+="n";var Z6o="u";Z6o+="p";G=x[w];w !== y && g && d.log((w > y?Z6o:t5C) + N8I + C.bitrate + R2F + G.bitrate + M3T);g && d.log(n_k + G.bitrate + R33 + z + f8O + G.mb + t0c + v.buffer.il);return new p(w);break;case 9:w=y;t.Bdb.some(function(K){var X1S,I,N,R,U,O,J;X1S=2;for(;X1S !== 9;){switch(X1S){case 4:B=x.filter(function(ja){var a2m,ra;a2m=2;for(;a2m !== 5;){switch(a2m){case 1:return ra >= N && ra <= R && 0 <= O.indexOf(ja.Hd) && ra * I / 8 < U;break;case 3:ra=ja.bitrate;a2m=2;break;case 2:ra=ja.bitrate;a2m=1;break;}}}).map(function(ja){var V4F;V4F=2;for(;V4F !== 1;){switch(V4F){case 2:return ja.Zt;break;}}});X1S=3;break;case 5:(I=(K=K.fW) && K.k8 || t.k8,N=K && K.ehc || -Infinity,R=K && K.Ngc || Infinity,U=v.buffer.UE);X1S=4;break;case 6:X1S=J?7:9;break;case 3:return J;break;case 1:X1S=J?5:3;break;case 2:(O=K.profiles,J=O && 0 <= O.indexOf(z));X1S=1;break;}}});q6L=6;break;case 18:var r3h=" kbp";r3h+="s, try ";r3h+="to downswitch";var n1K=" k";n1K+="bps";n1K+=" ";n1K+="<";n1K+=" ";var I_0="throu";I_0+="ghput fo";I_0+="r aud";I_0+="i";I_0+="o ";(g && d.log(I_0 + L + n1K + G.rXa + "*" + D + r3h),--F);q6L=17;break;case 6:q6L=B && 1 < B.length?14:33;break;case 22:q6L=(A=B[F],D=x[A],n(D) && L > G.Ueb * D.bitrate * v.playbackRate)?21:23;break;case 34:var o21=" kb";o21+="p";o21+="s";var h_V="select-au";h_V+="dio-adaptive";h_V+=": throughput: ";(G=t.Lub,L=C.mb,g && d.log(h_V + L + o21));q6L=10;break;case 19:q6L=F && L < G.rXa * D * v.playbackRate?18:26;break;case 15:w=A;q6L=33;break;case 14:(C=x[y],D=C.bitrate,F=B.indexOf(y));q6L=13;break;case 26:var P1h=" ";P1h+="kb";P1h+="p";P1h+="s";var z1c=" ";z1c+="kbps ";z1c+="> ";var n6w="throug";n6w+="hp";n6w+="u";n6w+="t for audio ";q6L=F < B.length - 1 && L > G.Ueb * D * v.playbackRate && (g && d.log(n6w + L + z1c + G.Ueb + "*" + D + P1h),D=v.buffer,E=D.Il - D.Cd,C.La && C.La.length || A)?25:33;break;case 10:q6L=0 > F?20:19;break;case 17:q6L=0 <= F?16:33;break;case 24:var U23=", stre";U23+="amin";U23+="gPts = ";var q73=", las";q73+="t";q73+="UpswitchPts = ";var k2z="  Upswitch allowed.";k2z+=" l";k2z+="astDowns";k2z+="witchPts = ";g && d.log(k2z + H + q73 + A + U23 + D.il);q6L=23;break;case 25:q6L=(A=this.zqa,H=this.fM,v.NB && E > G.Ay && (void 0 === H || Number(A) > H || D.il - H > G.dV))?24:35;break;}}}function c(t,v){var k6L,w;k6L=2;for(;k6L !== 4;){switch(k6L){case 2:w=void 0;v.some(function(y){var b$X,x;b$X=2;for(;b$X !== 4;){switch(b$X){case 5:return x;break;case 2:x=y.profiles;(x=x && 0 <= x.indexOf(t)) && (w=y.override);b$X=5;break;case 7:return x;break;}}});return w;break;}}}var e1u,f,k,d,g,m,h,n,p,q,u;e1u=2;for(;e1u !== 4;){switch(e1u){case 2:var D1B="1SIYb";D1B+="ZrNJ";D1B+="C";D1B+="p";D1B+="9";(f=a(17267),k=a(95711),d=k.console,g=k.debug,m=k.assert,h=a(31503),n=k.aM,p=k.Cn,q=a(51835),u=a(27364).Fb);r.exports={STARTING:function(t,v,w,y){var S6G,x,z,A;S6G=2;for(;S6G !== 7;){switch(S6G){case 1:S6G=(A=t && t.UX && 0 <= t.UX.indexOf(A)?c(A,t.Bdb):c(A,t.Iub))?5:4;break;case 4:var a7X=" k";a7X+="bps,";a7X+=" profil";a7X+="e :";var z2P="s";z2P+="electAudioStreamStarting";z2P+=": selected stream :";t=q[u[u.Ek]](x,v,w,y);z=z[t.Ug];g && d.log(z2P + z.bitrate + a7X + z.Hd);return t;break;case 2:(x=t,z=w.first,A=z[y || 0].Hd);S6G=1;break;case 5:var T6R="selectAudioStreamSta";T6R+="rt";T6R+="ing: overridi";T6R+="ng config with ";(x={minInitAudioBitrate:t.DV,minHCInitAudioBitrate:t.i8,maxInitAudioBitrate:t.qV,minRequiredAudioBuffer:t.k8},g && d.log(T6R + JSON.stringify(A)),h(A,x));S6G=4;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};D1B;e1u=4;break;}}})();},51835:function(r,b,a){var f,k,d,g,m,h;function c(n,p,q,u){g(!f.oh(u),"Must have at least one selected stream");return new h(u);}function l(n,p,q,u){g(!f.oh(u),"Must have at least one selected stream");return new h(u);}f=a(17267);b=a(95711);k=b.console;d=b.debug;g=b.assert;m=b.aM;h=b.Cn;r.exports={STARTING:function(n,p,q){var t,v,w,y;function u(x,z){var A,B,C,D;A=x.id;B=x.bitrate;C=x.mb || 0;D=!!C;d && k.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!x.lG)return (d && !x.fr && k.log("  Not available"),d && x.BB && k.log("  Failed"),!1);if(B > n.qV)return (d && k.log("  Above maxInitAudioBitrate (" + n.qV + " Kbps)"),!1);if(!(B * n.k8 / 8 < p.buffer.UE))return (d && k.log("  audio buffer too small to handle this stream"),!1);if(D){d && k.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(B * p.playbackRate < C / v)return (d && k.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && k.log(" bitrate requires more than available throughput");return !1;}x=n.DV;p.POb && (x=Math.max(x,n.i8));if(B <= x)return (d && k.log("  Bitrate is less than max of minInitAudioBitrate (" + n.DV + " Kbps) " + (p.POb?" and also minHCInitAudioBitrate (" + n.i8 + " Kbps)":"")),d && k.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && k.log("  No throughput history");return !1;}t=new h();v=n.Qdc || 1;y=q.first;for(w=y.length - 1;0 <= w;--w){q=y[w];if(u(q,w)){t.Ug=w;break;}m(q) && (t.Ug=w);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},11877:function(r,b,a){var l,f,k,d;function c(g,m,h,n){g=h.first;if(l.oh(n))n=f(g);else if(!k(g[n]) && (n=f(g,n),0 > n))return null;return new d(n);}l=a(17267);b=a(95711);f=b.Gma;k=b.aM;d=b.Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},18753:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(37353);b["default"]={PLAYING:r.bm,PAUSED:r.bm};},37353:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.bm=void 0;r=a(5163);c=r.__importStar(a(17267));l=r.__importDefault(a(95711));f=r.__importDefault(a(9498));k=a(35195);d=r.__importDefault(a(35471));g=l.default.assert;m=l.default.Cn;b.bm=h;(function(){var Q7w;Q7w=2;for(;Q7w !== 5;){switch(Q7w){case 2:var z6c="1SI";z6c+="YbZrNJC";z6c+="p";z6c+="9";b.bm=h=function(n,p,q,u,t,v,w){var O0y,y,x,z,A,B,C,J,M,H,L,K,O,I,F,G,E,D;O0y=2;for(;O0y !== 90;){switch(O0y){case 2:var x4t="pla";x4t+="y";x4t+="er missi";x4t+="ng fragment";x4t+="Index";var g55="Must have at least";g55+=" one select";g55+="ed stream";g(!c.oh(u),g55);g(c.yb(p.Ye),x4t);(x=n.o4b,z=q.first,A=new m(u),B=null !== (y=p.Ye) && void 0 !== y?y:-1);y=x[0].f;C=x[x.length - 1].f;O0y=8;break;case 73:C++;O0y=77;break;case 35:O0y=y < z.length?34:60;break;case 67:O0y=x[C].f < B?72:66;break;case 57:y=void 0;O0y=56;break;case 47:J=p.Ye;O0y=46;break;case 70:O0y=0 <= C?69:72;break;case 75:y=C;O0y=72;break;case 25:v=k.lq.eWa(p.buffer.La);v=p.buffer.UE - v.wa;w=z[u];x=z[u];O0y=21;break;case 72:B=y;O0y=20;break;case 8:O0y=B < y || B > C?7:6;break;case 39:H.push(M.tta);O0y=38;break;case 11:O0y=D === B?10:57;break;case 52:J=p.Ye;O0y=51;break;case 45:O+=K.get(J).Kd.G;O0y=65;break;case 76:O0y=x[C].f === B?75:74;break;case 28:M=C.Lb.tdigest;H.push(M.min);H.push(M.sta);O0y=42;break;case 7:return f.default.PLAYING.call(this,n,p,q,u,t,v,w);break;case 6:f9YlG.G6s(3);C=f9YlG.T5R(B,y);O0y=14;break;case 19:A.Ug=x[B].hic;O0y=18;break;case 18:A.Yf=z[A.Ug];O0y=17;break;case 10:B=C;O0y=20;break;case 34:C=z[y];B=y <= u?!0:!1;D=void 0;H=[];O0y=30;break;case 60:A.Vdc=q;O0y=59;break;case 71:--C;O0y=70;break;case 59:return A;break;case 69:O0y=x[C].f === B?68:67;break;case 21:y=0;O0y=35;break;case 30:C.Lb && C.Lb.throughput && (D=C.Lb.throughput.Ca);O0y=29;break;case 20:O0y=void 0 !== B?19:58;break;case 37:M=void 0;C.Lb && C.Lb.tputTrace && (M=C.Lb.tputTrace);(L=[],K=C.La,O=0);O0y=53;break;case 65:J++;O0y=46;break;case 46:O0y=J < K.length?45:64;break;case 58:return f.default.PLAYING.call(this,n,p,q,u,t,v,w);break;case 68:y=C;O0y=72;break;case 50:I=K.get(J);L.push({d:I.Kd.G,b:I.wa});O0y=48;break;case 29:O0y=C.Lb && C.Lb.tdigest?28:37;break;case 66:C--;O0y=70;break;case 48:J++;O0y=51;break;case 74:O0y=x[C].f > B?72:73;break;case 17:O0y=n.NEb?16:59;break;case 51:O0y=J < Math.min(J + n.Pub,K.length)?50:47;break;case 16:q=[];t=p.buffer;t=t.Il - t.Cd;O0y=25;break;case 61:y++;O0y=35;break;case 53:O0y=void 0 !== K?52:64;break;case 55:C+=1;O0y=77;break;case 77:O0y=C < x.length?76:72;break;case 56:O0y=D < B?55:71;break;case 14:0 > C && (C=0);C >= x.length && (C=x.length - 1);D=x[C].f;O0y=11;break;case 42:H.push(M.Pp);H.push(M.ln);H.push(M.Qp);O0y=39;break;case 64:K=void 0;p.Kvb && (K=d.default.time.xa() - p.Kvb);q.push({Ye:p.Ye,ejc:K,Ugc:O,Ydc:D,bjc:H,djc:M,JTa:t,EZa:v,tec:L,Agc:w.bitrate,Bgc:null !== (F=w.Cb) && void 0 !== F?F:0,Eec:C.bitrate,Fec:null !== (G=C.Cb) && void 0 !== G?G:0,wic:x.bitrate,xic:null !== (E=x.Cb) && void 0 !== E?E:0,R6:B});O0y=61;break;case 38:H.push(M.max);O0y=37;break;}}};z6c;Q7w=5;break;}}})();},53008:function(r,b,a){var l;function c(f,k,d){return new l(d.first.length - 1);}a(17267);l=a(95711).Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},96361:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(77175);b["default"]={PLAYING:r.bm,PAUSED:r.bm};},77175:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bm=void 0;r=a(5163).__importDefault(a(95711));c=r.default.console;l=r.default.Cn;b.bm=f;(function(){var B02;B02=2;for(;B02 !== 5;){switch(B02){case 2:var G6E="1SI";G6E+="Y";G6E+="bZrNJC";G6E+="p9";b.bm=f=function(k,d,g,m){var W8e,u,h,n,p,q;W8e=2;for(;W8e !== 10;){switch(W8e){case 14:n.Ug=k;W8e=11;break;case 8:u=g[k];W8e=7;break;case 9:W8e=-1 < k?8:11;break;case 2:(n=new l(m),p=d.buffer.il);g=g.first;f9YlG.G6s(6);var W0J=f9YlG.T5R(14,15,2);q=k.Ndb * Math.pow(Math.min(W0J,(d.buffer.Il - d.buffer.Cd) / k.wG),k.Mdb);k=void 0 === this.fM || p - this.fM > k.dV?g.length - 1:m;W8e=3;break;case 6:W8e=(m=u.Lb.mb.Ca,p=u.bitrate,u=u.Eua(null !== (h=d.Ye) && void 0 !== h?h:-1),p * d.playbackRate < m * q && u)?14:13;break;case 13:--k;W8e=9;break;case 12:var x57="Stream has";x57+=" no throughput ";x57+="stat";x57+="istics";c.warn(x57);W8e=13;break;case 7:W8e=u.Lb && u.Lb.mb?6:12;break;case 11:return n;break;case 3:n.Ug=0;W8e=9;break;}}};G6E;B02=5;break;}}})();},42102:function(r,b,a){var l;function c(){return new l(0);}a(17267);l=a(95711).Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},9498:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(496);c=a(78501);a=a(17468);b["default"]={STARTING:a.$ab,BUFFERING:r.C$,REBUFFERING:r.C$,PLAYING:c.bm,PAUSED:c.bm};},496:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.C$=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(42866);r=r.__importDefault(a(95711));f=a(78501);k=r.default.assert;d=r.default.Cn;b.C$=g;(function(){var M7o;function m(h,n,p,q){var o$p,x,t,v,w,y;o$p=2;for(;o$p !== 19;){switch(o$p){case 14:x=null === v || void 0 === v?void 0:v.mb;o$p=12;break;case 4:o$p=v.mb?3:12;break;case 8:o$p=void 0 === v?7:13;break;case 7:v=t[0];o$p=6;break;case 12:q=new d();q.Yf=v;p !== v && (q.reason=y,q.ky=x);return q;break;case 2:var v7s="Must hav";v7s+="e at least one selected st";v7s+="ream";k(!c.oh(q),v7s);(t=p.first,v=t[q],w=v.bitrate);p=v;o$p=4;break;case 13:var y7f="select_fea";y7f+="s";y7f+="ible";y7f+="_buffer";y7f+="ing";y=y7f;o$p=14;break;case 3:q=Math.min(q + (h.wtb?2:1),t.length);v=(0,l.wc)(t.slice(0,q).reverse(),u);o$p=8;break;case 6:var X2Z="fallba";X2Z+="ck_lowest_a";X2Z+="cceptable_str";X2Z+="eam";y=X2Z;o$p=14;break;}}function u(z){var x6_,A;x6_=2;for(;x6_ !== 8;){switch(x6_){case 2:A=z.mb;x6_=1;break;case 1:x6_=!A || (z.bitrate > w?h.J7b:1) * z.bitrate * n.playbackRate > A?5:4;break;case 5:return !1;break;case 4:var a8P="buff_l";a8P+="t_";a8P+="hist";y=a8P;x=A;return !0;break;}}}}M7o=2;for(;M7o !== 5;){switch(M7o){case 2:var U1P="1S";U1P+="I";U1P+="YbZrNJCp9";b.C$=g=function(h,n,p,q,u,t,v){var l6E;l6E=2;for(;l6E !== 1;){switch(l6E){case 2:var C9w="p";C9w+="lay";C9w+="ing";return C9w === h.Yia?f.bm.call(this,h,n,p,q,u,t,v):m.call(this,h,n,p,q);break;}}};U1P;M7o=5;break;}}})();},78501:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.yla=b.R6=b.bm=void 0;r=a(5163);l=r.__importStar(a(17267));f=a(42866);k=a(35195);d=r.__importDefault(a(89956));g=r.__importDefault(a(95711));m=r.__importDefault(a(22774));h=a(27364);n=a(11983);p=g.default.assert;q=g.default.Cn;b.bm=(c=(function(){var Y4Y;Y4Y=2;function v(w,y,x){var G21,z;G21=2;for(;G21 !== 3;){switch(G21){case 2:G21=!x.mb?1:5;break;case 8:G21=~x.mb?3:1;break;case 1:return w.w6a;break;case 5:z=(x.D5b || x.mb) / x.mb;return 1 >= z?w.Era:Math.min(Math.max((w.n3b * Math.min(8 * y / x.bitrate,w.CG) - w.By) / (z - 1),w.w6a),w.Era);break;case 7:return w.w6a;break;}}}function t(w,y,x){var l0V;l0V=2;for(;l0V !== 4;){switch(l0V){case 2:w=new q();w.Yf=x[0];return w;break;}}}for(;Y4Y !== 5;){switch(Y4Y){case 2:var A6h="1SI";A6h+="Yb";A6h+="Z";A6h+="rNJCp9";A6h;return {R6:u,bm:function(w,y,x,z,A,B,C){var q3L,F,G,E,H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa,D;q3L=2;for(;q3L !== 17;){switch(q3L){case 8:(F=x.first,G=new q(),E=A=F[z],H=y.buffer.fb,M=y.buffer.Cd,L=y.buffer.il,K=y.buffer.Il,O=y.Ye,J=K - M,I=this.xe.h4a || d.default.x_.Ek,N=y.state === h.Fb.ke || y.state === h.Fb.Rh?y.buffer.xr:0,R=w.tM,U=null !== (D=w.By) && void 0 !== D?D:1E3);q3L=7;break;case 10:p(Aa.length === ua.length);Aa[z]()?z + 1 < F.length && J > w.Ay && (void 0 === this.fM || this.zqa && this.zqa > this.fM || L - this.fM > w.dV && J > w.hra) && (A=(0,f.pia)(F.slice(z + 1,D),function(La,Xa){var d3D;d3D=2;for(;d3D !== 1;){switch(d3D){case 2:return Aa[z + 1 + Xa]();break;case 4:return Aa[z - 8 - Xa]();break;}}})):A.La && A.La.length && (A=(0,f.pia)(F.slice(0,z),function(La,Xa){var v9l;v9l=2;for(;v9l !== 1;){switch(v9l){case 4:return Aa[Xa]();break;case 2:return Aa[Xa]();break;}}}),D=F[0],A && A.Zt < D.Zt || !A) && (A=D);G.Yf=A || E;return G;break;case 14:x.Qma(function(La,Xa,ab){var U7w,aa;U7w=2;for(;U7w !== 5;){switch(U7w){case 2:void 0 !== ab && (La=La[ab],null !== (aa=La.La) && void 0 !== aa && aa.length || (La.Axa=!0));U7w=5;break;}}});(ra=k.lq.eWa(y.buffer.La),ka=y.buffer.UE - ra.wa);D=(w.jxa || C) && J >= w.lza?F.length:z + 2;(ua=(function(La){var V$f,F4w;V$f=2;for(;V$f !== 4;){switch(V$f){case 3:V$f=5;break;case 2:var R0t="va";R0t+="ria";R0t+="ble";F4w=w.hxa;V$f=F4w === R0t?1:3;break;case 1:return F.slice(0,La).map(function(Xa){var Q9D;Q9D=2;for(;Q9D !== 1;){switch(Q9D){case 4:return [v(w,y.buffer.UE,Xa),3];break;case 2:return [v(w,y.buffer.UE,Xa),0];break;}}});break;case 5:return F.slice(0,La).map(function(Xa,ab){var x79;x79=2;for(;x79 !== 1;){switch(x79){case 2:return ab < z?[w.Xoa,w.cra]:ab === z?[w.Woa,w.bra]:[w.Yoa,w.dra];break;}}});break;}}})(D),Aa=F.slice(0,D).map(function(La,Xa){var j2$=f9YlG;var e34,ab;e34=2;for(;e34 !== 5;){switch(e34){case 2:j2$.L4_(15);ab=j2$.T5R(Xa,z);return function(){var L81,aa,na,Ca,Ra,Q,da,P,Y,sa;L81=2;for(;L81 !== 5;){switch(L81){case 2:a:{j2$.G6s(3);aa=Math.max(j2$.u_w(Xa,1),0);na=ua[Xa][1];Ca=y.playbackRate;Ra=x.W0a(Xa,O,ua[Xa][0]);Q=Ra.ieb;Ra=Ra.Xcb;j2$.G6s(2);na=x.W0a(aa,j2$.u_w(O,Q),na);aa=na.ieb;da=na.Xcb;na=Ra[0].stream;P=na.mb || 0;Y=na.La && na.La.length;sa=C?w.ZFb:Y?w.U4:w.$Fb;sa=ab?w.sma:sa;if(ja && !ja.V4 && ja.mb >= P && ja.bitrate <= na.bitrate){Q=!1;}else {ab || Y || (na.Axa=!0);if(!ab || !Y)if(Y && !w.maa){if(P >= Math.max(na.Iv * Ca,na.bitrate * Ca * sa) && na.tv){Q=!0;break a;}}else if(P >= na.bitrate * Ca * sa){Q=!0;break a;}Ca=!w.kka || na === E || na.Wb === E.Wb && B?0:(Ca=na.Lb) && Ca.th && Ca.th.Ca?Ca.th.Ca + w.gka * (Ca.th.Je?Math.sqrt(Ca.th.Je):0):0;(Q=u(w,F,Ra,da,ra,M + Ca - H,R,K - H,L - H,O,ra.length,N,ka,Q,aa,U,y.v4,y.playbackRate)) && Q.result && (G.Jgc=Q.hV);ja={V4:Q && Q.result,mb:P,bitrate:na.bitrate};Q=Q && Q.result;}}return Q;break;}}};break;}}}));q3L=10;break;case 7:q3L=I === d.default.x_.cob || !A.mb?6:14;break;case 6:return t.call(this,y,w,F,A);break;case 2:var g4H="Must";g4H+=" have at lea";g4H+="st one selected stream";p(!l.oh(z),g4H);void 0 === y.Ye && (y.Ye=0);q3L=4;break;case 4:var g$j="nu";g$j+="m";g$j+="b";g$j+="e";g$j+="r";var R76="n";R76+="umbe";R76+="r";var t3q="inv";t3q+="al";t3q+="id pla";t3q+="yer fragmentIndex";p(l.yb(y.Ye),t3q);p(R76 === typeof y.buffer.UE);p(g$j === typeof y.v4);q3L=8;break;}}},yla:v};break;}}function u(w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O,J,I){var I1T,U,ja,ra,R,N,ka;I1T=2;for(;I1T !== 17;){switch(I1T){case 14:return !1;break;case 6:I1T=!N || N < y.bitrate * I * w.Voa || !ja?14:13;break;case 4:var l8f="First stream";l8f+=" und";l8f+="efined";p(y,l8f);N=y.mb;(U=D - B,ja=y.La && y.La.length,ra=(null === R || void 0 === R?void 0:R.La) && (null === R || void 0 === R?void 0:R.La.length));p(A.length === E);w.jra && (O=Math.min(O,U));I1T=6;break;case 1:y=x[0].stream;R=null === (N=z[0]) || void 0 === N?void 0:N.stream;I1T=4;break;case 2:I1T=1;break;case 13:ra || (R=y);ka=new n.dNa(A);L=Math.max(0,Math.min(L,y.La.length - G));K=Math.max(0,Math.min(K,R.La.length - G - L));I1T=20;break;case 20:x.forEach(function(ua){var I$d,Aa,La;I$d=2;for(;I$d !== 4;){switch(I$d){case 2:(Aa=ua.stream,La=ua.blocks);ua=ua.Ye;l.yb(ua) && Aa.La && ka.add(Aa.La.Ir.subarray(ua,ua + La));I$d=4;break;}}});z.forEach(function(ua){var f4K,Aa,La;f4K=2;for(;f4K !== 4;){switch(f4K){case 2:(Aa=ua.stream,La=ua.blocks);ua=ua.Ye;0 < K && l.yb(ua) && Aa.La && ka.add(Aa.La.Ir.subarray(ua,ua + La));f4K=4;break;}}});return 0 < L || 0 < K?(0,m.default)({sHb:ka,blocks:E + L + K,Cd:B,Il:D,s3b:C,xr:H,il:F,Ye:E,TGb:E + L,v4:J,EZa:M,mb:N / I,TSb:O,cC:w.cC,uPb:w.maa,kEb:!1}):N > y.Iv?{result:!0,hV:0,tv:!0}:{result:!1,hV:0,tv:!0};break;}}}})(),c.bm);b.R6=c.R6;b.yla=c.yla;},17468:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.JOb=b.$ab=void 0;c=a(5163);l=c.__importStar(a(17267));f=a(42866);k=a(65877);d=c.__importDefault(a(35471));r=c.__importStar(a(53265));a=c.__importDefault(a(95711));g=a.default.sTb;m=a.default.Wvb;h=a.default.uK;n=a.default.Cn;p=r.ncb;a=(function(){function t(A,B){var J0n,C,D;J0n=2;for(;J0n !== 13;){switch(J0n){case 2:J0n=A.E6?1:14;break;case 6:return Math.floor(A.d + (C.d - A.d) * (B - A.r) / (C.r - A.r));break;case 4:return C[0].d;break;case 9:return C[C.length - 1].d;break;case 14:return A.qr;break;case 3:J0n=-1 === D?9:8;break;case 5:J0n=0 === D?4:3;break;case 8:f9YlG.G6s(3);A=C[f9YlG.T5R(D,1)];C=C[D];J0n=6;break;case 1:(C=A.E6,D=(0,f.av)(C,function(F){var z3p;z3p=2;for(;z3p !== 1;){switch(z3p){case 4:return B > F.r;break;case 2:return B <= F.r;break;}}}));J0n=5;break;}}}function z(A,B,C,D){var C4J,F;C4J=2;for(;C4J !== 7;){switch(C4J){case 5:return A.HR?w(A,B,C,D):x(A,B,C,D);break;case 4:var t0t="hist";t0t+="_bit";t0t+="rate";A=new n();A.Yf=(0,f.wc)(C.slice().reverse(),function(G){var K_K;K_K=2;for(;K_K !== 1;){switch(K_K){case 2:return G.bitrate <= F;break;case 4:return G.bitrate > F;break;}}}) || C[0];A.reason=t0t;C4J=8;break;case 8:return A;break;case 1:var m9n="n";m9n+="u";m9n+="mb";m9n+="e";m9n+="r";C4J=m9n !== typeof F?5:4;break;case 2:var e8o="v";e8o+="b";F=d.default.storage.get(e8o);C4J=1;break;}}}function w(A,B,C){var J_g,D,F,G,E,H,M;J_g=2;for(;J_g !== 19;){switch(J_g){case 2:(D=!!A.Ct && !!A.W5a && C.every(function(L){var O9e;O9e=2;for(;O9e !== 1;){switch(O9e){case 2:return L.Cb && 110 >= L.Cb;break;case 4:return L.Cb || 393 <= L.Cb;break;}}}),F=null,G=C.length - 1);J_g=1;break;case 12:G--;J_g=1;break;case 1:J_g=0 <= G && (D?C[G].Cb >= A.Ct:C[G].bitrate >= A.Bt)?5:11;break;case 14:J_g=E?11:13;break;case 5:E=C[G];F=q(E,A);(H=u(E.bitrate * B.playbackRate,F.ky,A),M=v(F.ky,A));M=y(E,F.ky,D,H,M,A);E=M.V4;M=M.reason;F.A2a=H;J_g=14;break;case 13:F.reason=M;J_g=12;break;case 11:var T3p="fallba";T3p+="ck_no_acceptable_st";T3p+="ream";var M6A="below_minInitVideo";M6A+="Bit";M6A+="rate";l.tc(F) && C[G].bitrate < A.Bt && (F=q(C[G],A),F.reason=M6A);l.tc(F) && (F=q(C[0],A),F.reason=T3p);return F;break;}}}function u(A,B,C){var L59;L59=2;for(;L59 !== 5;){switch(L59){case 2:A=m(C.ur,A * C.X7);return g(A,B);break;}}}var c5C;function y(A,B,C,D,F,G){var U3O;U3O=2;for(;U3O !== 5;){switch(U3O){case 2:var N7s="no";N7s+="_vali";N7s+="d_Bi";N7s+="trate";var i$p="no";i$p+="_v";i$p+="alid_VMAF";var F6R="n";F6R+="o_valid_DelayTa";F6R+="r";F6R+="get";A=C?A.Cb >= G.Ct && A.Cb <= G.W5a:A.bitrate >= G.Bt && A.bitrate <= G.Fy;return (D=D < F && A)?{V4:D}:{V4:D,reason:A?F6R:C?i$p:N7s};break;}}}c5C=2;function x(A,B,C){var c6S,D,F;c6S=2;for(;c6S !== 4;){switch(c6S){case 2:(D=new n(),F=Math.max(A.Bt,A.e8));c6S=1;break;case 1:D.Yf=(0,f.wc)(C.filter(function(G){var K6z;K6z=2;for(;K6z !== 1;){switch(K6z){case 2:return G.bitrate <= A.Fy;break;}}}).reverse(),function(G){var a3H,E,H;a3H=2;for(;a3H !== 6;){switch(a3H){case 2:E=G.mb;a3H=1;break;case 7:var V3Z="no_hi";V3Z+="storical_";V3Z+="lte_m";V3Z+="inbitr";V3Z+="ate";var k5H="hist";k5H+="_tput_lt_minbitr";k5H+="ate";var P4s="l";P4s+="t_hi";P4s+="st";P4s+="_lte_minbitr";P4s+="ate";E && G.bitrate * B.playbackRate <= E?(D.ky=E,D.reason=P4s,E=!0):E?(D.ky=E,D.reason=k5H,E=!1):(D.reason=V3Z,E=!0);a3H=9;break;case 1:a3H=G.bitrate > F?5:7;break;case 5:a3H=(G=G.bitrate * B.playbackRate,E)?4:8;break;case 4:H=t(A,G);a3H=3;break;case 8:E=!1;a3H=9;break;case 3:var I89="his";I89+="t_";I89+="bufftime";u(G,E,A) <= H?(D.ky=E,D.reason=I89,E=!0):E=!1;a3H=9;break;case 9:return E;break;}}}) || C[0];return D;break;}}}function q(A,B){var l4d,D,F,C;l4d=2;for(;l4d !== 11;){switch(l4d){case 5:D=C.Yf.Lb;C.Lb=D;A=0;D=null === D || void 0 === D?void 0:D.aj;l4d=7;break;case 14:var S5y="hi";S5y+="st";S5y+="_throughp";S5y+="ut";var a$v="h";a$v+="ist_t";a$v+="d";a$v+="ige";a$v+="st";F?(A=D.wi(B.D$ / 100) || C.Yf.mb,C.reason=a$v):C.Yf.mb && (A=C.Yf.mb,C.reason=S5y);C.ky=A;return C;break;case 6:(F=k.KNa.AKb(D),l.Kp(F)?(D.wi=F,F=!0):F=!1);l4d=14;break;case 2:C=new n();C.Yf=A;l4d=5;break;case 7:l4d=(F=l.yb(B.D$) && 0 <= B.D$ && 100 >= B.D$ && D)?6:14;break;}}}function v(A,B){var M0Y=f9YlG;var V6v,C;V6v=2;for(;V6v !== 9;){switch(V6v){case 1:var b6r="l";b6r+="o";b6r+="g";V6v=0 === B.QN.lastIndexOf(b6r,0)?5:3;break;case 2:M0Y.L4_(16);var A9v=M0Y.T5R(18,90934,9091,12,19);M0Y.G6s(1);var w5z=M0Y.u_w(9,984,7);A=h(A,0,A9v) / w5z;V6v=1;break;case 5:C=B.QN;V6v=4;break;case 4:return (C=B.abb[C]) && 2 === C.length?1E3 * (C[0] + C[1] * Math.log(1 + A)):B.qr;break;case 7:M0Y.G6s(17);var K50=M0Y.T5R(4,0,3,2,5);M0Y.G6s(2);var F3F=M0Y.u_w(19,231);M0Y.L4_(6);var M30=M0Y.u_w(9940,9243,13);A=h(A,K50,F3F) * M30;V6v=2;break;case 3:var d53="si";d53+="g";d53+="m";d53+="oid";return 0 === B.QN.lastIndexOf(d53,0)?(C=B.QN,(C=B.abb[C]) && 2 === C.length?1E3 * (C[0] + C[1] * p(A)):B.qr):B.qr;break;}}}for(;c5C !== 5;){switch(c5C){case 2:var a26="1SIYbZrN";a26+="JCp";a26+="9";a26;return {orb:function(A,B,C,D){var U$v;U$v=2;for(;U$v !== 5;){switch(U$v){case 2:var s$r="his";s$r+="to";s$r+="r";s$r+="ica";s$r+="l";C=C.first;return C.some(function(F){var j0X;j0X=2;for(;j0X !== 1;){switch(j0X){case 2:return F.ba;break;}}})?x(A,B,C,D):s$r === A.xpa?z(A,B,C,D):A.HR?w(A,B,C,D):x(A,B,C,D);break;}}},Kpb:y};break;}}})();r=a.Kpb;b.$ab=a.orb;b.JOb=r;},22774:function(r,b,a){var b70="defau";b70+="l";b70+="t";var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);c.__importStar(a(17267));l=a(95711);b[b70]=function(f){var b6f=f9YlG;var x5$,H,M,L,K,O,J,I,G,E,F,k,d,g,m,h,n,p,q,u,t,v,w,y,x,z,A,B,C,D;x5$=2;for(;x5$ !== 50;){switch(x5$){case 40:++H;x5$=39;break;case 23:I--;q=M[H];B=L[H];x5$=35;break;case 25:(H=G[1],M=k.aU(D),L=k.zL(D),K=0,O=k.aU(K),J=k.zL(K),I=B - q);x5$=24;break;case 33:x5$=v < F?32:31;break;case 6:G=k.zL(0)[0];b6f.G6s(18);h=b6f.u_w(A,h,G,1E3);b6f.G6s(19);w=b6f.u_w(w,0,8);x5$=12;break;case 52:return (f && n.push(G / (A / 1E3)),c.__assign({result:!1,hV:Math.min(G,m) / (A / 1E3),tv:!0},f && ({f3:n})));break;case 42:x5$=h < g && d < H?41:40;break;case 29:b6f.G6s(3);G=b6f.u_w(p,g);x5$=28;break;case 35:x5$=v < q?34:53;break;case 12:var A0w=" >";A0w+="= ";A0w+="fragmentsL";A0w+="ength: ";var E$O="St";E$O+="reamingIn";E$O+="de";E$O+="x: ";b6f.L4_(4);E=b6f.T5R(A,1E3);q >= B && l.console.error(E$O + q + A0w + B);g+=D;x5$=20;break;case 51:return c.__assign({result:!0,hV:m / (A / 1E3),tv:!0},f && ({f3:n}));break;case 43:v-=q;x5$=42;break;case 31:x5$=!z && (G=p - g,G < x)?30:29;break;case 39:x5$=H >= u && G > C?51:38;break;case 54:m=Math.min(G,m);x5$=24;break;case 32:(g=h,v+=O[d],++d,d >= O.length && ++K < k.length && (O=k.aU(K),J=k.zL(K),d=0),G=J[d],h+=G);x5$=33;break;case 53:x5$=(G=Math.max(p - g,0),G < y && G < F)?52:28;break;case 34:F=Math.max(q,t);x5$=33;break;case 30:return (f && n.push(G / (A / 1E3)),c.__assign({result:!1,hV:G / (A / 1E3),tv:!1},f && ({f3:n})));break;case 41:(v+=O[d],++d,d >= O.length && ++K < k.length && (O=k.aU(K),J=k.zL(K),d=0));x5$=42;break;case 24:x5$=I?23:51;break;case 20:0 === p && (g=0);b6f.G6s(4);g*=b6f.u_w(A,1E3);b6f.G6s(4);p*=b6f.u_w(A,1E3);b6f.G6s(4);x*=b6f.T5R(A,1E3);b6f.G6s(4);y*=b6f.T5R(A,1E3);b6f.G6s(4);C*=b6f.u_w(A,1E3);x5$=27;break;case 28:b6f.L4_(20);g+=b6f.T5R(0,w,q,E);p+=B;x5$=43;break;case 3:n=[];m=Infinity;F=0;d=0;x5$=6;break;case 38:H >= M.length && ++D < k.length && (u-=M.length,M=k.aU(D),L=k.zL(D),H=0);f && n.push(G / (A / 1E3));F=G;x5$=54;break;case 27:G=c.__read(k.tKb(q),2);D=G[0];x5$=25;break;case 2:var p9E="1SIYbZr";p9E+="NJ";p9E+="C";p9E+="p";p9E+="9";(k=f.sHb,d=f.blocks,g=f.Cd,m=f.Il,h=f.s3b,n=f.xr,p=f.il,q=f.Ye,u=f.TGb,t=f.v4,v=f.EZa,w=f.mb,y=f.TSb,x=f.cC,z=f.uPb);f=f.kEb;p9E;(A=k.N,B=Math.min(k.tHb,d),C=m - g,D=8 * n / w | 0);x5$=3;break;}}};},68474:function(r,b,a){var l;function c(f,k,d){f=d.first.map(function(g,m){return g.lG?m:null;}).filter(function(g){return null !== g;});return f.length?new l(f[Math.floor(Math.random() * f.length)]):null;}l=a(95711).Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},89583:function(r,b,a){var l,f,k,d;function c(g,m,h){var n,p;n=h.first;h=this.Fga;m=m.buffer.il;p="forward" === g.D0b;if(l.oh(h))return (h=p?f(n):f(n,n.length),this.Gga=m,this.Fga=h,new d(h));k(n[h]) || (h=f(n,h),this.Gga=m,this.Fga=h);if(0 > h)return null;if(m > this.Gga + g.G5b){g=n.map(function(q,u){return q.lG?u:null;}).filter(function(q){return null !== q;});if(!g.length)return null;p?h=(g.indexOf(h) + 1) % g.length:(h=g.indexOf(h) - 1,0 > h && (h=g.length - 1));this.Fga=g[h];this.Gga=m;return new d(g[h]);}return new d(h);}l=a(17267);b=a(95711);f=b.Gma;k=b.aM;d=b.Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},1614:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){var q;q=p.first;g=q;m=q.map(function(u,t){return t;});if(null === d)return (h=f(q),d=q[h].bitrate,new k(h));if(!q.length)return null;h=m.filter(function(u){return q[u].bitrate == d;})[0];return void 0 === h?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new k(m[0])):new k(h);}b=a(95711);a=a(35471)["default"];l=b.console;f=b.Gma;k=b.Cn;d=null;g=null;m=null;a.Vwb && (a.Vwb.gl={Bb:function(){m=g=d=null;},bbb:function(h){d=h;},Qfc:function(){return {all:g,vfb:m};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},61706:function(r,b,a){(function(){var T$g,k,d,l,f;T$g=2;for(;T$g !== 6;){switch(T$g){case 4:var u4j="de";u4j+="f";u4j+="a";u4j+="u";u4j+="lt";a(35471);(k=f.assert,d=f.Cn);f=a(9498)[u4j];r.exports={STARTING:f.STARTING,BUFFERING:f.BUFFERING,REBUFFERING:f.REBUFFERING,PLAYING:c,PAUSED:c};T$g=7;break;case 2:l=a(17267);a(89956);f=a(95711);T$g=4;break;case 7:var a6E="1SIYbZrNJ";a6E+="Cp";a6E+="9";a6E;T$g=6;break;}}function c(g,m,h,n){var f95,p;f95=2;for(;f95 !== 11;){switch(f95){case 2:var a9T="pla";a9T+="yer";a9T+=" ";a9T+="missing fragmentIndex";var a2g="Must";a2g+=" have at least o";a2g+="ne sele";a2g+="cted";a2g+=" stream";k(!l.oh(n),a2g);k(l.yb(m.Ye),a9T);m=d(n);h=h.first;f95=3;break;case 8:p=h[n];f95=7;break;case 3:f9YlG.G6s(21);var j_U=f9YlG.u_w(3,4);n=h.length - j_U;f95=9;break;case 7:f95=p.Lb && p.Lb.mb && p.bitrate < p.Lb.mb.Ca - g.B5b?6:14;break;case 9:f95=-1 < n?8:13;break;case 6:return (m.Ug=n,m);break;case 13:m.Ug=0;return m;break;case 14:--n;f95=9;break;}}}})();},22288:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Yka=b.E$=b.dbb=void 0;r=a(27364);b.dbb=[r.Fb[r.Fb.Ek],r.Fb[r.Fb.Me],r.Fb[r.Fb.tl],r.Fb[r.Fb.ke],r.Fb[r.Fb.Rh],"checkBuffering"];c=a(1614);b.E$={first:function(){return a(11877);},random:function(){return a(68474);},optimized:function(){return a(9498)["default"];},roundrobin:function(){return a(89583);},selectaudio:function(){return a(51835);},selectaudioadaptive:function(){return a(71888);},"default":function(){return a(9498)["default"];},lowest:function(){return a(42102);},highest:function(){return a(53008);},throughputthreshold:function(){return a(61706);},replay:function(){return a(18753)["default"];},checkdefault:function(){return a(62711);},livesimple:function(){return a(96361)["default"];},testscript:function(){return c;}};b.Yka={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};},11983:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dNa=void 0;r=(function(){function a(c){this.Ir=[];this.Ir.push(c);}Object.defineProperties(a.prototype,{N:{get:function(){return this.Ir[0].N;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Ir.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tHb:{get:function(){var c;return null !== (c=this.opb) && void 0 !== c?c:this.opb=this.Ir.reduce(function(l,f){return l + f.length;},0);},enumerable:!1,configurable:!0}});a.prototype.zL=function(c){return this.Ir[c].bf;};a.prototype.aU=function(c){return this.Ir[c].sizes;};a.prototype.add=function(c){this.Ir.push(c);};a.prototype.tKb=function(c){var f;for(var l=0;0 <= c;){f=this.Ir[l];if(c < f.length)break;l++;c-=f.length;}return [l,c];};return a;})();b.dNa=r;},94656:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cfa=void 0;c=a(5163);l=a(36418);a(62558);c.__importDefault(a(95711));r=(function(){function f(k,d,g,m){this.bf=k;this.N=g;this.length=Math.min(k.length,d.length);this.ym=d;this.ic=m;}Object.defineProperties(f.prototype,{wa:{get:function(){return void 0 !== this.ic?this.ic:this.ic=this.Mfa();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sizes:{get:function(){return this.ym;},enumerable:!1,configurable:!0}});f.prototype.subarray=function(k,d){return new f(this.bf.subarray(k,d),this.sizes.subarray(k,d),this.N);};f.prototype.concat=function(){var g,m;for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}d=[this];k=d.concat.apply(d,c.__spreadArray([],c.__read(k),!1));d=k.reduce(function(h,n){return h + n.length;},0);g=new Uint32Array(d);m=new Uint32Array(d);d=k[0].N;k.reduce(function(h,n){l.sfa.set(g,n.bf,h);l.sfa.set(m,n.sizes,h);return h + n.length;},0);return new f(g,m,d);};f.prototype.Mfa=function(){for(var k=this.sizes,d=this.length,g=0,m=0;m < d;++m){g+=k[m];}return g;};f.prototype.k3a=function(k){return void 0 === this.Krb?!1:0 < this.Krb[k];};return f;})();b.cfa=r;},74976:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.pQ=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(42866);f=r.__importDefault(a(89956));k=r.__importDefault(a(35471));d=a(27364);g=a(89659);m=a(22288);h=a(75449);n=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");a=(function(){var p83;p83=2;for(;p83 !== 13;){switch(p83){case 14:return p;break;case 8:p.prototype.h5=function(q,u){var b27,t;b27=2;for(;b27 !== 3;){switch(b27){case 7:b27=6 >= t?1:4;break;case 1:b27=0 <= t?5:3;break;case 8:t=q.length + 0;b27=3;break;case 2:f9YlG.G6s(22);var O3s=f9YlG.T5R(12,2,15,64,12);t=q.length - O3s;b27=1;break;case 4:--t;b27=1;break;case 5:u(q[t],t,q);b27=4;break;case 14:++t;b27=4;break;}}};Object.defineProperties(p.prototype,{fM:{get:function(){var g5_;g5_=2;for(;g5_ !== 1;){switch(g5_){case 2:return this.Dga;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zqa:{get:function(){var F3u;F3u=2;for(;F3u !== 1;){switch(F3u){case 2:return this.Hga;break;case 4:return this.Hga;break;}}},enumerable:!1,configurable:!0}});p83=14;break;case 2:p.prototype.bbb=function(q,u,t,v,w,y,x){var d87,J,O,z,A,B,C,D,F,G,E,H,M,L,D$C,K;d87=2;for(;d87 !== 50;){switch(d87){case 12:d87=!K || null === K.Ug?11:10;break;case 29:K.wUb=O && O.mb && O.mb.Ca || 0;K.JTa=F.Il - F.Cd;d87=44;break;case 21:J=[];y.forEach(function(I){var Z64,N;Z64=2;for(;Z64 !== 4;){switch(Z64){case 2:N=I.stat;N=(I=O[I.filter]) && I[N];Z64=5;break;case 5:J.push(isNaN(N)?-1:N);Z64=4;break;}}});d87=34;break;case 26:var z0U="p";z0U+="layi";z0U+="ng";q.state !== d.Fb.ke && q.state !== d.Fb.Rh?(H=(0,g.Z8a)(q.state),y=this.q3(q.buffer,H,q.playbackRate,u,y),(K.Fm=y.complete)?K.Bvb=y.reason:(K.Fm=!1,K.DN=y.DN,K.fra=y.fra,K.progress=y.progress)):(K.Fm=!0,K.Bvb=z0U);d87=25;break;case 22:d87=O && y && 0 < y.length?21:33;break;case 52:d87=51;break;case 41:K.Nr=G;d87=40;break;case 40:K.NC=k.default.time.xa();d87=39;break;case 34:K.GXb=J;d87=33;break;case 38:d87=D$C === d.Fb.Me?37:36;break;case 25:d87=q.ZS?24:39;break;case 9:this.Hga=this.Dga=void 0;d87=8;break;case 10:var d8i="mi";d8i+="n_fra";d8i+="gmen";d8i+="t_vmaf";void 0 === K.VSb?this.xe.tX(K.Ug):this.xe.tX(K.VSb);u=H[K.Ug];K.xW=u.mb || 0;K.Lb=u.Lb;K.reason && (u.Wt=K.reason,d8i !== K.reason && (u.vic=K.ky,u.A2a=K.A2a,u.dgc=null === (z=K.Lb) || void 0 === z?void 0:z.v2,u.egc=null === (A=K.Lb) || void 0 === A?void 0:A.aj));d87=16;break;case 39:return K;break;case 24:O=u.Lb;y=E.UQa;d87=22;break;case 16:w=this.rSb(K,H,u,F,q,x,w);K.Ft=w || K.Ft;c.yb(L) && u.bitrate < H[L].bitrate && (this.Dga=F.il);d87=26;break;case 37:this.xe.Ebb(f.default.x_.Ek);d87=7;break;case 54:d87=D$C === d.Fb.ke?7:53;break;case 2:(F=null === q || void 0 === q?void 0:q.buffer,G=k.default.time.xa(),E=this.Z,H=u.first,M=this.qSb(q,u),L=M.Ug);M=M.XGb;q.state === d.Fb.Ek && c.yb(L) && (q.state=d.Fb.Me);d87=4;break;case 51:var t$3="Stream selector call";t$3+="ed";t$3+=" with invalid player state ";return (n.error(t$3 + d.Fb[q.state]),null);break;case 3:D$C=q.state;d87=D$C === d.Fb.Ek?9:38;break;case 44:K.Nvb=F.Do;K.lXb=null !== (D=null === (C=null === (B=k.default.Ofc) || void 0 === B?void 0:B.call(k.default)) || void 0 === C?void 0:C[q.mediaType === d.u.X?1:0]) && void 0 !== D?D:-1;K.Zj=q && q.Zj;d87=41;break;case 36:d87=D$C === d.Fb.tl?37:54;break;case 11:return null;break;case 8:this.xe.Ebb(f.default.x_.Ek);d87=7;break;case 4:q.state !== d.Fb.Ek && void 0 === L && (q.state=d.Fb.Ek);d87=3;break;case 33:K.il=F.il;y=q && q.Ye;H=u.La;K.Ps=H && void 0 !== y && !isNaN(y) && 0 <= y && y < H.length?H.em(y):F.il;d87=29;break;case 7:void 0 !== v && this.m9a(u,q.state,q.buffer,v);K=this.dPa[d.Fb[q.state]].call(this,E,q,u,L,v,!!w,M,t);K.vg=q.state;K.Yf && (K.jF=[],u.cHb(function(I,N){var z6I;z6I=2;for(;z6I !== 5;){switch(z6I){case 2:I === K.Yf?K.Ug=N:(I.Axa || E.iEb && (!I.La || !I.La.length)) && K.jF.push(I.Qb);I.Axa=!1;z6I=5;break;}}}),!K.jF.length && E.x3b && F.Il - F.Cd > E.g8 && !K.Yf.ba && (u=void 0,t=K.Ug + 1,t=t < H.length?H[t]:void 0,v=K.Ug - 1,v=0 <= v?H[v]:void 0,!t || t.La && t.La.length?!v || v.La && v.La.length || (u=v):u=t,u && K.jF.push(u.Qb)),K.jF.length || (K.jF=void 0));d87=12;break;case 53:d87=D$C === d.Fb.Rh?7:52;break;}}};p.prototype.q3=function(q,u,t,v,w){var Y4p;Y4p=2;for(;Y4p !== 1;){switch(Y4p){case 2:return this.dPa.checkBuffering.call(this,q,u,t,v,w,this.Z);break;}}};p.prototype.n4b=function(q,u,t){var O7O;O7O=2;for(;O7O !== 1;){switch(O7O){case 2:c.oh(u)?this.Dga=this.Hga=void 0:u.bitrate < t.bitrate && (this.Hga=q);O7O=1;break;}}};p.prototype.m9a=function(q,u,t,v){var o0x,w,y,x;o0x=2;for(;o0x !== 5;){switch(o0x){case 2:w=this;q.Qma(function(z){var Q_7;Q_7=2;for(;Q_7 !== 1;){switch(Q_7){case 2:w.h5(z,function(A){var v9V;v9V=2;for(;v9V !== 1;){switch(v9V){case 2:A.lG && A.Lb && A.Lb.confidence?(y !== A.Lb && (y=A.Lb,x=v(A.Lb,t,u,A.track.na.rM[d.u.fa])),A.mb=Math.floor(x.lower) || 1,A.D5b=Math.floor(x.upper || 1) || 1):A.mb=void 0;v9V=1;break;}}});Q_7=1;break;}}});o0x=5;break;}}};p.prototype.rSb=function(q,u,t,v,w,y,x){var a7I;a7I=2;for(;a7I !== 5;){switch(a7I){case 2:a7I=this.j8a?1:5;break;case 1:return this.j8a.yKb({PE:v.Il - v.Cd,Evb:v.Do || 0,Dvb:v.UE || 0,Cd:v.Cd,lRb:u[0],Yf:t,K7b:u[q.Ug + 1] || t,X5b:u[u.length - 1],vg:w.state,playbackRate:w.playbackRate,Ye:w.Ye,m5:y,so:x});break;}}};p.prototype.qSb=function(q,u){var e2J,z,t,v,w,y,x;e2J=2;for(;e2J !== 13;){switch(e2J){case 6:c.oh(t) && (t=this.xe.p4a);return {Ug:t,XGb:v};break;case 7:0 <= t || (w=y[x - 1].bitrate,q=y[x - 1].Cb,t=q=u.roa(u.first,w,q));e2J=6;break;case 9:z=y[x - 1].Qb;t=(0,l.av)(w,function(A){var O42;O42=2;for(;O42 !== 1;){switch(O42){case 2:return A.Qb === z;break;case 4:return A.Qb == z;break;}}});e2J=7;break;case 3:e2J=0 < x?9:6;break;case 2:(t=this.xe.p4a,v=!1,w=u.first,y=(null === q || void 0 === q?void 0:q.buffer).La,x=y.length);c.yb(t) && q.state === d.Fb.Ek && (this.xe.tX(void 0),t=void 0);c.yb(t) && t >= w.length && (this.xe.tX(void 0),t=void 0);c.oh(t) && q.state === d.Fb.ke && (v=!0,void 0 !== this.xe.fo && (q=this.xe.fo.Cb,t=q=u.roa(u.first,this.xe.fo.bitrate,q),this.xe.tX(t)));e2J=3;break;}}};p83=8;break;}}function p(q,u,t,v){var x5o,w,y;x5o=2;for(;x5o !== 6;){switch(x5o){case 3:var R5m="1SIYbZ";R5m+="rNJCp";R5m+="9";R5m;q=q || this.Z.$cb;this.dPa=m.dbb.reduce(function(x,z){var A9J,A;A9J=2;for(;A9J !== 4;){switch(A9J){case 5:return x;break;case 2:A=(m.E$[q] || m.E$[m.Yka[z]])()[z] || m.E$[m.Yka[z]]()[z];x[z]=A.bind(w);A9J=5;break;}}},{});v && (this.j8a=new h.fQ(u,null === (y=t.track) || void 0 === y?void 0:y.mediaType));x5o=6;break;case 2:w=this;this.s1b=q;this.Z=u;this.xe=t;x5o=3;break;}}}})();b.pQ=a;},17329:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mJ=void 0;c=a(42866);l=a(95711);r=(function(){function f(){this.Y1=[];}Object.defineProperties(f.prototype,{first:{get:function(){var k;return null === (k=this.Y1[0]) || void 0 === k?void 0:k.Lf;},enumerable:!1,configurable:!0}});f.prototype.Uha=function(k){this.Y1.push({Lf:k});};f.prototype.Qma=function(k){this.Y1.forEach(function(d,g){return k(d.Lf,g);});};f.prototype.cHb=function(k){this.Qma(function(d){d.forEach(function(g,m){return k(g,m);});});};f.prototype.W0a=function(k,d,g){var m,h,n,p,q,u,t;m=this;h=g;n=d;p=0;q=[];d=this.first[k];u=d.Cb;t=d.bitrate;this.Y1.forEach(function(v,w){var y,x;v=v.Lf;0 >= h || (w=(0,l.uK)(0 === w?k:m.roa(v,t,u),0,v.length - 1),w=v[w],v=null === (y=w.La) || void 0 === y?void 0:y.uka(n,h),y=null !== (x=null === v || void 0 === v?void 0:v.blocks) && void 0 !== x?x:0,p+=y,q.push({stream:w,blocks:y,Ye:n}),null === v || void 0 === v?!0:!v.jva) || (n=0,h-=v.jva);});return {Xcb:q,ieb:p};};f.prototype.roa=function(k,d,g){var m;m=(0,c.av)(k,function(h){return g && h.Cb?h.Cb > g:h.bitrate > d;});return 0 < m?m - 1:0 === m?0:k.length - 1;};return f;})();b.mJ=r;},47870:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zNa=void 0;c=a(5163);r=(function(){function l(f,k){this.V=f;this.ib=k;this.Dxa=!1;}l.prototype.K_b=function(f){this.kf(f.message,void 0,c.__assign(c.__assign({},f.Ula),{err:f.toString()}));};l.prototype.kf=function(f,k,d){void 0 === k && (k=void 0);void 0 === d && (d={});this.Dxa || (d.temporaryFailure || (this.Dxa=!0),f=c.__assign({type:"error",error:null !== k && void 0 !== k?k:"NFErr_MC_StreamingFailure",errormsg:f,temporaryFailure:!1},d),this.V.error("notifyStreamingError:",f),this.ib.emit("error",f));};l.prototype.hr=function(){return this.Dxa;};return l;})();b.zNa=r;},26218:function(r,b,a){var l,f,k,d;function c(g){return function(){for(var m=Array(this.length),h=0;h < this.length;++h){m[h]=g.call(this,h);}return m;};}Object.defineProperties(b,{__esModule:{value:!0}});b.Ttb=b.Fv=b.qfa=b.$Na=void 0;r=a(5163);l=a(42866);f=a(62558);k=new (r.__importDefault(a(35471)).default.Console)("FRAGMENTS","media|asejs");d=(function(){function g(m,h){this.Ic=m;this.gg=h;}Object.defineProperties(g.prototype,{index:{get:function(){return this.gg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ja:{get:function(){return new l.L(this.qb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Va:{get:function(){return new l.L(this.wb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kd:{get:function(){return new l.L(this.bB,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qb:{get:function(){return this.Ic.V1 + this.Ic.sA[this.gg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wb:{get:function(){return this.qb + this.Ic.zq[this.gg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bB:{get:function(){return this.Ic.zq[this.gg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{za:{get:function(){return this.Ic.za;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{N:{get:function(){return this.Ic.N;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.qb / this.za.N,endPts:1E3 * this.wb / this.za.N,duration:1E3 * this.bB / this.za.N,index:this.index};};return g;})();b.$Na=d;a=(function(){function g(m,h,n,p){this.mediaType=m;this.length=n.bf.length;this.jb=n.N;this.zq=n.bf;this.t2=p && p.fN;this.kSa=p && p.MN;this.GJ=h;this.zya=this.Aya=this.gQa=void 0;this.V1=n.Kr;this.sA=new Uint32Array(this.length + 1);if(this.length){for(h=m=0;h < this.length;++h){this.sA[h]=m;m+=this.zq[h];}this.sA[h]=m;this.Gfa=Math.floor((this.cf - this.fb) / this.length);}}Object.defineProperties(g.prototype,{Kr:{get:function(){return this.Lcb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ola:{get:function(){return this.Lcb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fb:{get:function(){return this.em(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cf:{get:function(){return this.em(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ef:{get:function(){return new l.L(this.Ola,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zra:{get:function(){return this.gQa || this.Aob();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{za:{get:function(){return this.GJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{N:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});g.prototype.Lcb=function(m){return this.V1 + this.sA[m];};g.prototype.em=function(m){return Math.floor(1E3 * (this.V1 + this.sA[m]) / this.N);};g.prototype.eT=function(m){return this.em(m + 1);};g.prototype.bf=function(m){return this.eT(m) - this.em(m);};g.prototype.get=function(m){return new d(this,m);};g.prototype.cy=function(m,h,n){if(0 === this.length || m < this.em(0))return -1;m=Math.max(m,h || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.em(u),m < t))q=u - 1;else if(m >= t + this.bf(u))p=u + 1;else {for(;h && u < this.length && this.em(u) < h;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.wma=function(m,h,n){m=this.cy(m,h,n);return 0 <= m?this.get(m):void 0;};g.prototype.uka=function(m,h){var n,p,q;n=Math.floor(h * this.N / 1E3);p=Math.min(m + Math.ceil(h / this.Gfa),this.length);q=this.sA[p] - this.sA[m];if(q >= n){for(;q >= n;){--p;q-=this.zq[p];}return {blocks:Math.max(p - m + 1,0),jva:0};}for(;q < n && p <= this.length;){h-=q || 0;q+=this.zq[p];++p;}return {blocks:Math.max(p - m - 1,0),jva:h};};g.prototype.subarray=function(m,h){(0,f.assert)(void 0 === m || 0 <= m && m < this.length);(0,f.assert)(void 0 === h || h > m && h <= this.length);return new g(this.mediaType,this.za,{N:this.N,Kr:this.V1 + this.sA[m],bf:this.zq.subarray(m,h)},this.t2 && ({fN:this.t2.subarray(m,h + 1),MN:this.kSa}));};g.prototype.forEach=function(m){for(var h=0;h < this.length;++h){m(this.get(h),h,this);}};g.prototype.map=function(m){for(var h=[],n=0;n < this.length;++n){h.push(m(this.get(n),n,this));}return h;};g.prototype.reduce=function(m,h){for(var n=0;n < this.length;++n){h=m(h,this.get(n),n,this);}return h;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Gfa};};g.prototype.dump=function(){var h;k.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Gfa + "ms");for(var m=0;m < this.length;++m){h=this.get(m);k.trace(("TrackFragments: ").concat(m,": [").concat(h.Ja.G,"-").concat(h.Va.G,"]"));}};g.prototype.Aob=function(){for(var m=0,h=0;h < this.length;h++){m=Math.max(this.zq[h],m);}return this.gQa=m;};return g;})();b.qfa=a;b.Fv=c;c(a.prototype.em);c(a.prototype.eT);c(a.prototype.bf);b.Ttb=function(g){return ("[").concat(Array(g.length).map(function(m,h){return g[h].toString();}).join(","),"]");};},85177:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tQ=void 0;r=(function(){function a(c){this.aRa=c;}Object.defineProperties(a.prototype,{WL:{get:function(){return this.Ipb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.aRa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{s0b:{get:function(){var c;c=this;return this.aRa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Ipb=!0;};a.prototype.MM=function(c,l){var f;f=this;this.result.then(function(k){f.WL?l && l(k):c(k);});return this;};return a;})();b.tQ=r;},56742:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52E3:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62558:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){var d;if(!f){d=new l(k || "Assertion failed");a(22209).kq.V.error("Assertion failed",{value:f,message:k,stack:d.stack});throw d;}};},89659:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Z8a=void 0;c=a(27364);b.Z8a=function(l){switch(l){case c.Fb.Me:l=c.Rc.Me;break;case c.Fb.tl:l=c.Rc.tl;break;case c.Fb.Ek:case c.Fb.ls:case c.Fb.I0:l=c.Rc.ls;break;default:l=c.Rc.vl;}return l;};},19114:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iP=void 0;b.iP=(function(){function a(){}a.J6=function(c,l){var d;function f(g){return k(d++)(g,f);}function k(g){return g >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(g));}:l[g];}d=0;return f(c);};return a;})();},95971:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.P0=void 0;r=a(57055);c=a(42866);a=a(55011);l=(function(){function f(k){void 0 === k && (k={ji:!1,currentTime:c.L.Ga,speed:1});this.Xa={ji:function(){return "function" === typeof k.ji?k.ji():k.ji;},currentTime:function(){return "function" === typeof k.currentTime?k.currentTime():k.currentTime;},speed:function(){return "function" === typeof k.speed?k.speed():k.speed;}};}Object.defineProperties(f.prototype,{ji:{get:function(){return this.Xa.ji();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.Xa.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){return this.Xa.speed();},enumerable:!1,configurable:!0}});return f;})();b.P0=l;(0,a.xk)(r.EventEmitter,l);},13870:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KWa=void 0;b.KWa=function(a){return JSON.parse(JSON.stringify(a));};},91219:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lCa=void 0;c=a(5163);a(62558);r=(function(){function l(f,k){this.Zc=f;this.zJ=k;this.ox();}Object.defineProperties(l.prototype,{length:{get:function(){return this.jA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.jA;},enumerable:!1,configurable:!0}});l.prototype.IHb=function(){return this.HJ && this.HJ.get(0);};l.prototype.Xub=function(){return this.xJ && this.xJ.get(this.xJ.length - 1);};l.prototype.get=function(f){0 > f && (f+=this.length);for(var k=0;k < this.Zc.length;++k){if(this.Wj[k + 1] > f)return this.Zc[k].get(f - this.Wj[k]);}};l.prototype.push=function(f){this.Zc[this.zJ(f)].push(f);this.ox();return this.jA;};l.prototype.shift=function(){var f;if(this.HJ){f=this.HJ.shift();this.ox();return f;}};l.prototype.pop=function(){var f;if(this.xJ){f=this.xJ.pop();this.ox();return f;}};l.prototype.unshift=function(f){this.Zc[this.zJ(f)].unshift(f);this.ox();return this.jA;};l.prototype.qt=function(f){var k;k=this.zJ(f);this.Zc[k].qt(f);this.ox();};l.prototype.remove=function(f){var k;k=this.Zc.some(function(d){return d.remove(f);});k && this.ox();return k;};l.prototype.splice=function(f,k){var q,u,t,v;for(var d,g=[],m=2;m < arguments.length;m++){g[m - 2]=arguments[m];}m=[];for(var h,n=f + Math.max(0,k),p=0;p < this.Zc.length;++p){q=this.Zc[p];u=this.Wj[p];t=this.Wj[p + 1];if(f < t){v=f - u;u=Math.min(n - u,q.length);void 0 === h && 0 < v && u < q.length?Array.prototype.push.apply(m,q.splice.apply(q,c.__spreadArray([v,u - v],c.__read(g),!1))):(Array.prototype.push.apply(m,q.splice(v,u - v)),void 0 === h && (h=0 < p && 0 === v?p - 1:p));f=t;if(f >= n)break;}}if(g.length && void 0 !== h){for(n=this.zJ(g[0]);0 < h && n < h && this.Zc[h].empty;){--h;}for(;g.length && n === h;){this.Zc[h].push(g.shift());if(!g.length)break;n=this.zJ(g[0]);}for(;g.length && ++h < this.Zc.length && this.Zc[h].empty;){for(;g.length && n === h;){this.Zc[h].push(g.shift());if(!g.length)break;n=this.zJ(g[0]);}}g.length && (d=this.Zc[h]).splice.apply(d,c.__spreadArray([0,0],c.__read(g),!1));}this.ox();return m;};l.prototype.find=function(f){var k,d;k=this;return this.Zc.some(function(g,m){d=g.find(k.vA(f,m));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(f){var d;for(var k=0;k < this.Zc.length;++k){d=this.Zc[k].findIndex(this.vA(f,k));if(-1 !== d)return d + this.Wj[k];}return -1;};l.prototype.indexOf=function(f){var d;for(var k=0;k < this.Zc.length;++k){d=this.Zc[k].indexOf(f);if(-1 !== d)return d + this.Wj[k];}return -1;};l.prototype.map=function(f){var k,d;k=this;d=this.Zc.map(function(g,m){return g.map(k.vA(f,m));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(f,k){var d;d=this;return this.Zc.reduce(function(g,m,h){return m.reduce(d.Srb(f,h),g);},k);};l.prototype.forEach=function(f){var k;k=this;this.Zc.forEach(function(d,g){d.forEach(k.vA(f,g));});};l.prototype.h5=function(f){for(var k=this.Zc.length - 1;0 <= k;--k){this.Zc[k].h5(this.vA(f,k));}};l.prototype.some=function(f){var k;k=this;return this.Zc.some(function(d,g){return d.some(k.vA(f,g));});};l.prototype.lxa=function(f){for(var k=this.Zc.length - 1;0 <= k;--k){if(this.Zc[k].lxa(this.vA(f,k)))return !0;}return !1;};l.prototype.every=function(f){var k;k=this;return this.Zc.every(function(d,g){return d.every(k.vA(f,g));});};l.prototype.bHb=function(f,k){var n,p;function d(q){return q.reduce(function(u,t,v,w){return void 0 === t?u:void 0 === u?v:0 > f(t,w[u])?v:u;},void 0);}for(var g=this,m=this.Zc.map(function(){return 0;}),h=this.Zc.filter(function(q){return q.empty;}).length;h < this.Zc.length;){n=m.map(function(q,u){return q < g.Zc[u].length?g.Zc[u].get(q):void 0;});p=d(n);k(n[p],this.Wj[p] + m[p],this);++m[p];m[p] === this.Zc[p].length && ++h;}};l.prototype.move=function(f){return this.remove(f)?(this.qt(f),!0):!1;};l.prototype.N2b=function(){var f;if(this.Zc[1].length){f=this.Zc[1].shift();this.Zc[0].push(f);this.ox();}};l.prototype.ZYa=function(f){for(var k=-1,d=0;d < this.Zc.length;++d){if((k=f(this.Zc[d]),-1 !== k)){k+=this.Wj[d];break;}}return k;};l.prototype.toJSON=function(){return this.map(function(f){return f.toJSON();});};l.prototype.ox=function(){var k;this.jA=0;this.Wj=[0];this.xJ=this.HJ=void 0;for(var f=0;f < this.Zc.length;++f){k=this.Zc[f];this.jA+=k.length;this.Wj.push(this.Wj[this.Wj.length - 1] + k.length);!this.HJ && k.length && (this.HJ=k);k.length && (this.xJ=k);}};l.prototype.vA=function(f,k){var d,g;d=this;g=this.Wj[k];return function(m,h){return f(m,g + h,d);};};l.prototype.Srb=function(f,k){var d,g;d=this;g=this.Wj[k];return function(m,h,n){return f(m,h,g + n,d);};};return l;})();b.lCa=r;},36344:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kVa=void 0;c=a(5163);l=a(49730);f=a(62558);b.kVa=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}l.K && (0,f.assert)(k.length);return function(g,m){var h,q,u;try{for(var n=c.__values(k),p=n.next();!p.done;p=n.next()){q=p.value;u=q(g,m);if(0 !== u)return u;}}catch(v){var t;t={error:v};}finally{try{p && !p.done && (h=n.return) && h.call(n);}finally{if(t)throw t.error;}}return 0;};};},7977:function(r,b,a){function c(l,f){this.tha=l;this.Kn=Math.floor((l + f - 1) / f);this.zh=f;this.reset();}a(62558);c.prototype.shift=function(){this.Gi.shift();this.Uu.shift();};c.prototype.Gt=function(l){return this.STa(this.Gi[l],l);};c.prototype.update=function(l,f){this.Gi[l]=(this.Gi[l] || 0) + f;};c.prototype.push=function(){this.Gi.push(0);this.Uu.push(0);this.dc+=this.zh;};c.prototype.add=function(l,f,k){var d,g,m;if(null === this.dc){d=Math.max(Math.floor((k - f + this.zh - 1) / this.zh),1);for(this.dc=f;this.Gi.length < d;){this.push();}}for(;this.dc <= k;){this.push();this.Gi.length > this.Kn && this.shift();}if(null === this.Dn || f < this.Dn)this.Dn=f;if(f > this.dc - this.zh)this.update(this.Gi.length - 1,l);else if(f == k)(d=this.Gi.length - Math.max(Math.ceil((this.dc - k) / this.zh),1),0 <= d && this.update(d,l));else for(d=1;d <= this.Gi.length;++d){g=this.dc - d * this.zh;m=g + this.zh;if(!(g > k)){if(m < f)break;this.update(this.Gi.length - d,Math.round(l * (Math.min(m,k) - Math.max(g,f)) / (k - f)));}}for(;this.Gi.length > this.Kn;){this.shift();}};c.prototype.start=function(l){null === this.Dn && (this.Dn=l);null === this.dc && (this.dc=l);};c.prototype.stop=function(l){var f,k;if(null !== this.dc)if(l - this.dc > 10 * this.tha)this.reset();else {for(;this.dc <= l;){this.push();this.Gi.length > this.Kn && this.shift();}f=this.Gi.length - Math.ceil((this.dc - this.Dn) / this.zh);k=this.Gi.length - Math.ceil((this.dc - l) / this.zh);if(0 <= k)if((0 > f && (this.Dn=this.dc - this.zh * this.Gi.length,f=0),f === k))this.Uu[f]+=l - this.Dn;else if(k > f)for((this.Uu[f]+=(this.dc - this.Dn) % this.zh,this.Uu[k]+=this.zh - (this.dc - l) % this.zh,l=f + 1);l < k;++l){this.Uu[l]=this.zh;}this.Dn=null;}};c.prototype.STa=function(l,f){f=this.dna(f);return 0 === f?null:8 * l / f;};c.prototype.dna=function(l){var f;f=this.Uu[l];null !== this.Dn && (l=this.dc - (this.Gi.length - l - 1) * this.zh,l > this.Dn && (f=l - this.Dn <= this.zh?f + (l - this.Dn):this.zh));return f;};c.prototype.get=function(l,f){var k,d;k=this.Gi.map(this.STa,this);if("last" === l)for(l=0;l < k.length;++l){null === k[l] && (k[l]=0 < l?k[l - 1]:0);}else if("average" === l){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.zh));for(l=0;l < k.length;++l){null === k[l]?k[l]=Math.floor(d || 0):d=void 0 !== d?f * k[l] + (1 - f) * d:k[l];}}return k;};c.prototype.reset=function(){this.vdc || (this.Gi=[],this.Uu=[],this.Dn=this.dc=null);};c.prototype.setInterval=function(l){this.Kn=Math.floor((l + this.zh - 1) / this.zh);};r.exports=c;},34039:function(r,b,a){var l;function c(f,k,d){var g,h,n;if(f === k || !d.fm && f == k)return !0;if(typeof f !== typeof k)return !1;if(f && "object" === typeof f){for(var m in f){if(!c(f[m],k[m],d))return !1;}if(!d.hxb){h=Object.keys(f);n=Object.keys(k).filter(function(t){return 0 > h.indexOf(t);});try{for(var p=l.__values(n),q=p.next();!q.done;q=p.next()){if((m=q.value,!c(f[m],k[m],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.b4=void 0;l=a(5163);b.b4=function(f,k,d){void 0 === d && (d={});d=l.__assign({fm:!1,hxb:!1},d);return c(f,k,d);};},78522:function(r,b){function a(c){var l,f;l=Math.abs(c);f=1 / (1 + l / 2);l=f * Math.exp(-l * l - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.sFb=b.e2a=b.eL=void 0;b.eL=a;b.e2a=function(c){var l,f,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;f=Math.sqrt(-2 * Math.log(l / 2));f=-.70711 * ((2.30753 + .27061 * f) / (1 + f * (.99229 + .04481 * f)) - f);for(var k=0;2 > k;k++){d=a(f) - l;f+=d / (1.1283791670955126 * Math.exp(-(f * f)) - f * d);}return 1 > c?f:-f;};b.sFb=function(c){return 1 - a(c);};},35303:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eEa=void 0;c=a(5163);r=(function(){function f(k,d){void 0 === d && (d={});this.Un=k;this.options=d;this.vF=[];this.eG=new l(k,this.Fsb.bind(this));}f.prototype.Fsb=function(k){for(var d,g,m,h,n,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={Qq:k,lp:q};(null !== (m=null === (g=(d=this.options).$2b) || void 0 === g?void 0:g.call(d,q,this.vF)) && void 0 !== m?m:1) && this.vF.push(q);return null !== (p=null === (n=(h=this.options).Eic) || void 0 === n?void 0:n.call(h,q)) && void 0 !== p?p:!0;};f.prototype.W9=function(k){this.vF=this.vF.filter(function(d,g){return !k(d,g);});};f.prototype.rva=function(){var k;k=this;this.eG.Cya();this.vF.forEach(function(d){var g;(g=k.Un).emit.apply(g,c.__spreadArray([d.Qq],c.__read(d.lp),!1));});this.eG.R2a();};Object.defineProperties(f.prototype,{length:{get:function(){return this.vF.length;},enumerable:!1,configurable:!0}});f.prototype.clear=function(){this.vF=[];};f.prototype.Oa=function(){this.clear();this.eG.Cya();this.options=void 0;};return f;})();b.eEa=r;l=(function(){function f(k,d){this.Un=k;this.Ns=d;this.U7a=this.Un.emit;this.RAb();this.R2a();}f.prototype.RAb=function(){var k;k=this;this.eG=function(d){for(var g,m,h=[],n=1;n < arguments.length;n++){h[n - 1]=arguments[n];}return (null === (m=k.Ns) || void 0 === m?0:m.call.apply(m,c.__spreadArray([k,d],c.__read(h),!1)))?(g=k.U7a).call.apply(g,c.__spreadArray([k.Un,d],c.__read(h),!1)):!1;};};f.prototype.R2a=function(){this.eG && (this.Un.emit=this.eG);};f.prototype.Cya=function(){this.Un.emit=this.U7a;};f.prototype.Oa=function(){this.Cya();this.Ns=this.eG=void 0;};return f;})();},44797:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(78522);r=(function(){function l(f,k){this.Ca=f;this.Je=k;}l.prototype.fUa=function(f){return .5 * (0,c.eL)(-(f - this.Ca) / Math.sqrt(2 * this.Je));};l.prototype.Uv=function(f){return this.Ca - Math.sqrt(2 * this.Je) * (0,c.e2a)(2 * f);};return l;})();b["default"]=r;},44602:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.h6=void 0;b.h6=function(a){return ("( ").concat(a.I,", ").concat(a.offset.lb()," )");};},93514:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xp=void 0;c=a(5163);l=a(42866);b.xp=function(f,k,d,g){var m,h,n,u,t,v;void 0 === g && (g={});n=l.L.max(d,l.L.Ga);try{for(var p=c.__values(Object.keys(f.O)),q=p.next();!q.done;q=p.next()){u=q.value;t=f.O[u];if(t.J === k){v=l.L.Ma(t.ta);if(n.hi(v) && (!isFinite(null !== (h=t.va) && void 0 !== h?h:NaN) || n.lessThan(l.L.Ma(t.va))))return {I:u,offset:d.qa(v)};}}}catch(y){var w;w={error:y};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(w)throw w.error;}}if(g.Tab && (t=Object.keys(f.O).map(function(y){return {key:y,v:f.O[y]};}).filter(function(y){return y.v.J === k;}).map(function(y){var x,z;x=l.L.abs(d.qa(l.L.Ma(y.v.ta)));if(y.v.va && isFinite(y.v.va)){z=l.L.abs(d.qa(l.L.Ma(y.v.va)));x=l.L.min(x,z);}return c.__assign(c.__assign({},y),{Sn:x});}),t.sort(function(y,x){return y.Sn.G - x.Sn.G;}),v=c.__read(t,1)[0]))return (t=v.v,g=v.key,v=l.L.Ma(t.ta),{I:g,offset:d.qa(v)});};},97810:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xmb=b.yEa=void 0;r=a(5163);r.__exportStar(a(53265),b);r.__exportStar(a(99982),b);r.__exportStar(a(73151),b);r.__exportStar(a(44119),b);r.__exportStar(a(13870),b);r.__exportStar(a(34039),b);r.__exportStar(a(83886),b);r.__exportStar(a(57578),b);r.__exportStar(a(64921),b);c=r.__importDefault(a(44797));b.yEa=c.default;a=r.__importDefault(a(26208));b.Xmb=a.default;},34238:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.V_=void 0;c=a(78522);r=(function(){function l(f,k){this.hsa=f;this.Je=k;0 < k?(this.d4a=k=Math.pow(f,3) / k,f=2 * k / f,500 >= f && (this.ima=Math.exp(f))):this.ima=0;}l.prototype.fUa=function(f){var k,d,g;k=this.hsa;d=this.ima;if(d && 0 < f){g=Math.sqrt(this.d4a / (2 * f));k=f / k;f=(0,c.eL)(g * (k - 1));g=(0,c.eL)(g * (k + 1));return Math.max((2 - f + d * g) / 2,0);}return f < k?0:f > k?1:.5;};l.prototype.Uv=function(f,k,d){for(var g=0,m=this.hsa + 5 * Math.sqrt(this.Je),h=1,n=0;Math.abs(h) > k && d--;){n=(g + m) / 2;h=this.fUa(n);h=f - h;0 > h?m=n:g=n;}return n;};l.prototype.Nwb=function(f){var k,d,g,m;k=this.hsa;d=this.ima;if(d && 0 < f){g=Math.sqrt(this.d4a / (2 * f));m=f / k;f=2 - (0,c.eL)(g * (m - 1));d*=(0,c.eL)(g * (m + 1));return [Math.max((f + d) / 2,0),Math.max(k * (f - d) / 2,0)];}return f < k?[0,0]:f > k?[1,k]:[.5,k / 2];};return l;})();b.V_=r;},89847:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wk=b.i4a=void 0;b.i4a=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};b.wk=function(a){if(Array.isArray(a))return a;for(var c=[],l=a.next();!l.done;){c.push(l.value);l=a.next();}return c;};},64921:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ora=void 0;b.ora=function(a){var c,l,f,k,d,g;g=null === (c=a.v) || void 0 === c?void 0:c.id;return {fb:null === (l=a.Ab) || void 0 === l?void 0:l.G,duration:(null === (f=a.Pb) || void 0 === f?NaN:f.G) - (null === (k=a.Ab) || void 0 === k?NaN:k.G),offset:a.offset,wa:a.wa,bitrate:a.bitrate,profile:a.profile,Fe:!!a.Fe,I:g,Qb:a.Qb,Qc:a.Qc,location:a.location,yj:a.yj,Ps:null === (d=a.Ja) || void 0 === d?void 0:d.G,Ht:{nb:{v:{id:g || "unknown"}}}};};},93079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MTa=void 0;c=a(74251);l=a(60829);b.MTa=function(){return function(f){var g,m,h,n;function k(p){n[p]=function(q){return m({rules:[{Ij:p,config:q}]},!0);};}function d(p){g[p]=function(q){return m({rules:[{Ij:p,config:q}]});};}g={};m=(0,c.map)(f.u5a);for(h in f.KN){d(h);}g.K8=m({rules:[],bia:!0});g.fm=m({rules:[],fm:!0});n={};for(h in f.KN){k(h);}n.K8=m({rules:[],bia:!0},!0);n.fm=m({rules:[],fm:!0},!0);g.return=n;return {Xka:g,Sva:f,Fua:function(p,q,u,t){return (0,l.$Va)(p,q,u,f.KN,f.u5a,t);}};};};},74251:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fab=b.e0a=b.map=void 0;c=a(5163);a(53110);b.map=function(l){return function(f,k){void 0 === k && (k=!1);return function(d,g,m){var h,n,p,q,u,t,v,w;u=Reflect.u0a(l,d,g) || ({});v="number" === typeof m;w=k;(t=v?null !== (n=(null !== (h=u.ub) && void 0 !== h?h:{})[m]) && void 0 !== n?n:{}:w?u.return:u.Rra) || (t={rules:[]});h=c.__assign(c.__assign(c.__assign({},t),f),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=f.rules) && void 0 !== q?q:[]),!1)});v?(u.ub || (u.ub={}),u.ub[m]=h):w?u.return=h:u.Rra=h;Reflect.f4(l,u,d,g);};};};b.e0a=function(l){return function(f,k){var d,g,m,h;f=null !== (h=null !== (g=null === (d=f.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== g?g:null === (m=null === f || void 0 === f?void 0:f.constructor) || void 0 === m?void 0:m.prototype) && void 0 !== h?h:f;for(var n;f && void 0 === n;){n=Reflect.u0a(l,f,k);f=f.__proto__;}return n;};};b.Fab=function(){return function(){return function(l){return l;};};};},60829:function(r,b,a){var d,g,m,h,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function f(p,q){var v;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(u));u=Object.getPrototypeOf(u);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);v=Object.getPrototypeOf(q);p.forEach(function(w){Object.getOwnPropertyDescriptor(q,w) || Object.getOwnPropertyDescriptor(v,w) || q[w] || Object.defineProperty(q,w,{get:function(){},configurable:!0,enumerable:!0});});}function k(p,q,u,t){var y;for(var v=[],w=4;w < arguments.length;w++){v[w - 4]=arguments[w];}y=t();if((null === y || void 0 === y?0:y.Rra) || (null === y || void 0 === y?0:y.ub))v=v.map(function(x,z){var A;z=(0,n.f6a)(y.Rra,null === (A=y.ub) || void 0 === A?void 0:A[z]);return (0,h.k$)(q,x,u,z);});v=p.call.apply(p,d.__spreadArray([void 0],d.__read(v),!1));return (null === y || void 0 === y?0:y.return)?(0,h.k$)(q,v,u,y.return,m.vu.Eya):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.LHb=b.GCb=b.$Va=void 0;d=a(5163);g=a(74251);m=a(91795);h=a(28445);n=a(23646);b.$Va=function(p,q,u,t,v,w){var y,x;void 0 === w && (w=[]);y={};x=(0,g.e0a)(v);f(q,p);w.forEach(function(z){return f(z,p);});return new Proxy(p,{get:function(z,A){var B,C,D,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=y[A];if(!B && !l(y,A)){B=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=l(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,C=x.bind(null,C,A),z=k.bind(z,F.bind(z),u,t,C),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(C=x.bind(null,z,A),z=k.bind(z,F.bind(z),u,t,C),y[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.GCb=f;b.LHb=k;},91795:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vu=void 0;r=b.vu || (b.vu={});r[r.Eya=0]="up";r[r.RS=1]="down";},28445:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.k$=void 0;c=a(5163);l=a(62558);f=a(91795);b.k$=function(k,d,g,m,h,n){var p,q;void 0 === h && (h=f.vu.RS);p=k();if(m && p){q=m.bia;k=m.fm;m=m.rules.map(function(u){return ["function" === typeof u.Ij?u.Ij(g):g[u.Ij],u.config];});q || (0,l.assert)(d,"Param is null");n && m.push([{map:n,Ex:function(){return !0;}},void 0]);n=m.filter(function(u){u=c.__read(u,2);return u[0].Ex(d,p,u[1]);});k && (0,l.assert)(n.length,("No rules matched for ").concat(d));if(n.length)return n.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,h,p,t[1]);},d);}return d;};},23646:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.f6a=void 0;c=a(5163);l=a(42866);b.f6a=function(f,k){var d;if(f || k){d=(null === f || void 0 === f?0:f.rules) && (null === k || void 0 === k?0:k.rules)?(0,l.dK)(f.rules,k.rules):(null === f || void 0 === f?void 0:f.rules) || (null === k || void 0 === k?void 0:k.rules);return c.__assign(c.__assign(c.__assign({},f),k),{rules:d});}};},99982:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DIa=void 0;c=a(42866);l=a(62558);r=(function(){function f(){this.data={};}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){var k;k=this;return Object.keys(this.data).reduce(function(d,g){return d + k.data[g].length;},0);},enumerable:!1,configurable:!0}});f.prototype.get=function(k){var d;return null !== (d=this.data[k]) && void 0 !== d?d:[];};f.prototype.has=function(k,d){return (k=this.data[k])?void 0 === d?!0:-1 !== k.indexOf(d):!1;};f.prototype.count=function(k){return (k=this.data[k])?k.length:0;};f.prototype.keys=function(){return Object.keys(this.data);};f.prototype.values=function(){var k;k=this;return (0,c.flatten)(this.keys().map(function(d){return k.data[d];}));};f.prototype.set=function(k,d){(this.data[k] || (this.data[k]=[])).push(d);return this;};f.prototype.clear=function(){this.data={};};f.prototype.delete=function(k,d){var g,m;g=this.data[k];if(void 0 === g)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[k],!0);m=g.indexOf(d);if(-1 === m)return !1;1 === g.length?delete this.data[k]:g.splice(m,1);return !0;};f.prototype.forEach=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;this.keys().forEach(function(m){return g.data[m].forEach(function(h){return k(h,m,g);});});};f.prototype.reduce=function(k,d,g){var m,h;m=this;k=void 0 !== g?k.bind(g):k;h=d;this.forEach(function(n,p){h=k(h,n,p,m);});return h;};f.prototype.map=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(m){return g.data[m].map(function(h){return k(h,m,g);});}));};f.prototype.filter=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(m){return g.data[m].filter(function(h){return k(h,m,g);});}));};return f;})();b.DIa=r;},86786:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.M2a=void 0;c=a(5163);b.M2a=function(l,f){var m,h,n,p,q,u,t,y,x,z,A,B,C,D;for(var k,d,g=0;g < l.length;g++){m=c.__read(f,3);h=m[0];n=m[1];p=m[2];q=c.__read(l[g],3);u=q[0];m=q[1];t=q[2];if(!(h >= m)){h=[h,Math.min(m,n),u,m].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});u=h.length - 1;q=Array(u);p+=t;try{for(var v=(k=void 0,c.__values([f,l[g]])),w=v.next();!w.done;w=v.next()){y=c.__read(w.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(f=0;f < u;f++){B=h[f + 1];C=Math.min(B,z) - Math.max(h[f],x);if(0 < C){D=C * A / t;p-=D;q[f]=q[f]?q[f] + D:D;}if(z <= B)break;}}}catch(F){k={error:F};}finally{try{w && !w.done && (d=v.return) && d.call(v);}finally{if(k)throw k.error;}}t=[];for(f=0;f < u;f++){A=q[f];0 < A && t.push([h[f],h[f + 1],A]);}l.splice.apply(l,c.__spreadArray([g,1],c.__read(t),!1));if(m < n)f=[m,n,p];else return;}}f && 0 < f[2] && l.splice(l.length,0,f);};},26208:function(r){function b(a){this.Ypb=a;this.rE=[];this.uA=!1;this.jha=void 0;this.wm={};}b.prototype.cSa=function(a){this.rE.length === this.Ypb && this.rE.shift();Array.isArray(a)?this.rE=this.rE.concat(a):this.rE.push(a);this.uA=!0;};b.prototype.$T=function(){return this.rE.length;};b.prototype.pK=function(a){var c,l,f;if(this.uA || void 0 === this.jha)(this.jha=this.rE.slice(0).sort(function(k,d){return k - d;}),this.wm={},this.uA=!1);if(void 0 === this.wm[a]){c=this.jha;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;f=(a / 100 * (c.length - 1) + 1) % 1;this.wm[a]=l === c.length - 1?c[l]:c[l] + f * (c[l + 1] - c[l]);}return this.wm[a];};r.exports=b;},57206:function(r,b){var l,f,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.ZOa);}function c(d){return (a(d)?d:Object.defineProperties(d,{ZOa:{value:{},configurable:!1,enumerable:!1}})).ZOa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Mea=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % f;r=(function(){function d(){this.id=k=(k + 1) % f;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,m){c(g)[this.id]=m;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.Mea=r;},26973:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qnb=void 0;c=a(5163).__importDefault(a(35471));l=a(22209);f=["","",""];r=(function(){function k(d){this.request=d;this.complete=this.append=this.e5=this.Mqa=this.open=0;}Object.defineProperties(k.prototype,{console:{get:function(){return l.kq.wv(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xva:{get:function(){var d;return null === (d=this.request.Kd) || void 0 === d?void 0:d.G;},enumerable:!1,configurable:!0}});k.prototype.iVb=function(){this.open=c.default.time.xa();};k.prototype.cVb=function(){this.Mqa=c.default.time.xa();this.vx();};k.prototype.ZUb=function(){this.e5=c.default.time.xa();this.vx();};k.prototype.MM=function(){this.complete=c.default.time.xa();this.vx();};k.prototype.vx=function(){var d;d=("RequestLedger ID: ").concat(this.request.yj());d+=(" load-open: ").concat(this.Mqa - this.open);0 < this.e5 && (" firstbyte-load: ").concat(this.e5 - this.Mqa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.e5);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.request.mediaType,this.xva && this.complete - this.open > this.xva?((" duration: ").concat(this.xva),f[d]+="X"):f[d]+=".",10 < f[d].length && (f[d]=f[d].slice(1)));};return k;})();b.qnb=r;},12289:function(r,b,a){var l,f,k,d,g;function c(m,h){return m.time - h.time || m.priority - h.priority || m.id - h.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.irb=b.w3=b.M$=void 0;r=a(5163);l=a(42866);f=a(49730);k=r.__importDefault(a(35471));d=a(62558);g=(function(){function m(){var h;h=this;this.Co=new l.b0([],c);this.dya=0;this.console=new k.default.Console("SETTIMEOUT");this.EFb=function(){var n,p;n=k.default.time.xa();h.WX=void 0;f.K && h.console.trace(("[").concat(n,"] Wake"));try{for(;!h.Co.empty && h.Co.Gt().time <= n;){p=h.Co.pop();f.K && h.console.trace(("[").concat(k.default.time.xa(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.Ns();}}finally{h.gwa();}};}Object.defineProperties(m,{instance:{get:function(){return m.ys || (m.ys=new m());},enumerable:!1,configurable:!0}});m.dha=function(){(0,d.assert)(void 0 === m.ys || m.ys.Co.empty,"Singleton SetTimeoutWithPriority reset with pending timers");m.ys=void 0;};m.prototype.M$=function(h,n,p){var q,u,t;(0,d.assert)(isFinite(n) && 0 <= n);q=this.Co;u=k.default.time.xa();t=u + n;q.push({id:++this.dya,time:t,priority:p,Ns:h});f.K && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.dya," scheduled for ").concat(t," in ").concat(n,"ms"));this.gwa();return this.dya;};m.prototype.w3=function(h){var n,p,q;n=this.Co;p=n.find(function(u){return u.id === h;});if(p){q=n.Gt().time;n.remove(p);f.K && this.console.trace(("[").concat(k.default.time.xa(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(n.empty || n.Gt().time > q) && this.gwa();}};m.prototype.MUa=function(){this.WX && (clearTimeout(this.WX.id),f.K && this.console.trace(("[").concat(k.default.time.xa(),"] Clearing wake timer")),this.WX=void 0);};m.prototype.gwa=function(){var h,n;n=this.Co;n.empty?this.MUa():(n=n.Gt().time,n !== (null === (h=this.WX) || void 0 === h?void 0:h.time) && (this.MUa(),h=Math.max(0,n - k.default.time.xa()),f.K && this.console.trace(("[").concat(k.default.time.xa(),"] Setting wake timer for ").concat(n," in ").concat(h,"ms")),this.WX={id:setTimeout(this.EFb,h),time:n}));};return m;})();b.M$=function(m,h,n){return g.instance.M$(m,h,n);};b.w3=function(m){g.instance.w3(m);};b.irb=function(){g.dha();};},44119:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aNa=b.$Ma=void 0;c=a(42866);r=(function(){function l(f){this.Qa=f;this.listeners=[];this.aW=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});l.prototype.set=function(f){var k;this.Qa=f;k=this.aW;this.aW=[];this.listeners.forEach(function(d){return d(f);});k.forEach(function(d){return d(f);});};l.prototype.sab=function(){this.Qa=void 0;};l.prototype.on=function(f){this.listeners=this.listeners.concat([f]);void 0 !== this.Qa && f(this.Qa);};l.prototype.once=function(f){void 0 !== this.Qa?f(this.Qa):this.aW.push(f);};l.prototype.vr=function(f){this.listeners=this.listeners.filter(function(k){return k !== f;});this.aW=this.aW.filter(function(k){return k !== f;});};return l;})();b.$Ma=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(f,k){this.listeners.push({signal:f,listener:k});f.on(k);};l.prototype.once=function(f,k){var d,g;d=this;if(void 0 === f.value){g=function(m){d.remove(f,k);k(m);};this.listeners.push({signal:f,listener:k,ugb:g});f.once(g);}else f.once(k);};l.prototype.vr=function(f,k){var d,g;g=(0,c.wc)(this.listeners,function(m){return m.signal === f && m.listener === k;});void 0 !== g && f.vr(null !== (d=g.ugb) && void 0 !== d?d:g.listener);this.remove(f,k);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(f){var k,d;k=f.listener;d=f.ugb;return f.signal.vr(null !== d && void 0 !== d?d:k);});this.listeners=[];};l.prototype.remove=function(f,k){this.listeners=this.listeners.filter(function(d){return d.signal !== f || d.listener !== k;});};return l;})();b.aNa=r;},74037:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nQ=void 0;c=a(5163);l=a(83886);r=(function(){function f(k,d){var g;this.iPa=k;this.ueb=d;this.Bx={other:new l.Uh(),all:new l.Uh()};try{for(var m=c.__values(k),h=m.next();!h.done;h=m.next()){this.Bx[h.value]=new l.Uh();}}catch(p){var n;n={error:p};}finally{try{h && !h.done && (g=m.return) && g.call(m);}finally{if(n)throw n.error;}}}f.Mp=function(k,d){var g,m,p;if(k === d)return k;m=new f(k.iPa,k.ueb);try{for(var h=c.__values(Object.keys(k.Bx)),n=h.next();!n.done;n=h.next()){p=n.value;m.Bx[p]=k.Bx[p].Mp(d.Bx[p]);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (g=h.return) && g.call(h);}finally{if(q)throw q.error;}}return m;};f.prototype.Avb=function(k){var d,g,n;k=(null === (g=this.ueb) || void 0 === g?void 0:g.call(this,k)) || k;try{for(var m=c.__values(this.iPa),h=m.next();!h.done;h=m.next()){n=h.value;if(k < n)return n;}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (d=m.return) && d.call(m);}finally{if(p)throw p.error;}}return "other";};f.prototype.push=function(k){var d,g;g=null !== (d=this.Avb(k)) && void 0 !== d?d:"other";this.Bx[g].push(k);this.Bx.all.push(k);};f.prototype.toJSON=function(){var k,d;k=this;d={};Object.keys(this.Bx).forEach(function(g){var m;m=k.Bx[g];m.count && (d[g]=m);});return d;};return f;})();b.nQ=r;},83886:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uh=void 0;r=(function(){function a(c){void 0 === c && (c=!1);this.GVa=c;this.count=0;this.Ca=NaN;this.MX=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{Zv:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;this.MX+=c;1 === this.count?this.Ca=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ca+=(c - this.Ca) / this.count);};a.prototype.toJSON=function(){return this.GVa || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.Ca,count:this.count,sum:this.MX};};a.prototype.Mp=function(c){var l;if(0 === this.count)return c;if(0 === c.count)return this;l=new a(this.GVa);l.count=this.count;l.Ca=this.Ca;l.MX=this.MX;l.min=Math.min(this.min,c.min);l.max=Math.max(this.max,c.max);for(var f=0;f < c.count;f++){l.push(c.Ca);}return l;};return a;})();b.Uh=r;},53595:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Q0=void 0;c=a(5163).__importDefault(a(35471));r=(function(){function l(){}Object.defineProperties(l.prototype,{duration:{get:function(){if(void 0 !== this.endTime)return this.endTime - this.startTime;},enumerable:!1,configurable:!0}});l.prototype.start=function(){this.reset();};l.prototype.reset=function(){this.startTime=c.default.time.xa();this.endTime=void 0;};l.prototype.stop=function(){this.endTime=c.default.time.xa();};return l;})();b.Q0=r;},7881:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(14644),b);r.__exportStar(a(22972),b);r.__exportStar(a(40945),b);r.__exportStar(a(96),b);r.__exportStar(a(19457),b);},14644:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.cda=void 0;c=a(5163);l=a(42866);f=a(62558);a(31549);k=c.__importDefault(a(35471));d=a(40945);g=a(19457);r=(function(m){function h(n,p,q){p=m.call(this,p,q) || this;p.V0b=n;p.zga=!1;p.N1=!1;p.reset();return p;}c.__extends(h,m);h.prototype.reset=function(){var n,p;if(this.Xa === d.Fk.l$ || this.Xa === d.Fk.pending)null === (p=null === (n=this.CJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n);m.prototype.reset.call(this);this.CJ=this.V0b();this.N1=!1;this.dR=g.Jg.YC(l.L.Ga);};h.prototype.lf=function(){this.reset();(0,f.assert)(this.In);this.In.cX(this);};h.prototype.z8=function(){return this.dR;};h.prototype.xf=function(){var n,p,q,u,t;try{this.zga=!0;t=null !== (p=null === (n=this.CJ) || void 0 === n?void 0:n.next()) && void 0 !== p?p:{done:!0};}finally{this.zga=!1;this.Qpb=k.default.time.xa();this.jxb();}t.done?(this.dR=g.Jg.iza,null === (u=null === (q=this.CJ) || void 0 === q?void 0:q.return) || void 0 === u?void 0:u.call(q),this.CJ=void 0):this.dR=t.value;};h.prototype.jxb=function(){this.N1 && this.dXa();};h.prototype.dXa=function(){var n,p;this.zga?this.N1=!0:(this.N1=!1,null === (p=null === (n=this.CJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n),this.CJ=void 0);};h.prototype.Oa=function(){this.dXa();m.prototype.Oa.call(this);};h.prototype.Ol=function(){return {state:d.Fk[this.state],nextWakeup:{ms:this.dR.timestamp.G,type:g.N0[this.dR.type]},lastRunMono:this.Qpb};};return h;})(d.ofa);b.cda=r;},72396:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,v,w,y;function c(x){var z,A,B,C,D,F,G,E,H,M,L,K;A=x.sa;B=x.Ns;C=x.lgb;D=x.hm;F=x.priority;G=void 0 === F?0:F;F=x.WC;E=void 0 === F?!0:F;x=x.nTa;H=void 0 === x?!0:x;(0,g.assert)(A.ji,("Current time: ").concat(n.default.time.xa()," cr: ").concat(A.currentTime));(0,g.assert)(A.currentTime.isFinite());x=C.qa(A.currentTime);H && (x=l(x,null !== (z=null === D || void 0 === D?void 0:D.L8) && void 0 !== z?z:0));M=Math.max(Math.ceil(x.Vv / A.speed),0);L=null !== D && void 0 !== D?D:{id:void 0,XWa:M,L8:0,IVb:M,WC:E,p3:[]};K=n.default.time.xa();L.id=(L.WC?p.M$:setTimeout)(function(){var O,J;O=C.qa(A.currentTime);J=n.default.time.xa() - K - M;L.p3.push({delay:J,v3b:M});O.yy(d.L.Ga)?B():(L.L8++,c({sa:A,Ns:B,lgb:C,hm:L,priority:G,WC:E,nTa:H}));},M,G);L.XWa=M;return L;}function l(x,z){return 0 < z?d.L.max(x,d.L.Ma(10 * (1 << Math.min(z,6) - 1))):x;}Object.defineProperties(b,{__esModule:{value:!0}});b.Tea=b.$ea=void 0;f=a(5163);k=a(57055);d=a(42866);g=a(62558);m=a(49730);h=a(36344);n=f.__importDefault(a(35471));p=a(12289);q=a(83386);u=a(40945);t=a(19457);v=a(18653);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{eI:{get:function(){return this.lha;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{A8:{get:function(){return this.nqb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{CBb:{get:function(){return this.Rob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{t$:{get:function(){return this.mrb;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,A,B){this.Rob=A === y.C8?0:n.default.time.xa();this.nqb=z;this.mrb=A;m.K && (0,g.assert)(!this.lha,"Invalid replacement of timeout value");this.lha=B;};x.prototype.complete=function(){this.lha=void 0;this.set(d.L.Jp,y.C8);};return x;})();(function(x){x[x.C8=0]="none";x[x.zV=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y=b.$ea || (b.$ea={}));r=(function(x){function z(A,B){var C;C=x.call(this) || this;C.sa=A;C.console=B;C.YQ=!1;C.q1=!1;C.nj=new w();C.hT=new k.ye();C.Ch=new d.b0([],(0,h.kVa)(function(D,F){return D.sH.Lk(F.sH);},function(D,F){return D.Mf.pc.priority - F.Mf.pc.priority;},function(D,F){return F.Mf.priority - D.Mf.priority;},function(D,F){return D.Mf.id > F.Mf.id?1:D.Mf.id < F.Mf.id?-1:0;}));C.M2(A);return C;}f.__extends(z,x);z.R1b=function(A){this.config=A;};z.oJb=function(A,B){var D,F;function C(){var G,E;G=new z(A,B);E=new q.W_(function(H){H() && (G.Oa(),D.u$.delete(A));},B);return {pc:G,Bqa:E};}D=this;(0,g.assert)(this.config,"Config has not been intiialized");this.config.jUa && (this.u$.has(A) || this.u$.set(A,C()));F=this.u$.get(A) || C();return {pc:F.pc,xy:F.Bqa.Gs()};};Object.defineProperties(z.prototype,{Taa:{get:function(){return this.xE;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{T2b:{get:function(){return this.sa.ji;},enumerable:!1,configurable:!0}});z.prototype.qEb=function(){this.xE || (this.xE=new v.wfa());return this.xE;};z.prototype.Ol=function(){var A;A={hasSchedule:!!this.nj.eI,schedule:this.nj.eI && ({sleepTime:this.nj.eI.XWa,originalSleepTime:this.nj.eI.IVb,clockSkewAdjustments:this.nj.eI.L8}),nextWakeup:this.nj.A8.G,timeScheduled:this.nj.CBb,scheduleType:y[this.nj.t$],numTasks:this.Ch.length,clock:{ir:this.sa.ji,ct:this.sa.currentTime.G,sp:this.sa.speed}};m.K && this.trace("audit",A);return A;};z.prototype.M2=function(A){var B;B=this;this.Mq();this.hT.clear();this.sa=A;this.hT.on(A,"stopStart",function(){return B.kH();});this.hT.on(A,"clockAdjusted",function(){return B.UV();});this.hT.on(A,"speedChanged",function(){return B.wVb();});this.UV();this.emit("clockChanged");};z.prototype.wVb=function(){this.Mq();this.kH();};z.prototype.Oa=function(){this.reset();this.YQ && (this.q1=!0);this.hT.clear();this.hG=!0;};z.prototype.reset=function(){var A;this.Mq();A=this.Ch.wk();this.Ch.clear();A.forEach(function(B){return B.Mf.Oa();});};z.prototype.lf=function(){var A;this.Mq();A=this.Ch.wk();this.Ch.clear();A.forEach(function(B){return B.Mf.lf();});};z.prototype.UV=function(){var A,B;A=this;B=this.Ch.map(function(C){return C.Mf;});this.Mq();this.Ch.clear();B.forEach(function(C){return A.aK(C,!1);});this.kH();};z.prototype.aK=function(A,B){var C,D;void 0 === B && (B=!0);C=A.z8();D=this.ceb(C);C={Mf:A,sH:D,c$:C};m.K && this.trace(("Adding task ").concat(A.name," for ").concat(D.G," from ").concat(A.pc.name) + ("/").concat(A.pc.priority));(0,g.assert)(!this.Ch.contains(C));this.Ch.push(C);B && this.kH();};z.prototype.Laa=function(A){var B,C;B=this;this.Mq();A.Qt && this.Ch.map(function(D){return D;}).filter(function(D){return -1 !== A.Qt.indexOf(D.Mf);}).forEach(function(D){return B.Ch.remove(D);});null === (C=A.RR) || void 0 === C?void 0:C.forEach(function(D){return B.aK(D,!1);});this.kH();};z.prototype.kH=function(){var A,B,C,D,F,G,E;A=this;m.K && this.trace("recheck schedule task count:" + this.Ch.length);if(this.T2b){if(this.YQ)m.K && this.trace("already executing, bailing");else if(this.nj.t$ === y.zV)m.K && this.trace("Already scheduled on microtask, bailing");else {D=this.nj.A8;F=this.Ch.Gt();G=null !== (B=null === F || void 0 === F?void 0:F.sH) && void 0 !== B?B:d.L.Jp;if(G.isFinite() && G.wsa(D)){if((this.Mq(!1),this.sa.currentTime.hi(G)))(this.nj.set(G,y.zV),Promise.resolve().then(function(){A.nj.t$ === y.zV && (A.nj.complete(),A.Hab({type:y.zV}));}));else {m.K && this.trace("scheduling next wake up for",{Djc:G.G,Mf:null === F || void 0 === F?void 0:F.Mf.name,$0b:null === F || void 0 === F?void 0:F.Mf.pc.name});E=c({sa:this.sa,Ns:function(){A.nj.complete();A.Hab({type:y.setTimeout,A8:G,delay:A.sa.currentTime.qa(G),XE:E.L8,p3:E.p3});},lgb:G,priority:null !== (C=null === F || void 0 === F?void 0:F.Mf.pc.priority) && void 0 !== C?C:0,WC:!!z.config.WC,nTa:!!z.config.mTa});this.nj.set(G,y.setTimeout,E);}}else G.isFinite() || this.nj.t$ !== y.setTimeout || this.Mq(!1);}}else (m.K && this.trace("should check schedule is false, stopping"),this.Mq());};z.prototype.Hab=function(A){var B,C,D,F,G;F=0;G=null === (B=this.Ch.Gt()) || void 0 === B?void 0:B.c$;try{for((this.YQ=!0,null === (C=this.xE) || void 0 === C?void 0:C.$3b(A));1E4 > F++ && this.x6b();){;}}finally{this.YQ=!1;null === (D=this.xE) || void 0 === D?void 0:D.eFb(F);this.Mq();1E4 < F && !this.JMb(G)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(m.K && this.trace("Next tasks",this.Ch.map(function(E){return {name:E.Mf.name,$0b:E.Mf.pc.name,Ejc:E.sH.G};})),this.kH());}};z.prototype.JMb=function(A){var B,C;C=null === (B=this.Ch.Gt()) || void 0 === B?void 0:B.c$;return A && C && A.timestamp.equal(C.timestamp) && A.type === C.type?!1:!0;};z.prototype.KRb=function(){this.YQ && (this.q1=!0);};z.prototype.x6b=function(){var A,B,C,D,F,G;F=null !== (B=null === (A=this.Ch.Gt()) || void 0 === A?void 0:A.sH) && void 0 !== B?B:d.L.Jp;m.K && this.trace(("tryExecuteNextTask @").concat(this.sa.currentTime.G,", next wakeup at ").concat(F));A=this.sa.currentTime;if(A.hi(F) && (B=this.Ch.pop())){G=B.Mf;null === (C=this.xE) || void 0 === C?void 0:C.Z3b({Mf:G,currentTime:A,A8:F});this.Kka=G;C=!1;m.K && this.trace("Running a task @" + A.G + ", scheduled for time:" + F.G + ("Name:").concat(G.name));try{G.LN();C=!0;B.c$=G.z8();B.sH=this.ceb(B.c$);}catch(E){throw (this.error(("Unhandled error from a task ").concat(G.name," occurred.") + " Removing the task from future executions:" + E,{stack:E.stack}),G.Oa(),E);}finally{null === (D=this.xE) || void 0 === D?void 0:D.dFb({Mf:G,Xic:C});this.Kka=void 0;this.q1?(G.Oa(),this.q1=!1):B.sH !== d.L.Jp && G.state === u.Fk.l$ && ((0,g.assert)(!this.Ch.contains(B)),this.Ch.push(B));}return !0;}};z.prototype.cX=function(A){this.lH(A,!1);this.aK(A);};z.prototype.lH=function(A,B){var C;void 0 === B && (B=!0);C=this.Ch.find(function(D){return D.Mf === A;});C && this.B_b(C,B);};z.prototype.B_b=function(A,B){this.Ch.remove(A);B && this.kH();};z.prototype.Mq=function(A){var B;void 0 === A && (A=!0);this.nj.eI && (A && this.emit("stopping"),A=this.nj.eI,(A.WC?p.w3:clearTimeout)(A.id),this.nj.complete(),null === (B=this.Taa) || void 0 === B?void 0:B.Mq());};z.prototype.ceb=function(A){return A.type === t.N0.absolute?A.timestamp:A.timestamp.add(this.sa.currentTime);};z.prototype.trace=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,f.__spreadArray(["RootTaskScheduler:"],f.__read(B),!1));};z.prototype.error=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.error.apply(A,f.__spreadArray(["RootTaskScheduler:"],f.__read(B),!1));};z.config={WC:!0,jUa:!0,mTa:!0};z.u$=new WeakMap();return z;})(k.EventEmitter);b.Tea=r;},22972:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cNa=void 0;c=a(5163);l=a(40945);f=a(19457);r=(function(k){function d(g,m,h,n){void 0 === n && (n={});h=k.call(this,h) || this;h.jwa=g;h.Ns=m;h.options=n;return h;}c.__extends(d,k);d.prototype.z8=function(){return this.Xa === l.Fk.pending?this.jwa:f.Jg.iza;};d.prototype.xf=function(){this.Ns();};d.prototype.lf=function(){this.options.Fic?(k.prototype.reset.call(this),this.In.cX(this)):this.Oa();};return d;})(l.ofa);b.cNa=r;},40945:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ofa=b.Fk=void 0;c=a(19457);(function(f){f[f.pending=0]="pending";f[f.l$=1]="running";f[f.complete=2]="complete";f[f.kF=3]="destroyed";})(l=b.Fk || (b.Fk={}));r=(function(){function f(k,d){void 0 === d && (d=0);this.name=k;this.priority=d;this.Xa=l.pending;}Object.defineProperties(f.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Y2a:{get:function(){return this.Xa === l.pending || this.Xa === l.l$;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{pc:{get:function(){return this.In;},enumerable:!1,configurable:!0}});f.prototype.lub=function(k){var d;null === (d=this.In) || void 0 === d?void 0:d.lH(this);this.In=k;};f.prototype.LN=function(){this.Xa=l.l$;this.xf();this.z8() === c.Jg.iza && (this.Xa=l.complete,this.pc.lH(this));};f.prototype.Oa=function(){var k;this.Xa=l.kF;null === (k=this.In) || void 0 === k?void 0:k.lH(this);};f.prototype.mUa=function(k){this.In.lH(this);this.In=k;this.In.cX(this);};f.prototype.Ol=function(){};f.prototype.reset=function(){this.Xa=l.pending;};return f;})();b.ofa=r;},96:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.dba=b.rQ=void 0;c=a(5163);l=a(57055);f=a(62558);k=a(49730);d=a(89847);g=a(14644);m=a(22972);h=a(19457);n=a(72396);r=(function(p){function q(u,t,v,w){var y;void 0 === v && (v="unknown");void 0 === w && (w=0);y=p.call(this) || this;y.sa=u;y.console=t;y.name=v;y.priority=w;y.lqb=0;y.jx=new l.ye();y.Es=new Set();y.M2(u);return y;}c.__extends(q,p);Object.defineProperties(q.prototype,{hG:{get:function(){return void 0 === this.Jk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JN:{get:function(){return this.Jk;},enumerable:!1,configurable:!0}});q.prototype.jWa=function(u,t){u=new (u.bind.apply(u,c.__spreadArray([void 0],c.__read(t),!1)))();u.id=this.lqb++;u.lub(this);this.aK(u);return u;};q.prototype.Rx=function(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}return this.jWa(g.cda,u);};q.prototype.Ol=function(){var u,t;t=c.__assign(c.__assign({},null === (u=this.Jk) || void 0 === u?void 0:u.Ol()),{privateNumTasks:this.Es.size});k.K && this.trace("audit",t);return t;};q.prototype.UA=function(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}return this.jWa(m.cNa,u);};q.prototype.RVa=function(u,t,v){return this.Rx(function(){return c.__generator(this,function(w){switch(w.label){case 0:return [4,h.Jg.YC(t)];case 1:return (w.Ta(),u(),[3,0]);case 2:return [2];}});},v);};q.prototype.M2=function(u){var t,v,w;t=this;this.Jk && this.Jk.Laa({Qt:(0,d.wk)(this.Es.values())});this.E$a();v=n.Tea.oJb(u,this.console);w=v.pc;v=v.xy;this.Jk=w;this.jx.clear();this.sa=u;this.jx.on(w,"stopping",function(){return t.emit("stopping");});this.krb=v;this.Jk.Laa({RR:(0,d.wk)(this.Es.values())});this.emit("clockChanged");};q.prototype.Oa=function(){var u;if(!this.hG){u=this.Jk.Kka && this.Es.has(this.Jk.Kka);this.reset();u && this.Jk.KRb();this.E$a();}};q.prototype.E$a=function(){var u;this.Jk && this.emit("rootSchedulerReleasing",{JN:this.Jk});null === (u=this.krb) || void 0 === u?void 0:u.release();this.Jk=void 0;};q.prototype.reset=function(){var u;if(!this.hG){u=(0,d.wk)(this.Es.values());this.Jk.Laa({Qt:u});this.Es.clear();u.forEach(function(t){return t.Oa();});}};q.prototype.lf=function(){var u;if(!this.hG){u=(0,d.wk)(this.Es.values());this.Jk.Laa({Qt:u});u.forEach(function(t){return t.lf();});}};q.prototype.aK=function(u,t){void 0 === t && (t=!0);this.Es.add(u);this.Jk.aK(u,t);};q.prototype.cX=function(u){(0,f.assert)(u.pc === this);this.hG?k.K && this.console.warn(("Task restarted after destruction ").concat(u.name," on ").concat(this.name)):(this.Es.add(u),this.Jk.cX(u));};q.prototype.lH=function(u,t){void 0 === t && (t=!0);!this.hG && this.Es.has(u) && (this.Es.delete(u),this.Jk.lH(u,t));};q.prototype.trace=function(){for(var u,t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}null === (u=this.console) || void 0 === u?void 0:u.trace.apply(u,c.__spreadArray([("TaskScheduler(").concat(this.name,"):")],c.__read(t),!1));};return q;})(l.EventEmitter);b.rQ=r;b.dba=function(p,q,u){var t;t=void 0;return (u || p.sa.ji) && p.sa.currentTime.hi(q)?{promise:Promise.resolve()}:{promise:new Promise(function(v){t=p.UA(h.Jg.iu(q),v);}),Mf:t};};},19457:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Jg=b.N0=void 0;c=a(42866);(function(d){d[d.absolute=0]="absolute";d[d.C$a=1]="relative";})(l=b.N0 || (b.N0={}));k=(function(){function d(g,m){this.type=g;this.timestamp=m;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Ga:{get:function(){f || (f=new d(l.C$a,c.L.Ga));return f;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.iu=function(g){return new k(l.absolute,g);};Object.defineProperties(d,{M8b:{get:function(){return k.Ga;},enumerable:!1,configurable:!0}});d.YC=function(g){return new k(l.C$a,g);};d.iza=new k(l.absolute,c.L.Jp);return d;})();b.Jg=r;},18653:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.wfa=void 0;c=a(5163).__importDefault(a(35471));l=a(83886);f=a(74037);k=a(53595);d=a(14644);g=a(72396);m=[100,200,400,800,1600,3200];r=(function(){function h(){this.Pxa=new WeakMap();this.Qxa=new k.Q0();this.$qa=new k.Q0();this.a3=new k.Q0();this.state={pO:c.default.time.xa(),bI:0,v$:1,jh:{yG:new l.Uh(!0),fV:new l.Uh(),eV:new l.Uh(),sU:new l.Uh(!0),eY:new l.Uh(),XE:new l.Uh(),gX:new l.Uh(!0),oS:new f.nQ(m),pS:new f.nQ(m)},XH:{}};}h.prototype.b1a=function(n){var p;if(n.name)return ("").concat(n.pc.name,"::").concat(n.name);if(!this.Pxa.get(n)){p=("").concat(n.pc.name,"::'unk'::").concat(n.id,"::iterable?").concat(n instanceof d.cda);this.Pxa.set(n,p);}return this.Pxa.get(n);};h.prototype.Z3b=function(n){var p;n=this.b1a(n.Mf);(p=this.state.XH)[n] || (p[n]={R4:new l.Uh(),rma:0});this.Qxa.start();};h.prototype.Mq=function(){this.state.jh.gX.push(1);};h.prototype.$3b=function(n){var p;p=this;n.type === g.$ea.zV?this.state.jh.sU.push(1):(this.state.jh.eY.push(n.delay.G),n.p3.forEach(function(q){p.state.jh.oS.push(q.delay);p.state.jh.pS.push(q.v3b);}),this.state.jh.XE.push(n.XE));this.$qa.start();this.a3.stop();this.a3.duration && this.state.jh.eV.push(this.a3.duration);};h.prototype.eFb=function(n){this.$qa.stop();this.a3.start();this.state.jh.fV.push(this.$qa.duration);this.state.jh.yG.push(n);};h.prototype.dFb=function(n){n=this.b1a(n.Mf);this.Qxa.stop();this.state.XH[n].R4.push(this.Qxa.duration);};h.prototype.Ol=function(){this.state.bI=c.default.time.xa() - this.state.pO;return this.state;};h.reduce=function(n,p){var q,u,t,v,w;if(0 === n.bI && 0 === n.jh.yG.count)return p;if(0 === p.bI && 0 === p.jh.yG.count || n === p)return n;q=n.pO < p.pO?n:p;u=q === n?p:n;t=q.jh;v=u.jh;w={};Object.keys(n.XH).concat(Object.keys(p.XH)).forEach(function(y){var x,z;if(!w[y]){x=n.XH[y];z=p.XH[y];w[y]=x && z?{R4:x.R4.Mp(z.R4),rma:x.rma + z.rma}:x || z;}});return {pO:q.pO,bI:q.bI + u.bI,v$:q.v$ + u.v$,jh:{sU:t.sU.Mp(v.sU),yG:t.yG.Mp(v.yG),fV:t.fV.Mp(v.fV),eV:t.eV.Mp(v.eV),gX:t.gX.Mp(v.gX),eY:t.eY.Mp(v.eY),XE:t.XE.Mp(v.XE),oS:f.nQ.Mp(t.oS,v.oS),pS:f.nQ.Mp(t.pS,v.pS)},XH:w,toJSON:function(){return {timeConstructed:this.pO,timeRunning:this.bI,schedulers:this.v$,executionStats:{immediateRuns:this.jh.sU,loopRuns:this.jh.yG,loopTime:this.jh.fV,loopBetweenTime:this.jh.eV,scheduleClears:this.jh.gX,timerRuns:this.jh.eY,callBackDelayBuckets:this.jh.oS,callBackSleepBuckets:this.jh.pS,clockSkewAdjustments:this.jh.XE},taskStats:w};}};};return h;})();b.wfa=r;},73151:function(r,b,a){var l,f;function c(k,d,g){var m;void 0 === g && (g={});m=l.__assign(l.__assign({},f),g);return k.filter(function(h){var n;n=h.Pb;h=h.Ab;return !!h && h.yy(d) && (!m.eVa || n.hi(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.vma=b.vGb=b.Dma=void 0;l=a(5163);f={eVa:!1};b.Dma=function(k,d,g){void 0 === g && (g={});return c(k,d,g).pop();};b.vGb=c;b.vma=function(k,d,g){return k.filter(function(m){var h;h=m.Pb;m=m.Ab;return !!m && !!h && (m.hi(d) && m.yy(g) || h.hi(d) && h.yy(g) || m.yy(d) && h.hi(g));});};},29960:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.x9a=b.Y0=void 0;a(5163);a(42866);c=a(49730);l=a(57206);f=a(62558);r=(function(){function k(){this.R=new l.Mea();}Object.defineProperties(k.prototype,{empty:{get:function(){return !this.iw;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{root:{get:function(){var d;return null === (d=this.iw) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{values:{get:function(){var d;d=[];this.zF(function(g){return !!d.push(g);});return d;},enumerable:!1,configurable:!0}});k.prototype.has=function(d){return !!this.R.get(d);};k.prototype.parent=function(d){var g;d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (g=null === d || void 0 === d?void 0:d.parent) || void 0 === g?void 0:g.value;};k.prototype.children=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(g){return g.value;}):[];};k.prototype.Moa=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};k.prototype.add=function(d,g){var m;c.K && (0,f.assert)(!this.R.get(d),"Attempted to add a value to tree that is already present");m={value:d};void 0 === this.iw?(c.K && (0,f.assert)(void 0 === g,"a parent cannot be specified when the tree is empty"),this.iw=m):(c.K && (0,f.assert)(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.R.get(g),c.K && (0,f.assert)(g,"Parent value does not exist in tree"),this.ZSa(m,g));this.R.set(d,m);return this;};k.prototype.remove=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};k.prototype.removeNode=function(d){var g;g=this;this.Pma(function(m){return g.R.delete(m);},d.value);void 0 === d.parent?this.iw=void 0:this.detach(d);};k.prototype.move=function(d,g){d=this.R.get(d);g=this.R.get(g);c.K && (0,f.assert)(d,"cannot move a value that is not in the tree");c.K && (0,f.assert)(g,"cannot move a value to a parent value not in the tree");c.K && (0,f.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.K && (0,f.assert)(!this.rOb(d,g),"cannot move a node below itself or one of its decendants");d.parent !== g && (this.detach(d),this.ZSa(d,g));return this;};k.prototype.E_b=function(d){var g,m;g=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot replant at a value that is not in the tree");m=[];this.detach(d);this.Pma(function(h){g.R.delete(h);m.unshift(h);return !0;});this.iw=d;};k.prototype.clear=function(){this.iw && this.remove(this.iw.value);return this;};k.prototype.sZa=function(d,g){var m,h;m=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");null === (h=d.children) || void 0 === h?void 0:h.forEach(function(n){return g(n.value,m);});};k.prototype.C3b=function(d,g){var m,h;m=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (h=d.children) || void 0 === h || !h.some(function(n){return g(n.value,m);}));};k.prototype.zF=function(d){this.tZa(d,void 0);};k.prototype.tZa=function(d,g,m,h){var n;n=this;void 0 === h && (h=0);c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.iw.value,d(g,m,this,h) && this.sZa(g,function(p){return n.tZa(d,p,g,h + 1);}));};k.prototype.Pma=function(d,g){var m;m=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (null !== g && void 0 !== g?g:g=this.iw.value,this.sZa(g,function(h){return m.Pma(d,h);}),d(g,this));};k.prototype.dZa=function(d,g){var m,h;m=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");if(!this.empty){null !== g && void 0 !== g?g:g=this.iw.value;return this.C3b(g,function(n){return !!(h=m.dZa(d,n));})?h:d(g,this)?g:void 0;}};k.prototype.fDb=function(d){var g,m,h,n;g=this;m=this.values;h=m.filter(function(p){return !d.has(p);});n=d.values.filter(function(p){return !g.has(p);});m=m.filter(function(p){return d.has(p) && g.parent(p) !== d.parent(p);});return {RR:h,Qt:n,X$a:m};};k.prototype.ZSa=function(d,g){var m;d.parent=g;(null !== (m=g.children) && void 0 !== m?m:g.children=[]).push(d);};k.prototype.detach=function(d){var g;c.K && (0,f.assert)(d.parent,"cannot detach the root");c.K && (0,f.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");g=d.parent.children.indexOf(d);(0,f.assert)(0 <= g,"logic error: node does not appear in the children of its parent");d.parent.children.splice(g,1);d.parent=void 0;};k.prototype.rOb=function(d,g){for(;void 0 !== g;){if(g === d)return !0;g=g.parent;}return !1;};return k;})();b.Y0=r;b.x9a=function(k,d){var g;g="";k.zF(function(m,h,n,p){g+=("").concat(Array(p + 1).join("-")).concat(d(m),"\n");return !0;});return g;};},55011:function(r,b,a){var k,d,g;function c(m){var h,n,p,t;p=Object.getOwnPropertyNames(m);for(m=Object.getPrototypeOf(m);m !== Object.prototype;){try{for(var q=(h=void 0,k.__values(Object.getOwnPropertyNames(m))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(v){h={error:v};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(h)throw h.error;}}m=Object.getPrototypeOf(m);}return p;}function l(m,h,n,p,q){var u;Object.getOwnPropertyNames(m).filter(function(t){return q(t) && (n || !Object.prototype.hasOwnProperty.call(h,t)) && (p || !((t in h)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(m,t);void 0 !== u && Object.defineProperty(h,t,u);});}function f(m,h,n,p){var q,u;q=[];n || (q=Object.getOwnPropertyNames(h));p || (q=c(h));u=Object.getPrototypeOf(m);null !== u && u !== Object.prototype && f(u,h,n,p);l(m,h,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.xk=b.Lyb=void 0;k=a(5163);d=a(62558);b.Lyb=f;g=Object.getOwnPropertyNames(Function);b.xk=function(m,h,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || (0,d.assert)(!n);m.prototype?(f(m.prototype,h.prototype,n,p),l(m,h,n,p,function(q){return -1 === g.indexOf(q);})):l(m,h.prototype,n,p,function(q){return -1 === g.indexOf(q);});return h;};},53265:function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function l(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function f(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=l(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function k(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=f(q);return Math.sqrt(q);}function d(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,v=0,w=c(q),y=c(u),x=0;x < t;x++){v+=q[x] * u[x];}return (v - w * y / t) / t;}return !1;}function g(q,u,t){return Math.max(Math.min(q,t),u);}function m(q,u){return "number" === typeof q?q:u;}function h(q){return 1 / (1 + Math.exp(-q));}function n(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.Nab=b.scale=b.vYa=b.M4=b.ncb=b.DUa=b.uK=b.tanh=b.j1b=b.Kh=b.LIb=b.NIb=b.mLb=b.QLb=b.nIb=b.zLb=b.xK=b.Tf=b.Kq=void 0;p=a(5163).__importStar(a(17267));b.Kq=function(q,u,t){try{q.emit(u,t);}catch(v){if(q.eA)q.eA("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",v,"Event:",t);else throw v;}};b.Tf=function(q,u){void 0 !== q && p.fWb(q).forEach(function(t){u(t[0],t[1]);});};b.xK=function(){var t;for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}q=Array.prototype.concat.apply([],q);u=q.reduce(function(v,w){return v + w.byteLength;},0);t=new Uint8Array(u);q.reduce(function(v,w){t.set(new Uint8Array(w),v);return v + w.byteLength;},0);return t.buffer;};b.zLb=c;b.nIb=l;b.QLb=f;b.mLb=k;b.NIb=d;b.LIb=function(q,u){var t;if(q.length == u.length){t=d(q,u);q=k(q);u=k(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.Kh=function(q,u,t){return u.gWa?u.gWa(t):new q.Console("ASEJS","media|asejs",u.prefix?u.prefix + " " + t:t);};b.j1b=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});b.uK=g;b.DUa=function(q,u,t,v){return {min:g(m(q.min,u),t,v),max:g(m(q.max,u),t,v),Gx:g(q.Gx || 6E4,0,6E5),iUa:g(q.iUa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),Oab:g(q.Oab || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};};b.ncb=h;b.M4=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(h(6 * (u - (q.Gx + (q.iUa || 0) * (1 - t))) / (q.scale + (q.Oab || 0) * (1 - t))),q.gamma));};b.vYa=function(q,u){return q.min + (q.max - q.min) * Math.pow(h(6 * (u - q.Gx) / q.scale),q.gamma);};b.scale=n;b.Nab=function(q,u,t){return {min:n(q.min,u.min,t),max:n(q.max,u.max,t),Gx:n(q.Gx,u.Gx,t),scale:n(q.scale,u.scale,t),gamma:n(q.gamma,u.gamma,t)};};},73098:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zz=void 0;c=a(42866);r=(function(){function l(f,k){this.hE=f;this.$D=k;this.O0b();}l.from=function(f){return "number" === typeof f?new l(f,1):new l(f.Et,f.Us);};l.FZa=function(f){return new l(f.N,f.ja);};Object.defineProperties(l.prototype,{Et:{get:function(){return this.hE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Us:{get:function(){return this.$D;},enumerable:!1,configurable:!0}});l.prototype.za=function(){return new c.L(this.$D,this.hE);};l.prototype.equal=function(f){return this.hE === f.hE && this.$D === f.$D;};l.prototype.normalize=function(f){var k;k=1E3 * this.Us;return Math.floor(Math.floor((Math.floor(f + 1) * this.Et - 1) / k) * k / this.Et);};l.prototype.O0b=function(){var f,k,d;f=Math.floor(1E3 * this.hE / this.$D);k=Math.floor(1001 * this.hE / this.$D);d=1E3 * Math.round(f / 1E3);this.hE=d;this.$D=Math.abs(k - d) > Math.abs(f - d)?1E3:1001;};return l;})();b.Zz=r;},92141:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qJ=void 0;c=a(42866);b.qJ=(function(){return function(l,f){var k;void 0 === f && (f={w:1,$q:1});this.lk=l;this.m8a=f;k=l.w * f.w;l=l.$q * f.$q;f=(0,c.oB)(k,l);this.bv={w:k / f,$q:l / f};};})();},57578:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Bfa=void 0;c=a(5163).__importDefault(a(35471));r=(function(){function l(f){this.PN=new Uint16Array(f.length);for(var k=0;k < f.length;++k){this.PN[k]=f.charCodeAt(k);}}l.prototype.encrypt=function(f){for(var k=this.PN.length,d="",g=0;g < f.length;++g){d+=String.fromCharCode(this.PN[g % k] ^ f.charCodeAt(g));}return encodeURIComponent(d);};l.prototype.decrypt=function(f,k){var d,g;void 0 === k && (k=!1);d=this.PN.length;g="";if(k)for((k=new Uint8Array(c.default.W3(f)),f=0);f < k.length;f++){g+=String.fromCharCode(this.PN[f % d] ^ k[f]);}else for((k=decodeURIComponent(f),f=0);f < k.length;f++){g+=String.fromCharCode(this.PN[f % d] ^ k.charCodeAt(f));}return g;};return l;})();b.Bfa=r;},53110:function(r,b,a){var c;(function(l){(function(f){var d,g;function k(m,h){return function(n,p){"function" !== typeof m[n] && Object.defineProperty(m,n,{configurable:!0,writable:!0,value:p});h && h(n,p);};}d="object" === typeof a.n5?a.n5:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();g=k(l);"undefined" === typeof d.Reflect?d.Reflect=l:g=k(d.Reflect,g);f(g);})(function(f){var G,E,H,M,L,K,O,J,I,N,R;function k(U,ja,ra){var ka;ka=R.get(U);if(u(ka)){if(!ra)return;ka=new I();R.set(U,ka);}U=ka.get(ja);if(u(U)){if(!ra)return;U=new I();ka.set(ja,U);}return U;}function d(U,ja,ra){if(g(U,ja,ra))return !0;ja=A(ja);return null === ja?!1:d(U,ja,ra);}function g(U,ja,ra){ja=k(ja,ra,!1);return u(ja)?!1:!!ja.has(U);}function m(U,ja,ra){if(g(U,ja,ra))return h(U,ja,ra);ja=A(ja);if(null !== ja)return m(U,ja,ra);}function h(U,ja,ra){ja=k(ja,ra,!1);if(!u(ja))return ja.get(U);}function n(U,ja){var ra,Aa,La;ra=p(U,ja);U=A(U);if(null === U)return ra;ja=n(U,ja);if(0 >= ja.length)return ra;if(0 >= ra.length)return ja;U=new N();for(var ka=[],ua=0;ua < ra.length;ua++){Aa=ra[ua];La=U.has(Aa);La || (U.add(Aa),ka.push(Aa));}for(ra=0;ra < ja.length;ra++){Aa=ja[ra];(La=U.has(Aa)) || (U.add(Aa),ka.push(Aa));}return ka;}function p(U,ja){var ra,ka;ra=[];U=k(U,ja,!1);if(u(U))return ra;U=U.keys();ja=z(U,M);if(!x(ja))throw new TypeError();U=ja.call(U);if(!t(U))throw new TypeError();for(ja=0;;){ka=U.next();ka=ka.done?!1:ka;if(!ka)return (ra.length=ja,ra);ka=ka.value;try{ra[ja]=ka;}catch(Aa){var ua;try{ua=U["return"];ua && ua.call(U);}finally{throw Aa;}}ja++;}}function q(U){if(null === U)return 1;switch(typeof U){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === U?1:6;default:return 6;}}function u(U){return void 0 === U;}function t(U){return "object" === typeof U?null !== U:"function" === typeof U;}function v(U,ja){var ra;switch(q(U)){case 0:return U;case 1:return U;case 2:return U;case 3:return U;case 4:return U;case 5:return U;}ja=3 === ja?"string":5 === ja?"number":"default";ra=z(U,H);if(void 0 !== ra){U=ra.call(U,ja);if(t(U))throw new TypeError();return U;}a:{if("string" === ("default" === ja?"number":ja)){ja=U.toString;if(x(ja) && (ja=ja.call(U),!t(ja)))break a;ja=U.valueOf;}else {ja=U.valueOf;if(x(ja) && (ja=ja.call(U),!t(ja)))break a;ja=U.toString;}if(!x(ja) || (ja=ja.call(U),t(ja)))throw new TypeError();}return ja;}function w(U){U=v(U,3);return "symbol" === typeof U?U:"" + U;}function y(U){return Array.isArray?Array.isArray(U):U instanceof Object?U instanceof Array:"[object Array]" === Object.prototype.toString.call(U);}function x(U){return "function" === typeof U;}function z(U,ja){U=U[ja];if(void 0 !== U && null !== U){if(!x(U))throw new TypeError();return U;}}function A(U){var ja,ra;ja=Object.getPrototypeOf(U);if("function" !== typeof U || U === J || ja !== J)return ja;ra=U.prototype;ra=ra && Object.getPrototypeOf(ra);if(null == ra || ra === Object.prototype)return ja;ra=ra.constructor;return "function" !== typeof ra || ra === U?ja:ra;}function B(){var ka,ua,Aa;function U(La){return La;}function ja(La,Xa){return Xa;}function ra(La,Xa){return [La,Xa];}ka={};ua=[];Aa=(function(){function La(Xa,ab,aa){this.gg=0;this.Qe=Xa;this.sf=ab;this.prb=aa;}La.prototype["@@iterator"]=function(){return this;};La.prototype[M]=function(){return this;};La.prototype.next=function(){var Xa,ab;Xa=this.gg;if(0 <= Xa && Xa < this.Qe.length){ab=this.prb(this.Qe[Xa],this.sf[Xa]);Xa + 1 >= this.Qe.length?(this.gg=-1,this.sf=this.Qe=ua):this.gg++;return {value:ab,done:!1};}return {value:void 0,done:!0};};La.prototype.throw=function(Xa){0 <= this.gg && (this.gg=-1,this.sf=this.Qe=ua);throw Xa;};La.prototype.return=function(Xa){0 <= this.gg && (this.gg=-1,this.sf=this.Qe=ua);return {value:Xa,done:!0};};return La;})();return (function(){function La(){this.Qe=[];this.sf=[];this.Hu=ka;this.qs=-2;}Object.defineProperty(La.prototype,"size",{get:function(){return this.Qe.length;},enumerable:!0,configurable:!0});La.prototype.has=function(Xa){return 0 <= this.kx(Xa,!1);};La.prototype.get=function(Xa){Xa=this.kx(Xa,!1);return 0 <= Xa?this.sf[Xa]:void 0;};La.prototype.set=function(Xa,ab){Xa=this.kx(Xa,!0);this.sf[Xa]=ab;return this;};La.prototype.delete=function(Xa){var ab,aa;ab=this.kx(Xa,!1);if(0 <= ab){aa=this.Qe.length;for(ab+=1;ab < aa;ab++){this.Qe[ab - 1]=this.Qe[ab];this.sf[ab - 1]=this.sf[ab];}this.Qe.length--;this.sf.length--;Xa === this.Hu && (this.Hu=ka,this.qs=-2);return !0;}return !1;};La.prototype.clear=function(){this.Qe.length=0;this.sf.length=0;this.Hu=ka;this.qs=-2;};La.prototype.keys=function(){return new Aa(this.Qe,this.sf,U);};La.prototype.values=function(){return new Aa(this.Qe,this.sf,ja);};La.prototype.entries=function(){return new Aa(this.Qe,this.sf,ra);};La.prototype["@@iterator"]=function(){return this.entries();};La.prototype[M]=function(){return this.entries();};La.prototype.kx=function(Xa,ab){this.Hu !== Xa && (this.qs=this.Qe.indexOf(this.Hu=Xa));0 > this.qs && ab && (this.qs=this.Qe.length,this.Qe.push(Xa),this.sf.push(void 0));return this.qs;};return La;})();}function C(){return (function(){function U(){this.qf=new I();}Object.defineProperty(U.prototype,"size",{get:function(){return this.qf.size;},enumerable:!0,configurable:!0});U.prototype.has=function(ja){return this.qf.has(ja);};U.prototype.add=function(ja){return (this.qf.set(ja,ja),this);};U.prototype.delete=function(ja){return this.qf.delete(ja);};U.prototype.clear=function(){this.qf.clear();};U.prototype.keys=function(){return this.qf.keys();};U.prototype.values=function(){return this.qf.values();};U.prototype.entries=function(){return this.qf.entries();};U.prototype["@@iterator"]=function(){return this.keys();};U.prototype[M]=function(){return this.keys();};return U;})();}function D(){var ka,ua;function U(){var Aa,ab;do {Aa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ra(new Uint8Array(16),16):ra(Array(16),16);Aa[6]=Aa[6] & 79 | 64;Aa[8]=Aa[8] & 191 | 128;for(var La="",Xa=0;16 > Xa;++Xa){ab=Aa[Xa];if(4 === Xa || 6 === Xa || 8 === Xa)La+="-";16 > ab && (La+="0");La+=ab.toString(16).toLowerCase();}Aa="@@WeakMap@@" + La;}while(O.has(ka,Aa));ka[Aa]=!0;return Aa;}function ja(Aa,La){if(!G.call(Aa,ua)){if(!La)return;Object.defineProperty(Aa,ua,{value:O.create()});}return Aa[ua];}function ra(Aa,La){for(var Xa=0;Xa < La;++Xa){Aa[Xa]=255 * Math.random() | 0;}return Aa;}ka=O.create();ua=U();return (function(){function Aa(){this.zs=U();}Aa.prototype.has=function(La){La=ja(La,!1);return void 0 !== La?O.has(La,this.zs):!1;};Aa.prototype.get=function(La){La=ja(La,!1);return void 0 !== La?O.get(La,this.zs):void 0;};Aa.prototype.set=function(La,Xa){ja(La,!0)[this.zs]=Xa;return this;};Aa.prototype.delete=function(La){La=ja(La,!1);return void 0 !== La?delete La[this.zs]:!1;};Aa.prototype.clear=function(){this.zs=U();};return Aa;})();}function F(U){U.nob=void 0;delete U.nob;return U;}G=Object.prototype.hasOwnProperty;E="function" === typeof Symbol;H=E && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";M=E && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";E="function" === typeof Object.create;L=({__proto__:[]}) instanceof Array;K=!E && !L;O={create:E?function(){return F(Object.create(null));}:L?function(){return F({__proto__:null});}:function(){return F({});},has:K?function(U,ja){return G.call(U,ja);}:function(U,ja){return (ja in U);},get:K?function(U,ja){return G.call(U,ja)?U[ja]:void 0;}:function(U,ja){return U[ja];}};J=Object.getPrototypeOf(Function);I=(E="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;N=E || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?C():Set;R=new (E || "function" !== typeof WeakMap?D():WeakMap)();f("decorate",function(U,ja,ra,ka){var Aa;if(u(ra)){if(!y(U))throw new TypeError();if("function" !== typeof ja)throw new TypeError();for(ra=U.length - 1;0 <= ra;--ra){if((ka=(0,U[ra])(ja),!u(ka) && null !== ka)){if("function" !== typeof ka)throw new TypeError();ja=ka;}}return ja;}if(!y(U))throw new TypeError();if(!t(ja))throw new TypeError();if(!t(ka) && !u(ka) && null !== ka)throw new TypeError();null === ka && (ka=void 0);ra=w(ra);for(var ua=U.length - 1;0 <= ua;--ua){Aa=(0,U[ua])(ja,ra,ka);if(!u(Aa) && null !== Aa){if(!t(Aa))throw new TypeError();ka=Aa;}}return ka;});f("metadata",function(U,ja){return function(ra,ka){var ua;if(!t(ra))throw new TypeError();if(ua=!u(ka)){a:switch(q(ka)){case 3:ua=!0;break a;case 4:ua=!0;break a;default:ua=!1;}ua=!ua;}if(ua)throw new TypeError();k(ra,ka,!0).set(U,ja);};});f("defineMetadata",function(U,ja,ra,ka){if(!t(ra))throw new TypeError();u(ka) || (ka=w(ka));k(ra,ka,!0).set(U,ja);});f("hasMetadata",function(U,ja,ra){if(!t(ja))throw new TypeError();u(ra) || (ra=w(ra));return d(U,ja,ra);});f("hasOwnMetadata",function(U,ja,ra){if(!t(ja))throw new TypeError();u(ra) || (ra=w(ra));return g(U,ja,ra);});f("getMetadata",function(U,ja,ra){if(!t(ja))throw new TypeError();u(ra) || (ra=w(ra));return m(U,ja,ra);});f("getOwnMetadata",function(U,ja,ra){if(!t(ja))throw new TypeError();u(ra) || (ra=w(ra));return h(U,ja,ra);});f("getMetadataKeys",function(U,ja){if(!t(U))throw new TypeError();u(ja) || (ja=w(ja));return n(U,ja);});f("getOwnMetadataKeys",function(U,ja){if(!t(U))throw new TypeError();u(ja) || (ja=w(ja));return p(U,ja);});f("deleteMetadata",function(U,ja,ra){var ka;if(!t(ja))throw new TypeError();u(ra) || (ra=w(ra));ka=k(ja,ra,!1);if(u(ka) || !ka.delete(U))return !1;if(0 < ka.size)return !0;U=R.get(ja);U.delete(ra);if(0 < U.size)return !0;R.delete(ja);return !0;});});})(c || (c={}));},41385:function(r,b,a){var d;function c(){return Object.create(null);}function l(g){this.log=g.log;this.sa=g.sa;this.fC=c();this.Promise=g.Promise;this.Mx=g.Mx;this.yya=g.yya;this.df=g.df || !1;this.pv=c();this.LA=c();this.QE=c();this.rrb(g);g.Un && (this.Un=g.Un);}function f(g){return "undefined" !== typeof g;}function k(g){var n;for(var m=0,h=arguments.length;m < h;){n=arguments[m++];if(f(n))return n;}}a(66242);d=a(64765);l.prototype.rrb=function(g){this.pv.manifest=k(g.KFb,d.pv.W);this.pv.ldl=k(g.JFb,d.pv.UU);this.pv.metadata=k(g.qfc,d.pv.Ud);this.LA.manifest=k(g.cwb,d.LA.W);this.LA.ldl=k(g.bwb,d.LA.UU);this.LA.metadata=k(g.lec,d.LA.Ud);this.QE.manifest=k(g.jec,d.QE.W);this.QE.ldl=k(g.iec,d.QE.UU);this.QE.metadata=k(g.kec,d.QE.Ud);};l.prototype.iU=function(g,m){this.Ts("undefined" !== typeof g);this.Ts("undefined" !== typeof m);return !!this.zPa(g,m,void 0).value;};l.prototype.zPa=function(g,m,h){var n,p;n={value:null,reason:"",log:""};p=this.fC[m];h=h?h:"DEFAULTCAPS";if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + m,n.reason="unavailable",n);"undefined" === typeof p[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(p=p[g][h]) && p.value?this.Q6(m,p.creationTime)?(n.log="cache miss: " + m + " data expired for movieId:" + g,n.reason="expired",this.clearData(g,m,h,!1,"expired")):(n.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + m + " request in flight for movieId:" + g:"cache hit: " + m + " available for movieId:" + g,n.value=p.value):(n.log="cache miss: " + m + " data not available for movieId:" + g,n.reason="unavailable");return n;};l.prototype.getData=function(g,m,h){this.Ts("undefined" !== typeof g);this.Ts("undefined" !== typeof m);g=this.zPa(g,m,h);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.yya?JSON.parse(this.yya(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};l.prototype.setData=function(g,m,h,n,p){var q,u,t;this.Ts("undefined" !== typeof g);this.Ts("undefined" !== typeof m);q=this.fC;u=p?p:"DEFAULTCAPS";q[m] || (q[m]=c(),Object.defineProperty(q[m],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[m],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.Mx?this.Mx(JSON.stringify(h),"gzip",!0):h;q=q[m];this.Upb(g,m,u,q);t=this;n={creationTime:this.sa.getTime(),value:h,size:0,type:m,fla:n,IFb:setTimeout(function(){t.clearData(g,m,u,!1,"expired");},this.pv[m] + 1)};q[g]=q[g] || c();q[g][u]=q[g][u] || c();q[g][u]=n;q.size+=0;q.numEntries++;this.Un && this.Un.emit("addedCacheItem",n);return n;};l.prototype.Upb=function(g,m,h,n){var p,q,u,t,v,w,y,x,z;p=this;q=n.numEntries;u=this.LA[m];t=n[g] && n[g][h];if(t && t.value)(v=g,w="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][h];B && B.value && p.Q6(m,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});v=z || y;w="cache_full";}this.df && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:m,movieId:g,movieToBeRemoved:v});v && (p.clearData(v,m,h,void 0,w),this.log.debug("removed from cache: ",v,m));};l.prototype.Mja=function(g,m){var h,n;h=this;h.Ts("undefined" !== typeof g);n=g + "";m.forEach(function(p){var q;q=h.fC[p];q && Object.keys(q).forEach(function(u){u != n && h.clearData(u,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(g,m,h,n,p){var q;this.Ts("undefined" !== typeof g);this.Ts("undefined" !== typeof m);q=this.fC[m];m=q?q[g]:void 0;h=h?h:"DEFAULTCAPS";if(m && m[h]){q.size-=m[h].size;q.numEntries--;if(q=m && m[h])(clearTimeout(q.IFb),m[h]=void 0,!n && q.fla && q.fla());this.Un && (g={creationTime:q.creationTime,destroyFn:q.fla,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.Un.emit("deletedCacheItem",g));}};l.prototype.flush=function(g){var m;this.Ts("undefined" !== typeof g);m=this.fC;m[g]=c();m[g].numEntries=0;m[g].size=0;};l.prototype.FUa=function(){var g,m;this.Ts(!1);g=this;m=this.fC;m[void 0] instanceof Object && Object.keys(m[void 0]).forEach(function(h){var n;n=m[void 0][h].DEFAULTCAPS;g.sa.getTime() - n.creationTime > g.pv[void 0] && g.clearData(h,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.Q6=function(g,m){return this.sa.getTime() - m > this.pv[g];};l.prototype.getStats=function(g,m,h){var n,p,q,u,t;n={};p=this;q=p.fC;u=f(g) && f(m);t=h || "DEFAULTCAPS";Object.keys(q).forEach(function(v){var w,y;w=Object.keys(q[v]);y=q[v];w.forEach(function(x){!(x=y && y[x] && y[x][t]) || !f(x.value) || x.value instanceof p.Promise || (n[v]=(n[v] | 0) + 1,p.Q6(x.type,x.creationTime) && (n[v + "_expired"]=(n[v + "_expired"] | 0) + 1),u && x.creationTime >= g && x.creationTime < m && (n[v + "_delta"]=(n[v + "_delta"] | 0) + 1));});});return n;};l.prototype.getState=function(g){var m,h,n,p;m=[];h=this;n=h.fC;p=g || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var u,t;u=Object.keys(n[q]);t=n[q];u.forEach(function(v){var w,y;w=t && t[v] && t[v][p];if(w && f(w.value)){y=h.Q6(w.type,w.creationTime)?"expired":w.value instanceof h.Promise?"loading":"cached";m.push({movieId:v,state:y,type:q,size:w.size});}});});return m;};l.prototype.Ts=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.df))throw Error("Debug Assert Failed ");};r.exports=l;},64765:function(r){r.exports={pv:{W:12E5,UU:9E5,Ud:12E5},LA:{W:10,UU:10,Ud:10},QE:{W:10240,UU:10240,Ud:10240}};},66242:function(r){function b(a){var c;c=[];return (function k(f){if(f && "object" === typeof f){if(-1 !== c.indexOf(f))return !0;c.push(f);for(var d in f){if(f.hasOwnProperty(d) && k(f[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var f;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){f=a.pop();if("boolean" === typeof f)l+=4;else if("string" === typeof f)l+=2 * f.length;else if("number" === typeof f)l+=8;else if("object" === typeof f && -1 === c.indexOf(f)){c.push(f);for(var k in f){a.push(f[k]);}}}return l;};},62082:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.hoa=function(){return this.buffer.length - this.position;};a.prototype.Wy=function(){return this.buffer[this.position++];};a.prototype.Dj=function(c){var l;l=this.position;this.position+=c;return this.rPb(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.rPb=function(c){return void 0 !== c.subarray;};a.prototype.Zp=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.Uua=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.Tg=function(){return this.Zp(2);};a.prototype.$p=function(){return this.Zp(4);};a.prototype.sN=function(){return this.Zp(8);};a.prototype.aw=function(c){for(var l,f="";c--;){l=this.Wy();f+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return f;};a.prototype.Vua=function(c){for(var l=0,f=0;f < c;f++){l+=this.Wy() << (f << 3);}return l;};a.prototype.rN=function(){return this.Vua(4);};a.prototype.OY=function(c){this.NO(c,2);};a.prototype.Az=function(c){this.NO(c,4);};a.prototype.gba=function(c){this.buffer[this.position++]=c;};a.prototype.NO=function(c,l){this.position+=l;for(var f=1;f <= l;f++){this.buffer[this.position - f]=c & 255;c=Math.floor(c / 256);}};a.prototype.zz=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.NY=function(c){for(var l=c.length,f=0;f < l;f++){this.buffer[this.position++]=c[f];}};a.prototype.MO=function(c,l){this.NY(c.Dj(l));};a.prototype.wgb=function(c){c=new a(c);for(var l,f;;){if((l=c.hoa(),f=l >>> 14))(f=Math.min(4,f),this.gba(192 | f),this.MO(c,16384 * f));else {128 > l?this.gba(l):this.NO(l | 32768,2);this.MO(c,l);break;}}};a.prototype.c$a=function(){var f;for(var c=[],l=new a(c);;){f=this.Wy();if(f & 128){if(128 == (f & 192))(f&=63,f=(f << 8) + this.Wy(),l.MO(this,f));else if((f&=63,0 < f && 4 >= f)){l.MO(this,16384 * f);continue;}else throw Error("bad asn1");}else l.MO(this,f);break;}return new Uint8Array(c);};return a;})();b.mP=r;},9412:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,f,k){f=k?f.bind(k):f;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addListener)c.addListener(l,f);else if("function" === typeof c.addEventListener)c.addEventListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},57055:function(r,b,a){b=a(76960);b.ala=0;r.exports={EventEmitter:b,ye:a(9412)};},76960:function(r){var m,h,n,p;function b(){b.Bb.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,v){var w,y;a(t);w=q.ib;if(void 0 === w)(w=q.ib=Object.create(null),q.aE=0);else {void 0 !== w.ITb && (q.emit("newListener",u,t.listener?t.listener:t),w=q.ib);y=w[u];}void 0 === y?(w[u]=t,++q.aE):("function" === typeof y?y=w[u]=v?[t,y]:[y,t]:v?y.unshift(t):y.push(t),t=void 0 === q.Bs?b.ala:q.Bs,0 < t && y.length > t && !y.jza && (y.jza=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.ov=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.iZa)return (this.target.removeListener(this.type,this.tgb),this.iZa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function f(q,u,t){q={iZa:!1,tgb:void 0,target:q,type:u,listener:t};u=l.bind(q);u.listener=t;return q.tgb=u;}function k(q){var u;u=this.ib;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && g(q,"error",u,t);}function g(q,u,t,v){if("function" === typeof q.on){if(v.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){v.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}m="object" === typeof Reflect?Reflect:null;h=m && "function" === typeof m.apply?m.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,v){function w(x){q.removeListener(u,y);v(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",w);t([].slice.call(arguments));}g(q,u,y,{once:!0});"error" !== u && d(q,w,{once:!0});});};b.EventEmitter=b;b.prototype.ib=void 0;b.prototype.aE=0;b.prototype.Bs=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.Bb=function(){if(void 0 === this.ib || this.ib === Object.getPrototypeOf(this).ib)(this.ib=Object.create(null),this.aE=0);this.Bs=this.Bs || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.Bs=q;return this;};b.prototype.emit=function(q){var v,w;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}v="error" === q;t=this.ib;if(void 0 !== t)v=v && void 0 === t.error;else if(!v)return !1;if(v){0 < u.length && (w=u[0]);if(w instanceof Error)throw w;u=Error("Unhandled error." + (w?" (" + w.message + ")":""));u.context=w;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)h(t,this,u);else {w=t.length;v=Array(w);for(var y=0;y < w;++y){v[y]=t[y];}for(t=0;t < w;++t){h(v[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.B9=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,f(this,q,u));return this;};b.prototype.s9a=function(q,u){a(u);this.B9(q,f(this,q,u));};b.prototype.removeListener=function(q,u){var t,v,w,y,x;a(u);v=this.ib;if(void 0 === v)return this;w=v[q];if(void 0 === w)return this;if(w === u || w.listener === u)0 === --this.aE?this.ib=Object.create(null):(delete v[q],v.removeListener && this.emit("removeListener",q,w.listener || u));else if("function" !== typeof w){y=-1;for(t=w.length - 1;0 <= t;t--){if(w[t] === u || w[t].listener === u){x=w[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)w.shift();else {for(;y + 1 < w.length;y++){w[y]=w[y + 1];}w.pop();}1 === w.length && (v[q]=w[0]);void 0 !== v.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.vr=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,v;u=this.ib;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.ib=Object.create(null),this.aE=0):void 0 !== u[q] && (0 === --this.aE?this.ib=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){v=t[u];"removeListener" !== v && this.removeAllListeners(v);}this.removeAllListeners("removeListener");this.ib=Object.create(null);this.aE=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.ib;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):k.call(q,u);};b.prototype.listenerCount=k;},31503:function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},27E3:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(13752);l=a(29636);f=a(67566);b["default"]=function(k){var d;k=new c.zba(k);d=new f.Nlb(k);return new l.Mlb(k,d);};},13752:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.VQb=c;}a.prototype.O_a=function(){var c;try{c=this.VQb.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.Xm=function(){var c;c=this.O_a();if(c && c.tp)return c.tp.a;};a.prototype.EJb=function(){var c;c=this.Lna();if(c)return c.p25;};a.prototype.FJb=function(){var c;c=this.Lna();if(c)return c.p50;};a.prototype.GJb=function(){var c;c=this.Lna();if(c)return c.p75;};a.prototype.Lna=function(){var c;c=this.O_a();if(c && (c=c.iqr))return c;};return a;})();b.zba=r;},29636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.xx=c;this.rsa=l;}a.prototype.Xm=function(){return this.xx.Xm();};return a;})();b.Mlb=r;},67566:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.xx=c;}a.prototype.rsa=function(){var c,l,f;c=this.xx.EJb();l=this.xx.FJb();f=this.xx.GJb();if("number" === typeof c && "number" === typeof l && "number" === typeof f)return (f - c) / l;};return a;})();b.Nlb=r;},79809:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.xa:Date.now;},94030:function(r,b,a){var k;function c(d,g,m,h,n,p,q){this.zY=h;this.Igb=d;this.a7a=g;this.Jy=m;this.yPb=p;this.DC=q;this.split=n;}function l(){this.R={};this.R["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.R["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.R["3"]=new c("7","8","7","10","1.5",0,0);this.R["7"]=new c("15","16","15","9","4.5",0,0);this.R["15"]=new c("31","32","31","2","5.5",0,0);this.R["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.R["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.R["123"]=new c("123","124","123","0","0",1,.207298);this.R["124"]=new c("123","124","123","0","0",1,.49076);this.R["64"]=new c("125","126","125","4","40.5",0,0);this.R["125"]=new c("125","126","125","0","0",1,-.00157835);this.R["126"]=new c("125","126","125","0","0",1,.934205);this.R["32"]=new c("65","66","65","135","5.5",0,0);this.R["65"]=new c("127","128","128","4","1272.5",0,0);this.R["127"]=new c("127","128","128","0","0",1,-.510333);this.R["128"]=new c("127","128","128","0","0",1,.18363);this.R["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.R["129"]=new c("129","130","129","0","0",1,-.0464542);this.R["130"]=new c("129","130","129","0","0",1,.458833);this.R["16"]=new c("33","34","34","10","2.00001",0,0);this.R["33"]=new c("67","68","67","0","29.5",0,0);this.R["67"]=new c("131","132","131","2","39.5",0,0);this.R["131"]=new c("131","132","131","0","0",1,-.37577);this.R["132"]=new c("131","132","131","0","0",1,.512087);this.R["68"]=new c("133","134","134","140","1.5",0,0);this.R["133"]=new c("133","134","134","0","0",1,.321272);this.R["134"]=new c("133","134","134","0","0",1,-.675396);this.R["34"]=new c("69","70","70","2","24.5",0,0);this.R["69"]=new c("135","136","136","9","28.5",0,0);this.R["135"]=new c("135","136","136","0","0",1,-.0573845);this.R["136"]=new c("135","136","136","0","0",1,-.507455);this.R["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.R["137"]=new c("137","138","137","0","0",1,-.503909);this.R["138"]=new c("137","138","137","0","0",1,.450886);this.R["8"]=new c("17","18","17","4","44189.5",0,0);this.R["17"]=new c("35","36","35","2","21.5",0,0);this.R["35"]=new c("71","72","72","0","19.5",0,0);this.R["71"]=new c("139","140","140","9","2.5",0,0);this.R["139"]=new c("139","140","140","0","0",1,.00403497);this.R["140"]=new c("139","140","140","0","0",1,-.312656);this.R["72"]=new c("141","142","141","135","96",0,0);this.R["141"]=new c("141","142","141","0","0",1,-.465786);this.R["142"]=new c("141","142","141","0","0",1,.159633);this.R["36"]=new c("73","74","73","130","89.5",0,0);this.R["73"]=new c("143","144","144","10","4.5",0,0);this.R["143"]=new c("143","144","144","0","0",1,-.76265);this.R["144"]=new c("143","144","144","0","0",1,-.580804);this.R["74"]=new c("145","146","146","10","16.5",0,0);this.R["145"]=new c("145","146","146","0","0",1,.296357);this.R["146"]=new c("145","146","146","0","0",1,-.691659);this.R["18"]=new c("37","38","38","9","1.5",0,0);this.R["37"]=new c("37","38","38","0","0",1,.993951);this.R["38"]=new c("75","76","75","0","19",0,0);this.R["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.R["147"]=new c("147","148","147","0","0",1,-.346535);this.R["148"]=new c("147","148","147","0","0",1,-.995745);this.R["76"]=new c("147","148","147","0","0",1,-.99978);this.R["4"]=new c("9","10","9","5","4.5",0,0);this.R["9"]=new c("19","20","19","2","4.5",0,0);this.R["19"]=new c("39","40","39","140","7.5",0,0);this.R["39"]=new c("77","78","78","134","6.5",0,0);this.R["77"]=new c("149","150","150","7","11.5",0,0);this.R["149"]=new c("149","150","150","0","0",1,.729843);this.R["150"]=new c("149","150","150","0","0",1,.383857);this.R["78"]=new c("151","152","151","133","4.5",0,0);this.R["151"]=new c("151","152","151","0","0",1,.39017);this.R["152"]=new c("151","152","151","0","0",1,.0434342);this.R["40"]=new c("79","80","79","133","3.5",0,0);this.R["79"]=new c("153","154","154","8","4.5",0,0);this.R["153"]=new c("153","154","154","0","0",1,-.99536);this.R["154"]=new c("153","154","154","0","0",1,-.00943396);this.R["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.R["155"]=new c("155","156","155","0","0",1,.266272);this.R["156"]=new c("155","156","155","0","0",1,.959904);this.R["20"]=new c("41","42","42","10","65.5",0,0);this.R["41"]=new c("81","82","82","7","10.5",0,0);this.R["81"]=new c("157","158","158","2","37.5",0,0);this.R["157"]=new c("157","158","158","0","0",1,-.701873);this.R["158"]=new c("157","158","158","0","0",1,.224649);this.R["82"]=new c("159","160","159","133","9.5",0,0);this.R["159"]=new c("159","160","159","0","0",1,.0955181);this.R["160"]=new c("159","160","159","0","0",1,-.58962);this.R["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.R["83"]=new c("161","162","161","135","31",0,0);this.R["161"]=new c("161","162","161","0","0",1,-.229692);this.R["162"]=new c("161","162","161","0","0",1,.88595);this.R["84"]=new c("163","164","164","1","13.5",0,0);this.R["163"]=new c("163","164","164","0","0",1,-.992157);this.R["164"]=new c("163","164","164","0","0",1,.922159);this.R["10"]=new c("21","22","22","4","486",0,0);this.R["21"]=new c("43","44","44","133","4.5",0,0);this.R["43"]=new c("85","86","86","10","4.5",0,0);this.R["85"]=new c("165","166","166","4","158.5",0,0);this.R["165"]=new c("165","166","166","0","0",1,-.127778);this.R["166"]=new c("165","166","166","0","0",1,.955189);this.R["86"]=new c("165","166","166","0","0",1,-.994012);this.R["44"]=new c("87","88","88","1","3.5",0,0);this.R["87"]=new c("167","168","168","135","7",0,0);this.R["167"]=new c("167","168","168","0","0",1,-.997015);this.R["168"]=new c("167","168","168","0","0",1,.400821);this.R["88"]=new c("169","170","169","130","36",0,0);this.R["169"]=new c("169","170","169","0","0",1,-.898638);this.R["170"]=new c("169","170","169","0","0",1,.56129);this.R["22"]=new c("45","46","45","9","2.5",0,0);this.R["45"]=new c("89","90","90","9","1.5",0,0);this.R["89"]=new c("171","172","171","10","10.5",0,0);this.R["171"]=new c("171","172","171","0","0",1,.573986);this.R["172"]=new c("171","172","171","0","0",1,-.627266);this.R["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.R["173"]=new c("173","174","173","0","0",1,.925273);this.R["174"]=new c("173","174","173","0","0",1,-.994805);this.R["46"]=new c("91","92","91","136","5.5",0,0);this.R["91"]=new c("175","176","175","10","10.5",0,0);this.R["175"]=new c("175","176","175","0","0",1,.548352);this.R["176"]=new c("175","176","175","0","0",1,-.879195);this.R["92"]=new c("177","178","178","8","14.5",0,0);this.R["177"]=new c("177","178","178","0","0",1,.457305);this.R["178"]=new c("177","178","178","0","0",1,-.998992);this.R["2"]=new c("5","6","5","10","2.5",0,0);this.R["5"]=new c("11","12","11","9","4.5",0,0);this.R["11"]=new c("23","24","24","10","4.00001",0,0);this.R["23"]=new c("47","48","48","133","5.5",0,0);this.R["47"]=new c("93","94","93","3","13.5",0,0);this.R["93"]=new c("179","180","179","138","15.5",0,0);this.R["179"]=new c("179","180","179","0","0",1,.658398);this.R["180"]=new c("179","180","179","0","0",1,-.927007);this.R["94"]=new c("181","182","182","3","15.5",0,0);this.R["181"]=new c("181","182","182","0","0",1,-.111351);this.R["182"]=new c("181","182","182","0","0",1,-.99827);this.R["48"]=new c("95","96","95","7","167",0,0);this.R["95"]=new c("183","184","183","132","36.5",0,0);this.R["183"]=new c("183","184","183","0","0",1,.895161);this.R["184"]=new c("183","184","183","0","0",1,-.765217);this.R["96"]=new c("185","186","186","137","6.00001",0,0);this.R["185"]=new c("185","186","186","0","0",1,-.851095);this.R["186"]=new c("185","186","186","0","0",1,.674286);this.R["24"]=new c("49","50","49","137","5.5",0,0);this.R["49"]=new c("97","98","97","5","23.5",0,0);this.R["97"]=new c("187","188","187","3","28.5",0,0);this.R["187"]=new c("187","188","187","0","0",1,.951654);this.R["188"]=new c("187","188","187","0","0",1,-.993808);this.R["98"]=new c("187","188","187","0","0",1,-.99705);this.R["50"]=new c("187","188","187","0","0",1,-.997525);this.R["12"]=new c("25","26","25","8","8.5",0,0);this.R["25"]=new c("51","52","52","10","4.00001",0,0);this.R["51"]=new c("99","100","100","133","5.5",0,0);this.R["99"]=new c("189","190","190","7","40.5",0,0);this.R["189"]=new c("189","190","190","0","0",1,.151839);this.R["190"]=new c("189","190","190","0","0",1,-.855517);this.R["100"]=new c("191","192","192","133","14.5",0,0);this.R["191"]=new c("191","192","192","0","0",1,.86223);this.R["192"]=new c("191","192","192","0","0",1,.544394);this.R["52"]=new c("101","102","101","135","47.5",0,0);this.R["101"]=new c("193","194","194","4","24.5",0,0);this.R["193"]=new c("193","194","194","0","0",1,.946185);this.R["194"]=new c("193","194","194","0","0",1,.811859);this.R["102"]=new c("193","194","194","0","0",1,-.991561);this.R["26"]=new c("53","54","54","132","6.5",0,0);this.R["53"]=new c("103","104","103","131","85",0,0);this.R["103"]=new c("195","196","196","134","16.5",0,0);this.R["195"]=new c("195","196","196","0","0",1,.0473538);this.R["196"]=new c("195","196","196","0","0",1,-.999401);this.R["104"]=new c("197","198","198","8","15.5",0,0);this.R["197"]=new c("197","198","198","0","0",1,.816129);this.R["198"]=new c("197","198","198","0","0",1,-.99322);this.R["54"]=new c("105","106","105","133","3.5",0,0);this.R["105"]=new c("105","106","105","0","0",1,-.998783);this.R["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.R["199"]=new c("199","200","199","0","0",1,.528588);this.R["200"]=new c("199","200","199","0","0",1,-.998599);this.R["6"]=new c("13","14","14","10","7.5",0,0);this.R["13"]=new c("27","28","28","133","7.5",0,0);this.R["27"]=new c("55","56","56","10","4.5",0,0);this.R["55"]=new c("107","108","107","3","3.5",0,0);this.R["107"]=new c("201","202","201","4","17.5",0,0);this.R["201"]=new c("201","202","201","0","0",1,-.379512);this.R["202"]=new c("201","202","201","0","0",1,.15165);this.R["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.R["203"]=new c("203","204","203","0","0",1,-.884606);this.R["204"]=new c("203","204","203","0","0",1,.265406);this.R["56"]=new c("109","110","109","136","6.5",0,0);this.R["109"]=new c("205","206","205","4","157.5",0,0);this.R["205"]=new c("205","206","205","0","0",1,-.0142737);this.R["206"]=new c("205","206","205","0","0",1,.691279);this.R["110"]=new c("205","206","205","0","0",1,-.998086);this.R["28"]=new c("57","58","58","138","11.5",0,0);this.R["57"]=new c("111","112","112","2","6.5",0,0);this.R["111"]=new c("207","208","208","7","67.5",0,0);this.R["207"]=new c("207","208","208","0","0",1,.763925);this.R["208"]=new c("207","208","208","0","0",1,-.309645);this.R["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.R["209"]=new c("209","210","209","0","0",1,-.306635);this.R["210"]=new c("209","210","209","0","0",1,.556696);this.R["58"]=new c("113","114","113","138","50.5",0,0);this.R["113"]=new c("211","212","212","8","25.5",0,0);this.R["211"]=new c("211","212","212","0","0",1,.508234);this.R["212"]=new c("211","212","212","0","0",1,.793551);this.R["114"]=new c("211","212","212","0","0",1,-.998438);this.R["14"]=new c("29","30","29","134","27.5",0,0);this.R["29"]=new c("59","60","60","7","17.5",0,0);this.R["59"]=new c("115","116","115","135","5.5",0,0);this.R["115"]=new c("213","214","214","137","5.5",0,0);this.R["213"]=new c("213","214","214","0","0",1,.401747);this.R["214"]=new c("213","214","214","0","0",1,.0367503);this.R["116"]=new c("215","216","216","8","5.5",0,0);this.R["215"]=new c("215","216","216","0","0",1,-.0241984);this.R["216"]=new c("215","216","216","0","0",1,-.999046);this.R["60"]=new c("117","118","117","0","12.5",0,0);this.R["117"]=new c("217","218","218","132","5.5",0,0);this.R["217"]=new c("217","218","218","0","0",1,-.997294);this.R["218"]=new c("217","218","218","0","0",1,.210398);this.R["118"]=new c("219","220","219","137","1.5",0,0);this.R["219"]=new c("219","220","219","0","0",1,-.55763);this.R["220"]=new c("219","220","219","0","0",1,.074493);this.R["30"]=new c("61","62","62","133","42.5",0,0);this.R["61"]=new c("119","120","119","135","5.5",0,0);this.R["119"]=new c("221","222","222","4","473.5",0,0);this.R["221"]=new c("221","222","222","0","0",1,-.920213);this.R["222"]=new c("221","222","222","0","0",1,-.17615);this.R["120"]=new c("223","224","224","5","144",0,0);this.R["223"]=new c("223","224","224","0","0",1,-.954295);this.R["224"]=new c("223","224","224","0","0",1,-.382538);this.R["62"]=new c("121","122","121","133","50",0,0);this.R["121"]=new c("225","226","226","10","18.5",0,0);this.R["225"]=new c("225","226","226","0","0",1,-.0731343);this.R["226"]=new c("225","226","226","0","0",1,.755454);this.R["122"]=new c("227","228","228","0","30",0,0);this.R["227"]=new c("227","228","228","0","0",1,.25);this.R["228"]=new c("227","228","228","0","0",1,-.997101);}function f(d,g,m,h,n,p){this.j$=n;this.A3=p;}b=a(21457);k=a(79809);a={};a.uub=new (function(){this.mpb=k();this.Qa=0;this.update=function(){this.Qa=k() - this.mpb;};this.type="num";})();a.gQb=new (function(){this.type="cat";})();a.hQb=new (function(){this.type="cat";})();a.jQb=new (function(){this.type="cat";})();a.kQb=new (function(){this.type="cat";})();a.iQb=new (function(){this.type="cat";})();a.lQb=new (function(){this.type="cat";})();a.mQb=new (function(){this.type="cat";})();a.nQb=new (function(){this.type="cat";})();a.oQb=new (function(){this.type="cat";})();a.pQb=new (function(){this.type="cat";})();a.qQb=new (function(){this.type="cat";})();a.rQb=new (function(){this.type="cat";})();a.tQb=new (function(){this.type="cat";})();a.uQb=new (function(){this.type="cat";})();a.vQb=new (function(){this.type="cat";})();a.sQb=new (function(){this.type="cat";})();a.gvb=new (function(){this.update=function(d){for(var g in d.Jb){if("becauseYouAdded" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.hvb=new (function(){this.update=function(d){for(var g in d.Jb){if("becauseYouLiked" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.jvb=new (function(){this.update=function(d){for(var g in d.Jb){if("billboard" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Fyb=new (function(){this.update=function(d){for(var g in d.Jb){if("continueWatching" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.ivb=new (function(){this.update=function(d){for(var g in d.Jb){if("bigRow" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.UHb=new (function(){this.update=function(d){for(var g in d.Jb){if("genre" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.ETb=new (function(){this.update=function(d){for(var g in d.Jb){if("netflixOriginals" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.JTb=new (function(){this.update=function(d){for(var g in d.Jb){if("newRelease" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.xXb=new (function(){this.update=function(d){for(var g in d.Jb){if("popularTitles" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.pN=new (function(){this.update=function(d){for(var g in d.Jb){if("queue" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.DZb=new (function(){this.update=function(d){for(var g in d.Jb){if("recentlyAdded" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.l3b=new (function(){this.update=function(d){for(var g in d.Jb){if("similars" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.k6b=new (function(){this.update=function(d){for(var g in d.Jb){if("trendingNow" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.H6b=new (function(){this.update=function(d){for(var g in d.Jb){if("ultraHD" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.N8b=new (function(){this.update=function(d){for(var g in d.Jb){if("watchAgain" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Y5b=new (function(){this.update=function(d){for(var g in d.Jb){if("topTen" === d.Jb[g].context){this.Qa=Math.max(d.Jb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Qyb=new (function(){this.type="cat";})();a.Ryb=new (function(){this.type="cat";})();a.Syb=new (function(){this.type="cat";})();a.Tyb=new (function(){this.type="cat";})();a.Uyb=new (function(){this.type="cat";})();a.Vyb=new (function(){this.type="cat";})();a.Wyb=new (function(){this.type="cat";})();a.Xyb=new (function(){this.type="cat";})();a.Yyb=new (function(){this.type="cat";})();a.Zyb=new (function(){this.type="cat";})();a.$yb=new (function(){this.type="cat";})();a.azb=new (function(){this.type="cat";})();a.bzb=new (function(){this.type="cat";})();a.czb=new (function(){this.type="cat";})();a.dzb=new (function(){this.type="cat";})();a.ezb=new (function(){this.type="cat";})();a.fzb=new (function(){this.type="cat";})();a.gzb=new (function(){this.type="cat";})();a.hzb=new (function(){this.type="cat";})();a.izb=new (function(){this.type="cat";})();a.jzb=new (function(){this.type="cat";})();a.kzb=new (function(){this.type="cat";})();a.lzb=new (function(){this.type="cat";})();a.mzb=new (function(){this.type="cat";})();a.nzb=new (function(){this.type="cat";})();a.ozb=new (function(){this.type="cat";})();a.pzb=new (function(){this.type="cat";})();a.qzb=new (function(){this.type="cat";})();a.rzb=new (function(){this.type="cat";})();a.szb=new (function(){this.type="cat";})();a.tzb=new (function(){this.type="cat";})();a.uzb=new (function(){this.type="cat";})();a.vzb=new (function(){this.type="cat";})();a.wzb=new (function(){this.type="cat";})();a.xzb=new (function(){this.type="cat";})();a.yzb=new (function(){this.type="cat";})();a.zzb=new (function(){this.type="cat";})();a.Azb=new (function(){this.type="cat";})();a.Bzb=new (function(){this.type="cat";})();a.Czb=new (function(){this.type="cat";})();a.Dzb=new (function(){this.type="cat";})();a.Ezb=new (function(){this.type="cat";})();a.Fzb=new (function(){this.type="cat";})();a.Gzb=new (function(){this.type="cat";})();a.Hzb=new (function(){this.type="cat";})();a.Izb=new (function(){this.type="cat";})();a.Jzb=new (function(){this.type="cat";})();a.Kzb=new (function(){this.type="cat";})();a.Lzb=new (function(){this.type="cat";})();a.Mzb=new (function(){this.type="cat";})();a.Nzb=new (function(){this.type="cat";})();a.Ozb=new (function(){this.type="cat";})();a.Pzb=new (function(){this.type="cat";})();a.Qzb=new (function(){this.type="cat";})();a.Rzb=new (function(){this.type="cat";})();a.Szb=new (function(){this.type="cat";})();a.Tzb=new (function(){this.type="cat";})();a.Uzb=new (function(){this.type="cat";})();a.Vzb=new (function(){this.type="cat";})();a.Wzb=new (function(){this.type="cat";})();a.Xzb=new (function(){this.type="cat";})();a.Yzb=new (function(){this.type="cat";})();a.Zzb=new (function(){this.type="cat";})();a.$zb=new (function(){this.type="cat";})();a.aAb=new (function(){this.type="cat";})();a.bAb=new (function(){this.type="cat";})();a.cAb=new (function(){this.type="cat";})();a.dAb=new (function(){this.type="cat";})();a.eAb=new (function(){this.type="cat";})();a.fAb=new (function(){this.type="cat";})();a.gAb=new (function(){this.type="cat";})();a.hAb=new (function(){this.type="cat";})();a.iAb=new (function(){this.type="cat";})();a.jAb=new (function(){this.type="cat";})();a.kAb=new (function(){this.type="cat";})();a.lAb=new (function(){this.type="cat";})();a.mAb=new (function(){this.type="cat";})();a.nAb=new (function(){this.type="cat";})();a.oAb=new (function(){this.type="cat";})();a.GZb=new (function(){this.type="cat";})();a.HZb=new (function(){this.type="cat";})();a.IZb=new (function(){this.type="cat";})();a.JZb=new (function(){this.type="cat";})();a.KZb=new (function(){this.type="cat";})();a.LZb=new (function(){this.type="cat";})();a.MZb=new (function(){this.type="cat";})();a.NZb=new (function(){this.type="cat";})();a.OZb=new (function(){this.type="cat";})();a.PZb=new (function(){this.type="cat";})();a.QZb=new (function(){this.type="cat";})();a.RZb=new (function(){this.type="cat";})();a.SZb=new (function(){this.type="cat";})();a.TZb=new (function(){this.type="cat";})();a.UZb=new (function(){this.type="cat";})();a.VZb=new (function(){this.type="cat";})();a.WZb=new (function(){this.type="cat";})();a.XZb=new (function(){this.type="cat";})();a.YZb=new (function(){this.type="cat";})();a.ZZb=new (function(){this.type="cat";})();a.$Zb=new (function(){this.type="cat";})();a.a_b=new (function(){this.type="cat";})();a.b_b=new (function(){this.type="cat";})();a.L4b=new (function(){this.update=function(d){"down" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.N4b=new (function(){this.update=function(d){"right" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.M4b=new (function(){this.update=function(d){"left" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.O4b=new (function(){this.update=function(d){"up" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.mSb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.rowIndex);};this.type="num";})();a.nSb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.WUa);};this.type="num";})();a.uSb=new (function(){this.WD=this.Qa=0;this.update=function(d){this.WD++;this.Qa=1 * (this.Qa + d.rowIndex) / this.WD;};this.type="num";})();a.vSb=new (function(){this.WD=this.Qa=0;this.update=function(d){this.WD++;return this.Qa=1 * (this.Qa + d.WUa) / this.WD;};this.type="num";})();a.dYb=new (function(){this.type="num";})();a.eYb=new (function(){this.type="num";})();l.prototype.DC=function(d){return this.bRa(this.R["0"].Rab(d),d);};l.prototype.bRa=function(d,g){return "string" == typeof d?this.bRa(this.R[d].Rab(g),g):d;};c.prototype.Rab=function(d){switch(this.yPb){case 0:switch(d.features[this.zY].type){case "cat":return null === d.features[this.zY].value?this.a7a:"missing" == d.features[this.zY].value?this.Jy:this.Igb;case "num":return null === d.features[this.zY].value?this.Jy:d.features[this.zY].value < this.split?this.Igb:this.a7a;default:return this.Jy;}case 1:return this.DC;default:return this.DC;}};b.declare({FV:["modelSelector","modelone"],Yxb:["colEpisodeList",5],UMb:["holdDuration",15E3],Dab:["rowFirst",2],VUa:["colFirst",5],Eab:["rowScroll",2],XUa:["colScroll",6],E0b:["rowScrollHorizontal",6],b1b:["searchTop",3],zWa:["cwFirst",2],nU:["horizontalItemsFocusedMode",3],zPb:["itemsPerRank",1],YRb:["maxNumberPayloadsStored",10],O5a:["maxNumberTitlesScheduled",5],hfc:["enableDetailedLogging",!0],gic:["rowStep",20],wec:["colStep",15],Ihc:["pageRows",100],Hhc:["pageColumns",75],ura:["maskParamsList",new (function(){var d,g;this.ura=[];this.cl={};this.j$=20;this.A3=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.j$) + "_" + Math.floor(g / this.A3) in this.cl) || (this.cl[Math.floor(d / this.j$) + "_" + Math.floor(g / this.A3)]=1,this.ura.push(new f("grid",10,5,5,Math.floor(d / this.j$),Math.floor(g / this.A3))));}}})().ura],R:["nodes",new l().R],mapping:["mapping",{nSb:"0",vSb:"1",mSb:"2",uSb:"3",uub:"4",O4b:"5",M4b:"6",N4b:"7",L4b:"8",eYb:"9",dYb:"10",gQb:"11",hQb:"12",jQb:"13",kQb:"14",iQb:"15",lQb:"16",mQb:"17",nQb:"18",oQb:"19",pQb:"20",qQb:"21",rQb:"22",sQb:"23",tQb:"24",uQb:"25",vQb:"26",GZb:"27",HZb:"28",IZb:"29",JZb:"30",KZb:"31",LZb:"32",MZb:"33",NZb:"34",OZb:"35",PZb:"36",QZb:"37",RZb:"38",SZb:"39",TZb:"40",UZb:"41",VZb:"42",WZb:"43",XZb:"44",YZb:"45",ZZb:"46",$Zb:"47",a_b:"48",b_b:"49",Qyb:"50",Ryb:"51",Syb:"52",Tyb:"53",Uyb:"54",Vyb:"55",Wyb:"56",Xyb:"57",Yyb:"58",Zyb:"59",$yb:"60",azb:"61",bzb:"62",czb:"63",dzb:"64",ezb:"65",fzb:"66",gzb:"67",hzb:"68",izb:"69",jzb:"70",kzb:"71",lzb:"72",mzb:"73",nzb:"74",ozb:"75",pzb:"76",qzb:"77",rzb:"78",szb:"79",tzb:"80",uzb:"81",vzb:"82",wzb:"83",xzb:"84",yzb:"85",zzb:"86",Azb:"87",Bzb:"88",Czb:"89",Dzb:"90",Ezb:"91",Fzb:"92",Gzb:"93",Hzb:"94",Izb:"95",Jzb:"96",Kzb:"97",Lzb:"98",Mzb:"99",Nzb:"100",Ozb:"101",Pzb:"102",Qzb:"103",Rzb:"104",Szb:"105",Tzb:"106",Uzb:"107",Vzb:"108",Wzb:"109",Xzb:"110",Yzb:"111",Zzb:"112",$zb:"113",aAb:"114",bAb:"115",cAb:"116",dAb:"117",eAb:"118",fAb:"119",gAb:"120",hAb:"121",iAb:"122",jAb:"123",kAb:"124",lAb:"125",mAb:"126",nAb:"127",oAb:"128",N8b:"129",DZb:"130",l3b:"131",pN:"132",Fyb:"133",UHb:"134",k6b:"135",Y5b:"136",jvb:"137",JTb:"138",H6b:"139",xXb:"140",gvb:"141",ivb:"142",hvb:"143",ETb:"144"}],features:["features",a],zdc:["_modelName","tree"],tdc:["_format","xgboost"],ydc:["_itemsToKeep",5],xdc:["_itemsThreshold",null],gec:["cacheLimit",20]});r.exports={config:b,Mgc:f,Gec:c};},45578:function(r){r.exports={Cw:{nfa:0,zMa:1,Sh:2,name:["transient","semiTransient","permanent"]},yw:{kEa:0,yMa:1,G0:2,cQ:3,Ww:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},gdc:{Vcc:0,Vac:1,o$b:2,Ww:100,name:["trailer","montage","content"]},uu:{CGa:0,dMa:1,dob:2,ejb:3,Ww:100,name:["left","right","up","down"]},FP:{rib:0,G0:1,Fac:2,aac:3,O9b:4,Eac:5,qhb:6,Ww:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},RI:{cQ:0,DCa:1,Ww:100,name:["playFocused","detailsOpened"]}};},90638:function(r,b,a){var f,k,d,g,m,h,n,p,q,u;function c(t,v){this.Hj=t;this.Gl=v;}function l(t){this.V=t;this.reset();}f=a(79809);k=a(45578);b=a(76122);d=a(94030).config;g=b.KIb;m=b.tIb;h=b.bDb;n=b.BUb;p=b.AUb;q=b.zUb;u=b.bZa;l.prototype.constructor=l;l.prototype.reset=function(){this.DQa=void 0;this.Xj=[];this.vQa=this.wQa=!1;};l.prototype.update=function(t,v){var w;this.Xj && (this.Xj=this.Xj.filter(this.Y2b,this));if(!1 === this.wQa){w=g(t.Jb).slice(0,d.zWa);0 < w.length && (this.IG(w,k.Cw.Sh),this.wQa=!0,this.Xj=this.nI(w.concat(this.Xj)));}!1 === this.vQa && (w=m(t.Jb).slice(0,d.zWa),0 < w.length && (this.IG(w,k.Cw.Sh),this.vQa=!0,this.Xj=this.nI(w.concat(this.Xj))));switch(v){case k.yw.kEa:v=this.fMb(t);break;case k.yw.yMa:v=this.pMb(t);break;case k.yw.G0:v=this.qMb(t);break;case k.yw.cQ:v=this.kMb(t);break;default:v=this.cMb(t);}this.DQa=t;return v;};l.prototype.fMb=function(t){t=n(t.Jb,d.Dab,d.VUa);this.IG(t,k.Cw.Sh);return this.Xj=this.nI(this.Xj.concat(t));};l.prototype.pMb=function(t){var v,w;this.V.log("handleScrollHorizontal");v=t.Jb;t=n(v,d.Eab,d.XUa);w=h(v,this.DQa.Jb);v=v[w].list.slice(0,d.E0b);v.concat(t);this.IG(v,k.Cw.nfa);return this.nI(v.concat(this.Xj));};l.prototype.IG=function(t,v){t.forEach(function(w){if(void 0 === w.MA || w.MA < v)w.MA=v;void 0 === w.oO && (w.oO=f());void 0 === w.Qk && (w.Qk=f());});};l.prototype.qMb=function(t){this.V.log("handleSearch");t=p(t.Jb,d.b1b);this.IG(t,k.Cw.zMa);this.Xj=t.concat(this.Xj);return this.Xj=this.nI(this.Xj);};l.prototype.kMb=function(t){var v,w,y,x,z;this.V.log("handlePlayFocus: ",d.nU);v=t.direction;w=t.Jb;t=[];y=u(w);if(void 0 !== y.Hj)switch((t.push(y),v)){case k.uu.dMa:for(v=1;v < d.nU;v++){t.push(new c(y.Hj,y.Gl + v));}t.push(new c(y.Hj - 1,y.Gl));t.push(new c(y.Hj + 1,y.Gl));break;case k.uu.CGa:for(v=1;v < d.nU;v++){t.push(new c(y.Hj,y.Gl - v));}t.push(new c(y.Hj - 1,y.Gl));t.push(new c(y.Hj + 1,y.Gl));break;case k.uu.dob:t.push(new c(y.Hj - 1,y.Gl));for(v=1;v <= d.nU / 2;v++){t.push(new c(y.Hj,y.Gl + v));t.push(new c(y.Hj,y.Gl - v));}break;case k.uu.ejb:for((t.push(new c(y.Hj + 1,y.Gl)),v=1);v <= d.nU / 2;v++){t.push(new c(y.Hj,y.Gl + v));t.push(new c(y.Hj,y.Gl - v));}}x=[];t.forEach(function(A){z=q(w,A.Hj,A.Gl);void 0 !== z && x.push(z);});this.IG(x,k.Cw.nfa);return this.nI(x.concat(this.Xj));};l.prototype.cMb=function(t){this.V.log("ModelOne: handleDefaultCase");t=n(t.Jb,d.Eab,d.XUa);this.IG(t,k.Cw.nfa);return this.nI(t.concat(this.Xj));};l.prototype.Y2b=function(t){return t.MA == k.Cw.Sh | t.MA == k.Cw.zMa & f() - t.oO < d.UMb;};l.prototype.nI=function(t){var v,w,y,x,z,A,B;v=[];w={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].J;B=t[y];!1 === (A in w)?(v.push(B),w[A]=x,x++):(A=v[w[A]],B.Qk < A.Qk && (A.Qk=B.Qk),B.MA > A.MA && (A.MA=B.MA),B.oO > A.oO && (A.oO=B.oO));}return v;};r.exports=l;},7795:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.hg)return (this.hg={},this.hg[c]=[l],!0);f=this.hg[c];return void 0 === f?(this.hg[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.hg?this.hg[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.hg)return !1;f=this.hg[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.hg[c],!0);f.splice(l,1);return !0;},Kq:a,emit:a,removeAllListeners:function(c){this.hg && (void 0 === c?delete this.hg:delete this.hg[c]);return this;}};},65267:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,k){f=k?f.bind(k):f;k=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,f);else if("function" === typeof c.addListener)k=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},41628:function(r,b,a){r.exports={EventEmitter:a(7795),ye:a(65267)};},99886:function(r,b,a){var k,d,g,m,h,n,p;function c(q,u,t,v,w,y){this.P=this.J=q;this.priority=u;this.we=t;y && y.zd && (this.zd=y.zd);void 0 !== v && (this.bN=v);this.Qk=w;this.ub=y;}function l(q,u,t,v,w){g(void 0 !== v,"video preparer is null");g(void 0 !== w,"ui preparer is null");this.V=u || console;this.V=u;this.ka=t;this.Mrb=v;this.Crb=w;this.CQa=n.lua;this.SJ=[];this.pha=!1;this.OQ=0;new p().on(n,"changed",f,this);this.reset();}function f(){this.V.log("config changed");n.lua && (this.CQa=n.lua);n.FV !== this.LJ && (this.reset(),this.rva());}k=a(79809);d=a(45578);b=a(76122);g=b.assert;m=b.bZa;h=a(90638);n=a(94030).config;p=a(41628).ye;n.declare({lua:["ppmConfig",{i$b:{u7a:0,t7a:2,r7a:0,s7a:5,Zbb:0},Mcc:{u7a:0,t7a:1,r7a:0,s7a:3,Zbb:1E3},q$b:{u7a:0,t7a:1,r7a:0,s7a:3,Zbb:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.iga=!0;this.LJ=n.FV;this.V.log("create model: " + n.FV,n.Dab,n.VUa);switch(n.FV){case "modelone":this.LJ=new h(this.V);break;default:this.LJ=new h(this.V);}};l.prototype.rva=function(){var u,t;if(!1 === this.pha){this.pha=!0;for(var q=0;q < this.SJ.length;q++){this.V.log("PlayPredictionModel replay: ",JSON.stringify(this.SJ[q]));u=this.FVa(this.SJ[q]);t=this.OZa(u);this.LJ.update(u,t);this.iga=!1;}this.SJ=[];}};l.prototype.update=function(q){var u,t,v;this.V.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Jb && q.Jb[0]){!1 === this.pha && this.SJ.length < n.YRb && this.SJ.push(q);u=this.FVa(q);t=this.OZa(u);this.V.log("actionType",t);u="mlmodel" == n.FV?this.LJ.update(q,t):this.LJ.update(u,t);u=this.THb(u,n.zPb || 1);this.V.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.OQ && (this.OQ=k(),this.ka && this.ka.RW && this.ka.RW({$Cb:this.OQ}));if(this.ka && this.ka.H_b){this.TIb();v=[];u.forEach(function(w){v.push({fjc:w.J});});JSON.stringify(q);JSON.stringify(u);}this.Mrb.bH(u);this.Crb.bH(u);this.iga=!1;}};l.prototype.TIb=function(){k();};l.prototype.RW=function(){this.OQ=k();this.ka && this.ka.RW && this.ka.RW({$Cb:this.OQ});};l.prototype.FVa=function(q){var u,t,v,w,y;u={};v=q.Jb || [];w=(function(x){var z,A;z={};y=d.FP.name.indexOf(x.context);z.context=0 <= y?y:d.FP.Ww;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={J:B.J,we:B.we,index:B.index,bN:B.bN,C9:B.C9,list:B.list,ub:B.ub};void 0 !== B.property && (y=d.RI.name.indexOf(B.property),A.property=0 <= y?y:d.RI.Ww);z.list.push(A);}).bind(this));u.Jb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.uu.name.indexOf(q.direction);u.direction=0 <= y?y:d.uu.Ww;}void 0 !== q.tT && (u.yfc=q.tT.rowIndex,u.xfc=q.tT.byb);u.tT=q.tT;u.Jb=[];v.forEach(w);return u;};l.prototype.OZa=function(q){var u,t,v;u=q.direction || d.uu.Ww;t=q.tT;v=q.Jb || [];!0 === this.iga?q=d.yw.kEa:!0 === v.some(this.IMb)?(q=d.yw.cQ,this.a$(v,u,t)):q=v[0].context === d.FP.G0?d.yw.G0:u === d.uu.dMa || u === d.uu.CGa?d.yw.yMa:d.yw.Ww;return q;};l.prototype.IMb=function(q){return (q.list || []).some(function(u){return u.property === d.RI.cQ || u.property === d.RI.DCa;});};l.prototype.a$=function(q,u,t){var v,w;this.V.log("reportPlayFocusEvent: ",u,t);v={};w=m(q);this.ka && this.ka.a$ && (v.ofc=k(),v.direction=d.uu.name[u],t && (v.rowIndex=t.rowIndex,v.WUa=t.byb),void 0 !== w.Hj && (v.requestId=q[w.Hj].requestId),this.ka.a$ && this.ka.a$(v));};l.prototype.THb=function(q,u){for(var t=q.length,v=[],w,y,x,z,A=0;A < t;A++){y=q[A];w=Math.floor(A / u) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(n.Yxb,z) && !(x[B].Qk=y.Qk,this.YRa(x[B],w,v),v.length >= n.O5a);B++){;}}else this.YRa(y,w,v);if(v.length >= n.O5a)break;}return v;};l.prototype.YRa=function(q,u,t){var w,y;function v(x){x.zd && (x.ub || (x.ub={}),x.ub.zd=x.zd);return x.ub;}w=q.C9;if(void 0 !== w && w instanceof Array)w.forEach(function(x){void 0 !== x.J && (y=v(x),t.push(new c(x.J,u,x.we,x.bN,q.Qk,y)));});else if(void 0 !== w && void 0 !== w.J){w=q.C9;y=v(w);t.push(new c(w.J,u,w.we,w.bN,q.Qk,y));}void 0 !== q.J && (y=v(q),t.push(new c(q.J,u,q.we,q.bN,q.Qk,y)));};l.prototype.HF=function(q){var u;u=this.CQa;return q?u[q]:u;};r.exports=l;},76122:function(r,b,a){var l;function c(f){for(var k="",d=0;d < f.length;d++){k+=f[d].J + "|";}return k;}l=a(45578);r.exports={assert:function(f,k){if(!f)throw Error("PlayPredictionModel assertion failed" + (k?" : " + k:""));},ogc:function(f,k,d){Array.prototype.splice.apply(f,[k,0].concat(d));},KIb:function(f){for(var k=[],d=0;d < f.length;d++){if(f[d].context === l.FP.rib){k=f[d].list;break;}}return k;},tIb:function(f){for(var k=[],d=0;d < f.length;d++){if(f[d].context === l.FP.qhb){k=f[d].list;break;}}return k;},bDb:function(f,k){for(var d=0,g,m,h,n=0,p=f.length - 1;n < p;n++){g=c(f[n].list || []);h=!1;for(var q=0,u=k.length;q < u;q++){if((m=c(k[q].list || []),m == g)){h=!0;break;}}if(!1 === h){d=n;break;}}return d;},BUb:function(f,k,d){for(var g=[],m,h=0;h < Math.min(k,f.length);h++){m=f[h].list || [];g=g.concat(m.slice(0,d));}return g;},AUb:function(f,k){for(var d=[],g,m=0;m < f.length && (g=f[m].list || [],g=g.slice(0,Math.min(g.length,k)),k-=g.length,d=d.concat(g),0 !== k);m++){;}return d;},zUb:function(f,k,d){var g;k < f.length && 0 <= k && (f=f[k].list || [],d < f.length && (g=f[d]));return g;},bZa:function(f){for(var k={},d=f.length,g,m=0;m < d;m++){g=f[m].list || [];for(var h=0;h < g.length;h++){if(g[h].property === l.RI.cQ || g[h].property === l.RI.DCa){k.Hj=m;k.Gl=h;break;}}}void 0 === k.Hj && void 0 === k.Gl && (k.Hj=0,k.Gl=0);return k;}};},21457:function(r,b,a){var m,h,n,p,q,u,t,v;function c(w){return w.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function l(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function f(w,y,x){var z;if("string" === typeof w)return f.call(this,c(w),y,x);z=0;Object.keys(w).forEach(function(A){var B,C,D;B=q[A];C=w[A];if(B){if(D=u[A] || v[typeof m[B]])try{C=D(C);}catch(F){x && x.error("Failed to convert value '" + C + "' for config '" + A + "' : " + F.toString());return;}D=p[B];this[B]=C;p[B] !== D && (x && x.debug("Config changed for '" + A + "' from " + l(D) + " (" + typeof D + ") to " + l(C) + " (" + typeof C + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,C]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function k(){return Object.keys(q).reduce(function(w,y){var x,z;x=q[y];z=w[x];z?(z.push(y),w[x]=z.sort(function(A,B){return B.length - A.length;})):w[x]=[y];return w;},{});}function d(w,y){return w.hasOwnProperty(y)?l(w[y]):void 0;}function g(w,y){return "undefined" === typeof w?y:w;}b=a(31503);a=a(37911).EventEmitter;m={};h=Object.create(m);n=Object.create(h);p=Object.create(n);q={};u={};t={};p.declare=function(w){Object.keys(w).forEach(function(y){var x,z,A,B;x=w[y];z=x[0];A=x[1];B=x[2];if(m.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");m.hasOwnProperty(y) || ("function" === typeof A && (A=A()),m[y]=A);q[C]=y;"function" === typeof B && (u[C]=B);if(D=t[C])(D.forEach(function(F){var G,E;G=F[0];E={};E[C]=F[1];f.call(G,E,!1);}),delete t[C]);});});return p;};v={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};p.set=f.bind(h);p.fW=f.bind(n);p.dump=function(w,y){var z,A,B,C;function x(){C && w && w.log("===========================================");}z=Object.keys(t).sort();A={};B=k();y=g(y,!0);Object.keys(q).sort().forEach(function(D){var F,G,E;D=q[D];if(!A[D]){A[D]=!0;F=d(h,D);G=d(n,D);if(y || "undefined" !== typeof F || "undefined" !== typeof G){E=B[D].join(",");E+=" = " + l(p[D]) + " (" + typeof p[D] + ") [";E+=g(G,"<unset>") + ",";E+=g(F,"<unset>") + ",";E+=d(m,D) + "]";C || (C=!0,w && w.log("Current config values"),x());w && w.log(E);}}});(y || z.length) && w && w.log("<undeclared> :",z);x();};p.Pn=function(w){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});w && f.call(y,w);return y;};p.E8a=function(){var w;w=k();return Object.getOwnPropertyNames(h).reduce(function(y,x){y[w[x][0]]=h[x];return y;},{});};p.reset=function(){Object.keys(h).forEach(function(w){delete h[w];});};p.hg={};b(a,p);r.exports=Object.freeze(p);},76295:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.hg)return (this.hg={},this.hg[c]=[l],!0);f=this.hg[c];return void 0 === f?(this.hg[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.hg?this.hg[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.hg)return !1;f=this.hg[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.hg[c],!0);f.splice(l,1);return !0;},Kq:a,emit:a,removeAllListeners:function(c){this.hg && (void 0 === c?delete this.hg:delete this.hg[c]);return this;}};},92653:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,k){f=k?f.bind(k):f;k=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,f);else if("function" === typeof c.addListener)k=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},37911:function(r,b,a){r.exports={EventEmitter:a(76295),ye:a(92653)};},36888:function(r,b,a){var l,f,k,d,g;function c(m,h,n){void 0 === n && (n=0);return m.displayTime - n <= h && h < m.displayTime + m.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.Yhb=b.HAa=void 0;l=a(5163);f=a(42866);k=a(93161);d=a(57055);r=(function(m){function h(n,p,q,u,t,v,w,y){var x,z,A;x=this;x=m.call(this) || this;x.rpb=n;x.UQ=p;x.wpb=q;x.la=u;x.xt=t;x.aoa=v;x.m9=w;x.options=y;x.oj=[];x.Ki=[];x.Ii=[];x.Wta=new d.ye();x.kwa=new d.ye();x.y3=new d.ye();x.cA=new g(function(){return p(n());},x.la,(null === (z=x.options) || void 0 === z?void 0:z.ba) || !1);x.cA.events.on("bufferingcomplete",function(){var B;x.la.trace("AseTimer:Received buffering complete from watcher");null === (B=x.zm) || void 0 === B?void 0:B.lf();x.Nsa();});x.cA.jua();x.ccb();x.Wta.on(x.m9,"segmentPresenting",function(){x.N7a();});x.Wta.on(x.m9,"taskSchedulerChanged",function(){x.ccb();});null === (A=x.zm) || void 0 === A?void 0:A.Oa();return x;}l.__extends(h,m);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.cA.kS;},enumerable:!1,configurable:!0});h.prototype.G4b=function(){var n,p,q,u,t,v,w,y,x,z,A,B,C,D;D=this;return l.__generator(this,function(F){switch(F.label){case 0:this.la.trace("AseTimer:Starting subtitle worker");if(this.xt())return (this.la.trace("Paused: exiting"),[2]);n=function(){return D.yd.sa.currentTime.G;};p=this.rpb;this.Ii=this.Ki.concat(this.oj);this.I9a(p(),!0);F.label=1;case 1:if(!this.Ii.length)return [3,3];u=q=p();this.tUa(q);try{for((t=(B=void 0,l.__values(this.Ii)),v=t.next());!v.done;v=t.next()){w=v.value;this.la.trace(("AseTimer:Checking subtitle ").concat(w.id));q >= w.displayTime + w.duration || (c(w,q,this.options.Mic)?(this.la.trace(("AseTimer:Showing subtitle ").concat(w.id)),this.bYb(w),u=Math.max(q,w.displayTime)):(this.la.trace(("AseTimer:Staging subtitle ").concat(w.id)),this.mxa(w)));}}catch(G){B={error:G};}finally{try{v && !v.done && (C=t.return) && C.call(t);}finally{if(B)throw B.error;}}y=this.iwb(u);if(!isFinite(y))return (this.cA.jua(),[3,3]);x=n();z=this.wpb(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.la.trace(("AseTimer:Sleeping till PlayerTime ").concat(A));return [4,k.Jg.iu(f.L.Ma(A))];case 2:return (F.Ta(),this.I9a(p()),[3,1]);case 3:return (this.la.trace(("AseTimer:Checking removed subtitles one more time ").concat(p())),this.tUa(p()),this.la.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.I9a=function(n,p){var q,u,t,v,w;u=this;void 0 === p && (p=!1);t=p || !this.oj.length;t || (t=this.Ii[this.Ii.length - 1].displayTime > n);if(t){this.la.trace(("AseTimer:Getting subtitles for ").concat(n),{Dec:this.yd.sa.currentTime});v=this.UQ(n);if(v){this.la.trace(("AseTimer:Received ").concat(v.length," subtitles"));t=function(A){(0,f.wc)(w.Ii,function(B){return B.id === A.id;}) || n >= A.displayTime + A.duration || (w.la.trace(("AseTimer:adding ").concat(A.id),{start:A.startTime,Wec:A.displayTime,end:A.endTime,dfc:A.duration}),w.Ii.push(A));};w=this;try{for(var y=l.__values(v),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Ii.filter(function(A){return !(0,f.wc)(v,function(B){return B.id === A.id;});}).forEach(function(A){return u.XV(A);});this.Ii.length || this.cA.jua();}else this.ph();}};h.prototype.stop=function(){var n;this.la.trace("AseTimer:Stop");null === (n=this.zm) || void 0 === n?void 0:n.Oa();this.cA.reset();this.V9();this.Wta.clear();this.kwa.clear();this.y3.clear();};h.prototype.V9=function(){var n,p,q,u;this.la.trace("AseTimer:Removing all",this.Ki.length);u=this.Ki;try{for(var t=l.__values(u),v=t.next();!v.done;v=t.next()){this.XV(v.value);}}catch(y){var w;w={error:y};}finally{try{v && !v.done && (n=t.return) && n.call(t);}finally{if(w)throw w.error;}}this.Ki=[];if(null === (p=this.zm) || void 0 === p?0:p.Y2a)null === (q=this.zm) || void 0 === q?void 0:q.Oa();};h.prototype.pause=function(){var n;null === (n=this.zm) || void 0 === n?void 0:n.Oa();};h.prototype.vz=function(){var n,p,q,u;(null === (n=this.zm) || void 0 === n?void 0:n.state) !== k.Fk.complete && (null === (p=this.zm) || void 0 === p?void 0:p.state) !== k.Fk.kF || this.xt() || (null === (q=this.zm) || void 0 === q?void 0:q.lf());this.En && this.cA.check();this.xt() && (null === (u=this.zm) || void 0 === u?void 0:u.Oa());};h.prototype.ccb=function(){var n;n=this;this.la.trace("Setting up new task scheduler");(this.yd=this.aoa())?(this.kwa.clear(),this.kwa.on(this.yd,"clockChanged",function(){return n.C7a();}),this.zm=this.yd.Rx(function(){return n.G4b();},"subtitleWorker"),this.C7a()):this.la.warn("AseTimer: no player task scheduler");};h.prototype.iwb=function(n){var p;return null !== (p=this.Ii.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > n;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};h.prototype.C7a=function(){var n,p,q;n=this;this.y3.clear();(null === (p=this.yd) || void 0 === p?0:p.sa)?(this.la.trace("onClockChanged: clock listeners registered"),this.y3.on(this.yd.sa,"clockAdjusted",function(u){u.reason === k.Iz.MH && n.N7a();}),this.y3.on(this.yd.sa,"stopStart",function(){var u;n.yd.hG || (null === (u=n.zm) || void 0 === u?void 0:u.lf());})):this.la.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.zm) || void 0 === q?void 0:q.lf();};h.prototype.N7a=function(){var n,p;this.la.trace("Timeline changed");this.V9();this.xt()?null === (p=this.zm) || void 0 === p?void 0:p.Oa():null === (n=this.zm) || void 0 === n?void 0:n.lf();};h.prototype.mxa=function(n){-1 === this.oj.indexOf(n) && this.xVb(n);};h.prototype.tUa=function(n){var p,q,v;q=this.Ki.concat(this.oj);try{for(var u=l.__values(q),t=u.next();!t.done;t=u.next()){v=t.value;n >= v.displayTime + v.duration && this.XV(v);}}catch(y){var w;w={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(w)throw w.error;}}};h.prototype.bYb=function(n){-1 === this.Ki.indexOf(n) && (this.Ki.push(n),-1 !== this.oj.indexOf(n) && (this.oj=this.oj.filter(function(p){return p !== n;})),this.cta(n));};h.prototype.cta=function(n){this.la.trace("AseTimer:Showing",n.id);this.emit("showsubtitle",n);};h.prototype.xVb=function(n){this.la.trace("AseTimer:Staging",n.id);this.oj.push(n);this.emit("stagesubtitle",n);};h.prototype.ph=function(){this.la.trace("AseTimer:onUnderflow",this.En);this.En || (this.emit("underflow"),this.cA.ph());};h.prototype.XV=function(n){this.la.trace("AseTimer:Removing",n.id);-1 !== this.oj.indexOf(n) && (this.oj=this.oj.filter(function(p){return p !== n;}));-1 !== this.Ki.indexOf(n) && (this.emit("removesubtitle",n),this.Ki=this.Ki.filter(function(p){return p !== n;}));this.Ii=this.Ii.filter(function(p){return p !== n;});};h.prototype.Nsa=function(){var n;this.Ii.length && (this.emit("bufferingComplete"),this.xt() || (null === (n=this.zm) || void 0 === n?void 0:n.lf()));};return h;})(d.EventEmitter);b.HAa=r;g=(function(){function m(h,n,p){void 0 === p && (p=!1);this.UQ=h;this.la=n;this.dE=p;this.events=new d.EventEmitter();this.En=!1;}Object.defineProperty(m.prototype,"buffering",{get:function(){return this.En;},enumerable:!1,configurable:!0});m.prototype.jua=function(){var h;h=this;this.la.trace("AseTimer:Buffering watcher restart");this.En=!0;this.Xga && clearInterval(this.Xga);this.Xga=this.dE?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};m.prototype.ph=function(){this.la.trace("AseTimer:Buffering watcher underflow");this.En=!0;this.xUa(1);};m.prototype.reset=function(){this.la.trace("AseTimer:Buffering watcher reset");clearInterval(this.Xga);clearTimeout(this.Erb);this.En=!1;};m.prototype.xUa=function(h){var n;n=250 * (1 << h);2E3 < n && (n=2E3);this.check();this.En && (this.Erb=setTimeout(this.xUa.bind(this,h + 1),n));};m.prototype.check=function(){var h;h=this.UQ();this.la.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",MC:h}));};return m;})();b.Yhb=g;},94536:function(r,b,a){var w,y,x,z,A,B,C,D,F,G;function c(E,H){var M,L;M=this;L=E.styles || ({});return {startTime:H.startTime,id:H.id,endTime:H.endTime,displayTime:H.displayTime,duration:H.duration,blocks:H.blocks.map(function(K){var O;O=A.lBb(E,K);return {textNodes:K.textNodes.map(v.bind(M,L)),region:O,id:K.id};})};}function l(E){if(!Array.isArray(E))throw Error("last called on non-array: " + E);return E[E.length - 1];}function f(E,H){var M,L,K,O,J,I;M=x.gf(!0);L={};K=[];O=null;J=[];I={};M.onerror=function(N){H(N,null);};M.onend=function(){H(null,L);};M.onclosetag=function(){K.pop();};M.onopentag=function(N){var R,U,ja,ra;R=N.attributes;U=N.name;ja=L.regions;ra=L.styles;K.push(N);if("tt" === U)L=q(R);else if("body" === U)"undefined" !== typeof R.style && (L.defaultStyle=R.style,J.push(R.style));else if("initial" === U && t(K,"styling"))(I=u(R,C),L.initialStyle=I);else if("style" === U && t(K,"styling")){ja=R["xml:id"];N=I;R=u(R,C);if(Object.keys(N).length)for(var ka in N){"undefined" === typeof R[ka] && (R[ka]=N[ka]);}ra[ja]=R;}else "style" === U && t(K,"region")?(ra=Object.keys(R)[0],"string" === typeof ra && (ja[O][ra.slice(4)]=R[ra])):"region" === U && t(K,"layout") && (O=R["xml:id"],ja[O]=u(R,F));};setTimeout(function(){var N;for(M.write(E);0 < K.length && !M.error;){N=l(K).name;M.write("</" + N + ">");}M.close();},10);}function k(E,H){var M;M=E.filter(function(L){return L.startTime <= H && H <= L.endTime;});E=E.filter(function(L){return L.startTime > H;});return 0 < E.length?M.concat([E[0]]):M;}function d(){}function g(E){var H,M,L,K;H=E.preferences;M=E.pg;L=E.we;K=E.la;if(!E.xml && !E.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");y.call(this);this.gg=this.qga=null;this.qx="object" === typeof H?E.preferences:{};this.ix="object" === typeof M?E.pg:{};this.Kk="number" === typeof L?E.we:0;this.wE=E.xml || "";this.ka="object" === typeof K?E.la:G;this.pE=E.request;this.Rf=E.url;this.pf=[];this.Vj=this.Kk;this.nd=null;this.vm=this.Hn=!1;this.TD=E.GW || 0;this.dE=E.ba;}function m(E,H){return E && "object" === typeof E[H] && null !== E[H]?E[H]:{};}function h(E,H){return E !== H && !(E && 0 === Object.keys(E).length && H && 0 === Object.keys(H).length);}function n(){var E,H,M;E=this;H=E.wE.indexOf("<p");if(-1 < H){M=E.wE.slice(0,H);f(M,function(L,K){null !== L?(L.M1a=M,E.emit("error",L)):(E.qga=K,E.gg=new z(E.wE,K.tickRate),p.call(E,E.Kk));});}else E.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(E){var H,M,L,K,O,J,I,N,R;H=this;M=H.qga;L=0;K=[];O=M.defaultStyle?[M.defaultStyle]:[];J=M.lang?[M.lang]:[];I=H.gg.Bga;H.ka.info("parsing the next 5 entries...");N=H.gg.mKb(E);H.ka.debug(N);R=x.gf(!0);R.onerror=function(U){U.xml=N;H.emit("error",U);};R.onend=function(){var U;U=H.pf.reduce(function(ja,ra){ra=ra.blocks.reduce(function(ka,ua){return ka.concat([ua.id]);},[]);return ja.concat(ra);},[]);K.forEach(function(ja){var ra;if(-1 === U.indexOf(ja.id)){ra=ja && ja.blocks && ja.blocks.filter(function(ka){return 0 < ka.textNodes.length;});ra && 0 < ra.length && (ja.blocks=ra,H.pf.push(ja));}});H.vm=!1;H.Hn || (H.Hn=!0,H.emit("ready"));};R.ontext=function(U){var ja,ra,ka,ua;if("" !== U.trim() || U.match(/ +/)){ja=l(l(K).blocks).textNodes;ra=ja.push;U=U.match(/ +/) || l(J) && "ja" === l(J).slice(0,2)?U:U.trim();ka=l(O);ua=l(J);ra.call(ja,{text:U,style:ka,lang:ua && 0 === ua.indexOf("ja")?"ja":ua,lineBreaks:L});}L=0;};R.onclosetag=function(){var U;U=R.tag;"undefined" !== typeof U.attributes.style && O.pop();"undefined" !== typeof U.attributes["xml:lang"] && J.pop();};R.onopentag=function(U){var ja,ra,ka,ua,Aa;ja=U.attributes;ra=U.name;U=M.tickRate;if("p" === ra){L=0;ra=ja["xml:id"];ja.style && O.push(ja.style);ja["xml:lang"] && J.push(ja["xml:lang"]);ka=I?Math.floor(parseInt(ja.begin) / U * 1E3):Math.floor(w(ja.begin));if(0 === K.length || l(K).displayTime !== ka){ka=K.push;ua={};if(I){Aa=parseInt(ja.begin) / U * 1E3;U=parseInt(ja.end) / U * 1E3;}else (Aa=w(ja.begin),U=w(ja.end));ua.id=ra;ua.startTime=Math.floor(Aa);ua.endTime=Math.floor(U);ua.style=ja.style;ua.region=ja.region;ua.displayTime=ua.startTime;ua.duration=ua.endTime - ua.startTime;ua.extent=ja["tts:extent"] || null;ua.origin=ja["tts:origin"] || null;ua.latestEndSoFar=0 > ua.endTime?0:ua.endTime;ua.blocks=[{textNodes:[],region:ua.region,id:ra,extent:ua.extent,origin:ua.origin}];ka.call(K,ua);}else l(K).blocks.push({textNodes:[],region:ja.region,id:ra,extent:ja["tts:extent"] || null,origin:ja["tts:origin"] || null});}else "span" === ra?(O.push(ja.style),ja["xml:lang"] && J.push(ja["xml:lang"]),U=M.styles[ja.style],ja.style && U && U.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(U.ruby) && l(l(K).blocks).textNodes.push({text:"",style:l(O),lang:l(J),lineBreaks:0})):"br" === ra && L++;};R.write("<entries>").write(N).write("</entries>").close();}function q(E){var H;E=u(E,D);if("string" === typeof E.extent){H=E.extent.split(" ").map(function(M){return parseInt(M,10);});E.width=H[0];E.height=H[1];}else (E.width=1280,E.height=720);E.aspectRatio=E.width / E.height;"string" === typeof E.cellResolution?(H=E.cellResolution.split(" ").map(function(M){return parseInt(M,10);}),E.cellResolution={},E.cellResolution.x=H[0],E.cellResolution.y=H[1]):E.cellResolution={x:52,y:19};return E;}function u(E,H){var M;M={};H.forEach(function(L){"undefined" !== typeof E["tts:" + L]?M[L]=E["tts:" + L]:"undefined" !== typeof E["ttp:" + L]?M[L]=E["ttp:" + L]:"undefined" !== typeof E["ebutts:" + L]?M[L]=E["ebutts:" + L]:"undefined" !== typeof E["xml:" + L] && (M[L]=E["xml:" + L]);});M.styles={};M.regions={};return M;}function t(E,H){var M;for(M=E.length - 1;0 <= M;M--){if(E[M].name === H)return !0;}return !1;}function v(E,H){return {lineBreaks:H.lineBreaks,text:H.text,lang:H.lang,style:B.oBb(E[H.style] || ({}),this.ix,this.qx,this.dE),id:H.id};}w=a(42353).Px;y=a(22699).EventEmitter;x=a(14387);z=a(18559);A=a(64433);B=a(41555);C=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");D=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");F=("backgroundColor displayAlign extent origin position writingMode multiRowAlign textAlign").split(" ");G={info:d,debug:d};b=Object.create(y.prototype);g.prototype=b;b.start=function(){var E;E=this;E.ka.info("incremental text stream created, starting at pts " + E.Kk);E.wE?n.call(E):E.pE({url:E.Rf},function(H,M){E.wE=M;n.call(E);});};b.pB=function(E){var H,M,L;H=this;E < H.Vj - H.TD && (H.pf=[]);M=H.pf;L=M.length?Math.max(M[M.length - 1].startTime,E):E;H.Vj=E;for(!H.nd && 5 > H.pf.length && !H.vm && (H.ka.info("buffer size: " + H.pf.length + "; minimum: 5"),H.vm=!0,H.nd=setTimeout(function(){H.nd=null;p.call(H,L + 1);},10));0 < M.length && M[0].endTime < E;){M.shift();}M=k(M,E).map(c.bind(H,H.qga));E < H.gg.UYa() && 0 === M.length && (M=null);return M;};b.Ql=function(E,H){return this.gg?this.gg.Ql(E,H):0;};b.close=function(){};b.VC=function(E){var H;H=m(E,"preferences");E=m(E,"defaults");return h(H,this.qx) || h(E,this.ix)?(this.qx=H,this.ix=E,!0):!1;};r.exports={ada:g,r8a:f,Sd:l,E5:k,k4:c,VC:b.VC};},14387:function(r){var v,w,y,x,z,A,B,C,D,F,G,E,H,M,L,K,O;function b(){}function a(J,I){if(!(this instanceof a))return new a(J,I);for(var N=0,R=w.length;N < R;N++){this[w[N]]="";}this.q=this.c=this.Qm=this.textNode="";this.DTa=v.yda;this.jn=I || ({});this.jn.e5a=this.jn.e5a || this.jn.Hgc;this.ara=this.jn.e5a?"toLowerCase":"toUpperCase";this.Di=[];this.closed=this.tS=this.NN=!1;this.tag=this.error=null;this.fm=!!J;this.k7a=!(!J && !this.jn.k7a);this.state=O.Nba;this.Hw=(this.ddb=this.jn.ddb)?Object.create(v.lob):Object.create(v.Hw);this.FA=[];this.jn.RY && (this.Cj=Object.create(M));if(this.Caa=!1 !== this.jn.position)this.position=this.line=this.uS=0;this.onready && this.onready(void 0);}function c(J,I){var N;if(!(this instanceof c))return new c(J,I);b.apply(this);this.px=new a(J,I);this.readable=this.writable=!0;N=this;this.px.onend=function(){N.emit("end");};this.px.onerror=function(R){N.emit("error",R);N.px.error=null;};y.forEach(function(R){Object.defineProperty(N,"on" + R,{get:function(){return N.px["on" + R];},set:function(U){if(!U)return (N.removeAllListeners(R),N.px["on" + R]=U);N.on(R,U);},enumerable:!0,configurable:!1});});}function l(J){return J.split("").reduce(function(I,N){I[N]=!0;return I;},{});}function f(J,I){return "[object RegExp]" === Object.prototype.toString.call(J)?!!I.match(J):J[I];}function k(J,I,N){J.textNode && d(J);J[I] && J[I](N);}function d(J){J.textNode=g(J.jn,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function g(J,I){J.trim && (I=I.trim());J.normalize && (I=I.replace(/\s+/g," "));return I;}function m(J,I){d(J);J.Caa && (I+="\nLine: " + J.line + "\nColumn: " + J.uS + "\nChar: " + J.c);I=Error(I);J.error=I;J.onerror && J.onerror(I);return J;}function h(J){J.NN && !J.tS && n(J,"Unclosed root tag");J.state !== O.Nba && J.state !== O.Oba && J.state !== O.Ha && m(J,"Unexpected end");d(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);a.call(J,J.fm,J.jn);return J;}function n(J,I){if("object" !== typeof J || !(J instanceof a))throw Error("bad call to strictFail");J.fm && m(J,I);}function p(J,I){var N,R;N=0 > J.indexOf(":")?["",J]:J.split(":");R=N[0];N=N[1];I && "xmlns" === J && (R="xmlns",N="");return {prefix:R,local:N};}function q(J){var I,N,R;J.fm || (J.Li=J.Li[J.ara]());if(-1 !== J.FA.indexOf(J.Li) || J.tag.attributes.hasOwnProperty(J.Li))return J.Li=J.Mi="";if(J.jn.RY){I=p(J.Li,!0);N=I.local;if("xmlns" === I.prefix)if("xml" === N && J.Mi !== E)n(J,"xml: prefix must be bound to " + E + "\nActual: " + J.Mi);else if("xmlns" === N && J.Mi !== H)n(J,"xmlns: prefix must be bound to " + H + "\nActual: " + J.Mi);else {I=J.tag;R=J.Di[J.Di.length - 1] || J;I.Cj === R.Cj && (I.Cj=Object.create(R.Cj));I.Cj[N]=J.Mi;}J.FA.push([J.Li,J.Mi]);}else (J.tag.attributes[J.Li]=J.Mi,k(J,"onattribute",{name:J.Li,value:J.Mi}));J.Li=J.Mi="";}function u(J,I){var N,R,ja,ra,ka,ua,Aa;if(J.jn.RY){N=J.tag;R=p(J.tagName);N.prefix=R.prefix;N.local=R.local;N.uri=N.Cj[R.prefix] || "";N.prefix && !N.uri && (n(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),N.uri=R.prefix);R=J.Di[J.Di.length - 1] || J;N.Cj && R.Cj !== N.Cj && Object.keys(N.Cj).forEach(function(La){k(J,"onopennamespace",{prefix:La,uri:N.Cj[La]});});R=0;for(var U=J.FA.length;R < U;R++){ja=J.FA[R];ra=ja[0];ka=ja[1];ua=p(ra,!0);ja=ua.prefix;Aa="" == ja?"":N.Cj[ja] || "";ka={name:ra,value:ka,prefix:ja,local:ua.local,uri:Aa};ja && "xmlns" != ja && !Aa && (n(J,"Unbound namespace prefix: " + JSON.stringify(ja)),ka.uri=ja);J.tag.attributes[ra]=ka;k(J,"onattribute",ka);}J.FA.length=0;}J.tag.vgc=!!I;J.NN=!0;J.Di.push(J.tag);k(J,"onopentag",J.tag);I || (J.state=J.k7a || "script" !== J.tagName.toLowerCase()?O.Ha:O.jJ,J.tag=null,J.tagName="");J.Li=J.Mi="";J.FA.length=0;}function t(J){var I,N,U;if(J.tagName){if(J.Mj){if("script" !== J.tagName){J.Mj+="</" + J.tagName + ">";J.tagName="";J.state=O.jJ;return;}k(J,"onscript",J.Mj);J.Mj="";}I=J.Di.length;N=J.tagName;J.fm || (N=N[J.ara]());for(var R=N;I--;){if(J.Di[I].name !== R)n(J,"Unexpected close tag");else break;}if(0 > I)(n(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=N;for(N=J.Di.length;N-- > I;){U=J.tag=J.Di.pop();J.tagName=J.tag.name;k(J,"onclosetag",J.tagName);for(var ja in U.Cj){;}R=J.Di[J.Di.length - 1] || J;J.jn.RY && U.Cj !== R.Cj && Object.keys(U.Cj).forEach(function(ra){k(J,"onclosenamespace",{prefix:ra,uri:U.Cj[ra]});});}0 === I && (J.tS=!0);J.tagName=J.Mi=J.Li="";J.FA.length=0;}}else (n(J,"Weird empty close tag."),J.textNode+="</>");J.state=O.Ha;}v={gf:function(J,I){return new a(J,I);}};v.pcc=a;v.qcc=c;v.fWa=function(J){return new c(J,void 0);};v.yda=65536;w=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");v.Ck=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function I(){this.__proto__=J;}I.prototype=J;return new I();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var I,N;I=[];for(N in J){J.hasOwnProperty(N) && I.push(N);}return I;});a.prototype={end:function(){h(this);},write:function(J){var U,ja,ra,ka,ua,Aa;if(this.closed)return m(this,"Cannot write after close. Assign an onready handler.");if(null === J)return h(this);if(this.error)throw this.error;for(var I=0,N;this.c=N=J.charAt(I++);){switch((this.Caa && (this.position++,"\n" === N?(this.line++,this.uS=0):this.uS++),this.state)){case O.Nba:if((this.state=O.Oba,"\ufeff" === N))continue;case O.Oba:"<" === N?(this.state=O.Sda,this.txa=this.position):f(x,N) || (n(this,"Non-whitespace before first tag."),this.textNode=N,this.state=O.Ha);continue;case O.Ha:if(this.NN && !this.tS){for(var R=I - 1;N && "<" !== N && "&" !== N;){(N=J.charAt(I++)) && this.Caa && (this.position++,"\n" === N?(this.line++,this.uS=0):this.uS++);}this.textNode+=J.substring(R,I - 1);}"<" !== N || this.NN && this.tS && !this.fm?(f(x,N) || this.NN && !this.tS || n(this,"Text data outside of root node."),"&" === N?this.state=O.mfa:this.textNode+=N):(this.state=O.Sda,this.txa=this.position);continue;case O.jJ:"<" === N?this.state=O.xMa:this.Mj+=N;continue;case O.xMa:"/" === N?this.state=O.Xba:(this.Mj+="<" + N,this.state=O.jJ);continue;case O.Sda:"!" === N?(this.state=O.Wea,this.Hr=""):f(x,N) || (f(L,N)?(this.state=O.bJa,this.tagName=N):"/" === N?(this.state=O.Xba,this.tagName=""):"?" === N?(this.state=O.CJa,this.F9=this.iH=""):(n(this,"Unencoded <"),this.txa + 1 < this.position && (N=Array(this.position - this.txa).join(" ") + N),this.textNode+="<" + N,this.state=O.Ha));continue;case O.Wea:(this.Hr + N).toUpperCase() === F?(k(this,"onopencdata"),this.state=O.iZ,this.Fl=this.Hr=""):"--" === this.Hr + N?(this.state=O.qZ,this.Hr=this.Hl=""):(this.Hr + N).toUpperCase() === G?(this.state=O.vZ,(this.doctype || this.NN) && n(this,"Inappropriately located doctype declaration"),this.Hr=this.doctype=""):">" === N?(k(this,"onsgmldeclaration",this.Hr),this.Hr="",this.state=O.Ha):(f(B,N) && (this.state=O.AMa),this.Hr+=N);continue;case O.AMa:N === this.q && (this.state=O.Wea,this.q="");this.Hr+=N;continue;case O.vZ:">" === N?(this.state=O.Ha,k(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=N,"[" === N?this.state=O.fca:f(B,N) && (this.state=O.HCa,this.q=N));continue;case O.HCa:this.doctype+=N;N === this.q && (this.q="",this.state=O.vZ);continue;case O.fca:this.doctype+=N;"]" === N?this.state=O.vZ:f(B,N) && (this.state=O.GCa,this.q=N);continue;case O.GCa:this.doctype+=N;N === this.q && (this.state=O.fca,this.q="");continue;case O.qZ:"-" === N?this.state=O.LBa:this.Hl+=N;continue;case O.LBa:"-" === N?(this.state=O.KBa,(this.Hl=g(this.jn,this.Hl)) && k(this,"oncomment",this.Hl),this.Hl=""):(this.Hl+="-" + N,this.state=O.qZ);continue;case O.KBa:">" !== N?(n(this,"Malformed comment"),this.Hl+="--" + N,this.state=O.qZ):this.state=O.Ha;continue;case O.iZ:"]" === N?this.state=O.ABa:this.Fl+=N;continue;case O.ABa:"]" === N?this.state=O.BBa:(this.Fl+="]" + N,this.state=O.iZ);continue;case O.BBa:">" === N?(this.Fl && k(this,"oncdata",this.Fl),k(this,"onclosecdata"),this.Fl="",this.state=O.Ha):"]" === N?this.Fl+="]":(this.Fl+="]]" + N,this.state=O.iZ);continue;case O.CJa:"?" === N?this.state=O.eea:f(x,N)?this.state=O.dea:this.F9+=N;continue;case O.dea:if(!this.iH && f(x,N))continue;else "?" === N?this.state=O.eea:this.iH+=N;continue;case O.eea:">" === N?(k(this,"onprocessinginstruction",{name:this.F9,body:this.iH}),this.F9=this.iH="",this.state=O.Ha):(this.iH+="?" + N,this.state=O.dea);continue;case O.bJa:if(f(K,N))this.tagName+=N;else {this.fm || (this.tagName=this.tagName[this.ara]());R=this.Di[this.Di.length - 1] || this;U=this.tag={name:this.tagName,attributes:{}};this.jn.RY && (U.Cj=R.Cj);this.FA.length=0;">" === N?u(this):"/" === N?this.state=O.k0:(!f(x,N) && n(this,"Invalid character in tag name"),this.state=O.xI);}continue;case O.k0:">" === N?(u(this,!0),t(this)):(n(this,"Forward-slash in opening tag not followed by >"),this.state=O.xI);continue;case O.xI:if(f(x,N))continue;else ">" === N?u(this):"/" === N?this.state=O.k0:f(L,N)?(this.Li=N,this.Mi="",this.state=O.XY):n(this,"Invalid attribute name");continue;case O.XY:"=" === N?this.state=O.pba:">" === N?(n(this,"Attribute without value"),this.Mi=this.Li,q(this),u(this)):f(x,N)?this.state=O.uza:f(K,N)?this.Li+=N:n(this,"Invalid attribute name");continue;case O.uza:if("=" === N)this.state=O.pba;else if(f(x,N))continue;else (n(this,"Attribute without value"),this.Mi=this.tag.attributes[this.Li]="",k(this,"onattribute",{name:this.Li,value:""}),this.Li="",">" === N?u(this):f(L,N)?(this.Li=N,this.state=O.XY):(n(this,"Invalid attribute name"),this.state=O.xI));continue;case O.pba:if(f(x,N))continue;else f(B,N)?(this.q=N,this.state=O.sba):(n(this,"Unquoted attribute value"),this.state=O.tba,this.Mi=N);continue;case O.sba:if(N !== this.q){"&" === N?this.state=O.qba:this.Mi+=N;continue;}q(this);this.q="";this.state=O.vza;continue;case O.vza:f(x,N)?this.state=O.xI:">" === N?u(this):"/" === N?this.state=O.k0:f(L,N)?(n(this,"No whitespace between attributes"),this.Li=N,this.Mi="",this.state=O.XY):n(this,"Invalid attribute name");continue;case O.tba:if(!f(D,N)){"&" === N?this.state=O.rba:this.Mi+=N;continue;}q(this);">" === N?u(this):this.state=O.xI;continue;case O.Xba:if(this.tagName)">" === N?t(this):f(K,N)?this.tagName+=N:this.Mj?(this.Mj+="</" + this.tagName,this.tagName="",this.state=O.jJ):(!f(x,N) && n(this,"Invalid tagname in closing tag"),this.state=O.HBa);else if(f(x,N))continue;else f(L,N)?this.tagName=N:this.Mj?(this.Mj+="</" + N,this.state=O.jJ):n(this,"Invalid tagname in closing tag.");continue;case O.HBa:if(f(x,N))continue;">" === N?t(this):n(this,"Invalid characters in closing tag");continue;case O.mfa:case O.qba:case O.rba:switch(this.state){case O.mfa:(ja=O.Ha,ra="textNode");break;case O.qba:ja=O.sba;ra="attribValue";break;case O.rba:(ja=O.tba,ra="attribValue");}if(";" === N){N=ra;R=this[N];U=this.Qm;ka=U.toLowerCase();ua="";if(this.Hw[U])U=this.Hw[U];else if(this.Hw[ka])U=this.Hw[ka];else {U=ka;if("#" === U.charAt(0))if("x" === U.charAt(1)){U=U.slice(2);Aa=parseInt(U,16);ua=Aa.toString(16);}else (U=U.slice(1),Aa=parseInt(U,10),ua=Aa.toString(10));U=U.replace(/^0+/,"");U=ua.toLowerCase() !== U?(n(this,"Invalid character entity"),"&" + this.Qm + ";"):String.fromCodePoint(Aa);}this[N]=R + U;this.Qm="";this.state=ja;}else f(C,N)?this.Qm+=N:(n(this,"Invalid character entity"),this[ra]+="&" + this.Qm + N,this.Qm="",this.state=ja);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.DTa){J=Math.max(v.yda,10);N=I=0;for(ja=w.length;N < ja;N++){ra=this[w[N]].length;if(ra > J)switch(w[N]){case "textNode":d(this);break;case "cdata":k(this,"oncdata",this.Fl);this.Fl="";break;case "script":k(this,"onscript",this.Mj);this.Mj="";break;default:m(this,"Max buffer length exceeded: " + w[N]);}I=Math.max(I,ra);}this.DTa=v.yda - I + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Fl && (k(this,"oncdata",this.Fl),this.Fl="");"" !== this.Mj && (k(this,"onscript",this.Mj),this.Mj="");}};y=v.Ck.filter(function(J){return "error" !== J && "end" !== J;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(J){this.px.write(J.toString());this.emit("data",J);return !0;};c.prototype.end=function(J){J && J.length && this.write(J);this.px.end();return !0;};c.prototype.on=function(J,I){var N;N=this;N.px["on" + J] || -1 === y.indexOf(J) || (N.px["on" + J]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,J);N.emit.apply(N,R);});return b.prototype.on.call(N,J,I);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";C=z + A + "#";D=x + ">";F="[CDATA[";G="DOCTYPE";E="http://www.w3.org/XML/1998/namespace";H="http://www.w3.org/2000/xmlns/";M={xml:E,RY:H};x=l(x);z=l(z);A=l(A);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;K=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=l(B);C=l(C);D=l(D);O=0;v.Wz={Nba:O++,Oba:O++,Ha:O++,mfa:O++,Sda:O++,Wea:O++,AMa:O++,vZ:O++,HCa:O++,fca:O++,GCa:O++,m$b:O++,qZ:O++,LBa:O++,KBa:O++,iZ:O++,ABa:O++,BBa:O++,CJa:O++,dea:O++,eea:O++,bJa:O++,k0:O++,xI:O++,XY:O++,uza:O++,pba:O++,sba:O++,vza:O++,tba:O++,qba:O++,rba:O++,Xba:O++,HBa:O++,jJ:O++,xMa:O++};v.lob={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};v.Hw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(v.Hw).forEach(function(J){var I;I=v.Hw[J];I="number" === typeof I?String.fromCharCode(I):I;v.Hw[J]=I;});for(O in v.Wz){v.Wz[v.Wz[O]]=O;}O=v.Wz;String.fromCodePoint || (function(){var I,N;function J(){var R,U,ja,ka,ua;R=[];U=-1;ja=arguments.length;if(!ja)return "";for(var ra="";++U < ja;){ka=Number(arguments[U]);if(!isFinite(ka) || 0 > ka || 1114111 < ka || N(ka) != ka)throw RangeError("Invalid code point: " + ka);if(65535 >= ka)R.push(ka);else {ka-=65536;ua=(ka >> 10) + 55296;ka=ka % 1024 + 56320;R.push(ua,ka);}if(U + 1 == ja || 16384 < R.length)(ra+=I.apply(null,R),R.length=0);}return ra;}I=String.fromCharCode;N=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();r.exports=v;},59723:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},64433:function(r,b,a){var k,d,g,m,h,n,p;function c(q){return "string" !== typeof q?null:d[q];}function l(q){return "string" !== typeof q?null:h[q];}function f(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}k=a(59723);r.exports={lBb:function(q,u){var t,v,w,y,x,z,G;t=u.textNodes[0] || ({});v=q.regions;w=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});v=v && v[u.region]?v[u.region]:{};w=w && w[t.style]?w[t.style]:{};t=t.lang;z=f(k(u.extent,v.extent,"80% 80%"),q);if(v.position){for(var A=v.position.split(" "),B=[.5,.5],C=["left","top"],D=0,F=0;F < A.length;F++){G=A[F];(G in p)?(C[D]=G,F + 1 >= A.length && (B[D++]=0)):"center" === G?B[D++]=.5:B[D++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(C[0]) || -1 < ["left","right"].indexOf(C[1])?(D="bottom" === C[0]?1 - B[0]:B[0],A="right" === C[1]?1 - B[1]:B[1]):(A="right" === C[0]?1 - B[0]:B[0],D="bottom" === C[1]?1 - B[1]:B[1]);B=[(1 - z[0]) * A,(1 - z[1]) * D];}else B=null;u=B?B:f(k(B,u.origin,v.origin,"10% 10%"),q);q=Object;y/=1280 / 720;B=(1 - y) / 2;C=u[0];u=u[1];z=q.create.call(q,{marginLeft:C * y + B,marginTop:u,marginRight:(1 - (C + z[0])) * y + B,marginBottom:1 - (u + z[1])});y=v.writingMode?v.writingMode:"lrtb";z.writingMode="string" !== typeof y?null:n[y];1 < Object.keys(v).length?(y=k(w.displayAlign,v.displayAlign,"before"),"tblr" === v.writingMode || "tbrl" === v.writingMode?(z.horizontalAlignment="string" !== typeof y?null:"tblr" === v.writingMode?g[y]:m[y],z.verticalAlignment=c(k(w.textAlign,v.textAlign,"start"))):z.verticalAlignment=c(y)):z.verticalAlignment=c(k(w.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=l(k(w.textAlign,v.textAlign,x.textAlign,"center")));z.multiRowAlignment=l(k(w.multiRowAlign,v.multiRowAlign,w.textAlign,v.textAlign,x.textAlign,t && "ja" === t.slice(0,2)?"start":"center"));return z;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};g={before:"left",center:"center",after:"right"};m={before:"right",center:"center",after:"left"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};n={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},41555:function(r,b,a){var m,h,n,p,q,u,t,v,w,y,x,z,A,B,C;function c(D){return "string" !== typeof D || "#" === D[0] && 7 === D.length?D:"#" === D[0] && 4 === D.length?"#" + D[1] + D[1] + D[2] + D[2] + D[3] + D[3]:n[D.toLowerCase()];}function l(D){var F,G,E;F=(D || "").split(" ");G=(/^[0-9]/).test(F);D=G?"#000000":c(F[0]);E=G?0:1;G=parseInt(F[E]);F=parseInt(F[E + 1]);return {color:D,width:0 < G?G:0,blur:0 < F?F:0};}function f(D,F){if(-1 < F.indexOf(D))return D;}function k(D){var F,G;if(!D)return null;D=D.split(" ");if(0 === D.length)return null;F=d(D,C);F=F.length?F[0]:"outside";G=d(D,B);if(G.length)return g(G[0],"",F);G=d(D,z);D=d(D,A);return D.length || G.length?g(D.length?D[0]:"circle",G.length?G[0]:"filled",F):g("auto","",F);}function d(D,F){return D.filter(function(G){return -1 !== F.indexOf(G);});}function g(D,F,G){return {textEmphasisShape:D,textEmphasisFill:F,textEmphasisPosition:G};}m=a(59723);r.exports={oBb:function(D,F,G,E){var H,M,L,K,O,J,I,N,R,U,ja,ra,ka,ua,Aa;H=m(G.characterSize,F.characterSize,"MEDIUM");M=D.fontFamily;M=m(G.characterStyle,"string" !== typeof M?null:p[M],F.characterStyle,"PROPORTIONAL_SANS_SERIF");L=(D.fontSize || "").split(" ")[0] || "";K=-1 < L.indexOf("%")?parseInt(L,10) / 100:-1 < L.indexOf("em")?parseFloat(L):1;L="underline" === D.textDecoration;O="italic" === D.fontStyle;J=h[m(G.T8b,F.T8b,"OPAQUE")];I=h[m(G.characterOpacity,F.characterOpacity,"OPAQUE")];N=h[m(G.backgroundOpacity,D.opacity,F.backgroundOpacity,"OPAQUE")];R=c(m(G.characterColor,D.color,F.characterColor,"#ffffff"));U=c(m(G.backgroundColor,D.backgroundColor,F.backgroundColor,null));ja=c(m(G.qgb,D.qgb,F.qgb,null));ra=m(G.characterEdgeAttributes,F.characterEdgeAttributes,null);K*=q[H] || 1;ka=1;!E && u[H] && (ka=u[H][M] || 1);E=1 / 19 * K * ka;K=0;t[H] && (K=t[H][M] || 0);H=K;K=D.textOutline;K="string" !== typeof K?null:l(K).width;K=m(K,0);ka=D.textOutline;ka="string" !== typeof ka?null:l(ka).blur;ka=m(ka,0);ua=G.characterEdgeColor;Aa=D.textOutline;Aa="string" !== typeof Aa?null:l(Aa).color;return {characterUnderline:L,characterItalic:O,characterStyle:M,windowOpacity:J,characterOpacity:I,backgroundOpacity:N,characterColor:R,backgroundColor:U,windowColor:ja,characterEdgeAttributes:ra,characterSize:E,characterTracking:H,characterEdgeWidth:K,characterEdgeBlur:ka,characterEdgeColor:c(m(ua,Aa,F.characterEdgeColor,"#000000")),direction:m(G.direction,D.direction,F.direction,"ltr"),ruby:m(f(D.ruby,v),null),rubyAlign:m(f(D.rubyAlign,w),null),rubyPosition:m(f(D.rubyPosition,x),null),rubyReserve:m(f(D.rubyReserve,y),null),textEmphasis:k(D.textEmphasis),shear:D.shear?.01 * parseFloat(D.shear):null,textCombine:D.textCombine?D.textCombine:null};}};h={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};u={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};v=("container base baseContainer text textContainer delimiter").split(" ");w=("start center end spaceAround spaceBetween withBase").split(" ");y=["before","after","both","outside"];x=["before","after","outside"];z=["filled","open"];A=["circle","dot","sesame"];B=["none","auto"];C=["before","after","outside"];},18559:function(r,b,a){var l;function c(f,k){var d,g,m,h,n,p,q,u;this.Bga=!0;d=f.indexOf("<p");g=[];m=d;h=-1;do {n={};n.B3b=m;p=f.indexOf("begin=",m) + 7;q=f.indexOf("end=",m) + 5;u=f.substr(p,12);m === d && -1 !== u.indexOf(":") && (this.Bga=!1);this.Bga?(p=Math.floor(parseInt(f.substr(p,25),10) / k * 1E3),q=Math.floor(parseInt(f.substr(q,25),10) / k * 1E3)):(p=l(f.substr(p,12)),q=l(f.substr(q,12)));h=q > h?q:h;n.startTime=p;n.endTime=q;n.latestEndSoFar=h;n.sYa=f.indexOf("/p>",m) + 3;m=n.sYa;g.push(n);m=f.indexOf("<p",m);}while(-1 !== m);this.Wo=g;this.wE=f;}l=a(42353).Px;c.prototype.UYa=function(){return this.Wo[this.Wo.length - 1].endTime;};c.prototype.Ql=function(f,k){return this.Wo.filter(function(d){return d.startTime <= k && d.endTime >= f;}).length;};c.prototype.mKb=function(f){for(var k="",d=this.Wo.filter(function(m){return m.startTime <= f && f < m.endTime || m.startTime >= f;}),g=4;g + 1 < d.length && d[g + 1].startTime === d[4].startTime;){g++;}d=d.slice(0,g + 1);0 < d.length && (k=this.wE.slice(d[0].B3b,d[d.length - 1].sYa));return k;};r.exports=c;},27057:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Y_=b.UGa=b.PP=void 0;c=a(42866);b.PP=1E4;r=(function(){function f(k){this.rf=[];this.cR=0;this.ka=k;}Object.defineProperty(f.prototype,"endOfStreamSegment",{get:function(){return this.bpb;},enumerable:!1,configurable:!0});f.prototype.TF=function(k){var d;d=(0,c.wc)(this.rf,function(g){return k >= g.fb && k < g.cf;});"undefined" === typeof d && this.ka.warn("Get Segment at pts " + k + " is undefined");return d;};f.prototype.Kha=function(k,d){var m;for(var g=this.rf;0 < g.length && 300 <= k.I - g[0].I;){this.jX();}for(;0 < g.length && 300 <= g[g.length - 1].I - k.I;){this.pwa();}m=new l(k,d);k=g.length;if(0 === k || g[k - 1].I < m.I)this.qwa(m);else {k=(0,c.wc)(g,function(h){return h.I >= m.I;});if((null === k || void 0 === k?void 0:k.I) === m.I)return;this.rwa(g.indexOf(k),m);}m.endOfStream && (this.ka.trace("EOS segment added to segment manager"),this.bpb=m);this.cR=g[g.length - 1].I;};f.prototype.sY=function(k){var d;if("undefined" === typeof k)this.ka.warn("Current segment is undefined.");else for((this.yl=k,this.ka.trace(("Current segment id is ").concat(k.I)));(null === (d=this.rf[0]) || void 0 === d?void 0:d.cf) < k.cf - b.PP;){this.jX();}};f.prototype.Vna=function(){if(this.Xo){if(this.cR !== this.Xo.I)return this.rf[this.rf.indexOf(this.Xo) + 1];}else return this.rf[0];};f.prototype.fu=function(k){this.Xo=this.rv(k);};f.prototype.rv=function(k){var d;d=(0,c.wc)(this.rf,function(g){return g.I === k;});"undefined" === typeof d && this.ka.error("Segment with segmentId " + k + " is not in segmentArray");return d;};f.prototype.NT=function(){var k;return (null === (k=this.Xo) || void 0 === k?void 0:k.I) || -1;};f.prototype.Mya=function(k,d){k=this.rv(k);"undefined" !== typeof k && (this.rf[this.rf.indexOf(k)].header=d);};f.prototype.S0a=function(k){return this.rv(k);};f.prototype.Dna=function(k){k=this.rv(k);return (null === k || void 0 === k?void 0:k.header) || ({});};f.prototype.jX=function(){this.rf.shift();};f.prototype.qwa=function(k){this.rf.push(k);};f.prototype.rwa=function(k,d){this.rf.splice(k,0,d);};f.prototype.pwa=function(){this.rf.pop();};return f;})();b.UGa=r;l=(function(){return function(f,k){this.I=f.I;this.xml=f.xml;this.fb=f.fb;this.cf=f.cf;this.ZF=k;this.size=f.size;this.Br=f.Br;this.endOfStream=f.endOfStream;};})();b.Y_=l;},29602:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.WGa=void 0;c=a(5163);r=(function(l){function f(k,d){d=l.call(this,k,d) || this;d.xml=k.xml;d.size=k.size;return d;}c.__extends(f,l);return f;})(a(27057).Y_);b.WGa=r;},47602:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.XGa=void 0;c=a(5163);r=a(22699);l=a(94536);f=a(14387);k=a(27057);d=a(42353);g=a(42353);m=r.EventEmitter;a=(function(h){function n(p){var q,u,t,v,w;q=h.call(this) || this;u=p.preferences;t=p.pg;v=p.we;w=p.la;m.call(q);q.wx=new d.mda(w);q.qx="object" === typeof u?p.preferences:{};q.ix="object" === typeof t?p.pg:{};q.Kk="number" === typeof v?p.we:0;q.ka="object" === typeof w?p.la:console;q.pf=[];q.Wh=0;q.Vj=q.Kk;q.nd=null;q.Hn=!1;q.vm=!1;q.TD=p.GW || 0;q.md=new k.UGa(q.ka);q.dE=p.ba;q.ka.trace("LiveTextStream created with options",p);return q;}c.__extends(n,h);n.prototype.start=function(){this.ka.info(("Incremental live text stream created, starting at pts ").concat(this.Kk));"undefined" !== typeof this.md.TF(this.Kk) && this.SG.call(this,this.Kk);};n.prototype.Nua=function(p){var q,u,t,v;q=this;u=p.xml;t=u.indexOf("<p");this.ka.trace("pushNextSegment",p);this.md.Kha(p,-1 !== t?t:0);if(!this.Hn){v=this.md.rf[0];this.md.sY(v);this.Kk=v.fb;}-1 < t?(this.wx.ZRa(u,p.I,p.Br),this.ka.trace(("Live segment ").concat(p.I," is pushed to segment manager"),{fb:p.fb,cf:p.cf,qDb:p.Br}),!this.Hn && 4 > this.Wh && (u=0 < this.pf.length?this.pf[this.pf.length - 1].startTime + 1:this.Kk,this.ka.trace("parseNextSegment is called from push new live Segment at " + u),this.SG.call(this,u))):(this.ka.trace(("Live segment ").concat(p.I," is pushed to segment manager, it is an empty segment")),this.Hn || setTimeout(function(){q.fu(p.I);},10));};n.prototype.pB=function(p){var q,u,t,v,w,y;q=this;v=this;v.ka.trace(("LiveTextStream:get subtitles at pts ").concat(p));w=v.md.TF(p);if("undefined" === typeof w)return (v.ka.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);v.md.sY(w);p < v.Vj - v.TD?(v.ka.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(v.Vj,", _backupTolerance: ").concat(v.TD)),v.pf=[],v.Wh=0):(v.Wh=0 < v.pf.length?Math.max(v.md.NT() - w.I + 1,0):0,0 === v.Wh && (v.pf=[]));w=v.pf;v.ka.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(w.length,", result: ").concat(0 < w.length?null === (u=w[w.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.md.Xo;y=0 < w.length && void 0 !== u?u.fb:p;v.Vj=p;v.ka.info("LiveTextStream: timer is " + v.nd + " bufffered segment number is " + v.Wh + " is parsing entry : " + this.vm + " maxBufferedStartPts " + (null === (t=this.md.Xo) || void 0 === t?void 0:t.fb));for(!v.nd && 4 > v.Wh && !v.vm && (v.ka.info("LiveTextStream: buffer size: " + v.Wh + "; minimum: 4"),v.vm=!0,v.nd=setTimeout(function(){v.nd=null;q.ka.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.SG.call(v,y + 1);},10));0 < w.length && w[0].endTime < p;){w.shift();}return (0,l.E5)(w,p).map(function(x){var z;z=v.md.Dna(x.segId);return l.k4.call(v,z,x);});};n.prototype.Ql=function(p,q){return this.wx?this.wx.Ql(p,q):0;};n.prototype.VC=function(p){return l.VC.call(this,p);};n.prototype.close=function(){};n.prototype.SG=function(p){var q;q=this.Tna.call(this,p);"undefined" !== typeof q?(this.ka.trace("Next segment to parse at pts " + p + " is segment " + q.I),0 === q.ZF?(this.ka.trace("This is an empty segment"),this.fu(q.I)):(this.Dta.call(this,q),this.ka.trace("parseNextSegEntries buffer length: " + this.pf.length))):(this.ka.debug("Next segment is undefined at pts " + p),this.vm=!1);};n.prototype.Tna=function(p){var q,u;u=this.wx.n0a(p);this.ka.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(u));-1 === u && (u=(null === (q=this.md.TF(p)) || void 0 === q?void 0:q.I) || -1);return u === this.md.NT()?this.md.Vna():this.md.rv(u);};n.prototype.Dta=function(p){var q,u,t,v,w;q=this;u=this;t=p.xml.slice(0,p.ZF);v=p.xml.slice(p.ZF,p.xml.lastIndexOf("/p>") + 3);(0,l.r8a)(t,function(y,x){null !== y?(y.M1a=t,y.I=p.I,u.emit("error",y)):(w=x,u.md.Mya(p.I,w),q.Bta.call(u,v,w,p));});};n.prototype.Bta=function(p,q,u){var t,v,w,y,x,z,A;t=this;v=this;w=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];v.ka.debug(p);A=f.gf(!0);A.onerror=function(B){B.xml=p;v.emit("error",B);};A.onend=function(){var B;B=v.pf.reduce(function(C,D){D=D.blocks.reduce(function(F,G){return F.concat([G.id]);},[]);return C.concat(D);},[]);y.forEach(function(C){var D;if(-1 === B.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(F){return 0 < F.textNodes.length;});D && 0 < D.length && (C.blocks=D,v.pf.push(C));}});t.fu(u.I);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Sd)((0,l.Sd)(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Sd)(x),lang:(0,l.Sd)(z),lineBreaks:w});w=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){w=0;B=u.I.toString() + "_" + C["xml:id"];C.style && x.push(C.style);C["xml:lang"] && z.push(C["xml:lang"]);D=(0,g.Px)(C.begin);0 === y.length || (0,l.Sd)(y).displayTime !== D?(C=t.vka(B,0,C,u.Br),C.segId=u.I,y.push(C)):(0,l.Sd)(y).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(x.push(C.style),C["xml:lang"] && z.push(C["xml:lang"]),B=q.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Sd)((0,l.Sd)(y).blocks).textNodes.push({text:"",style:(0,l.Sd)(x),lang:(0,l.Sd)(z),lineBreaks:0})):"br" === B && w++;};A.write("<entries>").write(p).write("</entries>").close();};n.prototype.vka=function(p,q,u,t){var v;v={};v.id=p;v.startTime=(0,g.Px)(u.begin || "") - t;v.endTime=(0,g.Px)(u.end || "") - t;v.style=u.style;v.region=u.region;v.displayTime=v.startTime;v.duration=v.endTime - v.startTime;v.extent=u["tts:extent"] || null;v.origin=u["tts:origin"] || null;v.latestEndSoFar=q > v.endTime?q:v.endTime;v.blocks=[{textNodes:[],region:v.region,id:p,extent:v.extent || null,origin:v.origin || null}];return v;};n.prototype.fu=function(p){this.md.fu(p);this.Wh+=1;this.vm=!1;this.ka.trace("updateMaxParsedSegment " + p);if(!this.Hn && 4 <= this.Wh || this.md.Mla && this.md.S0a(p) === this.md.Mla)(this.md.Mla && this.md.S0a(p) === this.md.Mla && this.ka.trace("Marking stream ready due to EOS"),this.Hn=!0,this.emit("ready"));};return n;})(m);b.XGa=a;},42353:function(r,b,a){var l;function c(f){var k;f=f.split(".");k=f[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * k[0] + 60 * k[1] + k[2]) + parseInt(f[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.Px=b.mda=void 0;l=a(42866);r=(function(){function f(k){this.Wo=[];this.ka=k;}f.prototype.ZRa=function(k,d,g){var m,h,n,p,q,u;void 0 === g && (g=0);m=this.Wo;h=k.indexOf("<p");n=-1;do {p={};p.I=d;p.xcb=h;q=k.indexOf("begin=",h) + 7;u=k.indexOf("end=",h) + 5;q=c(k.substring(q,q + 12)) - g;u=c(k.substring(u,u + 12)) - g;n=u > n?u:n;p.startTime=q;p.endTime=u;p.latestEndSoFar=n;p.pFb=k.indexOf("/p>",h) + 3;h=p.pFb;if(0 === m.length || p.startTime > m[m.length - 1].startTime)(m.push(p),this.ka.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,fFb:p.endTime}));else if((u=(0,l.wc)(m,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.xcb !== p.xcb))(u=m.indexOf(u),m.splice(u,0,p),this.ka.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(u),{startTime:p.startTime,fFb:p.endTime}));h=k.indexOf("<p",h);}while(-1 !== h);};f.prototype.Ql=function(k,d){return this.Wo.filter(function(g){return g.startTime <= d && g.endTime >= k;}).length;};f.prototype.Hua=function(k){this.Wo=this.Wo.filter(function(d){return d.startTime >= k;});};f.prototype.n0a=function(k){var d;d=(0,l.wc)(this.Wo,function(g){return g.startTime <= k && k < g.endTime || g.startTime >= k;});return (null === d || void 0 === d?void 0:d.I) || -1;};f.prototype.UYa=function(){return 0 < this.Wo.length?this.Wo[this.Wo.length - 1].endTime:0;};return f;})();b.mda=r;b.Px=c;},17460:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Y_=b.RIa=b.PP=void 0;c=a(42866);b.PP=1E4;r=(function(){function l(f){this.rf=[];this.cR=0;this.ka=f;}l.prototype.TF=function(f){var k;k=(0,c.wc)(this.rf,function(d){return f >= d.fb && f < d.cf;});"undefined" === typeof k && this.ka.warn("Get Segment at pts " + f + " is undefined");return k;};l.prototype.Kha=function(f){var d;for(var k=this.rf;0 < k.length && 300 <= f.I - k[0].I;){this.jX();}for(;0 < k.length && 300 <= k[k.length - 1].I - f.I;){this.pwa();}d=k.length;if(0 === d || k[d - 1].I < f.I)this.qwa(f);else {d=(0,c.wc)(k,function(g){return g.I >= f.I;});if((null === d || void 0 === d?void 0:d.I) === f.I)return;this.rwa(k.indexOf(d),f);}this.cR=k[k.length - 1].I;};l.prototype.sY=function(f){var k;if("undefined" === typeof f)this.ka.warn("Current segment is undefined.");else for((this.yl=f,this.ka.trace(("Current segment id is ").concat(f.I)));(null === (k=this.rf[0]) || void 0 === k?void 0:k.cf) < f.cf - b.PP;){this.jX();}};l.prototype.Vna=function(){if(this.Xo){if(this.cR !== this.Xo.I)return this.rf[this.rf.indexOf(this.Xo) + 1];}else return this.rf[0];};l.prototype.fu=function(f){this.Xo=this.rv(f);};l.prototype.rv=function(f){var k;k=(0,c.wc)(this.rf,function(d){return d.I === f;});"undefined" === typeof k && this.ka.error("Segment with segmentId " + f + " is not in segmentArray");return k;};l.prototype.NT=function(){var f;return (null === (f=this.Xo) || void 0 === f?void 0:f.I) || -1;};l.prototype.Mya=function(f,k){f=this.rv(f);"undefined" !== typeof f && (this.rf[this.rf.indexOf(f)].header=k);};l.prototype.Dna=function(f){f=this.rv(f);return (null === f || void 0 === f?void 0:f.header) || ({});};l.prototype.jX=function(){this.rf.shift();};l.prototype.qwa=function(f){this.rf.push(f);};l.prototype.rwa=function(f,k){this.rf.splice(f,0,k);};l.prototype.pwa=function(){this.rf.pop();};return l;})();b.RIa=r;b.Y_=(function(){return function(l,f){this.I=l.I;this.xml=l.xml;this.fb=l.fb;this.cf=l.cf;this.ZF=f;this.Br=l.Br;};})();},53144:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;c=a(5163);r=a(22699);l=a(94536);f=a(42756);k=a(29602);d=a(42353);g=a(17460);m=a(19070);h=r.EventEmitter;a=(function(n){function p(q,u){var t,v,w,y,x;void 0 === u && (u=f.xD.Ha);t=n.call(this) || this;v=q.preferences;w=q.pg;y=q.we;x=q.la;h.call(t);t.wx=new d.mda(x);t.qx="object" === typeof v?q.preferences:{};t.ix="object" === typeof w?q.pg:{};t.Kk="number" === typeof y?q.we:0;t.ka="object" === typeof x?q.la:console;t.pf=[];t.Wh=0;t.Vj=t.Kk;t.nd=null;t.Hn=!1;t.vm=!1;t.TD=q.GW || 0;t.md=new g.RIa(t.ka);t.dE=q.ba;t.dRa=u;if(u === f.xD.Ha)t.T1=new m.XMa(t.ka,t.qx,t.ix);else throw Error("Not implemented yet");t.ka.trace("LiveTextStream created with options",q);return t;}c.__extends(p,n);p.prototype.start=function(){this.ka.info(("Incremental live text stream created, starting at pts ").concat(this.Kk));"undefined" !== typeof this.md.TF(this.Kk) && this.SG.call(this,this.Kk);};p.prototype.Nua=function(q){var u,t,v,w;u=this;t=q.xml;v=t.indexOf("<p");if(this.dRa === f.xD.Ha)w=new k.WGa(q,-1 !== v?v:0);else throw Error("Not yet implemented");this.md.Kha(w);this.Hn || (q=this.md.rf[0],this.md.sY(q),this.Kk=q.fb);-1 < v?(this.wx.ZRa(t,w.I,w.Br),this.ka.trace(("Live segment ").concat(w.I," is pushed to segment manager"),{fb:w.fb,cf:w.cf,qDb:w.Br}),!this.Hn && 4 > this.Wh && (t=0 < this.pf.length?this.pf[this.pf.length - 1].startTime + 1:this.Kk,this.ka.trace("parseNextSegment is called from push new live Segment at " + t),this.SG.call(this,t))):(this.ka.trace(("Live segment ").concat(w.I," is pushed to segment manager, it is an empty segment")),this.Hn || setTimeout(function(){u.fu(w.I);},10));};p.prototype.pB=function(q){var u,t,v,w,y,x;u=this;w=this;w.ka.trace(("LiveTextStream:get subtitles at pts ").concat(q));y=w.md.TF(q);if("undefined" === typeof y)return (w.ka.debug(("LiveTextStream: get subtitle at pts ").concat(q," returns empty result with segment not available at this pts")),[]);w.md.sY(y);q < w.Vj - w.TD?(w.ka.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(q),(", _lastPts: ").concat(w.Vj,", _backupTolerance: ").concat(w.TD)),w.pf=[],w.Wh=0):(w.Wh=0 < w.pf.length?Math.max(w.md.NT() - y.I + 1,0):0,0 === w.Wh && (w.pf=[]));y=w.pf;w.ka.trace(("LiveTextStream: lastBufferedPts calculation ").concat(q),(", buffer.length: ").concat(y.length,", result: ").concat(0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.md.Xo;x=0 < y.length && void 0 !== t?t.fb:q;w.Vj=q;w.ka.info("LiveTextStream: timer is " + w.nd + " bufffered segment number is " + w.Wh + " is parsing entry : " + this.vm + " maxBufferedStartPts " + (null === (v=this.md.Xo) || void 0 === v?void 0:v.fb));for(!w.nd && 4 > w.Wh && !w.vm && (w.ka.info("LiveTextStream: buffer size: " + w.Wh + "; minimum: 4"),w.vm=!0,w.nd=setTimeout(function(){w.nd=null;u.ka.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.SG.call(w,x + 1);},10));0 < y.length && y[0].endTime < q;){y.shift();}return this.T1.E5(y,q).map(function(z){var A;A=w.md.Dna(z.segId);return u.T1.k4(A,z);});};p.prototype.Ql=function(q,u){return this.wx?this.wx.Ql(q,u):0;};p.prototype.VC=function(q){return this.T1.VC(q);};p.prototype.close=function(){};p.prototype.SG=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(v){switch(v.label){case 0:u=this;t=this.Tna.call(u,q);if("undefined" === typeof t)return [3,4];u.ka.trace("Next segment to parse at pts " + q + " is segment " + t.I);if(0 !== t.ZF)return [3,1];u.ka.trace("This is an empty segment");this.fu(t.I);return [3,3];case 1:return [4,this.Dta.call(u,t)];case 2:(v.Ta(),u.ka.trace("parseNextSegEntries buffer length: " + u.pf.length),v.label=3);case 3:return [3,5];case 4:return (u.ka.debug("Next segment is undefined at pts " + q),this.vm=!1,[2]);case 5:return [2];}});});};p.prototype.Tna=function(q){var u,t;t=this.wx.n0a(q);this.ka.trace(("Most recent entry at current pts ").concat(q," is segment id  ").concat(t));-1 === t && (t=(null === (u=this.md.TF(q)) || void 0 === u?void 0:u.I) || -1);return t === this.md.NT()?this.md.Vna():this.md.rv(t);};p.prototype.Dta=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,v,w,y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:(u=this,t=q.xml.slice(0,q.ZF),C.label=1);case 1:return (C.Qj.push([1,3,,4]),[4,this.jWb(t)]);case 2:return (v=C.Ta(),[3,4]);case 3:return (w=C.Ta(),this.Cla(w),[3,4]);case 4:if(!v)return (y=Error("Parsing header text returned undefined"),this.Cla(y),[2]);if(v.error)return (x=v.error,x.M1a=t,x.I=q.I,this.Cla(x),[2]);A=v.head;this.md.Mya(q.I,A);return this.dRa !== f.xD.Ha?[3,6]:[4,this.T1.Bta(q,A)];case 5:return (z=C.Ta(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.pf.reduce(function(D,F){F=F.blocks.reduce(function(G,E){return G.concat([E.id]);},[]);return D.concat(F);},[]),z && (z.forEach(function(D){var F;if(-1 === B.indexOf(D.id)){F=D && D.blocks && D.blocks.filter(function(G){return 0 < G.textNodes.length;});F && 0 < F.length && (D.blocks=F,u.pf.push(D));}}),this.fu(q.I)),[2]);}});});};p.prototype.Cla=function(q){this.ka.error(q);this.emit("error",q);};p.prototype.fu=function(q){this.md.fu(q);this.Wh+=1;this.vm=!1;!this.Hn && 4 <= this.Wh && (this.Hn=!0,this.emit("ready"));};p.prototype.jWb=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){(0,l.r8a)(q,function(t,v){t?u({error:t}):u({head:v});});})];});});};return p;})(h);b.SIa=a;},19070:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.XMa=void 0;c=a(5163);l=a(94536);f=a(94536);k=a(14387);d=a(42353);r=(function(){function g(m,h,n){this.ka=m;this.qx=n;this.ix=h;}g.prototype.Bta=function(m,h){return c.__awaiter(this,void 0,void 0,function(){var n,p,q,u,t,v,w,y,x;x=this;return c.__generator(this,function(){n=this;p=0;q=[];u=h.defaultStyle?[h.defaultStyle]:[];t=h.lang?[h.lang]:[];v=m.xml.lastIndexOf("/p>") + 3;w=m.xml.slice(m.ZF,v);n.ka.debug(w);y=k.gf(!0);return [2,new Promise(function(z,A){y.onerror=function(B){B.xml=w;A(B);};y.onend=function(){z(q);};y.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Sd)((0,l.Sd)(q).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Sd)(u),lang:(0,l.Sd)(t),lineBreaks:p});p=0;};y.onclosetag=function(){var B;B=y.tag;"undefined" !== typeof B.attributes.style && u.pop();"undefined" !== typeof B.attributes["xml:lang"] && t.pop();};y.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){p=0;B=m.I.toString() + "_" + C["xml:id"];C.style && u.push(C.style);C["xml:lang"] && t.push(C["xml:lang"]);D=(0,d.Px)(C.begin);0 === q.length || (0,l.Sd)(q).displayTime !== D?(C=x.vka(B,0,C,m.Br),C.segId=m.I,q.push(C)):(0,l.Sd)(q).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(u.push(C.style),C["xml:lang"] && t.push(C["xml:lang"]),B=h.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Sd)((0,l.Sd)(q).blocks).textNodes.push({text:"",style:(0,l.Sd)(u),lang:(0,l.Sd)(t),lineBreaks:0})):"br" === B && p++;};y.write("<entries>").write(w).write("</entries>").close();})];});});};g.prototype.E5=function(m,h){return l.E5.call(this,m,h);};g.prototype.k4=function(m,h){return l.k4.call(this,m,h);};g.prototype.VC=function(m){return f.VC.call(this,m);};g.prototype.vka=function(m,h,n,p){var q;q={};q.id=m;q.startTime=(0,d.Px)(n.begin || "") - p;q.endTime=(0,d.Px)(n.end || "") - p;q.style=n.style;q.region=n.region;q.displayTime=q.startTime;q.duration=q.endTime - q.startTime;q.extent=n["tts:extent"] || null;q.origin=n["tts:origin"] || null;q.latestEndSoFar=h > q.endTime?h:q.endTime;q.blocks=[{textNodes:[],region:q.region,id:m,extent:q.extent || null,origin:q.origin || null}];return q;};return g;})();b.XMa=r;},56485:function(r,b,a){var l,f,k,d,g,m,h;function c(n){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(n);}Object.defineProperty(b,"__esModule",{value:!0});b.Ynb=void 0;l=a(5163);r=a(22699);f=a(94536);k=a(47602);d=a(53144);g=a(42756);m=a(5725);h=a(83755);r=(function(n){function p(q,u){var t,v,w,y,x;t=this;t=n.call(this) || this;t.Qu=!0;t.WQ=[];t.Vj=0;t.NQa=!0;y=t;x=q.df || !1;t.ka=q.la || console;t.pE=q.request;t.xs=q.OKb;t.y1=null !== (v=q.Rfc) && void 0 !== v?v:function(z,A){return z - (null !== A && void 0 !== A?A:t.xs());};t.nd=null;t.Qu=!0;t.WQ=[];t.QJ=u.profile;t.Rf=u.url;t.mE=u.we;t.Vj=t.mE || 0;"nflx-cmisc" !== u.profile && (t.qx=u.preferences,t.ix=u.pg);t.NQa=null !== (w=u.Yhc) && void 0 !== w?w:!0;v={url:t.Rf,request:t.pE,we:t.mE,xml:u.xml,preferences:t.qx,pg:t.ix,la:t.ka,df:x,bufferSize:u.bufferSize,At:u.At,GW:u.GW || 0,GTa:u.GTa,ba:u.ba};if("nflx-cmisc" === t.QJ)(v.offset=u.Tra,v.size=u.m6a,v.B$=u.B$,v.SXa=u.SXa,t.Fd=new m(v));else if(u.ba && c(t.QJ) && void 0 === v.xml)t.Fd=u.tjc?new d.SIa(v,g.xD.Ha):new k.XGa(v);else if(c(t.QJ) && "function" === typeof f.ada)t.Fd=new f.ada(v);else throw Error("SubtitleManager: " + t.QJ + " is an unsupported profile");t.Fd.on("ready",function(){var A,B,C;function z(){return y.Qu;}A=!!u.hTa;y.ka.info("ready event fired by subtitle stream");y.emit("ready");B=y.Fd.pB.bind(y.Fd);if(q.aoa && q.m9){C=a(36888).HAa;y.nd=new C(y.xs,B,t.y1,y.ka,z,q.aoa,q.m9,u);}else y.nd=new h(y.xs,B,t.y1,z,y.ka,u);if("dfxp-ls-sdh" === y.QJ && "function" === typeof f.ada)y.nd.on("stagesubtitle",y.mxa.bind(y));y.nd.on("showsubtitle",y.bxa.bind(y));y.nd.on("removesubtitle",y.lva.bind(y));y.nd.on("underflow",y.km.bind(y));y.nd.on("bufferingComplete",y.Fm.bind(y));A && (y.ka.info("autostarting subtitles"),setTimeout(function(){y.vz(y.xs());},10));});t.Fd.on("error",t.emit.bind(t,"error"));return t;}l.__extends(p,n);p.prototype.start=function(){this.Fd.start();};p.prototype.T9a=function(){this.Qu || (this.Qu=!0,this.kYa(this.Vj));};p.prototype.vz=function(q){this.NQa && !this.Qu && 1E4 < Math.abs(q - this.Vj) && (this.ka.warn("Detected an unexpected pts jump larger than",1E4,"at",q,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.T9a());this.Vj=q;this.Qu && (this.Qu=!1,this.P3b(q));null !== this.nd && (this.h7b(q),this.nd.vz(q));};p.prototype.stop=function(){var q;this.ka.info("stop called");this.Qu || this.pause();this.Fd.removeAllListeners(["ready"]);null !== this.nd && this.nd.stop();q=this.WQ.reduce(function(u,t){u.kcb+=t.vX;u.S4+=t.T4 || 0;u.kOb.push(t);return u;},{kcb:0,S4:0,kOb:[]});"object" === typeof this.Fd && this.Fd.close();this.ka.debug("metrics: " + JSON.stringify(q));return q;};p.prototype.pause=function(){var q;q=this.xs();this.Qu?this.ka.warn("pause called on subtitle manager, but it was already paused!"):(this.ka.info("pause called at " + q),this.Qu=!0,this.kYa(q));null !== this.nd && this.nd.pause();};p.prototype.W5=function(q,u){return "function" === typeof this.Fd.W5?this.Fd.W5(q,u):[];};p.prototype.Ql=function(q,u){return this.Fd.Ql(q,u);};p.prototype.pB=function(q){return this.Fd.pB(q);};p.prototype.GC=function(q){var t;function u(){t.ka.info("bufferingComplete from setStreamStartPosition");t.emit("bufferingComplete");}t=this;"function" === typeof this.Fd.GC?this.Fd.GC(q,u):u();};p.prototype.Nj=function(q,u){"function" === typeof this.Fd.Nj && this.Fd.Nj(q,u);};p.prototype.bj=function(q,u){"function" === typeof this.Fd.bj && this.Fd.bj(q,u);};p.prototype.Mua=function(q){"function" === typeof this.Fd.Nua && this.Fd.Nua(q);};p.prototype.y5=function(){return this.WQ[this.WQ.length - 1];};p.prototype.bxa=function(q){var u,t,v,x;t=0;this.ka.info("show subtitle called at " + this.xs() + " for displayTime " + q.displayTime);this.emit("showsubtitle",q);v=this.y5();v.Yt || (v.Yt={});if(c(this.QJ))try{for(var w=l.__values(q.blocks),y=w.next();!y.done;y=w.next()){x=y.value;v.Yt.hasOwnProperty(x.id) || t++;v.Yt[x.id]=q.endTime;}}catch(A){var z;z={error:A};}finally{try{y && !y.done && (u=w.return) && u.call(w);}finally{if(z)throw z.error;}}else (v.Yt.hasOwnProperty(q.id) || t++,v.Yt[q.id]=q.endTime);this.eyb();v.vX+=t;};p.prototype.eyb=function(){var q,u,t;q=this.y5();if(null === q || void 0 === q?0:q.Yt){u=q.Yt;t=Object.keys(q.Yt);30 < t.length && (t=t.sort(function(v,w){return u[w] - u[v];}),t.splice(19,Math.max(t.length - 20,0)),q.Yt={},t.forEach(function(v){q.Yt[v]=u[v];}));}};p.prototype.lva=function(q){this.ka.info("remove subtitle called at " + this.xs() + " for remove time " + (q.displayTime + q.duration));this.emit("removesubtitle",q);};p.prototype.mxa=function(q){this.ka.info("stage subtitle called at " + this.xs() + " for displayTime " + q.displayTime);this.emit("stagesubtitle",q);};p.prototype.km=function(){this.ka.info("underflow fired by the subtitle timer");this.emit("underflow");};p.prototype.Fm=function(){this.ka.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};p.prototype.P3b=function(q){this.ka.debug("creating a new subtitle interval at " + q);this.WQ.push({fb:q,vX:0});};p.prototype.h7b=function(q){var u;u=this.y5();u && (u.vqa=q);};p.prototype.kYa=function(q){var u;this.ka.debug("ending subtitle interval at " + q);u=this.y5();u && (u.cf=q,u.cf < u.fb && (this.ka.warn("correcting for interval where endPts is smaller than startPts"),u.fb=0 < u.cf?u.cf - 1:0),u.T4=this.Fd.Ql(u.fb,u.cf),delete u.Yt,u.T4 > u.vX && u.vqa && 500 > u.cf - u.vqa && (u.T4=this.Fd.Ql(u.fb,u.vqa)),this.ka.debug("showed " + u.vX + " during this interval"),this.ka.debug("expected " + u.T4 + " for this interval"));};return p;})(r.EventEmitter);b.Ynb=r;b["default"]=r;},42756:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xD=void 0;r=b.xD || (b.xD={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},85981:function(r,b,a){var m,h;function c(n,p,q){var u;u=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || u;}function l(n,p,q){return p && (!p.entries.length && n > p.$v || n > p.endTime) && q.entries.length && n < q.endTime;}function f(n,p,q){this.qE=this.Ju=0;this.Vpb=n.bufferSize || 4194304;this.Vo=new g();this.lE;this.cE=n.df;this.ka=n.la;this.Aq=p;this.Xh=q;this.Cq=new m(n);this.zE=new d(this.Xh.length,n.SXa);this.mR=new k(n.GTa);}function k(n){this.PQ=0 !== n;this.on=!1;this.jj=n || 3E3;this.nd;}function d(n,p){if(this.enabled=p)this.qn=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,p){this.sk=n;this.index=p;}m=a(86839);h=a(90955);g.prototype.reset=function(){this.index=this.sk=void 0;};d.prototype.ca=function(n){this.enabled && n < this.qn.length && (this.qn[n]="x");};d.prototype.W7a=function(n){this.enabled && n < this.qn.length && (this.qn[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.qn.join("") + "|";};k.prototype.start=function(){var n;if(this.PQ){n=this;this.on=!0;this.nd=setTimeout(function(){n.on=!1;n.nd=void 0;},this.jj);}};k.prototype.stop=function(){this.on=!1;clearTimeout(this.nd);this.nd=void 0;};Object.defineProperties(f.prototype,{Ika:{get:function(){return this.Vo;}},Fwb:{get:function(){return !this.mR.on;}}});f.prototype.bR=function(){this.zE.enabled && this.ka.debug("Buffer: " + this.zE.toString());};f.prototype.hrb=function(n){this.qE+=n;this.ka.debug("Reserved buffer size is",this.Ju + this.qE,"after reserving",n);};f.prototype.Frb=function(n){this.qE-=n;this.ka.debug("Reserved buffer size is",this.Ju + this.qE,"after unreserving",n);};f.prototype.Fob=function(n){this.Ju+=n;this.ka.debug("Buffer size is",this.Ju,"after claiming",n);};f.prototype.SQa=function(n){this.Ju-=n;this.ka.debug("Buffer size is",this.Ju,"after clearing",n);};f.prototype.n_b=function(n,p){var q;this.SQa(n);q=this;p && this.zE.enabled && (p.forEach(function(u){q.zE.W7a(u.index);}),this.bR());};f.prototype.Ywa=function(n){var p;p=this.lpb(n);return h.g2a(p) && h.H4b(n,p);};f.prototype.U1b=function(n){var p;p=this.JPa(n);(!p || p.index) !== (!this.Vo || this.Vo.index) && (this.lE=this.Vo.sk,p?(this.cE && this.ka.debug("Current sidx is index",p.index),this.Vo=p):(this.cE && this.ka.debug("Current sidx is out of range"),this.Vo.reset()));this.lE && "number" === typeof this.lE.index && (n < this.lE.$v - 35E3 || n > this.lE.Yp + 35E3) && (this.Qfa(this.lE.index),this.lE=void 0,this.bR());};f.prototype.GC=function(n,p){var q,u;q=this.Xh && this.Xh.length;for(p;p < q;p++){(u=this.Xh[p]) && ((u.endTime || u.Yp) >= n - 1E4 && (u.endTime || u.Yp) < n + 3E5 || this.Qfa(p));}this.mR.stop();this.bR();};f.prototype.mtb=function(){var n,p;this.ka.debug("executing aggressive cleanup");n=this.Xh && this.Xh.length;for(p=0;p < n;p++){p === this.Vo.index && (p+=2);this.Qfa(p);}this.mR.stop();this.bR();};f.prototype.hLb=function(n){var p,q,u,t;p=[];q=this.JPa(n);if(!q)return (this.Vo.reset(),p);this.Vo=q;u=n + 1E4;q=q.index;t=this.Xh[q];q;for(t;q < this.Xh.length && u > t.$v;(q++,t=this.Xh[q])){h.g2a(t) && h.I4b(n,u,t) && p.push(t);}return p;};f.prototype.wXa=function(n,p){var q,u,t,v,w,y;if(!n || !n.length)return (p && p(null),!0);this.Cq.gR && 2 <= Object.keys(this.Cq.gR).length && !this.mR.on && (this.ka.debug("Enabling buffering quiet period"),this.mR.start());q=this;u=n[0];t=n[n.length - 1];if(0 < u.entries.length)(v=u.entries[0].aG,w=u.entries[u.entries.length - 1]);0 < t.entries.length && (h.Wc(v) || (v=t.entries[0].aG),w=t.entries[t.entries.length - 1]);if(v)y=w.aG + w.gpa - v;else return (p && p(null),!0);u=h.wna(v,y);if(this.Cq.gR[u])(this.ka.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.zpb(h.ooa(n)))(this.ka.debug("Reserving",y,"bytes for subtitle request",n[0].$v,n[n.length - 1].Yp),this.hrb(y),this.Cq.DDb(n,v,y,function(x,z){q.ka.debug("Claiming reserved space.  Expected",y,"received",z);q.zE.enabled && (n.forEach(function(A){q.zE.ca(A.index);}),q.bR());q.Frb(y);q.Fob(z);p && p(x);}));else return (this.ka.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};f.prototype.soa=function(n,p){var q,u,t;q=this.Aq;u=this.IPa(n,p,this.Xh);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,n,p);for(var v=0;v < u.length;v++){n=u[v];t=t.concat(n.entries.filter(p));}t=t.map(function(w){return h.Aka(w,null,q);});return h.uVa(t);};f.prototype.iLb=function(n,p,q){return this.IPa(n,p.endTime,p.qn,q,!0);};f.prototype.IPa=function(n,p,q,u,t){var v,w,y,x;if(p && n > p || 0 > n)this.ka.error("invalid range startPts: " + n + ", endPts: " + p);else {v=q && q.length || 0;w=[];if(q && 0 !== v){y=q[0].duration;x=q[0].$v;if(h.Wc(y) && 0 < y)y=Math.floor((n - x) / y);else for((this.cE && this.ka.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < v && (x=q[y],!h.yDb(x,n));y++){;}for(;y < v && (!u || w.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > n)w.push(x);else if(w.length)break;if(p && p <= x.Yp)break;y++;}return w;}}};f.prototype.lpb=function(n){var p,q,t;p=this.Xh;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.$v > n || n > q.Yp))a:{this.dpb || (this.dpb=!0,q=h.KJb(this.Aq.language),this.ka.error("bruteforce search for ",{movieId:this.Aq.P,packageId:this.Aq.nn,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.$v <= n && n <= t.Yp){q=t;break a;}}q=void 0;}return q;}};f.prototype.JPa=function(n){var p,q,u,t,v,w,y,x;p=this.Vo;q=p.sk;u=p.index;t=this.Xh;this.Xfa(h.Wc(n));if(q)if(q.entries.length){if(0 === u && n <= q.startTime || n >= q.startTime && n <= q.endTime)(v=!0,w=p);else {if(0 < u){y=t[u - 1];l(n,y,q) && (v=!0,w=p);}}}else {y=t[u - 1];x=t[u + 1];l(n,y,q)?(v=!0,w=p):x && x.endTime && n <= x.endTime && (n >= q.endTime || n >= q.Yp) && (v=!0,w=new g(x,u + 1));}if(!v)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && n <= u.endTime)){w=new g(u,q);break;}}return w;};f.prototype.zpb=function(n){return this.Ju + this.qE + n <= this.Vpb;};f.prototype.Qfa=function(n){var p,q,u;p=this.Xh[n];q=p && p.images && p.images.length || 0;if(0 < q){u=h.ooa([p]);p.images=[];this.zE.W7a(n);this.SQa(u);this.cE && this.ka.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:u,images:q,yhc:this.Ju});}};f.prototype.Xfa=function(n){this.cE && h.assert(n,this.ka);};r.exports=f;},5725:function(r,b,a){var l,f,k,d,g,m;function c(h){l.call(this);this.Rf=h.url;this.pE=h.request;this.mE=h.we || 0;this.ka=h.la;this.Xh=this.Aq=null;h.At?this.Aq=h.At:(this.Yb=h.offset,this.RJ=h.size);this.zl;this.Uga=h;}l=a(22699).EventEmitter;f=a(42176);k=a(28323);d=a(1315);g=a(90955);m=c.events={ilb:"midxready",Anb:"sidxready",mnb:"ready",Bk:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Vo:{get:function(){return this.zl && this.zl.Ika;}}});c.prototype.start=function(){this.Aq?(this.ka.warn("midx was prefectched and provided"),this.xPa(this.Aq)):this.Yob(this.Yb,this.RJ,this.Yqb.bind(this));};c.prototype.close=function(){};c.prototype.W5=function(h,n){return this.zl && this.zl.soa(h,n);};c.prototype.Ql=function(h,n){return (h=this.W5(h,n))?h.length:h;};c.prototype.GC=function(h,n){this.ka.debug("setStreamStartPosition: buffering subtitles at pts " + h);this.mE=h;this.zl?this.zl.GC(h,n):n && n();};c.prototype.pB=function(h){var n,p,q;if(!this.zl || h > g.nJb(this.Aq))return [];this.zl && this.zl.rla(h);n=this.Vo.sk;p=this.Vo.index;q=[];p=g.Wc(p) && this.Xh[p + 1];if(!(p && p.entries.length || n && !(h > n.endTime)))return [];n && n.images.length && (q=this.GPa(n,h,[]));2 > q.length && p && p.images.length && (n=this.GPa(p,h,q),q.push.apply(q,n));return this.zl.Ywa(h)?null:g.uVa(q);};c.prototype.bj=function(h,n){this.zl && this.zl.bj(h,n);};c.prototype.Nj=function(h,n){this.zl && this.zl.Nj(h,n);};c.prototype.Yob=function(h,n,p){this.ka.debug("downloading midx...");this.PPa(h,n,"binary",p);};c.prototype.Zob=function(h,n,p){this.ka.debug("downloading sidx...");this.PPa(h,n,void 0,p);};c.prototype.PPa=function(h,n,p,q){this.pE({url:this.Rf,offset:h,size:n,responseType:p},q);};c.prototype.Yqb=function(h,n){if(h)this.emit(m.Bk,g.LT(h,"midxdownloaderror"));else try{this.Aq=new f(n);this.xPa(this.Aq);}catch(p){this.emit(m.Bk,g.LT(p,"midxparseerror"));}};c.prototype.xPa=function(h){var n;n=h.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(m.ilb,h),this.Zob(h.startOffset,n,this.$qb.bind(this,h))):this.emit(m.Bk,g.LT({},"nosidxfoundinmidx"));};c.prototype.$qb=function(h,n,p){var q,u,t,v;q=this;if(n)q.emit(m.Bk,g.LT(n,"sidxdownloaderror"));else {u=0;t=0;q.Xh=[];try{v=0;h.entries.forEach(function(w){var y;y=new k(p,u,h.wpa,q.ka,t,t + w.duration,v);q.Xh.push(y);w.j3b=y;t=y.Yp;u+=w.size;v++;});}catch(w){q.emit(m.Bk,g.LT(w,"sidxparseerror"));return;}q.emit(m.Anb,q.Xh);this.zl=new d(q.Uga,h,q.Xh);n=q.mE;q.Uga && q.Uga.B$ || (n=Math.max(q.mE - 1E4,0));this.zl.rla(n,function(w){w && q.ka.error("initial sidx download failed");q.emit(m.mnb);});}};c.prototype.GPa=function(h,n,p){var x;for(var q=h.entries,u=0,t=q.length,v=[],w,y=this.Aq;u < t;){w=q[u];if(w.displayTime <= n)w.displayTime + w.duration >= n && v.push(g.Aka(w,h.images[u].data,y));else {x=v.length && v[v.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > n && x.displayTime !== w.displayTime)break;x.aG !== w.aG && v.push(g.Aka(w,h.images[u].data,y));}u++;}return v;};r.exports=c;},42176:function(r,b,a){var l,f;function c(k,d){this.duration=k;this.size=d;this.j3b=void 0;}l=a(63844);f=a(90955);r.exports=function(k){var h;k=new l(k);this.identifier=k.Uua(4);f.assert("midx" === this.identifier);this.version=k.Zp(4);f.assert(0 === this.version);this.wpa=k.Dj(36);this.creationTime=k.sN();this.nn=k.sN();this.P=k.sN();this.A0b=k.Tg();this.B0b=k.Tg();this.language=k.Dj(16);k.Dj(16);this.startOffset=k.sN();this.cL=k.Tg();for(var d=[],g=0,m=0;m < this.cL;m++){h=new c(k.Zp(4),k.Tg());d.push(h);g+=h.duration;}this.entries=d;this.endTime=g;};},86839:function(r,b,a){var l,f;function c(k){this.Rf=k.url;this.pE=k.request;this.mE=k.we || 0;this.cE=k.df;this.ka=k.la;this.gR={};}l=a(63844);f=a(90955);c.prototype.DDb=function(k,d,g,m){this.gR[f.wna(d,g)]=!0;k && k.forEach(function(h){h.UW=!0;});this.pE({url:this.Rf,offset:d,size:g},this.zqb.bind(this,k,d,g,m));};c.prototype.zqb=function(k,d,g,m,h,n){var p,q,u,t;p=this;q=f.wna(d,g);setTimeout(function(){delete p.gR[q];},1E3);if(h)(m && m(h,0),k && k.forEach(function(v){delete v.UW;}));else {u=new l(n);t=0;k && k.forEach(function(v){delete v.UW;v.entries.forEach(function(w,y){u.position=w.aG - d;w={data:u.Dj(w.gpa)};v.images[y]=w;f.h8b(v.images[y].data,p.Xfa.bind(p));t+=v.images[y].data.length;});});m && m(null,t);}};c.prototype.Xfa=function(k){this.cE && f.assert(k,this.ka);};r.exports=c;},73142:function(r){function b(a,c,l,f){this.ka=f;this.id=a;this.startTime=c && c.ta || 0;this.endTime=c && c.va;this.Z6a=c && c.next || [];this.cbb;this.NV=[];this.XL=!1;a=this.startTime;c=this.endTime;for(var k=[],d=0;d < l.length;d++){(f=l[d]) && (!c || c > f.$v) && a < f.Yp && (f.ENb(),k.push(f));}this.qn=k;}b.prototype.FUa=function(){this.ka.debug("Cleaning up segment",this.id);for(var a,c=0,l,f=[],k=0;k < this.qn.length;k++){a=this.qn[k];(l=a.kCb()) && f.push(a);a && (c+=l);}this.qn=[];return {size:c,qn:f};};r.exports=b;},1315:function(r,b,a){var k,d;function c(g,m){var n;g=g || 0;if(m)for(var h in m.O){n=m.O[h];if(g >= (n.ta || 0) && (!n.va || g < n.va))return h;}}function l(g,m){return g && m && m.O[g];}function f(g,m,h){var n;this.ka=g.la;this.Xh=h;this.rA=this.Hob(g.B$);this.Tu=[];n=h && h[h.length - 1];this.Vj=n && (n.endTime || n.Yp);this.eg=new k(g,m,h);g=c(g.we || 0,this.rA);this.yl=this.MQ(g);}k=a(85981);d=a(73142);Object.defineProperties(f.prototype,{Ika:{get:function(){return this.eg.Ika;}}});f.prototype.soa=function(g,m){return this.eg && this.eg.soa(g,m);};f.prototype.rla=function(g,m){this.eg.U1b(g);this.uRa(g);if(!this.rA && this.Vj && g > this.Vj)m && m();else if((g=this.uPa(g,this.yl,2,m),this.rA && 0 < this.yl.Z6a.length))m && m();else if(this.rA && this.yl.XL && g){2 > this.Tu.length && this.Nob(this.yl);m=Math.ceil(2 / (this.Tu.length - 1));for(var h=0;h < this.Tu.length && g && 3 > h;h++){g=this.Tu[h];g=this.uPa(g.startTime,g,m);}}};f.prototype.Ywa=function(g){return this.eg.Ywa(g)?(this.eg.mtb(),this.rla(g),this.yl.XL=!1,!0):!1;};f.prototype.GC=function(g,m){var h;this.uRa(g);this.Tu.forEach(function(n){n.XL=!1;});h=this.yl.qn && this.yl.qn[0];this.eg.GC(g,h && h.index);(g=this.eg.hLb(g)) && g.length?this.eg.wXa(g,m):m && m();};f.prototype.Nj=function(g,m){var h;this.ka.debug("Set next segment to",m,"for segment",g);g=this.APa(g) || this.MQ(g);g.cbb=m;h=this;g.NV=g.NV.filter(function(n){if(n.id === m)return !0;h.Zfa(n);return !1;});};f.prototype.bj=function(g,m){var h;h=l(g,this.rA);Object.keys(h.next).forEach(function(n){h.next[n].weight=m[n] || 0;});};f.prototype.Hob=function(g){var m,n;m={};if(g=(g || ({})).O){m.O={};for(var h in g){n=g[h] || ({});m.O[h]={ta:n.ta,va:n.va,Gb:n.Gb,next:this.Gob(n.next)};}}return m;};f.prototype.Gob=function(g){var m,h;m={};for(h in g){m[h]={weight:(g[h] || ({})).weight};}return m;};f.prototype.uRa=function(g){var m,h;if(this.rA && this.yl.startTime > g || this.yl.endTime && this.yl.endTime < g){m=this.yl;h=c(g,this.rA);h?(this.ka.debug("Switching segments from",this.yl.id,"to",h,"at pts",g),this.yl=this.APa(h) || this.MQ(h),this.Zfa(m)):this.ka.debug("The pts is outside of the current segment but not in a new one yet");}};f.prototype.MQ=function(g){this.ka.debug("SegmentManager: creating segment",g);g=new d(g,l(g,this.rA),this.Xh,this.ka);this.Tu.push(g);this.ka.debug("SegmentManager: segment contains",g.qn.length,"sidxes");return g;};f.prototype.Zfa=function(g){var m;if(g && g !== this.yl){this.ka.debug("SegmentManager: deleting segment",g.id);g.NV.forEach(this.Zfa.bind(this));this.Tu=this.Tu.filter(function(h){return h !== g;});m=g.FUa();this.eg.n_b(m && m.size || 0,m && m.qn);}};f.prototype.APa=function(g){var h;for(var m=0;g && m < this.Tu.length;m++){h=this.Tu[m];if(g === h.id)return h;}};f.prototype.Nob=function(g){var m,n;m=g.cbb;if(m && "" !== m)g.NV.push(this.MQ(m));else {m=g.Z6a;for(var h in m){n=m[h];if(!n || !n.weight)break;g.NV.push(this.MQ(h));}}};f.prototype.uPa=function(g,m,h,n){if(!m || m.XL)return (this.ka.debug("Done driving segment",m && m.id),!0);if(!this.eg.Fwb)return (this.ka.debug("Throttling buffering in quiet period"),!1);this.ka.debug("Drive streaming of segment",m.id,"from pts",g);h=(g=this.eg.iLb(g,m,h)) && g.length || 0;if(0 === h)return (this.ka.debug("Segment is fully downloaded",m && m.id),m.XL=!0,n && n(),!0);this.ka.debug("Downloading",h,"sidxes in segment",m.id);return this.eg.wXa(g,function(p,q){p && (m.XL=!1);n && n(p,q);});};r.exports=f;},28323:function(r,b,a){var f,k;function c(d,g,m,h,n,p,q,u){this.displayTime=d;this.duration=g;this.FVb=m;this.GVb=h;this.p3b=n;this.q3b=p;this.aG=q;this.gpa=u;}function l(d,g,m,h,n,p,q){var u;d=new f(d);u=0;d.position=g;this.ka=h;this.identifier=d.Uua(4);k.assert("sidx" === this.identifier,h);this.wpa=d.Dj(36);k.gyb(this.wpa,m,h);this.duration=d.Zp(4);this.cL=d.Tg();this.$v=n;this.Yp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.fha=0;u < this.cL;){g=new c(d.Zp(4),d.Zp(4),d.Tg(),d.Tg(),d.Tg(),d.Tg(),d.sN(),d.Zp(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}f=a(63844);k=a(90955);l.prototype.ENb=function(){this.fha++;};l.prototype.kCb=function(){var d;d=0;this.fha--;1 > this.fha?this.images && 0 < this.images.length && (d+=k.ooa([this]),this.images=[]):this.ka.debug("Not cleaning up shared sidx with range",this.$v,"-",this.Yp);return d;};r.exports=l;},90955:function(r){function b(k,d){return k.some(function(g){return g.id === d;});}function a(k,d){return k.filter(c.bind(null,d)).map(l).reduce(f,0);}function c(k,d){return k.id === d.id && k.displayTime + k.duration === d.displayTime;}function l(k){return k.duration;}function f(k,d){return k + d;}r.exports={gyb:function(k,d,g){for(var m=0;m < k.length;m++){if(k[m] !== d[m])return (g.error("indexId mismatch in sidx",{sIndexId:k,mIndexId:d}),!1);}return !0;},Aka:function(k,d,g){var m;m={};m.displayTime=k.displayTime;m.duration=k.duration;m.originX=k.FVb;m.originY=k.GVb;m.sizeX=k.p3b;m.sizeY=k.q3b;m.imageData=d;m.id=k.aG;m.rootContainerExtentX=g.A0b;m.rootContainerExtentY=g.B0b;return m;},wna:function(k,d){return "o_" + k + "s_" + d;},h8b:function(k,d){d("P" === String.fromCharCode(k[1]));d("N" === String.fromCharCode(k[2]));d("G" === String.fromCharCode(k[3]));},Wc:function(k){return "undefined" !== typeof k;},ric:b,efc:a,LT:function(k,d){var g,m;g=Object.create({});for(m in k){g[m]=k[m];}k instanceof Error && (g.message=k.message,g.stack=k.stack);g.errorString=d;return g;},assert:function(k,d){if(!k)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},g2a:function(k){return k && 0 < k.entries.length && 0 === k.images.length;},H4b:function(k,d){for(var g=d.entries.length,m,h=0;h < g;h++){if((m=d.entries[h],m.displayTime <= k && m.displayTime + m.duration >= k))return !0;}return !1;},I4b:function(k,d,g){for(var m=g.entries.length,h,n,p=0;p < m;p++){h=g.entries[p];n=h.displayTime;h=n + h.duration;if(d < n)break;if(n <= k && h >= k || n > k && n <= d)return !0;}return !1;},uVa:function(k){return k.map(function(d,g){d.duration+=a(k.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},ooa:function(k){return k.reduce(function(d,g){return d + g.entries.reduce(function(m,h){return h.gpa + m;},0);},0);},yDb:function(k,d){return k && k.$v <= d && k.Yp >= d;},nJb:function(k){if(k)return k.endTime;},KJb:function(k){try{return String.fromCharCode.apply(String,k);}catch(d){}return "";}};},83755:function(r,b,a){var c;c=a(22699).EventEmitter;a(82630)({});b=function n(f,k,d,g,m,h){if(!(this instanceof n))return new n(f,k,d,g,m,h);c.call(this);this.xs=f;this.UQ=k;this.y1=d;this.Lpb=g;this.Ki={};this.oj={};this.ka=m || console;this.En=!1;this.dE=h.ba;this.arb=h && h.GW || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.nd);this.nd=void 0;this.V9();};b.prototype.V9=function(){var f;f=this;Object.keys(f.Ki).forEach(function(k){f.emit("removesubtitle",f.Ki[k]);});f.Ki={};f.oj={};};b.prototype.pause=function(){this.En || (clearTimeout(this.nd),this.nd=void 0);};b.prototype.vz=function(f,k){var d,g;d=this;g=d.xs();f=d.UQ(g);null !== f && d.En && (d.En=!1,this.ka.debug("bufferingComplete"),d.emit("bufferingComplete"),this.Lpb())?this.ka.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(k="number" === typeof k?k:0,Object.keys(d.Ki).forEach(function(m){m=d.Ki[m];m.displayTime - d.arb <= g && g < m.displayTime + m.duration || (delete d.Ki[m.id],d.emit("removesubtitle",m));}),Object.keys(d.oj).forEach(function(m){m=d.oj[m];g >= m.displayTime + m.duration && delete d.oj[m.id];}),null !== f && 0 < f.length?(k=f.length,d.ka.debug("found " + k + " entries for pts " + g),f.forEach(function(m){m.displayTime - 0 <= g && g < m.displayTime + m.duration && !d.Ki[m.id] && (d.emit("showsubtitle",m),d.Ki[m.id]=m,delete d.oj[m.id]);}),k=f[f.length - 1],d.Ki[k.id] || d.oj[k.id] || (d.emit("stagesubtitle",k),d.oj[k.id]=k),k=d.zrb(g,f),"number" === typeof k && Infinity > k?d.uR(k):d.uR(2E4)):null === f?(f=250 * Math.pow(2,k),2E3 < f && (f=2E3),d.ka.warn("checking buffer again in " + f + "ms"),d.En || (d.En=!0,d.emit("underflow")),d.uR(f,k + 1)):d.dE?(f=500,d.ka.trace("Live : No entries for " + g + "checking buffer again in " + f + "ms"),d.uR(f)):d.uR(2E4));};b.prototype.uR=function(f,k){var d;d=this;d.ka.debug("Scheduling pts check.",{timeout:f,tO:d.nd});clearTimeout(d.nd);d.nd=setTimeout(function(){d.vz(d.xs(),k);},f);};b.prototype.zrb=function(f,k){k=k.reduce(this.kqb.bind(this,f),Infinity);return Infinity > k?this.y1(k,f):k;};b.prototype.kqb=function(f,k,d){var g;g=d.displayTime;d=d.displayTime + d.duration;this.ka.debug("next events: start",g,"end",d,"now",f);return g < k && f < g?g:d < k && f < d?d:k;};r.exports=b;},63844:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},hoa:function(){return this.buffer.length - this.position;},Wy:function(){return this.buffer[this.position++];},Dj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Zp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Uua:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Tg:function(){return this.Zp(2);},$p:function(){return this.Zp(4);},sN:function(){return this.Zp(8);},aw:function(a){for(var c,l="";a--;){c=this.Wy();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},Vua:function(a){for(var c=0,l=0;l < a;l++){c+=this.Wy() << (l << 3);}return c;},rN:function(){return this.Vua(4);},OY:function(a){this.NO(a,2);},Az:function(a){this.NO(a,4);},gba:function(a){this.buffer[this.position++]=a;},NO:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},zz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},NY:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},MO:function(a,c){this.NY(a.Dj(c));}};r.exports=b;},82630:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var k,d,g;function c(m,h,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + m + "' but found '" + h + "'"));}function l(m,h,n){var p;p=d[m];"undefined" !== typeof p?p(h) || c(m,h,n):m !== typeof h && c(m,h,n);}function f(m,h){var n;n=m.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});n=n.concat(m.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== m.length)throw new TypeError("Types: unexpected number of arguments");m.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)l(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(v){l(q[v],t[v],{key:v});});else throw Error("Types: unexpected type in type array");});return h.apply(this,p);};}k=("number boolean string object function symbol").split(" ");d={array:function(m){return Array.isArray(m);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(m){if("undefined" !== typeof d[m] || -1 < k.indexOf(m))throw new TypeError("Types: attempting to override a built in type with " + m);d[m]=a[m];});}g=Object.keys(d).concat(k);return f(["array","function"],f);};},17267:function(r){var b;b={yb:function(a){return "number" === typeof a;},vt:function(a){return "object" === typeof a;},sg:function(a){return "string" === typeof a;},oh:function(a){return "undefined" === typeof a;},qgc:function(a){return "boolean" === typeof a;},Kp:function(a){return "function" === typeof a;},tc:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},fWb:function(a){var c,l;l=[];if(!b.vt(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.zp=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var f=0,k=a.length;f < k;f++){c.call(l,a[f],f,a);}else for(f in a){b.has(a,f) && c.call(l,a[f],f,a);}return a;};r.exports=b;},75691:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;f=a(30801);b=Object.prototype.propertyIsEnumerable;k=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");g=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");m=function(q){var u;u=q.constructor;return u && u.prototype === q;};h={h9b:!0,i9b:!0,j9b:!0,k9b:!0,l9b:!0,m9b:!0,n9b:!0,o9b:!0,p9b:!0,q9b:!0,r9b:!0,s9b:!0,t9b:!0,u9b:!0,v9b:!0,w9b:!0,x9b:!0,y9b:!0,z9b:!0,A9b:!0,B9b:!0,C9b:!0,D9b:!0};n=(function(){if("undefined" === typeof ob)return !1;for(var q in ob){try{if(!h["$" + q] && c.call(ob,q) && null !== ob[q] && "object" === typeof ob[q])try{m(ob[q]);}catch(u){return !0;}}catch(u){return !0;}}return !1;})();p=function(q){var u,t,v,w,y,z;u=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);v=f(q);w=u && "[object String]" === l.call(q);y=[];if(!u && !t && !v)throw new TypeError("Object.keys called on a non-object");u=d && t;if(w && 0 < q.length && !c.call(q,0))for(w=0;w < q.length;++w){y.push(String(w));}if(v && 0 < q.length)for(v=0;v < q.length;++v){y.push(String(v));}else for(var x in q){u && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(k){if("undefined" !== typeof ob && n)try{z=m(q);}catch(A){z=!1;}else z=m(q);for(v=0;v < g.length;++v){z && "constructor" === g[v] || !c.call(q,g[v]) || y.push(g[v]);}}return y;};}r.exports=p;},33464:function(r,b,a){var c,l,f,k,d;c=Array.prototype.slice;l=a(30801);f=Object.keys;k=f?function(g){return f(g);}:a(75691);d=Object.keys;k.Dic=function(){Object.keys?(function(){var g;g=Object.keys(arguments);return g && g.length === arguments.length;})(1,2) || (Object.keys=function(g){return l(g)?d(c.call(g)):d(g);}):Object.keys=k;return Object.keys || k;};r.exports=k;},30801:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},61247:function(r,b,a){var l,f,k;function c(d,g,m){var h;if(!m)return !1;m=m[g];return "boolean" === typeof m?!0 === m:(null === m || void 0 === m?void 0:m.length) === (null === (h=d[g].Ve) || void 0 === h?void 0:h.length);}Object.defineProperty(b,"__esModule",{value:!0});b.IVa=b.rq=void 0;l=a(5163);f=a(10506);b.rq=-1;b.IVa=function(d,g,m,h,n){function p(v){var w,y,x,z,A,B;w=g.ae[v];y=c(g.ae,v,m);x=!!w.Ve;z=!!h && !y && x;A=0 === w.gk;w.gk > u && q.Ce(("").concat(d,"-").concat(v),{J:d,ta:u,va:w.gk,type:"content"});x || q.Ysb();!z || A && !n || q.Ce(("padstart-").concat(v),{J:b.rq,ta:0,va:h,type:"padding"});u=w.gk;if(w.Ve && !y){B=null === m || void 0 === m?void 0:m[v];w.Ve.forEach(function(C,D){var F;F=!1;Array.isArray(B) && (F=-1 < B.indexOf(D));F || q.Ce(("ad-").concat(v,"-").concat(D),{J:C.id,ta:C.ta,va:C.va,type:"ad"});});z && q.Ce(("padend-").concat(v),{J:b.rq,ta:0,va:h,type:"padding"});}}void 0 === h && (h=0);void 0 === n && (n=!1);for(var q=new k(),u=0,t=0;t < g.ae.length;++t){p(t);}q.Ce(("").concat(d,"-").concat(g.ae.length),{J:d,ta:u,va:null,type:"content"});return q.Lg();};k=(function(){function d(){this.hb=new f.uq();}d.prototype.Ce=function(g,m){var h,n,p;this.yF || (this.yF=g);if(this.tC){n=l.__read(this.tC,2);p=n[0];n=n[1];n.Gb=g;n.next=(h={},h[g]={},h);"content" === n.type && -1 < ["ad","padding"].indexOf(m.type) && (n.Wn=!0);"content" === m.type && (-1 < ["ad","padding"].indexOf(n.type) || n.Wn) && (m.Xs=!0);this.hb.Ce(p,n);}this.tC=[g,m];};d.prototype.Ysb=function(){var g,m;if(this.tC){g=l.__read(this.tC,2);m=g[0];g=g[1];"content" === g.type && (g.Wn=!0);this.hb.Ce(m,g);this.tC=[m,g];}};d.prototype.Lg=function(){var g;if(this.tC){g=l.__read(this.tC,2);this.hb.Ce(g[0],g[1]);}this.tC=void 0;this.yF && this.hb.gz(this.yF);return this.hb.Lg();};return d;})();},56916:function(r,b,a){var g;function c(m){return Object.keys(m.segments).some(function(h){return void 0 !== d(m.segments[h]);});}function l(m){return "delayedSeamless" === m?"lazy":m;}function f(m){return Object.keys(m).reduce(function(h,n){var p,q;p=m[n];q=p.weight;p=p.transitionType || p.transitionHint;n=h[n]={};void 0 !== q && (n.weight=q);p && (n.Yd=l(p));return h;},{});}function k(m){var h,n;h=Object.keys(m);n=h.length;return n?h.reduce(function(p,q){return p + (m[q].weight || 0);},0) / n:void 0;}function d(m){var h;if(m.ui){h=m.ui.interactionZones;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0] - m.startTimeMs;m=m.ui.interactionZonesV2;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0];}else if(void 0 !== m.earliestSkipRequestOffset)return m.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.r3=void 0;g=a(10506);b.r3=function(m,h){var n,p,q,u,t,v;n=void 0 === h?{}:h;h=n.Cg;p=n.ve;q=n.O;n=n.config;u=!(!n || -1 === n.Uma.indexOf(m.viewableId));t=c(m)?0:(null === n || void 0 === n?void 0:n.Tma) || 0;n=new g.uq();v=q || m.segments;n.gz(null !== p && void 0 !== p?p:m.initialSegment).Jwa(null !== h && void 0 !== h?h:m.mediaTypes).N$(u?"immediate":l(m.transitionType)).Pwa(Object.keys(v).reduce(function(w,y){var x,z,A,B,C,D;x=v[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?k(x.next):void 0;}B=z;if(z=x.exitZones)C=void 0;else a:{if(u && x.endTimeMs){C=x.endTimeMs - x.startTimeMs;D=d(x);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=u?C?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:m.viewableId,ta:x.startTimeMs,va:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,Yd:l(D),Rq:z || C,weight:B};x.defaultNext && (B.Gb=x.defaultNext);x.next && (B.next=f(x.next));w[y]=B;return w;},{}));return n.Lg();};},77530:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.BAb=void 0;c=a(10506);b.BAb=function(l){var f,k,d,g,m,h;f=l.Phc;k=l.Cjc;l=l.Hic;d=new c.uq();g=l.split(" ");m=/\d+/;h=new Map();k.forEach(function(n){h.set(n,0);});g.forEach(function(n,p){var q,u,t,v,w,y,x,z;y=Number(n.split(".")[0].match(m)[0]);x=Number(n.split(".")[1].match(m)[0]);y=k[y];n=h.get(y);z=("").concat(y,"-").concat(n);h.set(y,n + 1);x={J:y,ta:null !== (t=null === (u=f.get(y)) || void 0 === u?void 0:u[x]) && void 0 !== t?t:0,va:null !== (w=null === (v=f.get(y)) || void 0 === v?void 0:v[x + 1]) && void 0 !== w?w:void 0};g.length > p + 1 && (u=Number(g[p + 1].split(".")[0].match(m)[0]),u=k[u],t=h.get(u),u=("").concat(u,"-").concat(t),x.Gb=u,x.next=(q={},q[u]={},q),h.set(y,n + 1));0 === p && d.gz(z);d.Ce(z,x);});return d.Lg();};},50954:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(5163);r.__exportStar(a(35419),b);r.__exportStar(a(10506),b);r.__exportStar(a(10990),b);r.__exportStar(a(56916),b);r.__exportStar(a(62483),b);r.__exportStar(a(94315),b);r.__exportStar(a(73124),b);r.__exportStar(a(72283),b);r.__exportStar(a(80830),b);r.__exportStar(a(61247),b);r.__exportStar(a(77530),b);},73124:function(r,b,a){var g,m,h;function c(n){for(var p=n.ve,q=[];p;){q.push(p);p=n.O[p].next;if(!p)break;p=Object.keys(p);if(p.length)((0,m.assert)(1 === p.length,"Expected linear playgraph"),p=p[0]);else break;}return q;}function l(n){return (0,m.nia)(Object.keys(n.O).map(function(p){return n.O[p].J;}));}function f(n,p){return Object.keys(p.O).some(function(q){q=p.O[q];return n.J === q.J && n.ta > q.ta && (!q.va || !!n.va && (Infinity === n.va || n.va < q.va));});}function k(n){return null === n || void 0 === n?Infinity:n;}function d(n,p){return null === n || void 0 === n?Infinity === k(p.va):n >= p.ta && n <= k(p.va);}Object.defineProperty(b,"__esModule",{value:!0});b.Ora=void 0;g=a(5163);m=a(42866);h=a(10506);b.Ora=function(n,p){var q,u,t,v,w;q=c(p);u=l(n);t=l(p);u=(0,m.PSa)(u,t);(0,m.assert)(1 === u.length,"Source and content playgraphs should share one viewable");v=u[0];t=Object.keys(n.O).filter(function(y){return n.O[y].J === v;}).map(function(y){var G,E,H,M,L,K;for(var x,z=n.O[y],A=z.ta,B=k(z.va),C=0 === A,D=[],F=0;F < q.length;++F){G=q[F];E=p.O[G];H=f(n.O[y],p);if(E.J !== v)C && D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},E),{cc:y})});else if(C){L=Math.max(z.ta,E.ta);M=(K=!Number.isFinite(B) && F === q.length - 1)?B:Math.min(B,k(E.va));M > L && (H=Infinity !== B || !H && !K?Infinity === M?null:M:z.va,D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},E),{ta:L,va:H,cc:y})}));if(d(B,E)){if(B === k(E.va))for(F+=1;F < q.length;++F){A=q[F];B=p.O[A];if(B.J === v)break;D.push({id:("").concat(y,":").concat(A),v:g.__assign(g.__assign({},B),{cc:y})});}break;}}else if(d(A,E))if((C=!0,B <= k(E.va)))D.push({id:y,v:z});else {L=z.ta;K=!Number.isFinite(B) && F === q.length - 1;H=K && H?z.va:Math.min(B,k(E.va));D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},E),{ta:L,va:H,cc:y})});}}D.length || D.push({id:y,v:g.__assign(g.__assign({},z),{cc:y})});for(F=0;F < D.length - 1;++F){A=D[F + 1].id;D[F].v=g.__assign(g.__assign({},D[F].v),{Gb:A,next:(x={},x[A]={},x)});}x=D[D.length - 1];x.v=g.__assign(g.__assign({},x.v),{Gb:z.Gb,next:z.next});return {id:y,v:z,ldb:D};});w=t.reduce(function(y,x){return (y[x.id]=x.ldb[0].id,y);},{});u=new h.uq();t=t.reduce(function(y,x){x.ldb.forEach(function(z){return y[z.id]=z.v;});return y;},{});return u.Pwa(t,function(){return !0;},w).dSa(n.O,function(y,x){return !w[x];},w,function(y,x){return g.__assign(g.__assign({},y),{cc:x});}).gz(w[n.ve] || n.ve).Lg();};},72283:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Z4=b.HGb=b.yma=void 0;c=a(42866);b.yma=function(l,f){var k;return Object.keys(l.O).some(function(d){var g;return null === (g=(k=l.O[d]).next) || void 0 === g?void 0:g[f];})?k:void 0;};b.HGb=function(l,f){return (0,c.wc)(Object.keys(l.O),function(k){var d;return null === (d=l.O[k].next) || void 0 === d?void 0:d[f];});};b.Z4=function(l,f){return Object.keys(l.O).filter(function(k){var d;return null === (d=l.O[k].next) || void 0 === d?void 0:d[f];});};},35419:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},10506:function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(f,k){f[k]=a(l[k]);return f;},{}):l;}function c(l,f){return Object.keys(l).reduce(function(k,d){return (k[f[d] || d]=l[d],k);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.uq=void 0;r=(function(){function l(f){f && (this.gz(f.ve),this.N$(f.Yd),this.Pwa(f.O));}l.prototype.gz=function(f){this.ve=f;return this;};l.prototype.N$=function(f){this.Yd=f;return this;};l.prototype.Jwa=function(f){this.Cg=f;return this;};l.prototype.Ce=function(f,k,d){this.O || (this.O={});this.O[f]=a(k);if(d){f=this.O[f];if(k=f.next)f.next=c(k,d);f.Gb && d[f.Gb] && (f.Gb=d[f.Gb]);}return this;};l.prototype.Pwa=function(f,k,d){void 0 === k && (k=function(){return !0;});this.O={};return this.dSa(f,k,d);};l.prototype.dSa=function(f,k,d,g){var m;m=this;void 0 === k && (k=function(){return !0;});Object.keys(f).filter(function(h){return k(f[h],h);}).forEach(function(h){var n;n=f[h];g && (n=g(n,h));m.Ce(h,n,d);});return this;};l.prototype.E1a=function(f){var k;return !(null === (k=this.O) || void 0 === k || !k[f]);};l.prototype.Lg=function(){var f;if(!this.O)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ve)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.O[this.ve])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={ve:this.ve,O:this.O};this.Yd && (f.Yd=this.Yd);this.Cg && (f.Cg=this.Cg);return f;};return l;})();b.uq=r;},10990:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cea=void 0;b.Cea=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.ve,segments:a.gCb(c.O)},void 0 !== c.Yd?{transitionType:c.Yd}:{});};a.encode=function(c){return Object.assign({ve:c.initialSegment,O:a.YEb(c.segments)},void 0 !== c.transitionType?{Yd:c.transitionType}:{});};a.YEb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.XEb(c[f]);return l;},{});};a.XEb=function(c){return Object.assign({J:c.viewableId,ta:c.startTimeMs},c.endTimeMs?{va:c.endTimeMs}:{},c.defaultNext?{Gb:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Yd:c.transitionType}:{},c.next?{next:a.VEb(c.next)}:{},c.exitZones?{Rq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{cc:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Xs:c.fadeIn}:{},void 0 !== c.fadeOut?{Wn:c.fadeOut}:{});};a.VEb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.WEb(c[f]);return l;},{});};a.WEb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Yd:c.transitionType}:{});};a.gCb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.fCb(c[f]);return l;},{});};a.fCb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.ta},c.va?{endTimeMs:c.va}:{},c.Gb?{defaultNext:c.Gb}:{},c.weight?{weight:c.weight}:{},c.Yd?{transitionType:c.Yd}:{},c.next?{next:a.dCb(c.next)}:{},c.Rq?{exitZones:c.Rq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.cc?{uxSegment:c.cc}:{},c.type?{type:c.type}:{},void 0 !== c.Xs?{fadeIn:c.Xs}:{},void 0 !== c.Wn?{fadeOut:c.Wn}:{});};a.dCb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.eCb(c[f]);return l;},{});};a.eCb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Yd?{transitionType:c.Yd}:{});};return a;})();},80830:function(r,b,a){var q,u,t,v;function c(w,y,x,z,A){var B,C,D;B=w.O[y];C=x.O[B.cc];z=z.cc;D=g(B.va) - B.ta;D=void 0 === A?A=0:A + D;return B.J === (null === C || void 0 === C?void 0:C.J)?{yY:g(B.va),vS:A}:B.cc === z && (y=q.__read(l(w,y),1)[0]) && w.O[y].cc === B.cc?c(w,y,x,B,D):{yY:C.ta,vS:D};}function l(w,y){return Object.keys(w.O).filter(function(x){return w.O[x].Gb === y;});}function f(w,y,x,z,A){var B,C,D;void 0 === A && (A=0);y=w.O[y];B=x.O[y.cc];z=z.cc;C=x.O[z];D=g(y.va) - y.ta;return y.J === (null === B || void 0 === B?void 0:B.J)?{yY:y.ta,vS:A}:y.cc === z && y.Gb?f(w,y.Gb,x,y,A + D):{yY:g(C.va),vS:A};}function k(w,y,x){var z,A,B,C,D,F,G,E,H,M,L,K,O;z=n(w,y,x);if(z)return z;z=w.O[x.v];A=x.offset;B=Object.keys(y.O).filter(function(J){return y.O[J].cc === x.v;});C=[];B.forEach(function(J){var N,R,U;function I(ja){ja=(0,v.Z4)(y,ja);null === ja || void 0 === ja?void 0:ja.forEach(function(ra){var ka,ua;if(y.O[ra].cc !== x.v){ka=y.O[ra];ua=ka.va;U={v:ra,offset:ua - ka.ta};(ka=ua?p(w,y,U):void 0) && C.push({Kx:U,hq:ka});ka || (U={v:ra,offset:0},(ka=p(w,y,{v:ra,offset:0})) && C.push({Kx:U,hq:ka}));I(ra);}});}N=y.O[J];R=N.va;U={v:J,offset:R - N.ta};(N=R?p(w,y,U):void 0) && C.push({Kx:U,hq:N});U={v:J,offset:0};(R=p(w,y,U)) && C.push({Kx:U,hq:R});R || N || I(J);});(0,u.assert)(0 < C.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");D=z.ta + A;G=Infinity;C.forEach(function(J){var I;I=J.hq;I=D - (w.O[I.v].ta + I.offset);0 <= I && I < G && (G=I,F=J);});E=[];B.forEach(function(J){var N,R,U,ja;function I(ra){Object.keys(y.O[ra].next || ({})).forEach(function(ka){var ua,Aa,La;if(y.O[ka].cc !== x.v){ua=y.O[ka];Aa=ua.ta;ua=ua.va;ja={v:ka,offset:0};La=p(w,y,ja);La && E.push({Kx:ja,hq:La});La || (ja={v:ka,offset:ua - Aa},(Aa=ua?p(w,y,ja):void 0) && E.push({Kx:ja,hq:Aa}));}I(ka);});}N=y.O[J];R=N.ta;U=N.va;ja={v:J,offset:0};(N=p(w,y,ja)) && E.push({Kx:ja,hq:N});ja={v:J,offset:U - R};(R=U?p(w,y,ja):void 0) && E.push({Kx:ja,hq:R});N || R || I(J);});(0,u.assert)(0 < E.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");M=Infinity;E.forEach(function(J){var I;I=J.hq;I=w.O[I.v].ta + I.offset - D;if(0 <= I && I < M || I > M && 0 > M || Infinity === M)(M=I,H=J);});(0,u.assert)(F);(0,u.assert)(H);A=F.Kx;(0,u.assert)(A,"Segment not found in the combined playgraph");z=H.Kx;(0,u.assert)(z,"Segment not found in the combined playgraph");L=y.O[A.v];B=y.O[z.v];A.offset === g(L.va) - L.ta && y.O[L.Gb].cc === L.cc && (A.v === z.v && A.offset === z.offset && (z={v:B.Gb,offset:0},B=y.O[z.v]),A={v:L.Gb,offset:0},L=y.O[A.v]);K=w.O[F.hq.v].ta + F.hq.offset;O=w.O[H.hq.v].ta + H.hq.offset - K;K=0 === O?0:(D - K) / O;if(A.v === z.v)return (L=L.ta + A.offset,A=A.v,{v:A,offset:L + K * (B.ta + z.offset - L) - y.O[A].ta});O=d(y,A,z);L=O.path;O=O.mF;B=0 === z.offset?0:g(B.va) - B.ta;return h(y,L,A.offset + K * (O - A.offset - (B - z.offset)));}function d(w,y,x){var z,A;if(y.v !== x.v){for(y=[y.v];y[y.length - 1] !== x.v;){z=w.O[y[y.length - 1]];(0,u.assert)(z.next,"Cannot find path between points in combined playgraph");if(z.next[x.v])break;A=Object.keys(z.next);1 === A.length?y.push(A[0]):((0,u.assert)(z.Gb,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(z.Gb));}0 !== x.offset && y.push(x.v);return {path:y,mF:m(w,y)};}return {path:[],mF:x.offset - y.offset};}function g(w){return null === w || void 0 === w?Infinity:w;}function m(w,y){return y.reduce(function(x,z){var A;z=w.O[z];A=z.ta;return x + g(z.va) - A;},0);}function h(w,y,x){var A,B,C;for(var z=0;z < y.length;++z){A=y[z];B=w.O[A];C=B.ta;B=g(B.va) - C;if(B > x)return {v:A,offset:x};x-=B;}(0,u.assert)(!1,"Invalid offset given for path");}function n(w,y,x){var z,A,B,C,D,F,G,E,H,M,L;A=w.O[x.v];(0,u.assert)(A,("Graph position ").concat(x.v," does not exist in UX playgraph"));B=x.offset;(0,u.assert)(0 <= B,("Graph position offset ").concat(B," cannot be negative"));(0,u.assert)(!A.va || B <= A.va - A.ta,("Graph position ").concat(B," offset outside segment"));if(y.O[x.v])return x;C=Object.keys(y.O).filter(function(K){return y.O[K].cc === x.v;});(0,u.assert)(0 < C.length,"No segments found in combined playgraph that point back to the ux segment");D={};F=0;C.forEach(function(K){if(void 0 === D[K]){for(var O=0;K;){D[K]=[F,O++];K=y.O[K].Gb;}++F;}});C.sort(function(K,O){return D[K][0] !== D[O][0]?1:D[K][1] - D[O][1];});G=A.ta + B;E=C.filter(function(K){return y.O[K].J === A.J;});H=q.__read(C,1)[0];E=E.map(function(K){return [K,y.O[K]];}).filter(function(K){var O;K=q.__read(K,2);O=K[0];return G >= K[1].ta || O === H;});if(E=(0,u.wc)(E,function(K){var O;K=q.__read(K,2)[1];O=K.Gb?y.O[K.Gb]:void 0;return !K.va || !!K.va && G < K.va || (null === O || void 0 === O?void 0:O.cc) !== x.v && G >= K.ta;})){M=q.__read(E,2);E=M[0];M=M[1];L=(isFinite(G)?G:null !== (z=M.va) && void 0 !== z?z:Infinity) - M.ta;(0,u.assert)(0 <= L,"Content playgrah graph position offset cannot be negative");z=!0;0 === L && (z=(0,t.yma)(y,E),z=!z || z.cc !== M.cc);if(z)return {v:E,offset:L};}C=C.filter(function(K){return y.O[K].J !== A.J;});if(0 === B && (B=(0,t.yma)(w,x.v),!B || B.cc !== x.v) && (B=(0,u.wc)(C,function(K){return 0 === (0,v.Z4)(y,K).length;}),void 0 !== B))return {v:B,offset:0};if(A.va && Infinity !== A.va && !(A.va - A.ta !== x.offset || A.Gb && w.O[A.Gb]) && (B=(0,u.wc)(C,function(K){return !y.O[K].next || 0 === Object.keys(y.O[K].next).length;}),void 0 !== B))return (C=y.O[B],w=C.ta,C=C.va,(0,u.assert)(C,"Content playgraph segments from other viewables must have end time"),{v:B,offset:C - w});}function p(w,y,x){var z,A;z=y.O[x.v];(0,u.assert)(z,"Graph position does not exist in combined playgraph");A=x.offset;(0,u.assert)(0 <= A,"Graph position offset cannot be negative");(0,u.assert)(!z.va || A <= z.va - z.ta,"Graph position offset outside segment");if(void 0 === z.cc)return x;w=w.O[z.cc];(0,u.assert)(w,"Referenced ux playgraph segment must exist");if(z.J === w.J)return (A=z.ta + A - w.ta,w=g(w.va) - w.ta,A=Math.max(Math.min(A,w),0),{v:z.cc,offset:A});if(0 === A && (x=(0,v.Z4)(y,x.v).filter(function(B){return y.O[B].cc === z.cc;}),0 === A && 0 === x.length))return {v:z.cc,offset:0};A=z.Gb?y.O[z.Gb]:void 0;if((null === A || void 0 === A?void 0:A.cc) !== z.cc)return {v:z.cc,offset:w.va?w.va - w.ta:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.n_a=b.Ofb=b.bVa=void 0;q=a(5163);u=a(42866);t=a(72283);v=a(50954);b.bVa=function(w,y,x){var z,A,B,C;z=y.O[x.v];A=p(w,y,x);if(A)return A;(0,u.assert)(z.cc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");B=w.O[z.cc];(0,u.assert)(B,"Referenced ux playgraph segment must exist");(0,u.assert)(z.va,"Content playgraph segments from other viewables must have end time");if(!z.Gb || !y.O[z.Gb])return ((0,u.assert)(B.va,"Must have definite end time to add terminal content playgraph segment"),{v:z.cc,offset:B.va - B.ta});C=c(y,x.v,w,z);A=C.yY;C=C.vS;if(null === A || void 0 === A)return ((0,u.assert)(B.va,"Experience playgraph segment must have end time"),{v:z.cc,offset:B.va - B.ta});y=f(y,x.v,w,z);w=y.yY;y=y.vS;null !== w && void 0 !== w && isFinite(w) || (0,u.assert)(w,"Experience playgraph segment must have end time");return {v:z.cc,offset:A + (C + x.offset) / (C + y) * (w - A)};};b.Ofb=k;b.n_a=function(w,y,x){var z,A,B;return q.__generator(this,function(C){switch(C.label){case 0:(z=k(w,y,x),A=y.O[z.v],B=z.v,C.label=1);case 1:return [4,B];case 2:(C.Ta(),B=A.Gb,A=y.O[B],C.label=3);case 3:if((null === A || void 0 === A?void 0:A.cc) === x.v && B !== z.v)return [3,1];C.label=4;case 4:return [2];}});};},62483:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.W$=void 0;c=a(10506);b.W$=function(l,f,k){var d;d=new c.uq();d.gz(f).N$("lazy").Jwa(k).Ce(f,{J:l,ta:0,va:Infinity});return d.Lg();};},94315:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.t3b=void 0;c=a(10506);b.t3b=function(l,f,k){var d;d=new c.uq();d.gz("s0").N$("immediate").Jwa(k).Ce("s0",{J:l,ta:0,va:1E3 * f,weight:.5,next:{s1:{weight:.5}}}).Ce("s1",{J:l,ta:1E3 * f,va:Infinity});return d.Lg();};},61386:function(r,b,a){var d,g,m,h;function c(n){var p,q,u;if("Object" !== m(this))throw new TypeError("receiver is not an Object");p=g(this,h);q=n;u=n;d(n) && (q=f(p,n),u=l(p,n));return this.then(q,u);}function l(n,p){return function(q){var u;u=p();return k(n,u).then(function(){throw q;});};}function f(n,p){return function(q){var u;u=p();return k(n,u).then(function(){return q;});};}function k(n,p){return new n(function(q){q(p);});}a(57897)();d=a(83317);g=a(88251);m=a(18132);h=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},32887:function(r,b,a){var c,l;c=a(57897);l=a(61386);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},57897:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(r,b,a){var c,l,f;c=a(57897);l=a(32887);f=a(14926);r.exports=function(){var k;c();k=l();f(Promise.prototype,{"finally":k},{"finally":function(){return Promise.prototype["finally"] !== k;}});return k;};},23614:function(r,b,a){var c;c=a(35375);b=a(31187)(function(l,f){return c(l.length,function(){return l.apply(f,arguments);});});r.exports=b;},57301:function(r,b,a){var c,l,f,k,d;b=a(31187);c=a(55446);l=a(89028);f=a(77894);k=a(67758);d=a(75850);a=b(function(g,m){return l(d(f,0,k("length",m)),function(){var h,n;h=arguments;n=this;return g.apply(n,c(function(p){return p.apply(n,h);},m));});});r.exports=a;},89028:function(r,b,a){var c,l,f;c=a(35375);l=a(16805);b=a(31187);f=a(16500);a=b(function(k,d){return 1 === k?l(d):c(k,f(k,[],d));});r.exports=a;},5154:function(r,b,a){var c;c=a(25701);b=a(20239)(function(l,f,k){for(var d=[],g=0,m=f.length;g < m;){c(l,f[g],k) || c(l,f[g],d) || d.push(f[g]);g+=1;}return d;});r.exports=b;},42514:function(r,b,a){var c,l,f,k,d,g;b=a(31187);c=a(8414);l=a(46458);f=a(78678);k=a(18468);d=a(14128);g=a(93358);a=b(c(["filter"],d,function(m,h){return f(h)?k(function(n,p){m(h[p]) && (n[p]=h[p]);return n;},{},g(h)):l(m,h);}));r.exports=a;},56663:function(r,b,a){b=a(31187)(function(c,l){for(var f=[],k=0,d=l.length;k < d;){for(var g=k + 1;g < d && c(l[g - 1],l[g]);){g+=1;}f.push(l.slice(k,g));k=g;}return f;});r.exports=b;},35375:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,f){return a.apply(this,arguments);};case 4:return function(c,l,f,k){return a.apply(this,arguments);};case 5:return function(c,l,f,k,d){return a.apply(this,arguments);};case 6:return function(c,l,f,k,d,g){return a.apply(this,arguments);};case 7:return function(c,l,f,k,d,g,m){return a.apply(this,arguments);};case 8:return function(c,l,f,k,d,g,m,h){return a.apply(this,arguments);};case 9:return function(c,l,f,k,d,g,m,h,n){return a.apply(this,arguments);};case 10:return function(c,l,f,k,d,g,m,h,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(r){r.exports=function(b,a){var c,l,f,k;b=b || [];a=a || [];l=b.length;f=a.length;k=[];for(c=0;c < l;){k[k.length]=b[c];c+=1;}for(c=0;c < f;){k[k.length]=a[c];c+=1;}return k;};},25701:function(r){r.exports=function(b,a,c){for(var l=0,f=c.length;l < f;){if(b(a,c[l]))return !0;l+=1;}return !1;};},16805:function(r,b,a){var c;c=a(28198);r.exports=function(l){return function d(k){return 0 === arguments.length || c(k)?d:l.apply(this,arguments);};};},31187:function(r,b,a){var c,l;c=a(16805);l=a(28198);r.exports=function(f){return function m(d,g){switch(arguments.length){case 0:return m;case 1:return l(d)?m:c(function(h){return f(d,h);});default:return l(d) && l(g)?m:l(d)?c(function(h){return f(h,g);}):l(g)?c(function(h){return f(d,h);}):f(d,g);}};};},20239:function(r,b,a){var c,l,f;c=a(16805);l=a(31187);f=a(28198);r.exports=function(k){return function n(g,m,h){switch(arguments.length){case 0:return n;case 1:return f(g)?n:l(function(p,q){return k(g,p,q);});case 2:return f(g) && f(m)?n:f(g)?l(function(p,q){return k(p,m,q);}):f(m)?l(function(p,q){return k(g,p,q);}):c(function(p){return k(g,m,p);});default:return f(g) && f(m) && f(h)?n:f(g) && f(m)?l(function(p,q){return k(p,q,h);}):f(g) && f(h)?l(function(p,q){return k(p,m,q);}):f(m) && f(h)?l(function(p,q){return k(g,p,q);}):f(g)?c(function(p){return k(p,m,h);}):f(m)?c(function(p){return k(g,p,h);}):f(h)?c(function(p){return k(g,m,p);}):k(g,m,h);}};};},16500:function(r,b,a){var l,f;function c(k,d,g){return function(){var q;for(var m=[],h=0,n=k,p=0;p < d.length || h < arguments.length;){if(p < d.length && (!f(d[p]) || h >= arguments.length))q=d[p];else (q=arguments[h],h+=1);m[p]=q;f(q) || --n;p+=1;}return 0 >= n?g.apply(this,m):l(n,c(k,m,g));};}l=a(35375);f=a(28198);r.exports=c;},8414:function(r,b,a){var c,l;c=a(84357);l=a(11972);r.exports=function(f,k,d){return function(){var g,m;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);m=g.pop();if(!c(m)){for(var h=0;h < f.length;){if("function" === typeof m[f[h]])return m[f[h]].apply(m,g);h+=1;}if(l(m))return k.apply(null,g)(m);}return d.apply(this,arguments);};};},46458:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=[];c < l;){b(a[c]) && (f[f.length]=a[c]);c+=1;}return f;};},58380:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(r,b,a){var c,l;c=a(58380);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(f){return "[object Arguments]" === l.call(f);}:function(f){return c("callee",f);};};},84357:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(r,b,a){var c,l;b=a(16805);c=a(84357);l=a(86807);a=b(function(f){return c(f)?!0:!f || "object" !== typeof f || l(f)?!1:1 === f.nodeType?!!f.length:0 === f.length?!0:0 < f.length?f.hasOwnProperty(0) && f.hasOwnProperty(f.length - 1):!1;});r.exports=a;},78678:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=Array(l);c < l;){f[c]=b(a[c]);c+=1;}return f;};},18468:function(r,b,a){var f,k,d,g;function c(m,h,n){for(var p=n.next();!p.done;){if((h=m["@@transducer/step"](h,p.value)) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p=n.next();}return m["@@transducer/result"](h);}function l(m,h,n,p){return m["@@transducer/result"](n[p](d(m["@@transducer/step"],m),h));}f=a(33905);k=a(33367);d=a(23614);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(m,h,n){"function" === typeof m && (m=k(m));if(f(n)){for(var p=0,q=n.length;p < q;){if((h=m["@@transducer/step"](h,n[p])) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p+=1;}return m["@@transducer/result"](h);}if("function" === typeof n["fantasy-land/reduce"])return l(m,h,n,"fantasy-land/reduce");if(null != n[g])return c(m,h,n[g]());if("function" === typeof n.next)return c(m,h,n);if("function" === typeof n.reduce)return l(m,h,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(r){r.exports={Bb:function(){return this.PY["@@transducer/init"]();},result:function(b){return this.PY["@@transducer/result"](b);}};},14128:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function f(k,d){this.PY=d;this.f=k;}f.prototype["@@transducer/init"]=c.Bb;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(k,d){return this.f(d)?this.PY["@@transducer/step"](k,d):k;};return f;})();a=b(function(f,k){return new l(f,k);});r.exports=a;},94406:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function f(k,d){this.PY=d;this.f=k;}f.prototype["@@transducer/init"]=c.Bb;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(k,d){return this.PY["@@transducer/step"](k,this.f(d));};return f;})();a=b(function(f,k){return new l(f,k);});r.exports=a;},33367:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},72849:function(r,b,a){var c;b=a(16805);c=a(57301);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},93358:function(r,b,a){var c,l,f,k,d;b=a(16805);c=a(58380);l=a(46546);f=!({toString:null}).propertyIsEnumerable("toString");k=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var m,h,n,p;if(Object(g) !== g)return [];m=[];h=d && l(g);for(n in g){!c(n,g) || h && "length" === n || (m[m.length]=n);}if(f)for(h=k.length - 1;0 <= h;){n=k[h];if(p=c(n,g)){a:{for(p=0;p < m.length;){if(m[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (m[m.length]=n);--h;}return m;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},81057:function(r,b,a){var c,l,f,k,d,g;b=a(31187);c=a(8414);l=a(55446);f=a(18468);k=a(94406);d=a(89028);g=a(93358);a=b(c(["fantasy-land/map","map"],k,function(m,h){switch(Object.prototype.toString.call(h)){case "[object Function]":return d(h.length,function(){return m.call(this,h.apply(this,arguments));});case "[object Object]":return f(function(n,p){n[p]=m(h[p]);return n;},{},g(h));default:return l(m,h);}}));r.exports=a;},77894:function(r,b,a){b=a(31187)(function(c,l){return l > c?l:c;});r.exports=b;},29664:function(r,b,a){var c;b=a(20239);c=a(29924);a=b(function(l,f,k){return c(function(d,g,m){return l(g,m);},f,k);});r.exports=a;},29924:function(r,b,a){var c,l;b=a(20239);c=a(78678);l=a(48796);a=b(function m(k,d,g){return l(function(h,n,p){return c(n) && c(p)?m(k,n,p):k(h,n,p);},d,g);});r.exports=a;},48796:function(r,b,a){var c;b=a(20239);c=a(58380);a=b(function(l,f,k){var d,g;d={};for(g in f){c(g,f) && (d[g]=c(g,k)?l(g,f[g],k[g]):f[g]);}for(g in k){c(g,k) && !c(g,d) && (d[g]=k[g]);}return d;});r.exports=a;},31435:function(r,b,a){var c;b=a(42514);c=a(72849);a=a(64580);a=c([b,a]);r.exports=a;},23335:function(r,b,a){b=a(31187)(function(c,l){for(var f=0;f < c.length;){if(null == l)return;l=l[c[f]];f+=1;}return l;});r.exports=b;},67758:function(r,b,a){var c,l;b=a(31187);c=a(81057);l=a(38695);a=b(function(f,k){return c(l(f),k);});r.exports=a;},38695:function(r,b,a){var c;b=a(31187);c=a(23335);a=b(function(l,f){return c([l],f);});r.exports=a;},75850:function(r,b,a){b=a(20239);a=a(18468);a=b(a);r.exports=a;},64580:function(r,b,a){var c,l;c=a(48925);b=a(31187);l=a(42514);a=b(function(f,k){return l(c(f),k);});r.exports=a;},60024:function(r,b,a){var c,l;c=a(86614);b=a(20239);l=a(25228);a=b(function(f,k,d){return l(f,c(k,d));});r.exports=a;},25228:function(r,b,a){var c;c=a(25701);b=a(31187)(function(l,f){for(var k=0,d=f.length,g=[],m;k < d;){m=f[k];c(l,m,g) || (g[g.length]=m);k+=1;}return g;});r.exports=b;},1738:function(r,b,a){var c;(function(l){var F,G,E,H,M,L,K,O,J;function f(I,N,R){var U;U=J.get(I);if(!U){if(!R)return;U=new K();J.set(I,U);}I=U.get(N);if(!I){if(!R)return;I=new K();U.set(N,I);}return I;}function k(I,N,R){if(d(I,N,R))return !0;N=v(N);return null !== N?k(I,N,R):!1;}function d(I,N,R){N=f(N,R,!1);return void 0 !== N && !!N.has(I);}function g(I,N,R){if(d(I,N,R))return m(I,N,R);N=v(N);return null !== N?g(I,N,R):void 0;}function m(I,N,R){N=f(N,R,!1);return void 0 === N?void 0:N.get(I);}function h(I,N){var R,ja;R=n(I,N);I=v(I);if(null === I)return R;N=h(I,N);if(0 >= N.length)return R;if(0 >= R.length)return N;I=new O();for(var U=0;U < R.length;U++){ja=R[U];I.add(ja);}for(R=0;R < N.length;R++){ja=N[R];I.add(ja);}return x(I);}function n(I,N){var R;I=f(I,N,!1);R=[];I && y(I,function(U,ja){return R.push(ja);});return R;}function p(I){return void 0 === I;}function q(I){return Array.isArray?Array.isArray(I):I instanceof Array || "[object Array]" === Object.prototype.toString.call(I);}function u(I){return "object" === typeof I?null !== I:"function" === typeof I;}function t(I){return "symbol" === typeof I?I:String(I);}function v(I){var N,R;N=Object.getPrototypeOf(I);if("function" !== typeof I || I === L || N !== L)return N;R=I.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return N;R=R.constructor;return "function" !== typeof R || R === I?N:R;}function w(I){I=I.next();return I.done?void 0:I;}function y(I,N,R){var U,ja,ra;U=I.entries;if("function" === typeof U){U=U.call(I);try{for(;ja=w(U);){ra=ja.value;N.call(R,ra[1],ra[0],I);}}finally{ja && (I=U["return"]) && I.call(U);}}else (U=I.forEach,"function" === typeof U && U.call(I,N,R));}function x(I){var N;N=[];y(I,function(R,U){N.push(U);});return N;}function z(I,N,R){var U;U=0;return {next:function(){var ja;if((I || N) && U < (I || N).length){ja=U++;switch(R){case "key":return {value:I[ja],done:!1};case "value":return {value:N[ja],done:!1};case "key+value":return {value:[I[ja],N[ja]],done:!1};}}N=I=void 0;return {value:void 0,done:!0};},"throw":function(ja){if(I || N)N=I=void 0;throw ja;},"return":function(ja){if(I || N)N=I=void 0;return {value:ja,done:!0};}};}function A(){var I;I={};return (function(){function N(){this.Qe=[];this.sf=[];this.Hu=I;this.qs=-2;}Object.defineProperty(N.prototype,"size",{get:function(){return this.Qe.length;},enumerable:!0,configurable:!0});N.prototype.has=function(R){return 0 <= this.kx(R,!1);};N.prototype.get=function(R){R=this.kx(R,!1);return 0 <= R?this.sf[R]:void 0;};N.prototype.set=function(R,U){R=this.kx(R,!0);this.sf[R]=U;return this;};N.prototype.delete=function(R){var U;U=this.kx(R,!1);if(0 <= U){R=this.Qe.length;for(U+=1;U < R;U++){this.Qe[U - 1]=this.Qe[U];this.sf[U - 1]=this.sf[U];}this.Qe.length--;this.sf.length--;this.Hu=I;this.qs=-2;return !0;}return !1;};N.prototype.clear=function(){this.Qe.length=0;this.sf.length=0;this.Hu=I;this.qs=-2;};N.prototype.keys=function(){return z(this.Qe,void 0,"key");};N.prototype.values=function(){return z(void 0,this.sf,"value");};N.prototype.entries=function(){return z(this.Qe,this.sf,"key+value");};N.prototype.kx=function(R,U){var ja;if(this.Hu === R)return this.qs;ja=this.Qe.indexOf(R);0 > ja && U && (ja=this.Qe.length,this.Qe.push(R),this.sf.push(void 0));return (this.Hu=R,this.qs=ja);};return N;})();}function B(){return (function(){function I(){this.qf=new K();}Object.defineProperty(I.prototype,"size",{get:function(){return this.qf.size;},enumerable:!0,configurable:!0});I.prototype.has=function(N){return this.qf.has(N);};I.prototype.add=function(N){return (this.qf.set(N,N),this);};I.prototype.delete=function(N){return this.qf.delete(N);};I.prototype.clear=function(){this.qf.clear();};I.prototype.keys=function(){return this.qf.keys();};I.prototype.values=function(){return this.qf.values();};I.prototype.entries=function(){return this.qf.entries();};return I;})();}function C(){var U,ja;function I(ra,ka){for(var ua=0;ua < ka;++ua){ra[ua]=255 * Math.random() | 0;}return ra;}function N(){var ra,Aa;do {ra="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):I(new Uint8Array(16),16):I(Array(16),16);ra[6]=ra[6] & 79 | 64;ra[8]=ra[8] & 191 | 128;for(var ka="",ua=0;16 > ua;++ua){Aa=ra[ua];if(4 === ua || 6 === ua || 8 === ua)ka+="-";16 > Aa && (ka+="0");ka+=Aa.toString(16).toLowerCase();}ra="@@WeakMap@@" + ka;}while(M.has(U,ra));U[ra]=!0;return ra;}function R(ra,ka){if(!F.call(ra,ja)){if(!ka)return;Object.defineProperty(ra,ja,{value:H()});}return ra[ja];}U=H();ja=N();return (function(){function ra(){this.zs=N();}ra.prototype.has=function(ka){ka=R(ka,!1);return void 0 !== ka?M.has(ka,this.zs):!1;};ra.prototype.get=function(ka){ka=R(ka,!1);return void 0 !== ka?M.get(ka,this.zs):void 0;};ra.prototype.set=function(ka,ua){R(ka,!0)[this.zs]=ua;return this;};ra.prototype.delete=function(ka){ka=R(ka,!1);return void 0 !== ka?delete ka[this.zs]:!1;};ra.prototype.clear=function(){this.zs=N();};return ra;})();}function D(I){I.pdc=1;delete I.qdc;return I;}F=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;E=(function(){var N;function I(){}N={};I.prototype=N;return new I().__proto__ === N;})();H=G?function(){return D(Object.create(null));}:E?function(){return D({__proto__:null});}:function(){return D({});};(function(I){var N;N=!G && !E;I.has=N?function(R,U){return F.call(R,U);}:function(R,U){return (U in R);};I.get=N?function(R,U){return F.call(R,U)?R[U]:void 0;}:function(R,U){return R[U];};})(M || (M={}));L=Object.getPrototypeOf(Function);K="function" === typeof Map?Map:A();O="function" === typeof Set?Set:B();J=new ("function" === typeof WeakMap?WeakMap:C())();l.WA=function(I,N,R,U){var ra;if(p(U)){if(p(R)){if(!q(I))throw new TypeError();if("function" !== typeof N)throw new TypeError();for(R=I.length - 1;0 <= R;--R){if((U=(0,I[R])(N),!p(U))){if("function" !== typeof U)throw new TypeError();N=U;}}return N;}if(!q(I))throw new TypeError();if(!u(N))throw new TypeError();R=t(R);for(U=I.length - 1;0 <= U;--U){(0,I[U])(N,R);}}else {if(!q(I))throw new TypeError();if(!u(N))throw new TypeError();if(p(R))throw new TypeError();if(!u(U))throw new TypeError();R=t(R);for(var ja=I.length - 1;0 <= ja;--ja){ra=(0,I[ja])(N,R,U);if(!p(ra)){if(!u(ra))throw new TypeError();U=ra;}}return U;}};l.Ud=function(I,N){return function(R,U){if(p(U)){if("function" !== typeof R)throw new TypeError();f(R,void 0,!0).set(I,N);}else {if(!u(R))throw new TypeError();U=t(U);f(R,U,!0).set(I,N);}};};l.f4=function(I,N,R,U){if(!u(R))throw new TypeError();p(U) || (U=t(U));f(R,U,!0).set(I,N);};l.DMb=function(I,N){var R;if(!u(N))throw new TypeError();p(R) || (R=t(R));return k(I,N,R);};l.Qoa=function(I,N){var R;if(!u(N))throw new TypeError();p(R) || (R=t(R));return d(I,N,R);};l.getMetadata=function(I,N,R){if(!u(N))throw new TypeError();p(R) || (R=t(R));return g(I,N,R);};l.u0a=function(I,N,R){if(!u(N))throw new TypeError();p(R) || (R=t(R));return m(I,N,R);};l.Nfc=function(I,N){if(!u(I))throw new TypeError();p(N) || (N=t(N));return h(I,N);};l.Pfc=function(I,N){if(!u(I))throw new TypeError();p(N) || (N=t(N));return n(I,N);};l.Sec=function(I,N,R){var U;if(!u(N))throw new TypeError();p(R) || (R=t(R));U=f(N,R,!1);if(p(U) || !U.delete(I))return !1;if(0 < U.size)return !0;I=J.get(N);I.delete(R);if(0 < I.size)return !0;J.delete(N);return !0;};(function(I){if("undefined" !== typeof I.Reflect){if(I.Reflect !== l)for(var N in l){F.call(l,N) && (I.Reflect[N]=l[N]);}}else I.Reflect=l;})("undefined" !== typeof ob?ob:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.n5?a.n5:Function("return this;")());})(c || (c={}));},63671:function(r,b,a){var c,l,f,k;b=a(62680);c=a(67286);l=a(58786);f=b("RegExp.prototype.exec");k=c("%TypeError%");r.exports=function(d){if(!l(d))throw new k("`regex` must be a RegExp");return function(g){return null !== f(d,g);};};},15913:function(r,b,a){var d;function c(g,m,h){this.MK=!1 === g;this.Sn=g || .01;this.eda=void 0 === m?25:m;this.RBa=void 0 === h?1.1:h;this.rj=new d(l);this.reset();}function l(g,m){return g.Gf > m.Gf?1:g.Gf < m.Gf?-1:0;}function f(g,m){return g.Jv - m.Jv;}function k(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.Sn:!1);this.gDb=this.config.ratio || .9;this.hDb=this.config.ajc || 1E3;this.t8=0;}d=a(35558).lnb;c.prototype.reset=function(){this.rj.clear();this.Aqa=this.n=0;};c.prototype.size=function(){return this.rj.size;};c.prototype.wk=function(g){var m;m=[];g?(this.n1(!0),this.rj.zp(function(h){m.push(h);})):this.rj.zp(function(h){m.push({Gf:h.Gf,n:h.n});});return m;};c.prototype.summary=function(){return [(this.MK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.wi(0),"Q1  = " + this.wi(.25),"Q2  = " + this.wi(.5),"Q3  = " + this.wi(.75),"max = " + this.wi(1)].join("\n");};c.prototype.push=function(g,m){m=m || 1;g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.tPa(g[h],m);}};c.prototype.Pua=function(g){g=Array.isArray(g)?g:[g];for(var m=0;m < g.length;m++){this.tPa(g[m].Gf,g[m].n);}};c.prototype.n1=function(g){var m;if(!(this.n === this.Aqa || !g && this.RBa && this.RBa > this.n / this.Aqa)){m=0;this.rj.zp(function(h){h.Jv=m + h.n / 2;m=h.DK=m + h.n;});this.n=this.Aqa=m;}};c.prototype.MGb=function(g){var m,h;if(0 === this.size())return null;m=this.rj.lowerBound({Gf:g});h=null === m.data()?m.gH():m.data();return h.Gf === g || this.MK?h:(m=m.gH()) && Math.abs(m.Gf - g) < Math.abs(h.Gf - g)?m:h;};c.prototype.MJ=function(g,m,h){this.rj.qt({Gf:g,n:m,DK:h});this.n+=m;};c.prototype.d1=function(g,m,h){m !== g.Gf && (g.Gf+=h * (m - g.Gf) / (g.n + h));g.DK+=h;g.Jv+=h / 2;g.n+=h;this.n+=h;};c.prototype.tPa=function(g,m){var h,n,p;h=this.rj.min();n=this.rj.max();p=this.MGb(g);p && p.Gf === g?this.d1(p,g,m):p === h?this.MJ(g,m,0):p === n?this.MJ(g,m,this.n):this.MK?this.MJ(g,m,p.DK):(h=p.Jv / this.n,Math.floor(4 * this.n * this.Sn * h * (1 - h)) - p.n >= m?this.d1(p,g,m):this.MJ(g,m,p.DK));this.n1(!1);!this.MK && this.eda && this.size() > this.eda / this.Sn && this.Mx();};c.prototype.rvb=function(g){var m,h;this.rj.ss=f;m=this.rj.upperBound({Jv:g});this.rj.ss=l;h=m.gH();g=h && h.Jv === g?h:m.next();return [h,g];};c.prototype.wi=function(g){var m;m=(Array.isArray(g)?g:[g]).map(this.Oqb,this);return Array.isArray(g)?m:m[0];};c.prototype.Oqb=function(g){var m,h;if(0 !== this.size()){this.n1(!0);this.rj.min();this.rj.max();g*=this.n;m=this.rvb(g);h=m[0];m=m[1];return m === h || null === h || null === m?(h || m).Gf:this.MK?g <= h.DK?h.Gf:m.Gf:h.Gf + (g - h.Jv) * (m.Gf - h.Gf) / (m.Jv - h.Jv);}};c.prototype.Mx=function(){var g;if(!this.lVa){g=this.wk();this.reset();for(this.lVa=!0;0 < g.length;){this.Pua(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.n1(!0);this.lVa=!1;}};k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.push=function(g){c.prototype.push.call(this,g);this.txb();};k.prototype.MJ=function(g,m,h){this.t8+=1;c.prototype.MJ.call(this,g,m,h);};k.prototype.d1=function(g,m,h){1 === g.n && --this.t8;c.prototype.d1.call(this,g,m,h);};k.prototype.txb=function(){!("auto" !== this.mode || this.size() < this.hDb) && this.t8 / this.size() > this.gDb && (this.mode="cont",this.MK=!1,this.Sn=this.config.Sn || .01,this.Mx());};r.exports={TDigest:c,Digest:k};},5163:function(r,b,a){var H,M;function c(){c=Object.assign || (function(L){for(var K,O=1,J=arguments.length;O < J;O++){K=arguments[O];for(var I in K){Object.prototype.hasOwnProperty.call(K,I) && (L[I]=K[I]);}}return L;});return c.apply(this,arguments);}function l(L,K){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(O,J){O.__proto__=J;}) || (function(O,J){for(var I in J){Object.prototype.hasOwnProperty.call(J,I) && (O[I]=J[I]);}});return l(L,K);}function f(L,K){function O(){this.constructor=L;}if("function" !== typeof K && null !== K)throw new TypeError("Class extends value " + String(K) + " is not a constructor or null");l(L,K);L.prototype=null === K?Object.create(K):(O.prototype=K.prototype,new O());}function k(L,K){var O,J,I;O={};for(J in L){Object.prototype.hasOwnProperty.call(L,J) && 0 > K.indexOf(J) && (O[J]=L[J]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){I=0;for(J=Object.getOwnPropertySymbols(L);I < J.length;I++){0 > K.indexOf(J[I]) && Object.prototype.propertyIsEnumerable.call(L,J[I]) && (O[J[I]]=L[J[I]]);}}return O;}function d(L,K,O,J){var I,N,R;I=arguments.length;N=3 > I?K:null === J?J=Object.getOwnPropertyDescriptor(K,O):J;if("object" === typeof Reflect && "function" === typeof Reflect.WA)N=Reflect.WA(L,K,O,J);else for(var U=L.length - 1;0 <= U;U--){if(R=L[U])N=(3 > I?R(N):3 < I?R(K,O,N):R(K,O)) || N;}return (3 < I && N && Object.defineProperty(K,O,N),N);}function g(L,K){return function(O,J){K(O,J,L);};}function m(L,K){if("object" === typeof Reflect && "function" === typeof Reflect.Ud)return Reflect.Ud(L,K);}function h(L,K,O,J){function I(N){return N instanceof O?N:new O(function(R){R(N);});}return new (O || (O=Promise))(function(N,R){function U(ka){try{ra(J.next(ka));}catch(ua){R(ua);}}function ja(ka){try{ra(J["throw"](ka));}catch(ua){R(ua);}}function ra(ka){ka.done?N(ka.value):I(ka.value).then(U,ja);}ra((J=J.apply(L,K || [])).next());});}function n(L,K){var I,N,R,U,ja;function O(ra){return function(ka){return J([ra,ka]);};}function J(ra){if(N)throw new TypeError("Generator is already executing.");for(;(ja && (ja=0,ra[0] && (I=0)),I);){try{if((N=1,R && (U=ra[0] & 2?R["return"]:ra[0]?R["throw"] || ((U=R["return"]) && U.call(R),0):R.next) && !(U=U.call(R,ra[1])).done))return U;if((R=0,U))ra=[ra[0] & 2,U.value];switch(ra[0]){case 0:case 1:U=ra;break;case 4:return (I.label++,{value:ra[1],done:!1});case 5:I.label++;R=ra[1];ra=[0];continue;case 7:ra=I.PG.pop();I.Qj.pop();continue;default:if(!(U=I.Qj,U=0 < U.length && U[U.length - 1]) && (6 === ra[0] || 2 === ra[0])){I=0;continue;}if(3 === ra[0] && (!U || ra[1] > U[0] && ra[1] < U[3]))I.label=ra[1];else if(6 === ra[0] && I.label < U[1])(I.label=U[1],U=ra);else if(U && I.label < U[2])(I.label=U[2],I.PG.push(ra));else {U[2] && I.PG.pop();I.Qj.pop();continue;}}ra=K.call(L,I);}catch(ka){ra=[6,ka];R=0;}finally{N=U=0;}}if(ra[0] & 5)throw ra[1];return {value:ra[0]?ra[1]:void 0,done:!0};}I={label:0,Ta:function(){if(U[0] & 1)throw U[1];return U[1];},Qj:[],PG:[]};return (ja={next:O(0),"throw":O(1),"return":O(2)},"function" === typeof Symbol && (ja[Symbol.iterator]=function(){return this;}),ja);}function p(L,K){for(var O in L){"default" === O || Object.prototype.hasOwnProperty.call(K,O) || H(K,L,O);}}function q(L){var K,O,J;K="function" === typeof Symbol && Symbol.iterator;O=K && L[K];J=0;if(O)return O.call(L);if(L && "number" === typeof L.length)return {next:function(){L && J >= L.length && (L=void 0);return {value:L && L[J++],done:!L};}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(L,K){var O,J,I;O="function" === typeof Symbol && L[Symbol.iterator];if(!O)return L;L=O.call(L);I=[];try{for(;(void 0 === K || 0 < K--) && !(J=L.next()).done;){I.push(J.value);}}catch(R){var N;N={error:R};}finally{try{J && !J.done && (O=L["return"]) && O.call(L);}finally{if(N)throw N.error;}}return I;}function t(){for(var L=[],K=0;K < arguments.length;K++){L=L.concat(u(arguments[K]));}return L;}function v(){var J;for(var L=0,K=0,O=arguments.length;K < O;K++){L+=arguments[K].length;}L=Array(L);J=0;for(K=0;K < O;K++){for(var I=arguments[K],N=0,R=I.length;N < R;(N++,J++)){L[J]=I[N];}}return L;}function w(L,K,O){if(O || 2 === arguments.length)for(var J=0,I=K.length,N;J < I;J++){!N && (J in K) || (N || (N=Array.prototype.slice.call(K,0,J)),N[J]=K[J]);}return L.concat(N || Array.prototype.slice.call(K));}function y(L){return this instanceof y?(this.Qaa=L,this):new y(L);}function x(L,K,O){var ja,ra,ka;function J(ua){ja[ua] && (ra[ua]=function(Aa){return new Promise(function(La,Xa){1 < ka.push([ua,Aa,La,Xa]) || I(ua,Aa);});});}function I(ua,Aa){var La;try{La=ja[ua](Aa);La.value instanceof y?Promise.resolve(La.value.Qaa).then(N,R):U(ka[0][2],La);}catch(Xa){U(ka[0][3],Xa);}}function N(ua){I("next",ua);}function R(ua){I("throw",ua);}function U(ua,Aa){(ua(Aa),ka.shift(),ka.length) && I(ka[0][0],ka[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");ja=O.apply(L,K || []);ka=[];return (ra={},J("next"),J("throw"),J("return"),ra[Symbol.asyncIterator]=function(){return this;},ra);}function z(L){var O,J;function K(I,N){O[I]=L[I]?function(R){return (J=!J)?{value:y(L[I](R)),done:"return" === I}:N?N(R):R;}:N;}return (O={},K("next"),K("throw",function(I){throw I;}),K("return"),O[Symbol.iterator]=function(){return this;},O);}function A(L){var J,I;function K(N){I[N]=L[N] && (function(R){return new Promise(function(U,ja){R=L[N](R);O(U,ja,R.done,R.value);});});}function O(N,R,U,ja){Promise.resolve(ja).then(function(ra){N({value:ra,done:U});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");J=L[Symbol.asyncIterator];return J?J.call(L):(L="function" === typeof q?q(L):L[Symbol.iterator](),I={},K("next"),K("throw"),K("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(L,K){Object.defineProperty?Object.defineProperty(L,"raw",{value:K}):L.raw=K;return L;}function C(L){var K;if(L && L.__esModule)return L;K={};if(null != L)for(var O in L){"default" !== O && Object.prototype.hasOwnProperty.call(L,O) && H(K,L,O);}M(K,L);return K;}function D(L){return L && L.__esModule?L:{default:L};}function F(L,K,O,J){if("a" === O && !J)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof K?L !== K || !J:!K.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === O?J:"a" === O?J.call(L):J?J.value:K.get(L);}function G(L,K,O,J,I){if("m" === J)throw new TypeError("Private method is not writable");if("a" === J && !I)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof K?L !== K || !I:!K.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === J?I.call(L,O):I?I.value=O:K.set(L,O),O);}function E(L,K){if(null === K || "object" !== typeof K && "function" !== typeof K)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?K === L:L.has(K);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return z;},__asyncGenerator:function(){return x;},__asyncValues:function(){return A;},__await:function(){return y;},__awaiter:function(){return h;},__classPrivateFieldGet:function(){return F;},__classPrivateFieldIn:function(){return E;},__classPrivateFieldSet:function(){return G;},__createBinding:function(){return H;},__decorate:function(){return d;},__exportStar:function(){return p;},__extends:function(){return f;},__generator:function(){return n;},__importDefault:function(){return D;},__importStar:function(){return C;},__makeTemplateObject:function(){return B;},__metadata:function(){return m;},__param:function(){return g;},__read:function(){return u;},__rest:function(){return k;},__spread:function(){return t;},__spreadArray:function(){return w;},__spreadArrays:function(){return v;},__values:function(){return q;}});H=Object.create?function(L,K,O,J){var I;void 0 === J && (J=O);I=Object.getOwnPropertyDescriptor(K,O);if(!I || (("get" in I)?!K.__esModule:I.writable || I.configurable))I={enumerable:!0,get:function(){return K[O];}};Object.defineProperty(L,J,I);}:function(L,K,O,J){void 0 === J && (J=O);L[J]=K[O];};M=Object.create?function(L,K){Object.defineProperty(L,"default",{enumerable:!0,value:K});}:function(L,K){L["default"]=K;};},794:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;c=a(67286)("%TypeError%");l=a(57017);f=a(32249);k=a(70126);d=a(38476);g=a(38733);m=a(80907);h=a(4);n=a(83891);p=a(18132);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!m(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({mOa:p,sGa:g,rGa:d},t)?t:n(t);if(!l({mOa:p,sGa:g,rGa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return f(g,h,k,q,u,t);};},70126:function(r,b,a){var c,l,f;c=a(10487);l=a(84902);f=a(18132);r.exports=function(k){"undefined" !== typeof k && c(f,"Property Descriptor","Desc",k);return l(k);};},38476:function(r,b,a){var c,l,f;c=a(23198);l=a(10487);f=a(18132);r.exports=function(k){if("undefined" === typeof k)return !1;l(f,"Property Descriptor","Desc",k);return c(k,"[[Get]]") || c(k,"[[Set]]")?!0:!1;};},83317:function(r,b,a){r.exports=a(9680);},20451:function(r,b,a){var c,l,f;c=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(k){b=null;}if(b && c){l={};f={};b(f,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(k){try{c(k,f);}catch(d){return d === l;}};}else r.exports=function(k){return "function" === typeof k && !!k.prototype;};},38733:function(r,b,a){var c,l,f;c=a(23198);l=a(10487);f=a(18132);r.exports=function(k){if("undefined" === typeof k)return !1;l(f,"Property Descriptor","Desc",k);return c(k,"[[Value]]") || c(k,"[[Writable]]")?!0:!1;};},80907:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},77850:function(r,b,a){r.exports=a(94566);},4:function(r,b,a){var c;c=a(97911);r.exports=function(l,f){return l === f?0 === l?1 / l === 1 / f:!0:c(l) && c(f);};},99939:function(r,b,a){var c;c=a(97911);r.exports=function(l,f){return l === f || c(l) && c(f);};},88251:function(r,b,a){var c,l,f,k;b=a(67286);c=b("%Symbol.species%",!0);l=b("%TypeError%");f=a(20451);k=a(18132);r.exports=function(d,g){if("Object" !== k(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return g;if("Object" !== k(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return g;if(f(d))return d;throw new l("no constructor found");};},14463:function(r){r.exports=function(b){return !!b;};},76113:function(r,b,a){var c,l,f,k,d,g;c=a(46382);l=a(26827);f=a(84583);k=a(97911);d=a(51832);g=a(79747);r.exports=function(m){var h;m=f(m);if(k(m) || 0 === m)return 0;if(!d(m))return m;h=l(c(m));return 0 === h?0:g(m) * h;};},69808:function(r,b,a){var c,l;c=a(74339);l=a(76113);r.exports=function(f){f=l(f);return 0 >= f?0:f > c?c:f;};},84583:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,v;c=a(67286);l=c("%TypeError%");f=c("%Number%");b=c("%RegExp%");k=c("%parseInt%");c=a(62680);d=a(63671);g=a(45819);m=c("String.prototype.slice");h=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);u=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");v=a(99197);r.exports=function x(y){var z;y=g(y)?y:v(y,f);if("symbol" === typeof y)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(h(y))return x(k(m(y,2),2));if(n(y))return x(k(m(y,2),8));if(q(y) || p(y))return NaN;z=t(y,u,"");if(z !== y)return x(z);}return f(y);};},48668:function(r,b,a){var c,l;c=a(67286)("%Object%");l=a(77850);r.exports=function(f){l(f);return c(f);};},99197:function(r,b,a){var c;c=a(5885);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},83891:function(r,b,a){var c,l,f,k,d;c=a(23198);l=a(67286)("%TypeError%");f=a(18132);k=a(14463);d=a(83317);r.exports=function(g){var m,h;if("Object" !== f(g))throw new l("ToPropertyDescriptor requires an object");m={};c(g,"enumerable") && (m["[[Enumerable]]"]=k(g.enumerable));c(g,"configurable") && (m["[[Configurable]]"]=k(g.configurable));c(g,"value") && (m["[[Value]]"]=g.value);c(g,"writable") && (m["[[Writable]]"]=k(g.writable));if(c(g,"get")){h=g.get;if("undefined" !== typeof h && !d(h))throw new l("getter must be a function");m["[[Get]]"]=h;}if(c(g,"set")){g=g.set;if("undefined" !== typeof g && !d(g))throw new l("setter must be a function");m["[[Set]]"]=g;}if((c(m,"[[Get]]") || c(m,"[[Set]]")) && (c(m,"[[Value]]") || c(m,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return m;};},18132:function(r,b,a){var c;c=a(96222);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},46382:function(r,b,a){var c;c=a(67286)("%Math.abs%");r.exports=function(l){return c(l);};},26827:function(r,b,a){var c,l;c=a(18132);l=Math.floor;r.exports=function(f){return "BigInt" === c(f)?f:l(f);};},94566:function(r,b,a){var c;c=a(67286)("%TypeError%");r.exports=function(l,f){if(null == l)throw new c(f || "Cannot call method on " + l);return l;};},96222:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},90982:function(r,b,a){r.exports=a(67286);},32249:function(r,b,a){var c,l,f,k,d;b=a(81181);c=a(67286);l=b() && c("%Object.defineProperty%",!0);f=b.vMb();k=f && a(27595);d=a(62680)("Object.prototype.propertyIsEnumerable");r.exports=function(g,m,h,n,p,q){if(!l){if(!g(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== !!q["[[Enumerable]]"])return !1;g=q["[[Value]]"];n[p]=g;return m(n[p],g);}if(f && "length" === p && ("[[Value]]" in q) && k(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);l(n,p,h(q));return !0;};},27595:function(r,b,a){var c;b=a(67286)("%Array%");c=!b.isArray && a(62680)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},10487:function(r,b,a){var c,l,f,k;b=a(67286);c=b("%TypeError%");l=b("%SyntaxError%");f=a(23198);k={"Property Descriptor":function(d){var g,m;g={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(m in d){if(f(d,m) && !g[m])return !1;}g=f(d,"[[Value]]");d=f(d,"[[Get]]") || f(d,"[[Set]]");if(g && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(40508),"Iterator Record":function(d){return f(d,"[[Iterator]]") && f(d,"[[NextMethod]]") && f(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && f(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && f(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && f(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && f(d,"[[Completion]]") && f(d,"[[Capability]]") && k["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,g,m,h){var n;n=k[g];if("function" !== typeof n)throw new l("unknown record type: " + g);if("Object" !== d(h) || !n(h))throw new c(m + " must be a " + g);};},84902:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(r,b,a){var c;c=a(97911);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},40508:function(r,b,a){var c;c=a(23198);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},97911:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},57017:function(r,b,a){var c,l;b=a(67286);c=a(23198);l=b("%TypeError%");r.exports=function(f,k){var d,g;if("Object" !== f.mOa(k))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(g in k){if(c(k,g) && !d[g])return !1;}if(f.sGa(k) && f.rGa(k))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},74339:function(r,b,a){a=a(67286);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},79747:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Oa={};(function(){pa.d=function(r,b){for(var a in b){pa.y7a(b,a) && !pa.y7a(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});}};})();(function(){pa.n5=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof ob)return ob;}})();})();(function(){pa.y7a=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){pa.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();pa(1738);pa(30026)();pa(65574)();ob._cad_global={};ob.DEBUG=!1;pa(33096);pa(22365);pa(32687);pa(3887);pa(52569);pa(8825);pa(87051);pa(22894);pa(32219);pa(24066);pa(45146);pa(94886);pa(37509);pa(2734);pa(77705);pa(31298);pa(15208);pa(981);pa(73100);pa(7953);pa(15531);pa(97154);pa(33579);pa(50350);pa(75876);pa(19630);pa(59416);pa(50040);pa(70);pa(29204);pa(99732);pa(52828);pa(1481);pa(61726);pa(24427);pa(62604);pa(78857);pa(74413);pa(84281);pa(991);pa(46493);pa(24674);pa(93114);pa(36792);pa(43422);pa(74098);pa(86258);pa(18128);pa(45526);pa(90762);pa(73056);pa(67263);pa(53754);pa(20318);pa(70632);pa(59032);pa(45706);pa(3390);pa(2898);pa(76563);pa(39480);pa(13044);pa(62439);pa(6305);pa(42654);pa(78719);pa(59405);pa(58343);pa(59219);pa(61524);pa(13777);pa(41325);pa(42433);pa(30689);pa(66093);})();}).call(ob);})(window);}).call(window);